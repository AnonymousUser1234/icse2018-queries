admin tool manag book keeper bookkeep cluster book keeper tool bookkeepertool logger log logger factori loggerfactori get logger getlogg book keeper tool bookkeepertool main method invok booki recoveri command line param arg argument book keeper tool bookkeepertool requir third option first comma separ list zk server host port pair second host port socket address booki recov third host port socket address option destin booki server replic data interrupt except interruptedexcept io except ioexcept keeper except keeperexcept bk except bkexcept main string arg interrupt except interruptedexcept io except ioexcept keeper except keeperexcept bk except bkexcept valid input arg length err println usag book keeper tool bookkeepertool zk server zkserver booki src bookiesrc booki dest bookiedest pars input argument string zk server zkserver arg string booki src string bookiesrcstr arg split booki src string bookiesrcstr length err println booki src bookiesrc input ha invalid name format host port expect arg inet socket address inetsocketaddress booki src bookiesrc inet socket address inetsocketaddress booki src string bookiesrcstr integ pars parseint booki src string bookiesrcstr inet socket address inetsocketaddress booki dest bookiedest arg length string booki dest string bookiedeststr arg split booki dest string bookiedeststr length err println booki dest bookiedest input ha invalid name format host port expect arg booki dest bookiedest inet socket address inetsocketaddress booki dest string bookiedeststr integ pars parseint booki dest string bookiedeststr creat book keeper tool bookkeepertool instanc perform booki recoveri synchron book keeper admin bookkeeperadmin bk tool bktool book keeper admin bookkeeperadmin zk server zkserver bk tool bktool recov booki data recoverbookiedata booki src bookiesrc booki dest bookiedest shutdown resourc us book keeper tool bookkeepertool instanc bk tool bktool close 
callback us rang scan read ahead scan callback readaheadscancallback scan callback scancallback queue cach kei cachekei instal stub installedstub string bytestr topic constructor param instal stub installedstub list stub instal rang scan param topic read ahead scan callback readaheadscancallback queue cach kei cachekei instal stub installedstub string bytestr topic instal stub installedstub instal stub installedstub topic topic messag scan messagescan object ctx messag messag messag read potenti let first enqueu cach kei cachekei cach kei cachekei cach kei cachekei topic messag get msg id getmsgid get local compon getlocalcompon enqueu failur enqueuewithoutfailur scan respons scanrespons cach kei cachekei messag let messag on expect cach kei cachekei expect kei expectedkei instal stub installedstub peek expect kei expectedkei expect more messag keep expect kei expectedkei equal cach kei cachekei expect dequeu get next expect on instal stub installedstub poll reach here scan expect mean wrong stub instal cach remov wait retri shouldn happen logger warn unexpect messag seq id messag get msg id getmsgid get local compon getlocalcompon topic topic string utf8 tostringutf8 from readahead scan expect seq id expect kei expectedkei seq id seqid topic expect kei expectedkei topic string utf8 tostringutf8 instal stub installedstub instal stub installedstub enqueu delet remain stub enqueuedeleteofremainingstub seq id except instanc nosuchseqidexceptioninst scan fail scanfail object ctx except except enqueu delet remain stub enqueuedeleteofremainingstub except scan finish scanfinish object ctx reason finish reasonforfinish reason scan finish more messag present leav stub place get fill publish happen scan finish reason read ahead size limit reach delet stub time schedul readahead request reason reason finish reasonforfinish more messag no_more_messag enqueu delet remain stub enqueuedeleteofremainingstub read ahead except instanc readaheadexceptioninst enqueu delet remain stub enqueuedeleteofremainingstub except reason cach kei cachekei instal stub installedstub instal stub installedstub instal stub installedstub poll enqueu failur enqueuewithoutfailur except cach kei exceptiononcachekei instal stub installedstub reason 
test read ahead cach black box testreadaheadcacheblackbox test persist manag black box testpersistencemanagerblackbox overrid tear down teardown except tear down teardown local db persist manag localdbpersistencemanag instanc reset overrid get expect seq id getexpectedseqid num publish numpublish num publish numpublish overrid get lowest seq id getlowestseqid overrid persist manag persistencemanag instanti persist manag instantiatepersistencemanag read ahead cach readaheadcach local db persist manag localdbpersistencemanag instanc server configur serverconfigur start test suit test suit testsuit test read ahead cach black box testreadaheadcacheblackbox 
read view stat us composit view data compositeviewdata expos jmx op stat data opstatdata max latenc maxlat min latenc minlat avg latenc avglat num success op numsuccessop num fail op numfailedop string latenc hist latencyhist constructor properti constructorproperti max latenc maxlat min latenc minlat avg latenc avglat num success op numsuccessop num fail op numfailedop latenc hist latencyhist op stat data opstatdata max latenc maxlat min latenc minlat avg latenc avglat num success op numsuccessop num fail op numfailedop string latenc hist latencyhist max latenc maxlat max latenc maxlat min latenc minlat min latenc minlat max valu max_valu min latenc minlat avg latenc avglat avg latenc avglat num success op numsuccessop num success op numsuccessop num fail op numfailedop num fail op numfailedop latenc hist latencyhist latenc hist latencyhist get max latenc getmaxlat max latenc maxlat get min latenc getminlat min latenc minlat get avg latenc getavglat avg latenc avglat get num success op getnumsuccessop num success op numsuccessop get num fail op getnumfailedop num fail op numfailedop string get latenc hist getlatencyhist latenc hist latencyhist 
rest simpl wrapper class except cach kei exceptiononcachekei cach request cacherequest cach kei cachekei cach kei cachekei except except except cach kei exceptiononcachekei cach kei cachekei cach kei cachekei except except cach kei cachekei cach kei cachekei except except reason outstand read cach stub fail except kei enqueu link read ahead scan callback readaheadscancallback handl simpli send error callback regist stub delet entri from cach perform request performrequest remov messag from cach removemessagefromcach cach kei cachekei except maintain time index maintaintimeindex maintain seq id index maintainseqidindex 
read view stat us composit view data compositeviewdata expos jmx op stat data opstatdata max latenc maxlat min latenc minlat avg latenc avglat num success op numsuccessop num fail op numfailedop string latenc hist latencyhist constructor properti constructorproperti max latenc maxlat min latenc minlat avg latenc avglat num success op numsuccessop num fail op numfailedop latenc hist latencyhist op stat data opstatdata max latenc maxlat min latenc minlat avg latenc avglat num success op numsuccessop num fail op numfailedop string latenc hist latencyhist max latenc maxlat max latenc maxlat min latenc minlat min latenc minlat max valu max_valu min latenc minlat avg latenc avglat avg latenc avglat num success op numsuccessop num success op numsuccessop num fail op numfailedop num fail op numfailedop latenc hist latencyhist latenc hist latencyhist get max latenc getmaxlat max latenc maxlat get min latenc getminlat min latenc minlat get avg latenc getavglat avg latenc avglat get num success op getnumsuccessop num success op numsuccessop get num fail op getnumfailedop num fail op numfailedop string get latenc hist getlatencyhist latenc hist latencyhist 
defin client publish api publish publish messag topic param topic topic name publish param msg messag object serial publish connect except couldnotconnectexcept abl connect server host servic down except servicedownexcept unabl publish messag topic publish string bytestr topic messag msg connect except couldnotconnectexcept servic down except servicedownexcept publish messag asynchron topic param topic topic name publish param msg messag object serial publish param callback callback invok publish server ha deal error condit async publish request param context call context callback done asynchron async publish asyncpublish string bytestr topic messag msg callback callback object context 
op runnabl 
wrapper store data point need encapsul pub sub pubsub type request oper client includ know inform need redo publish subscrib request server redirect us sync async call known type request messag send server hub publish subscrib unsubscrib consum pub sub data pubsubdata string constant string comma member variabl need object construct time string bytestr topic messag msg string bytestr subscrib id subscriberid type oper pub sub pubsub request data object oper type operationtyp oper type operationtyp option subscript subscript option subscriptionopt option two variabl overrid subscrib reconnect callback callback object context member variabl us after object ha construct list server ve sent pub sub request pubsubrequest successfulli keep track redirect server respond back list string bytestr server triedserv list server ve connect write unsuccess ll retri send pub sub request pubsubrequest quit connect write server ve attempt previous list string bytestr connect fail server connectfailedserv list string bytestr write fail server writefailedserv hub server indic claim ownership topic pub sub request pubsubrequest us after server redirect default claim shouldclaim txn id txnid pub sub data pubsubdata sent pub sub request pubsubrequest hub server us write callback writecallback failur remov from respons handler responsehandl txn2 pub sub data txn2pubsubdata map fail pub sub request pubsubrequest get ack respons from server set pub sub pubsub flow write actual request argument constructor txn id txnid time millisecond current time milli currenttimemilli call pub sub request pubsubrequest written netti channel server request write time requestwritetim synchron call variabl us background async process ha complet set callback voidcallback done isdon constructor type pub sub pubsub request data send server pub sub data pubsubdata string bytestr topic messag msg string bytestr subscrib id subscriberid oper type operationtyp oper type operationtyp subscript option subscriptionopt option callback callback object context topic topic msg msg subscrib id subscriberid subscrib id subscriberid oper type operationtyp oper type operationtyp option option callback callback context context clear store server ve contact attempt request clear server list clearserverslist server triedserv server triedserv clear connect fail server connectfailedserv connect fail server connectfailedserv clear write fail server writefailedserv write fail server writefailedserv clear overrid string string tostr string builder stringbuild sb string builder stringbuild topic sb append topic topic string utf8 tostringutf8 msg sb append comma append messag msg subscrib id subscriberid sb append comma append subscrib id subscriberid subscrib id subscriberid string utf8 tostringutf8 oper type operationtyp sb append comma append oper type oper type operationtyp string tostr option sb append comma append creat attach option get creat attach getcreateorattach string tostr append comma append messag bound option get messag bound getmessagebound server triedserv server triedserv size sb append comma append server string bytestr server triedserv server triedserv sb append server triedserv string utf8 tostringutf8 append comma connect fail server connectfailedserv connect fail server connectfailedserv size sb append comma append connect fail server string bytestr connect fail server connectfailedserv connect fail server connectfailedserv sb append connect fail server connectfailedserv string utf8 tostringutf8 append comma write fail server writefailedserv write fail server writefailedserv size sb append comma append write fail server string bytestr write fail server writefailedserv write fail server writefailedserv sb append write fail server writefailedserv string utf8 tostringutf8 append comma sb append comma append claim claim shouldclaim txn id txnid sb append comma append txn id txnid txn id txnid request write time requestwritetim sb append comma append request write time request write time requestwritetim sb append comma append done done isdon sb string tostr 
scan respons scanrespons cach request cacherequest cach kei cachekei cach kei cachekei messag messag scan respons scanrespons cach kei cachekei cach kei cachekei messag messag cach kei cachekei cach kei cachekei messag messag perform request performrequest add messag cach addmessagetocach cach kei cachekei messag current time milli currenttimemilli 
booki start first time gener cooki store cooki zookeep local filesystem directori us cooki us ensur life booki configur stai booki directori unavail booki unavail booki chang port reset data done ensur data integr cooki booki start on ledger directori miss data miss booki up client cluster better fail earli cooki logger log logger factori loggerfactori get logger getlogg cooki current cooki layout version current_cookie_layout_vers string cooki node cookie_nod cooki string version filenam version_filenam version layout version layoutvers string booki host bookiehost string journal dir journaldir string ledger dir ledgerdir znode version znodevers cooki verifi cooki booki except bookieexcept invalid cooki except invalidcookieexcept layout version layoutvers layout version layoutvers layout version layoutvers booki host bookiehost equal booki host bookiehost journal dir journaldir equal journal dir journaldir ledger dir ledgerdir equal ledger dir ledgerdir booki except bookieexcept invalid cooki except invalidcookieexcept string string tostr string builder stringbuild string builder stringbuild append current cooki layout version current_cookie_layout_vers append append booki host bookiehost append append journal dir journaldir append append ledger dir ledgerdir append string tostr cooki pars scanner io except ioexcept cooki cooki ha next hasnextint io except ioexcept invalid string pars cooki layout version layoutvers next nextint layout version layoutvers next line nextlin booki host bookiehost next line nextlin journal dir journaldir next line nextlin ledger dir ledgerdir next line nextlin close write directori writetodirectori file directori io except ioexcept file version file versionfil file directori version filenam version_filenam file output stream fileoutputstream fo file output stream fileoutputstream version file versionfil buffer writer bufferedwrit bw bw buffer writer bufferedwrit output stream writer outputstreamwrit fo bw write string tostr bw bw close fo close write zoo keeper writetozookeep zoo keeper zookeep zk server configur serverconfigur conf keeper except keeperexcept interrupt except interruptedexcept unknown host except unknownhostexcept string booki cooki path bookiecookiepath conf get zk ledger root path getzkledgersrootpath cooki node cookie_nod string zk path zkpath get zk path getzkpath conf data string tostr get byte getbyt znode version znodevers zk set data setdata zk path zkpath data znode version znodevers zk exist booki cooki path bookiecookiepath zk creat booki cooki path bookiecookiepath id open acl unsaf open_acl_unsaf creat mode createmod persist keeper except keeperexcept node exist except nodeexistsexcept nne log info more on booki creat safe ignor booki cooki path bookiecookiepath zk creat zk path zkpath data id open acl unsaf open_acl_unsaf creat mode createmod persist stat stat zk exist zk path zkpath znode version znodevers stat get version getvers delet from zoo keeper deletefromzookeep zoo keeper zookeep zk server configur serverconfigur conf keeper except keeperexcept interrupt except interruptedexcept unknown host except unknownhostexcept string zk path zkpath get zk path getzkpath conf znode version znodevers zk delet zk path zkpath znode version znodevers znode version znodevers cooki gener cooki generatecooki server configur serverconfigur conf unknown host except unknownhostexcept cooki cooki layout version layoutvers current cooki layout version current_cookie_layout_vers booki host bookiehost inet address inetaddress get local host getlocalhost get host address gethostaddress conf get booki port getbookieport journal dir journaldir conf get journal dir name getjournaldirnam string builder stringbuild string builder stringbuild string dir conf get ledger dir name getledgerdirnam append dir length string dir append append ledger dir ledgerdir string tostr cooki read from zoo keeper readfromzookeep zoo keeper zookeep zk server configur serverconfigur conf keeper except keeperexcept interrupt except interruptedexcept io except ioexcept unknown host except unknownhostexcept string zk path zkpath get zk path getzkpath conf stat stat zk exist zk path zkpath data zk get data getdata zk path zkpath stat cooki pars scanner string data znode version znodevers stat get version getvers cooki read from directori readfromdirectori file directori io except ioexcept file version file versionfil file directori version filenam version_filenam pars scanner version file versionfil string get zk path getzkpath server configur serverconfigur conf unknown host except unknownhostexcept string booki cooki path bookiecookiepath conf get zk ledger root path getzkledgersrootpath cooki node cookie_nod booki cooki path bookiecookiepath inet address inetaddress get local host getlocalhost get host address gethostaddress conf get booki port getbookieport 
sync creat callback synccreatecallback creat callback createcallback creat callback implement synchron creat call param rc code param lh ledger handl object param ctx option control object creat complet createcomplet rc ledger handl ledgerhandl lh object ctx sync counter synccount counter sync counter synccount ctx counter set lh setlh lh counter setrc rc counter dec 
read ahead cach myreadaheadcach read ahead cach readaheadcach read ahead cach myreadaheadcach persist manag rang scan persistencemanagerwithrangescan persist manger persistencemang server configur serverconfigur cfg persist manger persistencemang cfg overrid enqueu failur enqueuewithoutfailur cach request cacherequest obj make perform thread obj perform request performrequest 
bk ledger fenc except bkledgerfencedexcept bk except bkexcept bk ledger fenc except bkledgerfencedexcept code ledger fenc except ledgerfencedexcept 
encapsul ledger recoveri oper first read entri id booki protocol bookieprotocol last add confirm last_add_confirm booki start from last confirm entri from hint ledger entri read forward abl find entri close ledger entri ledger recoveri op ledgerrecoveryop read callback readcallback add callback addcallback logger log logger factori loggerfactori get logger getlogg ledger recoveri op ledgerrecoveryop ledger handl ledgerhandl lh num respons pend numresponsespend proceed recoveri proceedingwithrecoveri max add push maxaddpush ledger handl ledgerhandl invalid entri id invalid_entry_id max add confirm maxaddconfirm ledger handl ledgerhandl invalid entri id invalid_entry_id max length maxlength gener callback genericcallback cb ledger recoveri op ledgerrecoveryop ledger handl ledgerhandl lh gener callback genericcallback cb cb cb lh lh num respons pend numresponsespend lh metadata ensembl size ensembles initi read last confirm op readlastconfirmedop rlcop read last confirm op readlastconfirmedop lh read last confirm op readlastconfirmedop last confirm data callback lastconfirmeddatacallback read last confirm data complet readlastconfirmeddatacomplet rc recoveri data recoverydata data rc bk except bkexcept code lh last add push lastaddpush lh last add confirm lastaddconfirm data last add confirm lastaddconfirm lh length data length recoveri read dorecoveryread rc bk except bkexcept code unauthor access except unauthorizedaccessexcept cb oper complet operationcomplet rc cb oper complet operationcomplet bk except bkexcept code read except readexcept enabl fenc op read request reach booki server fenc ledger stop subsequ oper from write rlcop initi fenc initiatewithfenc read past last confirm recoveri read dorecoveryread lh last add confirm lastaddconfirm lh async read entri asyncreadentri lh last add confirm lastaddconfirm lh last add confirm lastaddconfirm overrid read complet readcomplet rc ledger handl ledgerhandl lh enumer ledger entri ledgerentri seq object ctx get back prev valu lh last add confirm lastaddconfirm rc bk except bkexcept code ledger entri ledgerentri entri seq next element nextel data entri get entri getentri add entri make written replica subtract length data ad process call add lh lh length entri get length getlength data length lh async recoveri add entri asyncrecoveryaddentri data data length rc bk except bkexcept code entri except nosuchentryexcept rc bk except bkexcept code ledger exist except nosuchledgerexistsexcept lh async close intern asynccloseintern close callback closecallback overrid close complet closecomplet rc ledger handl ledgerhandl lh object ctx rc keeper except keeperexcept code valu intvalu log warn close fail bk except bkexcept get messag getmessag rc cb oper complet operationcomplet bk except bkexcept code zk except zkexcept cb oper complet operationcomplet bk except bkexcept code log debug after close length lh get length getlength bk except bkexcept code ledger close except ledgerclosedexcept error handl log error failur bk except bkexcept get messag getmessag rc read entri lh last add confirm lastaddconfirm ledger lh ledger id ledgerid recov ledger cb oper complet operationcomplet rc overrid add complet addcomplet rc ledger handl ledgerhandl lh entri id entryid object ctx rc bk except bkexcept code up recov from error log error failur bk except bkexcept get messag getmessag rc write entri lh last add confirm lastaddconfirm ledger lh ledger id ledgerid recov ledger cb oper complet operationcomplet rc recoveri read dorecoveryread 
write callback nop write callback nopwritecallback write callback writecallback overrid write complet writecomplet rc ledger id ledgerid entri id entryid inet socket address inetsocketaddress addr object ctx log debug finish write entri ledger object entri id entryid ledger id ledgerid addr rc 
ledger cach bean ledger cach bean ledgercachebean ledger cach mx bean ledgercachemxbean bkm bean info bkmbeaninfo 
builder com googl protobuf gener messag generatedmessag builder builder org apach hedwig protocol pub sub protocol pubsubprotocol messag result construct org apach hedwig protocol pub sub protocol pubsubprotocol messag builder newbuild builder builder creat builder builder builder builder result org apach hedwig protocol pub sub protocol pubsubprotocol messag builder org apach hedwig protocol pub sub protocol pubsubprotocol messag intern get result internalgetresult result builder clear result illeg state except illegalstateexcept call clear after build result org apach hedwig protocol pub sub protocol pubsubprotocol messag builder clone creat merg from mergefrom result com googl protobuf descriptor descriptor get descriptor type getdescriptorfortyp org apach hedwig protocol pub sub protocol pubsubprotocol messag get descriptor getdescriptor org apach hedwig protocol pub sub protocol pubsubprotocol messag get instanc type getdefaultinstancefortyp org apach hedwig protocol pub sub protocol pubsubprotocol messag get instanc getdefaultinst initi isiniti result initi isiniti org apach hedwig protocol pub sub protocol pubsubprotocol messag build result initi isiniti uniniti messag except newuninitializedmessageexcept result build partial buildparti org apach hedwig protocol pub sub protocol pubsubprotocol messag build pars buildpars com googl protobuf invalid protocol buffer except invalidprotocolbufferexcept initi isiniti uniniti messag except newuninitializedmessageexcept result invalid protocol buffer except asinvalidprotocolbufferexcept build partial buildparti org apach hedwig protocol pub sub protocol pubsubprotocol messag build partial buildparti result illeg state except illegalstateexcept build ha call builder org apach hedwig protocol pub sub protocol pubsubprotocol messag returnm result result returnm builder merg from mergefrom com googl protobuf messag org apach hedwig protocol pub sub protocol pubsubprotocol messag merg from mergefrom org apach hedwig protocol pub sub protocol pubsubprotocol messag merg from mergefrom builder merg from mergefrom org apach hedwig protocol pub sub protocol pubsubprotocol messag org apach hedwig protocol pub sub protocol pubsubprotocol messag get instanc getdefaultinst ha bodi hasbodi set bodi setbodi get bodi getbodi ha src region hassrcregion set src region setsrcregion get src region getsrcregion ha msg id hasmsgid merg msg id mergemsgid get msg id getmsgid merg unknown field mergeunknownfield get unknown field getunknownfield builder merg from mergefrom com googl protobuf code input stream codedinputstream input com googl protobuf extens registri lite extensionregistrylit extens registri extensionregistri java io io except ioexcept com googl protobuf unknown field set unknownfieldset builder unknown field unknownfield com googl protobuf unknown field set unknownfieldset builder newbuild get unknown field getunknownfield tag input read tag readtag tag set unknown field setunknownfield unknown field unknownfield build pars unknown field parseunknownfield input unknown field unknownfield extens registri extensionregistri tag set unknown field setunknownfield unknown field unknownfield build 10 set bodi setbodi input read byte readbyt 18 set src region setsrcregion input read byte readbyt 26 org apach hedwig protocol pub sub protocol pubsubprotocol messag seq id messageseqid builder sub builder subbuild org apach hedwig protocol pub sub protocol pubsubprotocol messag seq id messageseqid builder newbuild ha msg id hasmsgid sub builder subbuild merg from mergefrom get msg id getmsgid input read messag readmessag sub builder subbuild extens registri extensionregistri set msg id setmsgid sub builder subbuild build partial buildparti requir byte bodi ha bodi hasbodi result ha bodi hasbodi com googl protobuf string bytestr get bodi getbodi result get bodi getbodi builder set bodi setbodi com googl protobuf string bytestr valu valu pointer except nullpointerexcept result ha bodi hasbodi result bodi body_ valu builder clear bodi clearbodi result ha bodi hasbodi result bodi body_ get instanc getdefaultinst get bodi getbodi option byte src region srcregion ha src region hassrcregion result ha src region hassrcregion com googl protobuf string bytestr get src region getsrcregion result get src region getsrcregion builder set src region setsrcregion com googl protobuf string bytestr valu valu pointer except nullpointerexcept result ha src region hassrcregion result src region srcregion_ valu builder clear src region clearsrcregion result ha src region hassrcregion result src region srcregion_ get instanc getdefaultinst get src region getsrcregion option hedwig messag seq id messageseqid msg id msgid ha msg id hasmsgid result ha msg id hasmsgid org apach hedwig protocol pub sub protocol pubsubprotocol messag seq id messageseqid get msg id getmsgid result get msg id getmsgid builder set msg id setmsgid org apach hedwig protocol pub sub protocol pubsubprotocol messag seq id messageseqid valu valu pointer except nullpointerexcept result ha msg id hasmsgid result msg id msgid_ valu builder set msg id setmsgid org apach hedwig protocol pub sub protocol pubsubprotocol messag seq id messageseqid builder builder valu builderforvalu result ha msg id hasmsgid result msg id msgid_ builder valu builderforvalu build builder merg msg id mergemsgid org apach hedwig protocol pub sub protocol pubsubprotocol messag seq id messageseqid valu result ha msg id hasmsgid result msg id msgid_ org apach hedwig protocol pub sub protocol pubsubprotocol messag seq id messageseqid get instanc getdefaultinst result msg id msgid_ org apach hedwig protocol pub sub protocol pubsubprotocol messag seq id messageseqid builder newbuild result msg id msgid_ merg from mergefrom valu build partial buildparti result msg id msgid_ valu result ha msg id hasmsgid builder clear msg id clearmsgid result ha msg id hasmsgid result msg id msgid_ org apach hedwig protocol pub sub protocol pubsubprotocol messag seq id messageseqid get instanc getdefaultinst protoc insert point protoc_insertion_point builder scope builder_scop hedwig messag 
subscript state util subscriptionstateutil differenti hub subscrib from local subscrib id subscriberid prepend hard code prefix local subscrib valid subscrib id subscriberid us start prefix us intern hub subscrib string hub subscrib prefix hub_subscriber_prefix __ string string tostr subscript state subscriptionst state string builder stringbuild sb string builder stringbuild sb append consum seq id consumeseqid messag id util messageidutil msg id readabl string msgidtoreadablestr state get msg id getmsgid sb string tostr hub subscrib ishubsubscrib string bytestr subscrib id subscriberid subscrib id subscriberid string utf8 tostringutf8 start startswith hub subscrib prefix hub_subscriber_prefix 
ledger layout test ledgerlayouttest book keeper cluster test bookkeeperclustertestcas ledger layout test ledgerlayouttest test test ledger layout testledgerlayout except client configur clientconfigur conf client configur clientconfigur conf set ledger manag type setledgermanagertyp hierarch ledger manag hierarchicalledgermanag name string ledger root path ledgerrootpath test ledger layout testledgerlayout zkc creat ledger root path ledgerrootpath id open acl unsaf open_acl_unsaf creat mode createmod persist ledger layout ledgerlayout layout ledger layout ledgerlayout read layout readlayout zkc ledger root path ledgerrootpath asserttru layout layout string test name testnam foobar test version testvers xdeadbeef 0xdeadbeef us layout defin configur creat zookeep ledger layout ledgerlayout layout2 ledger layout ledgerlayout test name testnam test version testvers layout2 store zkc ledger root path ledgerrootpath layout ledger layout ledgerlayout read layout readlayout zkc ledger root path ledgerrootpath equal assertequ test name testnam layout get manag type getmanagertyp equal assertequ test version testvers layout get manag version getmanagervers write ledger layout writeledgerlayout string ledger root path ledgersrootpath string manag type managertyp manag version managervers layout version layoutvers except ledger layout ledgerlayout layout ledger layout ledgerlayout manag type managertyp manag version managervers field ledger layout ledgerlayout get declar field getdeclaredfield layout format version layoutformatvers set access setaccess set layout layout version layoutvers layout store zkc ledger root path ledgersrootpath test test bad version ledger layout testbadversionledgerlayout except client configur clientconfigur conf client configur clientconfigur write bad version ledger layout write ledger layout writeledgerlayout conf get zk ledger root path getzkledgersrootpath flat ledger manag flatledgermanag name flat ledger manag flatledgermanag cur version cur_vers ledger layout ledgerlayout layout format version layout_format_vers ledger layout ledgerlayout read layout readlayout zkc conf get zk ledger root path getzkledgersrootpath fail shouldn reach here io except ioexcept asserttru invalid except get messag getmessag contain version compat test test absent ledger manag layout testabsentledgermanagerlayout except client configur clientconfigur conf client configur clientconfigur string ledger layout ledgerslayout conf get zk ledger root path getzkledgersrootpath ledger layout ledgerlayout layout znode layout_znod write bad format ledger layout string builder stringbuild sb string builder stringbuild sb append ledger layout ledgerlayout layout format version layout_format_vers append zkc creat ledger layout ledgerslayout sb string tostr get byte getbyt id open acl unsaf open_acl_unsaf creat mode createmod persist ledger layout ledgerlayout read layout readlayout zkc conf get zk ledger root path getzkledgersrootpath fail shouldn reach here io except ioexcept asserttru invalid except get messag getmessag contain version absent from test test base ledger manag layout testbaseledgermanagerlayout except client configur clientconfigur conf client configur clientconfigur string root path rootpath conf get zk ledger root path getzkledgersrootpath string ledger layout ledgerslayout root path rootpath ledger layout ledgerlayout layout znode layout_znod write bad format ledger layout string builder stringbuild sb string builder stringbuild sb append ledger layout ledgerlayout layout format version layout_format_vers append append flat ledger manag flatledgermanag name zkc creat ledger layout ledgerslayout sb string tostr get byte getbyt id open acl unsaf open_acl_unsaf creat mode createmod persist ledger layout ledgerlayout read layout readlayout zkc root path rootpath fail shouldn reach here io except ioexcept asserttru invalid except get messag getmessag contain invalid ledger manag 
bk booki except bknotenoughbookiesexcept bk except bkexcept bk booki except bknotenoughbookiesexcept code booki except notenoughbookiesexcept 
unit test simpl app app test apptest test testcas creat test param test name testnam name test app test apptest string test name testnam test name testnam suit test test test suit test suit testsuit app test apptest rigour test test app testapp asserttru 
book keeper bookkeep client assum on singl writer ledger time four oper start ledger write ledger read from ledger delet ledger except result from synchron call error code result from asynchron call found link bk except bkexcept book keeper bookkeep logger log logger factori loggerfactori get logger getlogg book keeper bookkeep zoo keeper zookeep zk count down latch countdownlatch connect latch connectlatch count down latch countdownlatch zk connect timeout ms zkconnecttimeoutm 5000 client socket channel factori clientsocketchannelfactori channel factori channelfactori socket factori on creat own instanti channel factori ownchannelfactori zk handl on creat own instanti zk handl ownzkhandl booki client bookiecli booki client bookiecli booki watcher bookiewatch booki watcher bookiewatch order safe executor orderedsafeexecutor main worker pool mainworkerpool ledger manag respons store ledger meta data ledger manag ledgermanag ledger manag ledgermanag client configur clientconfigur conf zk connect callback zkconnectcallback connect connect fail connectionfail code creat bookkeep client zookeep client client socket factori instanti part constructor param server list on more server zookeep run client assum run booki regist zookeep path link booki watcher bookiewatch booki registr path bookieregistrationpath io except ioexcept interrupt except interruptedexcept keeper except keeperexcept book keeper bookkeep string server io except ioexcept interrupt except interruptedexcept keeper except keeperexcept client configur clientconfigur set zk server setzkserv server creat bookkeep client configur object zookeep client client socket factori instanti part constructor param conf client configur object io except ioexcept interrupt except interruptedexcept keeper except keeperexcept book keeper bookkeep client configur clientconfigur conf io except ioexcept interrupt except interruptedexcept keeper except keeperexcept conf conf zk zoo keeper zookeep conf get zk server getzkserv conf get zk timeout getzktimeout watcher overrid process watch event watchedev event event get state getstat equal watcher event keeper state keeperst sync connect syncconnect connect latch connectlatch count down countdown todo handl session disconnect expir log debug process event get type gettyp event get path getpath channel factori channelfactori nio client socket channel factori nioclientsocketchannelfactori executor cach thread pool newcachedthreadpool executor cach thread pool newcachedthreadpool booki watcher bookiewatch booki watcher bookiewatch conf booki watcher bookiewatch read booki block readbookiesblock main worker pool mainworkerpool order safe executor orderedsafeexecutor conf get num worker thread getnumworkerthread booki client bookiecli booki client bookiecli conf channel factori channelfactori main worker pool mainworkerpool initi ledger meta manag ledger manag ledgermanag ledger manag factori ledgermanagerfactori ledger manag newledgermanag conf zk channel factori ownchannelfactori zk handl ownzkhandl creat bookkeep client us pass zookeep client instanti on param conf client configur object link client configur clientconfigur param zk zookeep client instanc connect zookeep booki regist io except ioexcept interrupt except interruptedexcept keeper except keeperexcept book keeper bookkeep client configur clientconfigur conf zoo keeper zookeep zk io except ioexcept interrupt except interruptedexcept keeper except keeperexcept conf zk nio client socket channel factori nioclientsocketchannelfactori executor cach thread pool newcachedthreadpool executor cach thread pool newcachedthreadpool channel factori ownchannelfactori creat bookkeep client us pass zookeep client client socket channel factori instanti param conf client configur object link client configur clientconfigur param zk zookeep client instanc connect zookeep booki regist param channel factori channelfactori factori us creat connect booki io except ioexcept interrupt except interruptedexcept keeper except keeperexcept book keeper bookkeep client configur clientconfigur conf zoo keeper zookeep zk client socket channel factori clientsocketchannelfactori channel factori channelfactori io except ioexcept interrupt except interruptedexcept keeper except keeperexcept zk channel factori channelfactori pointer except nullpointerexcept conf conf zk zk channel factori channelfactori channel factori channelfactori booki watcher bookiewatch booki watcher bookiewatch conf booki watcher bookiewatch read booki block readbookiesblock main worker pool mainworkerpool order safe executor orderedsafeexecutor conf get num worker thread getnumworkerthread booki client bookiecli booki client bookiecli conf channel factori channelfactori main worker pool mainworkerpool initi ledger meta manag ledger manag ledgermanag ledger manag factori ledgermanagerfactori ledger manag newledgermanag conf zk zk connect withzkconnect zk connect callback zkconnectcallback cb zk handl ownzkhandl main worker pool mainworkerpool submit safe runnabl saferunn overrid safe run saferun connect latch connectlatch await zk connect timeout ms zkconnecttimeoutm time unit timeunit millisecond cb connect fail connectionfail bk except bkexcept code zk except zkexcept cb connect interrupt except interruptedexcept kill process cb connect fail connectionfail bk except bkexcept code interrupt except interruptedexcept cb connect ledger manag ledgermanag get ledger manag getledgermanag ledger manag ledgermanag digest type us verif crc32 cheap comput protect byzantin booki booki report fake byte match crc32 mac code more expens comput password booki report fake byte mathch mac password digest type digesttyp mac crc32 zoo keeper zookeep get zk handl getzkhandl zk client configur clientconfigur get conf getconf conf get booki client bookiecli current us booki recoveri booki client bookiecli book keeper bookkeep instanc booki client bookiecli get booki client getbookiecli booki client bookiecli creat ledger asynchron creat ledger specifi ensembl size quorum size digest type password callback implement option control object ensembl size booki entri stripe quorum size degre replic entri digest type mac crc note crc option abl protect client booki replac entri password us authent access ledger verifi entri ledger param en size enssiz ensembl size param size qsize quorum size param digest type digesttyp digest type mac crc32 param passwd password param cb creat callback createcallback implement param ctx option control object async creat ledger asynccreateledg en size enssiz size qsize digest type digesttyp digest type digesttyp passwd creat callback createcallback cb object ctx zk connect withzkconnect zk connect callback zkconnectcallback connect ledger creat op ledgercreateop book keeper bookkeep en size enssiz size qsize digest type digesttyp passwd cb ctx initi connect fail connectionfail code cb creat complet createcomplet code ctx creat ledger server quorum server param digest type digesttyp digest type mac crc32 param passwd password handl newli creat ledger interrupt except interruptedexcept bk except bkexcept ledger handl ledgerhandl creat ledger createledg digest type digesttyp digest type digesttyp passwd bk except bkexcept interrupt except interruptedexcept creat ledger createledg digest type digesttyp passwd synchron call creat ledger paramet match link async creat ledger asynccreateledg digest type digesttyp async callback asynccallback creat callback createcallback object param en size enssiz param size qsize param digest type digesttyp param passwd handl newli creat ledger interrupt except interruptedexcept bk except bkexcept ledger handl ledgerhandl creat ledger createledg en size enssiz size qsize digest type digesttyp digest type digesttyp passwd interrupt except interruptedexcept bk except bkexcept sync counter synccount counter sync counter synccount counter call asynchron version async creat ledger asynccreateledg en size enssiz size qsize digest type digesttyp passwd sync creat callback synccreatecallback counter wait counter block counter get lh getlh log error zoo keeper zookeep error counter getrc bk except bkexcept creat code zk except zkexcept counter get lh getlh open exist ledger asynchron read open ledger method invok fenc recoveri ledger ledger ha close fenc block client from write ledger recoveri make ledger close befor read from recoveri make entri reach on booki quorum replic quorum booki occur case writer ledger crash after send write request on booki befor abl send rest booki quorum ledger close fenc recoveri appli ledger handl ledgerhandl async close asyncclos param id lid ledger identifi param digest type digesttyp digest type mac crc32 param passwd password param ctx option control object async open ledger asyncopenledg id lid digest type digesttyp digest type digesttyp passwd open callback opencallback cb object ctx zk connect withzkconnect zk connect callback zkconnectcallback connect ledger open op ledgeropenop book keeper bookkeep id lid digest type digesttyp passwd cb ctx initi connect fail connectionfail code cb open complet opencomplet code ctx open exist ledger asynchron read recov ledger close applic us carefulli writer crash ledger remain unseal forev extern mechan detect failur writer ledger open safe manner invok recoveri procedur open ledger recoveri fenc ledger client write ledger method return read ledger handl add entri ledger attempt add entri except read from return ledger abl read entri up last confirm entri lastconfirmedentri point time ledger open param id lid ledger identifi param digest type digesttyp digest type mac crc32 param passwd password param ctx option control object async open ledger recoveri asyncopenledgernorecoveri id lid digest type digesttyp digest type digesttyp passwd open callback opencallback cb object ctx zk connect withzkconnect zk connect callback zkconnectcallback connect ledger open op ledgeropenop book keeper bookkeep id lid digest type digesttyp passwd cb ctx initi recoveri initiatewithoutrecoveri connect fail connectionfail code cb open complet opencomplet code ctx synchron open ledger call async open ledger asyncopenledg param id lid ledger identifi param digest type digesttyp digest type mac crc32 param passwd password handl open ledger interrupt except interruptedexcept bk except bkexcept ledger handl ledgerhandl open ledger openledg id lid digest type digesttyp digest type digesttyp passwd bk except bkexcept interrupt except interruptedexcept sync counter synccount counter sync counter synccount counter call async open ledger async open ledger asyncopenledg id lid digest type digesttyp passwd sync open callback syncopencallback counter wait counter block counter getrc bk except bkexcept code bk except bkexcept creat counter getrc counter get lh getlh synchron unsaf open ledger call async open ledger recoveri asyncopenledgernorecoveri param id lid ledger identifi param digest type digesttyp digest type mac crc32 param passwd password handl open ledger interrupt except interruptedexcept bk except bkexcept ledger handl ledgerhandl open ledger recoveri openledgernorecoveri id lid digest type digesttyp digest type digesttyp passwd bk except bkexcept interrupt except interruptedexcept sync counter synccount counter sync counter synccount counter call async open ledger async open ledger recoveri asyncopenledgernorecoveri id lid digest type digesttyp passwd sync open callback syncopencallback counter wait counter block counter getrc bk except bkexcept code bk except bkexcept creat counter getrc counter get lh getlh delet ledger asynchron param id lid ledger id param cb delet callback deletecallback implement param ctx option control object async delet ledger asyncdeleteledg id lid delet callback deletecallback cb object ctx zk connect withzkconnect zk connect callback zkconnectcallback connect ledger delet op ledgerdeleteop book keeper bookkeep id lid cb ctx initi connect fail connectionfail code cb delet complet deletecomplet code ctx synchron call delet ledger paramet match link async delet ledger asyncdeleteledg async callback asynccallback delet callback deletecallback object param id lid ledger id ledgerid interrupt except interruptedexcept bk except bkexcept bk ledger exist except bknosuchledgerexistsexcept ledger doesn exist bk except bkexcept delet ledger deleteledg id lid interrupt except interruptedexcept bk except bkexcept sync counter synccount counter sync counter synccount counter call asynchron version async delet ledger asyncdeleteledg id lid sync delet callback syncdeletecallback counter wait counter block counter getrc keeper except keeperexcept code nonod valu intvalu log warn ledger node exist zoo keeper zookeep ledger id ledgerid id lid bk except bkexcept creat code ledger exist except nosuchledgerexistsexcept counter getrc keeper except keeperexcept code valu intvalu log error zoo keeper zookeep error delet ledger node counter getrc bk except bkexcept creat code zk except zkexcept shut down client close interrupt except interruptedexcept bk except bkexcept booki client bookiecli close ledger manag ledgermanag close booki watcher bookiewatch halt channel factori ownchannelfactori channel factori channelfactori releas extern resourc releaseexternalresourc zk handl ownzkhandl zk close main worker pool mainworkerpool shutdown sync creat callback synccreatecallback creat callback createcallback creat callback implement synchron creat call param rc code param lh ledger handl object param ctx option control object creat complet createcomplet rc ledger handl ledgerhandl lh object ctx sync counter synccount counter sync counter synccount ctx counter set lh setlh lh counter setrc rc counter dec sync open callback syncopencallback open callback opencallback callback method synchron open oper param rc code param lh ledger handl param ctx option control object open complet opencomplet rc ledger handl ledgerhandl lh object ctx sync counter synccount counter sync counter synccount ctx counter set lh setlh lh log debug open complet rc counter setrc rc counter dec sync delet callback syncdeletecallback delet callback deletecallback delet callback implement synchron delet call param rc code param ctx option control object delet complet deletecomplet rc object ctx sync counter synccount counter sync counter synccount ctx counter setrc rc counter dec 
booki server stat bk stat bkstat bk stat bkstat instanc bk stat bkstat bk stat bkstat get instanc getinst instanc read view stat us composit view data compositeviewdata expos jmx op stat data opstatdata max latenc maxlat min latenc minlat avg latenc avglat num success op numsuccessop num fail op numfailedop string latenc hist latencyhist constructor properti constructorproperti max latenc maxlat min latenc minlat avg latenc avglat num success op numsuccessop num fail op numfailedop latenc hist latencyhist op stat data opstatdata max latenc maxlat min latenc minlat avg latenc avglat num success op numsuccessop num fail op numfailedop string latenc hist latencyhist max latenc maxlat max latenc maxlat min latenc minlat min latenc minlat max valu max_valu min latenc minlat avg latenc avglat avg latenc avglat num success op numsuccessop num success op numsuccessop num fail op numfailedop num fail op numfailedop latenc hist latencyhist latenc hist latencyhist get max latenc getmaxlat max latenc maxlat get min latenc getminlat min latenc minlat get avg latenc getavglat avg latenc avglat get num success op getnumsuccessop num success op numsuccessop get num fail op getnumfailedop num fail op numfailedop string get latenc hist getlatencyhist latenc hist latencyhist oper statist op stat opstat num bucket num_bucket max latenc maxlat min latenc minlat max valu max_valu total latenc totallat 0f num success op numsuccessop num fail op numfailedop latenc bucket latencybucket num bucket num_bucket op stat opstat increment number fail oper increment fail op incrementfailedop num fail op numfailedop updat latenc updat latenc updatelat latenc total latenc totallat latenc num success op numsuccessop latenc min latenc minlat min latenc minlat latenc latenc max latenc maxlat max latenc maxlat latenc bucket latenc 100 100 ms 100m bucket latenc 10 latenc 1000 100 ms 100m 1000 ms 1000m bucket latenc 100 latenc 10000 1s 10 bucket latenc 1000 more 10 bucket latenc bucket latencybucket bucket op stat data opstatdata op stat data toopstatdata avg latenc avglat num success op numsuccessop total latenc totallat num success op numsuccessop 0f string builder stringbuild sb string builder stringbuild num bucket num_bucket sb append latenc bucket latencybucket num bucket num_bucket sb append op stat data opstatdata max latenc maxlat min latenc minlat avg latenc avglat num success op numsuccessop num fail op numfailedop sb string tostr diff base opstat param base base opstat diff opstat op stat opstat diff op stat opstat base op stat opstat diff op stat opstat diff max latenc maxlat max latenc maxlat base max latenc maxlat max latenc maxlat base max latenc maxlat diff min latenc minlat min latenc minlat base min latenc minlat base min latenc minlat min latenc minlat diff total latenc totallat total latenc totallat base total latenc totallat diff num success op numsuccessop num success op numsuccessop base num success op numsuccessop diff num fail op numfailedop num fail op numfailedop base num fail op numfailedop num bucket num_bucket diff latenc bucket latencybucket latenc bucket latencybucket base latenc bucket latencybucket diff copi stat from op stat opstat param op stat copi copyof op stat opstat max latenc maxlat max latenc maxlat min latenc minlat min latenc minlat total latenc totallat total latenc totallat num success op numsuccessop num success op numsuccessop num fail op numfailedop num fail op numfailedop arraycopi latenc bucket latencybucket latenc bucket latencybucket latenc bucket latencybucket length stat add stats_add stat read stats_read stat unknown stats_unknown note add stat increment num stat num_stat num stat num_stat op stat opstat stat op stat opstat num stat num_stat bk stat bkstat num stat num_stat stat op stat opstat stat oper op stat op stat opstat get op stat getopstat type stat type set stat specifi oper param type oper type param stat oper stat set op stat setopstat type op stat opstat stat stat type stat diff base stat param base base stat diff stat bk stat bkstat diff bk stat bkstat base bk stat bkstat diff bk stat bkstat num stat num_stat diff set op stat setopstat stat diff base get op stat getopstat diff copi stat from stat param stat copi copyof bk stat bkstat num stat num_stat stat copi copyof get op stat getopstat 
base handler mybasehandl base handler basehandl base handler mybasehandl topic manag topicmanag tm server configur serverconfigur conf tm conf pub sub request pubsubrequest request pub sub request pubsubrequest get request getrequest request overrid handl request owner handlerequestatown pub sub request pubsubrequest request channel channel request request 
cach request cacherequest perform request performrequest 
test implement subscrib messag handler test messag handler testmessagehandl messag handler messagehandl deliv string bytestr topic string bytestr subscrib id subscriberid messag msg callback callback object context thread runnabl overrid run logger debug enabl isdebugen logger debug consum oper finish successfulli concurr util concurrencyutil put consum queue consumequeu start callback oper finish operationfinish context 
abstract acl callback aclcallback async callback asynccallback acl callback aclcallback process result processresult rc string path object ctx list acl acl stat stat safe process result safeprocessresult rc path ctx acl stat throwabl invok uncaught except handler invokeuncaughtexceptionhandl abstract safe process result safeprocessresult rc string path object ctx list acl acl stat stat 
process list on on asynchron process stop immedi error occur async list processor asynclistprocessor us prevent stack chain from build up callback schedul executor servic scheduledexecutorservic schedul constructor param schedul executor us prevent stack chain async list processor asynclistprocessor schedul executor servic scheduledexecutorservic schedul schedul schedul process list item param data list data process param processor callback process element list success param cb finalcb callback call after element list process param contxt context callback param success rc successrc rc pass callback success param failur rc failurerc rc pass callback failur process list data processor processor async callback asynccallback callback voidcallback cb finalcb object context success rc successrc failur rc failurerc data data size cb finalcb process result processresult success rc successrc context size data size atom integ atomicinteg current atom integ atomicinteg async callback asynccallback callback voidcallback stub callback stubcallback async callback asynccallback callback voidcallback overrid process result processresult rc string path object ctx rc success rc successrc termin immedi cb finalcb process result processresult failur rc failurerc context process next element next current increment get incrementandget next size reach end list cb finalcb process result processresult success rc successrc context data process datatoprocess data get next async callback asynccallback callback voidcallback stub schedul submit runnabl overrid run processor process data process datatoprocess stub first element firstel data get processor process first element firstel stub callback stubcallback 
proxi configur proxyconfigur client configur clientconfigur string proxi port proxy_port proxi port proxy_port string max messag size max_message_s max messag size max_message_s get proxi port getproxyport conf get getint proxi port proxy_port 9099 overrid get maximum messag size getmaximummessages conf get getint max messag size max_message_s 1258291 2m 
topic ownership chang listen topicownershipchangelisten acquir topic acquiredtop string bytestr topic callback callback object ctx lost topic losttop string bytestr topic 
abstract creat callback createcallback async callback asynccallback creat callback createcallback overrid creat complet createcomplet rc ledger handl ledgerhandl lh object ctx safe creat complet safecreatecomplet rc lh ctx throwabl invok uncaught except handler invokeuncaughtexceptionhandl abstract safe creat complet safecreatecomplet rc ledger handl ledgerhandl lh object ctx 
sync thread syncthread background thread flush ledger index page period take respons garbag collect journal file befor flush sync thread syncthread first record log marker journal id journalid journal po journalpo memori entri befor log marker persist ledger file sync thread begin flush ledger index page ledger index file flush entri logger ensur entri persist entri logger futur read after data ha persist ledger index file entri logger safe persist log marker disk booki fail after persist log mark booki abl relai journal entri start from last log mark lose entri journal file id log id last log mark remov safe after persist last log mark provid set let user keep number old journal file us manual recoveri critic disast sync thread syncthread thread run flag ensur sync thread interrupt flush atom atomicboolean flush atom atomicboolean make flush interv paramet flush interv flushinterv sync thread syncthread server configur serverconfigur conf sync thread syncthread flush interv flushinterv conf get flush interv getflushinterv log debug enabl isdebugen log debug flush interv flush interv flushinterv overrid run run wait flush interv flushinterv ledger storag ledgerstorag flush requir isflushrequir interrupt except interruptedexcept thread current thread currentthread interrupt mark flush flag make interrupt shutdown flush receiv close interrupt except closedbyinterruptexcept caus index file entri logger close corrupt flush compar set compareandset set flush flag fail mean flush thread interrupt sync thread exit journal mark log journal mark log marklog flush fail flushfail ledger storag ledgerstorag flush io except ioexcept log error except flush ledger flush fail flushfail flush fail roll last mark ledger flush journal entri lost flush fail flushfail journal roll log rolllog journal gc journal gcjournal clear flush flag flush set shutdown sync thread shutdown interrupt except interruptedexcept run flush compar set compareandset set flush flag succe mean sync thread syncthread flush safe interrupt interrupt join 
connect except couldnotconnectexcept pub sub except pubsubexcept connect except couldnotconnectexcept string msg statu code statuscod connect could_not_connect msg 
server stat server stat serverstat server stat serverstat instanc server stat serverstat read view stat us composit view data compositeviewdata expos jmx op stat data opstatdata max latenc maxlat min latenc minlat avg latenc avglat num success op numsuccessop num fail op numfailedop string latenc hist latencyhist constructor properti constructorproperti max latenc maxlat min latenc minlat avg latenc avglat num success op numsuccessop num fail op numfailedop latenc hist latencyhist op stat data opstatdata max latenc maxlat min latenc minlat avg latenc avglat num success op numsuccessop num fail op numfailedop string latenc hist latencyhist max latenc maxlat max latenc maxlat min latenc minlat min latenc minlat max valu max_valu min latenc minlat avg latenc avglat avg latenc avglat num success op numsuccessop num success op numsuccessop num fail op numfailedop num fail op numfailedop latenc hist latencyhist latenc hist latencyhist get max latenc getmaxlat max latenc maxlat get min latenc getminlat min latenc minlat get avg latenc getavglat avg latenc avglat get num success op getnumsuccessop num success op numsuccessop get num fail op getnumfailedop num fail op numfailedop string get latenc hist getlatencyhist latenc hist latencyhist oper statist op stat opstat num bucket num_bucket max latenc maxlat min latenc minlat max valu max_valu total latenc totallat 0f num success op numsuccessop num fail op numfailedop latenc bucket latencybucket num bucket num_bucket op stat opstat increment number fail oper increment fail op incrementfailedop num fail op numfailedop updat latenc updat latenc updatelat latenc total latenc totallat latenc num success op numsuccessop latenc min latenc minlat min latenc minlat latenc latenc max latenc maxlat max latenc maxlat latenc bucket latenc 100 100 ms 100m bucket latenc 10 latenc 1000 100 ms 100m 1000 ms 1000m bucket latenc 100 latenc 10000 1s 10 bucket latenc 1000 more 10 bucket latenc bucket latencybucket bucket op stat data opstatdata op stat data toopstatdata avg latenc avglat num success op numsuccessop total latenc totallat num success op numsuccessop 0f string builder stringbuild sb string builder stringbuild num bucket num_bucket sb append latenc bucket latencybucket num bucket num_bucket sb append op stat data opstatdata max latenc maxlat min latenc minlat avg latenc avglat num success op numsuccessop num fail op numfailedop sb string tostr server stat serverstat get instanc getinst instanc server stat serverstat stat hash map hashmap oper type operationtyp op stat opstat oper type operationtyp type oper type operationtyp valu stat put type op stat opstat map oper type operationtyp op stat opstat stat atom atomiclong num request receiv numrequestsreceiv atom atomiclong atom atomiclong num request redirect numrequestsredirect atom atomiclong atom atomiclong num messag deliv nummessagesdeliv atom atomiclong stat oper param type oper type op stat op stat opstat get op stat getopstat oper type operationtyp type stat get type increment request receiv incrementrequestsreceiv num request receiv numrequestsreceiv increment get incrementandget increment request redirect incrementrequestsredirect num request redirect numrequestsredirect increment get incrementandget increment messag deliv incrementmessagesdeliv num messag deliv nummessagesdeliv increment get incrementandget get num request receiv getnumrequestsreceiv num request receiv numrequestsreceiv get get num request redirect getnumrequestsredirect num request redirect numrequestsredirect get get num messag deliv getnummessagesdeliv num messag deliv nummessagesdeliv get 
multi callback object wait multipl async oper complet fail invok callback provid failur rc failurerc multi callback multicallback async callback asynccallback callback voidcallback number expect callback expect failur rc failurerc success rc successrc callback context invok async callback asynccallback callback voidcallback cb object context keep track oper complet atom integ atomicinteg done atom integ atomicinteg list except from oper complet unsuccessfulli link block queue linkedblockingqueu integ except link block queue linkedblockingqueu integ multi callback multicallback expect async callback asynccallback callback voidcallback cb object context success rc successrc failur rc failurerc expect expect cb cb context context failur rc failurerc failur rc failurerc success rc successrc success rc successrc expect cb process result processresult success rc successrc context tick done increment get incrementandget expect except empti isempti cb process result processresult success rc successrc context cb process result processresult failur rc failurerc context overrid process result processresult rc string path object ctx rc success rc successrc log error error mutil callback rc except add rc tick 
recoveri data recoverydata last add confirm lastaddconfirm length recoveri data recoverydata last add confirm lastaddconfirm length last add confirm lastaddconfirm last add confirm lastaddconfirm length length 
left right left right 
benchmark callback benchmarkcallback callback throughput latenc aggreg throughputlatencyaggreg agg start time starttim benchmark callback benchmarkcallback throughput latenc aggreg throughputlatencyaggreg agg interrupt except interruptedexcept agg agg agg outstand acquir set start time after take acquir outstand start time starttim current time milli currenttimemilli finish fail agg report latenc reportlat current time milli currenttimemilli start time starttim agg tp agg tpagg ding fail agg outstand releas overrid oper finish operationfinish object ctx result oper resultofoper finish overrid oper fail operationfail object ctx pub sub except pubsubexcept except finish 
netti handler bean mbean netti handler mx bean nettyhandlermxbean number subscript channel get num subscript channel getnumsubscriptionchannel 
scan request wrapper scanrequestwrapp cach request cacherequest scan request scanrequest request scan request wrapper scanrequestwrapp scan request scanrequest request request request handl scan request first readahead caus rang read issu underli persist manag readahead put stub cach messag present cach scan callback part scan request ad stub call messag arriv result rang scan issu underli persist manag perform request performrequest rang scan request rangescanrequest read ahead request readaheadrequest read ahead doreadahead request read ahead instal least stub cach valu cachevalu cach valu cachevalu cach get cach kei cachekei request get topic gettop request get start seq id getstartseqid add callback stub cach valu concret messag callback call right awai cach valu cachevalu add callback addcallback request get callback getcallback request get ctx getctx read ahead request readaheadrequest real persist manag realpersistencemanag scan messag scanmessag read ahead request readaheadrequest 
hedwig hub client factori hedwighubclientfactori server configur serverconfigur cfg client socket channel factori clientsocketchannelfactori channel factori channelfactori constructor take server configur serverconfigur channel factori channelfactori reus client creat here hedwig hub client factori hedwighubclientfactori server configur serverconfigur cfg client socket channel factori clientsocketchannelfactori channel factori channelfactori cfg cfg channel factori channelfactori channel factori channelfactori manufactur hub client server connect input hedwig socket address hedwigsocketaddress hub param hub hub region connect hedwig hub client hedwighubcli creat hedwig socket address hedwigsocketaddress hub creat hub specif version client us hedwig hub client hedwighubcli client configur clientconfigur overrid hedwig socket address hedwigsocketaddress get server hedwig socket address getdefaultserverhedwigsocketaddress hub overrid ssl enabl issslen cfg inter region ssl enabl isinterregionsslen channel factori channelfactori 
upgrad test upgradetest logger log logger factori loggerfactori get logger getlogg file info fileinfo zoo keeper util zookeeperutil zkutil zoo keeper zookeep zkc befor setup zoo keeper setupzookeep except zkutil zoo keeper util zookeeperutil zkutil start server startserv zkc zkutil get zoo keeper client getzookeepercli after tear down zoo keeper teardownzookeep except zkutil kill server killserv write ledger dir writeledgerdir file dir master kei masterkei except ledger id ledgerid file fn file dir ledger cach impl ledgercacheimpl get ledger name getledgernam ledger id ledgerid fn get parent file getparentfil mkdir file info fileinfo fi file info fileinfo fn master kei masterkei forc creation index file fi write buffer bytebuff buffer bytebuff alloc fi close log id logid buffer bytebuff logfil header logfile_head buffer bytebuff alloc 1024 logfil header logfile_head put bklo get byte getbyt file channel filechannel logfil random access file randomaccessfil file dir hex string tohexstr log id logid log rw get channel getchannel logfil write buffer bytebuff logfil header logfile_head clear logfil close journal channel journalchannel write journal writejourn file journal dir journaldir num entri numentri master kei masterkei except log id logid current time milli currenttimemilli journal channel journalchannel jc journal channel journalchannel journal dir journaldir log id logid buffer channel bufferedchannel bc jc get buffer channel getbufferedchannel ledger id ledgerid data 1024 arrai fill data last confirm lastconfirm ledger handl ledgerhandl invalid entri id invalid_entry_id num entri numentri buffer bytebuff packet client util clientutil gener packet generatepacket ledger id ledgerid last confirm lastconfirm data length data buffer tobytebuff last confirm lastconfirm buffer bytebuff len buff lenbuff buffer bytebuff alloc len buff lenbuff put putint packet remain len buff lenbuff flip bc write len buff lenbuff bc write packet bc flush jc string v1 journal directori newv1journaldirectori except file file creat temp file createtempfil booki tmpdir delet mkdir write journal writejourn 100 foobar get byte getbyt close get path getpath string v1 ledger directori newv1ledgerdirectori except file file creat temp file createtempfil booki tmpdir delet mkdir write ledger dir writeledgerdir foobar get byte getbyt get path getpath creat version2 file createversion2fil string dir except file version file versionfil file dir version file output stream fileoutputstream fo file output stream fileoutputstream version file versionfil buffer writer bufferedwrit bw bw buffer writer bufferedwrit output stream writer outputstreamwrit fo bw write string valu valueof bw bw close fo close string v2 journal directori newv2journaldirectori except string v1 journal directori newv1journaldirectori creat version2 file createversion2fil string v2 ledger directori newv2ledgerdirectori except string v1 ledger directori newv1ledgerdirectori creat version2 file createversion2fil test upgrad proceedur testupgradeproceedur string zk server zkserver string journal dir journaldir string ledger dir ledgerdir except server configur serverconfigur conf server configur serverconfigur set zk server setzkserv zk server zkserver set journal dir name setjournaldirnam journal dir journaldir set ledger dir name setledgerdirnam string ledger dir ledgerdir set booki port setbookieport 3181 booki booki conf fail shouldn abl start booki except bookieexcept invalid cooki except invalidcookieexcept correct behaviour asserttru wrong except get messag getmessag contain upgrad need file upgrad filesystemupgrad upgrad conf work fine booki conf start shutdown file upgrad filesystemupgrad rollback conf booki conf fail shouldn abl start booki except bookieexcept invalid cooki except invalidcookieexcept correct behaviour asserttru wrong except get messag getmessag contain upgrad need file upgrad filesystemupgrad upgrad conf file upgrad filesystemupgrad final upgrad finalizeupgrad conf booki conf start shutdown test test upgrad v1 current testupgradev1tocurr except string journal dir journaldir v1 journal directori newv1journaldirectori string ledger dir ledgerdir v1 ledger directori newv1ledgerdirectori test upgrad proceedur testupgradeproceedur zkutil get zoo keeper connect string getzookeeperconnectstr journal dir journaldir ledger dir ledgerdir test test upgrad v2 current testupgradev2tocurr except string journal dir journaldir v2 journal directori newv2journaldirectori string ledger dir ledgerdir v2 ledger directori newv2ledgerdirectori test upgrad proceedur testupgradeproceedur zkutil get zoo keeper connect string getzookeeperconnectstr journal dir journaldir ledger dir ledgerdir test test command line testcommandlin except print stream printstream origerr err print stream printstream origout file output file creat temp file createtempfil booki stdout file erroutput file creat temp file createtempfil booki stderr set setout print stream printstream output set err seterr print stream printstream erroutput file upgrad filesystemupgrad main string test conf file upgrad filesystemupgrad main string fail fail illeg argument except illegalargumentexcept iae asserttru wrong except iae get messag getmessag iae get messag getmessag contain configur file file creat temp file createtempfil booki tmpconf test upgrad op file upgrad filesystemupgrad main string conf get path getpath fail fail illeg argument except illegalargumentexcept iae asserttru wrong except iae get messag getmessag iae get messag getmessag contain specifi upgrad set setout origout set err seterr origerr 
proxi unsubscrib handler proxyunsubscribehandl handler subscrib subscrib channel tracker channeltrack tracker proxi unsubscrib handler proxyunsubscribehandl subscrib subscrib channel tracker channeltrack tracker subscrib subscrib tracker tracker overrid handl request handlerequest pub sub request pubsubrequest request channel channel request ha unsubscrib request hasunsubscriberequest umbrella handler umbrellahandl send error respons malform request senderrorresponsetomalformedrequest channel request get txn id gettxnid miss unsubscrib request data string bytestr topic request get topic gettop string bytestr subscrib id subscriberid request get unsubscrib request getunsubscriberequest get subscrib id getsubscriberid tracker even unsubscrib fail hedwig client close channel subscript serv better tracker subscript longer serv tracker unsubscrib abouttounsubscrib topic subscrib id subscriberid subscrib async unsubscrib asyncunsubscrib topic subscrib id subscriberid callback overrid oper fail operationfail object ctx pub sub except pubsubexcept except channel write pub sub respons util pubsubresponseutil get respons except getresponseforexcept except request get txn id gettxnid overrid oper finish operationfinish object ctx result oper resultofoper channel write pub sub respons util pubsubresponseutil get success respons getsuccessrespons request get txn id gettxnid 
wrapper store data point need encapsul messag consumpt subscrib flow consum messag sent from server topic subscrib topicsubscrib us context callback voidcallback messag handler messagehandl ve complet consum messag messag consum data messageconsumedata member variabl string bytestr topic string bytestr subscrib id subscriberid messag sent from server subscrib consumpt client messag msg constructor messag consum data messageconsumedata string bytestr topic string bytestr subscrib id subscriberid messag msg topic topic subscrib id subscriberid subscrib id subscriberid msg msg overrid string string tostr string builder stringbuild sb string builder stringbuild topic sb append topic topic string utf8 tostringutf8 subscrib id subscriberid sb append pub sub data pubsubdata comma append subscrib id subscriberid subscrib id subscriberid string utf8 tostringutf8 msg sb append pub sub data pubsubdata comma append messag msg sb string tostr 
proxi start deliveri handler proxystartdeliveryhandl handler logger logger logger factori loggerfactori get logger getlogg proxi start deliveri handler proxystartdeliveryhandl subscrib subscrib channel tracker channeltrack tracker proxi start deliveri handler proxystartdeliveryhandl subscrib subscrib channel tracker channeltrack tracker subscrib subscrib tracker tracker overrid handl request handlerequest pub sub request pubsubrequest request channel channel request ha start deliveri request hasstartdeliveryrequest umbrella handler umbrellahandl send error respons malform request senderrorresponsetomalformedrequest channel request get txn id gettxnid miss start deliveri request data string bytestr topic request get topic gettop string bytestr subscrib id subscriberid request get start deliveri request getstartdeliveryrequest get subscrib id getsubscriberid tracker tracker check channel match checkchannelmatch topic subscrib id subscriberid channel pub sub except pubsubexcept channel write pub sub respons util pubsubresponseutil get respons except getresponseforexcept request get txn id gettxnid channel subscrib channel subscribedchannel tracker get channel getchannel topic subscrib id subscriberid subscrib channel subscribedchannel channel write pub sub respons util pubsubresponseutil get respons except getresponseforexcept pub sub except pubsubexcept client subscrib except clientnotsubscribedexcept subscript start deliveri request get txn id gettxnid messag handler messagehandl handler messag handler messagehandl overrid deliv string bytestr topic string bytestr subscrib id subscriberid messag msg callback callback object context pub sub respons pubsubrespons respons pub sub respons pubsubrespons builder newbuild set protocol version setprotocolvers protocol version protocolvers version on version_on set statu code setstatuscod statu code statuscod success set txn id settxnid set messag setmessag msg set topic settop topic set subscrib id setsubscriberid subscrib id subscriberid build channel futur channelfutur futur subscrib channel subscribedchannel write respons futur add listen addlisten channel futur listen channelfuturelisten overrid oper complet operationcomplet channel futur channelfutur futur except futur success issuccess ignor failur happen channel disconnect channel disconnect turn stop deliveri stop error hedwig client send more messag callback oper finish operationfinish context channel write pub sub respons util pubsubresponseutil get success respons getsuccessrespons request get txn id gettxnid subscrib start deliveri startdeliveri topic subscrib id subscriberid handler client subscrib except clientnotsubscribedexcept happen check correct channel logger error unexpect subscript attempt start deliveri runtim except runtimeexcept start deliveri except alreadystartdeliveryexcept logger error unexpect start deliveri attempt start deliveri runtim except runtimeexcept 
record uncaught except handler recordinguncaughtexceptionhandl thread uncaught except handler uncaughtexceptionhandl synchron queue synchronousqueu throwabl queue record uncaught except handler recordinguncaughtexceptionhandl synchron queue synchronousqueu throwabl queue queue queue overrid uncaught except uncaughtexcept thread throwabl queue add 
scanner us entri log compact entri log compact scanner entrylogcompactionscann entri logger entrylogg entri log scanner entrylogscann overrid accept ledger id ledgerid booki ha knowledg ledger delet accept ledger overrid process ledger id ledgerid buffer bytebuff buffer io except ioexcept add entri addentri buffer 
deliveri manag request deliverymanagerrequest perform request performrequest 
hedwig netti specif implement publish hedwig publish hedwigpublish publish logger logger logger factori loggerfactori get logger getlogg hedwig publish hedwigpublish concurr map store map host hostnam port channel ha establish previous channel us publish topic server master current channel us here us publish unsubscrib request concurr map concurrentmap inet socket address inetsocketaddress channel host2 channel host2channel concurr hash map concurrenthashmap inet socket address inetsocketaddress channel hedwig client impl hedwigclientimpl client client configur clientconfigur cfg close hedwig publish hedwigpublish hedwig client impl hedwigclientimpl client client client cfg client get configur getconfigur publish string bytestr topic messag msg connect except couldnotconnectexcept servic down except servicedownexcept logger debug enabl isdebugen logger debug call sync publish topic topic string utf8 tostringutf8 msg msg pub sub data pubsubdata pub sub data pubsubdata pub sub data pubsubdata topic msg oper type operationtyp publish pub sub data pubsubdata pub sub callback pubsubcallback pub sub callback pubsubcallback pub sub callback pubsubcallback pub sub data pubsubdata async publish asyncpublish topic msg pub sub callback pubsubcallback pub sub data pubsubdata done isdon pub sub data pubsubdata wait interrupt except interruptedexcept servic down except servicedownexcept interrupt except wait async publish call check from pub sub callback pubsubcallback success pub sub callback pubsubcallback get call success getiscallsuccess except thrown oper fail pub sub except pubsubexcept failur except failureexcept pub sub callback pubsubcallback get failur except getfailureexcept failur except failureexcept happen oper fail pub sub except pubsubexcept pass log warn messag gener servic down except servicedownexcept logger error sync publish oper fail pub sub except pubsubexcept pass servic down except servicedownexcept server ack respons publish request success expect except occur rethrow failur except failureexcept connect except couldnotconnectexcept connect except couldnotconnectexcept failur except failureexcept failur except failureexcept servic down except servicedownexcept servic down except servicedownexcept failur except failureexcept type pub sub except pubsubexcept gener servic down except servicedownexcept log warn messag logger error unexpect except type sync publish oper fail failur except failureexcept servic down except servicedownexcept server ack respons publish request success async publish asyncpublish string bytestr topic messag msg callback callback object context logger debug enabl isdebugen logger debug call async publish topic topic string utf8 tostringutf8 msg msg check channel connect set up server topic pub sub data pubsubdata pub sub data pubsubdata pub sub data pubsubdata topic msg oper type operationtyp publish callback context client topic2 host topic2host contain kei containskei topic inet socket address inetsocketaddress host client topic2 host topic2host get topic host2 channel host2channel contain kei containskei host channel connect server host publish directli deal redirect logic server longer current host topic publish dopublish pub sub data pubsubdata host2 channel host2channel get host map topic host don channel server happen channel disconnect reason connect specifi server host creat channel connect client connect doconnect pub sub data pubsubdata host server host topic known us server host port defin config point server vip redirect random server server host topic inet socket address inetsocketaddress host cfg get server host getdefaultserverhost host2 channel host2channel contain kei containskei host channel server us publish dopublish pub sub data pubsubdata host2 channel host2channel get host client connect doconnect pub sub data pubsubdata host helper method write actual publish messag client connect server channel avail param pub sub data pubsubdata publish call data wrapper object param channel netti channel commun client server publish dopublish pub sub data pubsubdata pub sub data pubsubdata channel channel creat pub sub request pubsubrequest pub sub request pubsubrequest builder pubsub request builder pubsubrequestbuild pub sub request pubsubrequest builder newbuild pubsub request builder pubsubrequestbuild set protocol version setprotocolvers protocol version protocolvers version on version_on pubsub request builder pubsubrequestbuild set type settyp oper type operationtyp publish pub sub data pubsubdata server triedserv pub sub data pubsubdata server triedserv size pubsub request builder pubsubrequestbuild add server addalltriedserv pub sub data pubsubdata server triedserv txn id txnid client global counter globalcount increment get incrementandget pubsub request builder pubsubrequestbuild set txn id settxnid txn id txnid pubsub request builder pubsubrequestbuild set claim setshouldclaim pub sub data pubsubdata claim shouldclaim pubsub request builder pubsubrequestbuild set topic settop pub sub data pubsubdata topic creat publish request publishrequest publish request publishrequest builder publish request builder publishrequestbuild publish request publishrequest builder newbuild publish request builder publishrequestbuild set msg setmsg pub sub data pubsubdata msg set publish request publishrequest outer pub sub request pubsubrequest pubsub request builder pubsubrequestbuild set publish request setpublishrequest publish request builder publishrequestbuild updat pub sub data pubsubdata txn id txnid request write time requestwritetim pub sub data pubsubdata txn id txnid txn id txnid pub sub data pubsubdata request write time requestwritetim current time milli currenttimemilli befor write store inform respons handler responsehandl server respond appropri callback data invok txn id hedwig client impl hedwigclientimpl get respons handler from channel getresponsehandlerfromchannel channel txn2 pub sub data txn2pubsubdata put txn id txnid pub sub data pubsubdata write publish request channel logger debug enabl isdebugen logger debug write publish request host hedwig client impl hedwigclientimpl get host from channel gethostfromchannel channel pub sub data pubsubdata pub sub data pubsubdata channel futur channelfutur futur channel write pubsub request builder pubsubrequestbuild build futur add listen addlisten write callback writecallback pub sub data pubsubdata client method store host2 channel host2channel map doesn exist retriev hostnam info from channel creat remot address remoteaddress ti store host2 channel map storehost2channelmap channel channel inet socket address inetsocketaddress host hedwig client impl hedwigclientimpl get host from channel gethostfromchannel channel close host2 channel host2channel contain kei containskei host logger debug enabl isdebugen logger debug store channel map host host host2 channel host2channel put host channel ve reach here mean channel map host ideal happen mean creat channel server host publish us exist on happen race condit initi multipl concurr thread publish topic channel exist current server synchron initi creation channel host perform redund channel creat topic publish connect server host vip redirect real server host don full set server host redirect server channel connect from prior exist topic close redund channel won us logger debug enabl isdebugen logger debug channel map host host exist store hedwig client impl hedwigclientimpl get respons handler from channel getresponsehandlerfromchannel channel channel close explicitli channelclosedexplicitli channel close getter entri host2 channel host2channel map us class inform classpath channel get channel host getchannelforhost inet socket address inetsocketaddress host host2 channel host2channel get host close close channel channel host2 channel host2channel valu client get respons handler from channel getresponsehandlerfromchannel channel channel close explicitli channelclosedexplicitli channel close await uninterrupt awaituninterrupt host2 channel host2channel clear 
encapsul ledger metadata persist store zookeep pars serial method metadata ledger metadata ledgermetadata logger log logger factori loggerfactori get logger getlogg ledger metadata ledgermetadata string close close string splitter lsplitter string splitter tsplitter us notclos reserv close empti ledger notclos 101 recoveri in_recoveri 102 lowest compat metadata format version lowest_compat_metadata_format_vers current metadata format version current_metadata_format_vers string version kei version_kei booki metadata format version bookiemetadataformatvers metadata format version metadataformatvers ensembl size ensembles quorum size quorums length close sort map sortedmap arrai list arraylist inet socket address inetsocketaddress ensembl tree map treemap arrai list arraylist inet socket address inetsocketaddress arrai list arraylist inet socket address inetsocketaddress current ensembl currentensembl znode version znodevers ledger metadata ledgermetadata ensembl size ensembles quorum size quorums ensembl size ensembles ensembl size ensembles quorum size quorums quorum size quorums set pend read op pendingreadop read entri complet readentrycomplet read ledger recoveri op ledgerrecoveryop read complet readcomplet length close notclos metadata format version metadataformatvers current metadata format version current_metadata_format_vers ledger metadata ledgermetadata get map booki ensembl ledger fragment make up ledger sort map sortedmap ledger fragment booki ensembl store entri sort map sortedmap arrai list arraylist inet socket address inetsocketaddress get ensembl getensembl ensembl close isclos close notclos close recoveri in_recoveri recoveri isinrecoveri recoveri in_recoveri close mark ledger recoveri markledgerinrecoveri close recoveri in_recoveri close entri id entryid close entri id entryid add ensembl addensembl start entri id startentryid arrai list arraylist inet socket address inetsocketaddress ensembl ensembl empti isempti start entri id startentryid ensembl last kei lastkei ensembl put start entri id startentryid ensembl current ensembl currentensembl ensembl arrai list arraylist inet socket address inetsocketaddress get ensembl getensembl entri id entryid head map empti insert ensembl entri id right start ensembl get ensembl head map headmap entri id entryid last kei lastkei entri id entri id next ensembl chang take place ensembl chang param entri id entryid get next ensembl chang getnextensemblechang entri id entryid sort map sortedmap arrai list arraylist inet socket address inetsocketaddress tail map tailmap ensembl tail map tailmap entri id entryid tail map tailmap empti isempti tail map tailmap first kei firstkei gener arrai object metadata serial arrai serial string builder stringbuild string builder stringbuild append version kei version_kei append splitter tsplitter append metadata format version metadataformatvers append splitter lsplitter append quorum size quorums append splitter lsplitter append ensembl size ensembles append splitter lsplitter append length map entri arrai list arraylist inet socket address inetsocketaddress entri ensembl entri set entryset append splitter lsplitter append entri get kei getkei inet socket address inetsocketaddress addr entri get valu getvalu append splitter tsplitter string util stringutil addr string addrtostr addr close notclos append splitter lsplitter append close append splitter tsplitter append close log debug enabl isdebugen log debug serial config string tostr string tostr get byte getbyt pars arrai transform ledger config ledgerconfig object param arrai arrai pars ledger config ledgerconfig io except ioexcept pars ledger metadata ledgermetadata pars config parseconfig byte version io except ioexcept ledger metadata ledgermetadata lc ledger metadata ledgermetadata string config string byte log debug enabl isdebugen log debug pars config config string line config split splitter lsplitter line start startswith version kei version_kei string part line split splitter tsplitter lc metadata format version metadataformatvers integ part lc metadata format version metadataformatvers lc metadata format version metadataformatvers lowest compat metadata format version lowest_compat_metadata_format_vers lc metadata format version metadataformatvers current metadata format version current_metadata_format_vers io except ioexcept metadata version compat expect lowest compat metadata format version lowest_compat_metadata_format_vers current metadata format version current_metadata_format_vers lc metadata format version metadataformatvers line length io except ioexcept quorum size ensembl size absent from config config lc znode version znodevers version lc quorum size quorums integ line lc ensembl size ensembles integ line lc length line line length string part line split splitter tsplitter part equal close lc close part arrai list arraylist inet socket address inetsocketaddress addr arrai list arraylist inet socket address inetsocketaddress part length addr add string util stringutil pars addr parseaddr part lc add ensembl addensembl part addr number format except numberformatexcept io except ioexcept lc updat statu metadata zoo keeper zookeep param stat updat znode statu updateznodestatu stat stat znode version znodevers stat get version getvers updat znode version metadata param znode version znodevers znode version metadata updat znode statu updateznodestatu znode version znodevers znode version znodevers znode version znodevers return last znode version znode version get znode version getznodevers znode version znodevers resolv conflict updat metadata param meta newmeta read metadata conflict ha resolv resolv conflict resolveconflict ledger metadata ledgermetadata meta newmeta length close chang client ha open ledger resolv conflict metadata format version metadataformatvers meta newmeta metadata format version metadataformatvers ensembl size ensembles meta newmeta ensembl size ensembles quorum size quorums meta newmeta quorum size quorums length meta newmeta length close meta newmeta close meta znode version larger old on znode version znodevers meta newmeta znode version znodevers ensembl size ensembl size meta newmeta ensembl size ensembl distribut don check detail ensembl booki set recoveri tool iter kei iter keyit ensembl kei set keyset iter iter meta kei iter newmetakeyit meta newmeta ensembl kei set keyset iter ensembl size cur kei curkei kei iter keyit next meta kei newmetakei meta kei iter newmetakeyit next cur kei curkei equal meta kei newmetakei conflict ha resolv updat ensembl znode version ensembl meta newmeta ensembl znode version znodevers meta newmeta znode version znodevers 
oper statist op stat opstat num bucket num_bucket max latenc maxlat min latenc minlat max valu max_valu total latenc totallat 0f num success op numsuccessop num fail op numfailedop latenc bucket latencybucket num bucket num_bucket op stat opstat increment number fail oper increment fail op incrementfailedop num fail op numfailedop updat latenc updat latenc updatelat latenc total latenc totallat latenc num success op numsuccessop latenc min latenc minlat min latenc minlat latenc latenc max latenc maxlat max latenc maxlat latenc bucket latenc 100 100 ms 100m bucket latenc 10 latenc 1000 100 ms 100m 1000 ms 1000m bucket latenc 100 latenc 10000 1s 10 bucket latenc 1000 more 10 bucket latenc bucket latencybucket bucket op stat data opstatdata op stat data toopstatdata avg latenc avglat num success op numsuccessop total latenc totallat num success op numsuccessop 0f string builder stringbuild sb string builder stringbuild num bucket num_bucket sb append latenc bucket latencybucket num bucket num_bucket sb append op stat data opstatdata max latenc maxlat min latenc minlat avg latenc avglat num success op numsuccessop num fail op numfailedop sb string tostr 
except unexpect error condit unexpect condit except unexpectedconditionexcept pub sub except pubsubexcept unexpect condit except unexpectedconditionexcept string msg statu code statuscod unexpect condit unexpected_condit msg 
pub sub cmd pubsubcmd command mycommand overrid run cmd runcmd string arg except arg length start time starttim current time milli currenttimemilli string bytestr topic string bytestr copi from utf8 copyfromutf8 arg string bytestr sub id subid string bytestr copi from utf8 copyfromutf8 arg start time starttim timeout sec timeoutsec 60 timeout sec timeoutsec integ pars parseint arg number format except numberformatexcept nfe string builder stringbuild sb string builder stringbuild arg length sb append arg arg length sb append append timestamp tag string bytestr msg bodi msgbodi string bytestr copi from utf8 copyfromutf8 sb string tostr start time starttim messag msg messag builder newbuild set bodi setbodi msg bodi msgbodi build subscrib success count down latch countdownlatch done isdon count down latch countdownlatch elaps time elapsedtim 0l println start pubsub test sub topic subscrib subscrib topic sub id subid creat attach createorattach creat attach create_or_attach subscrib println sub topic topic string utf8 tostringutf8 subscrib id sub id subid string utf8 tostringutf8 pub topic publish publish topic msg println pub topic topic string utf8 tostringutf8 msg get bodi getbodi string utf8 tostringutf8 ensur subscrib first publish next start deliveri receiv messag start deliveri first befor publish done isdon notifi befor wait subscrib start deliveri startdeliveri topic sub id subid messag handler messagehandl overrid deliv string bytestr topic thistop string bytestr subscrib id subscriberid messag messag callback callback object context topic thistop equal topic subscrib id subscriberid equal sub id subid msg get bodi getbodi equal messag get bodi getbodi println receiv messag messag get bodi getbodi string utf8 tostringutf8 done isdon count down countdown callback oper finish operationfinish context wait messag success done isdon await timeout sec timeoutsec time unit timeunit second elaps time elapsedtim current time milli currenttimemilli start time starttim subscrib subscrib stop deliveri stopdeliveri topic sub id subid subscrib unsubscrib topic sub id subid success println pubsub success time elaps time elapsedtim ms println pubsub fail success 
entri except noentryexcept io except ioexcept serial version uid serialversionuid 1l ledger id ledgerid entri id entryid entri except noentryexcept ledger id ledgerid entri id entryid entri entri id entryid found ledger id ledgerid ledger id ledgerid ledger id ledgerid entri id entryid entri id entryid get ledger getledg ledger id ledgerid get entri getentri entri id entryid 
nio server factori test nioserverfactorytest test testcas packet processor packetprocessor problem processor problemprocessor packet processor packetprocessor process packet processpacket buffer bytebuff packet cnxn src packet get getint runtim except runtimeexcept bad thing happen src send respons sendrespons buffer bytebuff buffer bytebuff alloc test test problem processor testproblemprocessor except server configur serverconfigur conf server configur serverconfigur conf set booki port setbookieport 22334 nio server factori nioserverfactori factori nio server factori nioserverfactori conf problem processor problemprocessor factori start socket socket 127 22334 set timeout setsotimeout 5000 get output stream getoutputstream write get byte getbyt get output stream getoutputstream write get byte getbyt get input stream getinputstream read close factori shutdown 
bk protocol version except bkprotocolversionexcept bk except bkexcept bk protocol version except bkprotocolversionexcept code protocol version except protocolversionexcept 
bk ledger close except bkledgerclosedexcept bk except bkexcept bk ledger close except bkledgerclosedexcept code ledger close except ledgerclosedexcept 
messag bound client configur messageboundclientconfigur client configur clientconfigur messag bound messagebound messag bound client configur messageboundclientconfigur bound messag bound messagebound bound messag bound client configur messageboundclientconfigur get subscript messag bound getsubscriptionmessagebound messag bound messagebound 
topic oper parallel independ zk topic manag zktopicmanag abstract topic manag abstracttopicmanag topic manag topicmanag logger logger logger factori loggerfactori get logger getlogg zk topic manag zktopicmanag random rand random persist storag topic metadata zoo keeper zookeep zk string ephemer node path ephemeralnodepath stat callback statcallback load report stat callback loadreportingstatcallback stat callback statcallback overrid safe process result safeprocessresult rc string path object ctx stat stat rc keeper except keeperexcept code valu intvalu logger warn fail updat load inform zk flag indic suspend activ op put queuer fail automat suspend issuspend creat topic manag pass activ zoo keeper zookeep client object param zk zk topic manag zktopicmanag zoo keeper zookeep zk server configur serverconfigur cfg schedul executor servic scheduledexecutorservic schedul unknown host except unknownhostexcept pub sub except pubsubexcept cfg schedul zk zk ephemer node path ephemeralnodepath cfg get zk host prefix getzkhostsprefix string builder stringbuild append append addr string tostr zk watcher overrid process watch event watchedev event event get type gettyp equal watcher event event type eventtyp event get state getstat equal watcher event keeper state keeperst disconnect logger warn zk client ha disconnect zk server suspend issuspend event get state getstat equal watcher event keeper state keeperst sync connect syncconnect suspend issuspend logger info zk client ha reconnect zk server suspend issuspend check expir connect event get state getstat equal watcher event keeper state keeperst expir logger error zk client connect zk server ha expir runtim get runtim getruntim exit synchron queue synchronousqueu pub sub except pubsubexcept queue synchron queue synchronousqueu pub sub except pubsubexcept zookeep registerwithzookeep callback overrid oper fail operationfail object ctx pub sub except pubsubexcept except logger error fail hub zookeep except concurr util concurrencyutil put queue except overrid oper finish operationfinish object ctx result oper resultofoper logger info successfulli regist hub zookeep concurr util concurrencyutil put queue result oper resultofoper pub sub except pubsubexcept pub sub except pubsubexcept pse concurr util concurrencyutil queue right pse pse zookeep registerwithzookeep callback callback object ctx zk util zkutil creat full path optimist createfullpathoptimist zk ephemer node path ephemeralnodepath get current load data getcurrentloaddata id open acl unsaf open_acl_unsaf creat mode createmod ephemer safe async zk callback safeasynczkcallback string callback stringcallback overrid safe process result safeprocessresult rc string path object ctx string name rc code valu intvalu callback oper finish operationfinish ctx rc code nodeexist valu intvalu keeper except keeperexcept ke zk util zkutil log error creat zk except logerrorandcreatezkexcept creat ephemer node hub ephemer node path ephemeralnodepath rc callback oper fail operationfail ctx pub sub except pubsubexcept servic down except servicedownexcept ke logger info found stale ephemer node regist hub zk delet node exist let delet retri zk delet ephemer node path ephemeralnodepath safe async zk callback safeasynczkcallback callback voidcallback overrid safe process result safeprocessresult rc string path object ctx rc code valu intvalu rc code nonod valu intvalu zookeep registerwithzookeep callback ctx keeper except keeperexcept ke zk util zkutil log error creat zk except logerrorandcreatezkexcept delet stale ephemer node hub ephemer node path ephemeralnodepath rc callback oper fail operationfail ctx pub sub except pubsubexcept servic down except servicedownexcept ke ctx unregist zookeep unregisterwithzookeep interrupt except interruptedexcept keeper except keeperexcept zk delet ephemer node path ephemeralnodepath string hub path hubpath string bytestr topic cfg get zk topic path getzktopicpath string builder stringbuild topic append hub string tostr overrid real get owner realgetown string bytestr topic claim shouldclaim callback hedwig socket address hedwigsocketaddress cb object ctx oper suspend zk client disconnect error call suspend issuspend cb oper fail operationfail ctx pub sub except pubsubexcept servic down except servicedownexcept zk topic manag zktopicmanag servic temporarili suspend topic contain topic cb oper finish operationfinish ctx addr zk get owner op zkgetownerop topic claim shouldclaim cb ctx read recurs call zk get owner op zkgetownerop string bytestr topic claim shouldclaim callback hedwig socket address hedwigsocketaddress cb object ctx string hub path hubpath zk get owner op zkgetownerop string bytestr topic claim shouldclaim callback hedwig socket address hedwigsocketaddress cb object ctx topic topic claim shouldclaim claim shouldclaim cb cb ctx ctx hub path hubpath hub path hubpath topic choos get list exist host string regist host path registeredhostspath cfg get zk host prefix getzkhostsprefix string builder stringbuild string tostr zk get children getchildren regist host path registeredhostspath safe async zk callback safeasynczkcallback children callback childrencallback overrid safe process result safeprocessresult rc string path object ctx list string children rc code valu intvalu keeper except keeperexcept zk util zkutil log error creat zk except logerrorandcreatezkexcept get list avail hub path rc cb oper fail operationfail ctx pub sub except pubsubexcept servic down except servicedownexcept choos least load node chooseleastloadednod children choos least load node chooseleastloadednod list string children data callback datacallback data callback datacallback data callback datacallback num respons numrespons min load minload integ max valu max_valu string least load leastload overrid safe process result safeprocessresult rc string path object ctx data stat stat rc keeper except keeperexcept code valu intvalu load integ pars parseint string data logger debug enabl isdebugen logger debug found server ctx load load load min load minload load min load minload rand next nextboolean min load minload load least load leastload string ctx number format except numberformatexcept logger warn corrupt load inform from hub ctx corrupt data ll ignor hub num respons numrespons num respons numrespons children size least load leastload cb oper fail operationfail zk get owner op zkgetownerop ctx pub sub except pubsubexcept servic down except servicedownexcept hub avail hedwig socket address hedwigsocketaddress owner hedwig socket address hedwigsocketaddress least load leastload owner equal addr claim cb oper finish operationfinish zk get owner op zkgetownerop ctx owner string child children zk get data getdata cfg get zk host prefix getzkhostsprefix string builder stringbuild append append child string tostr data callback datacallback child claim choos claimorchoos claim shouldclaim claim choos read zk get data getdata hub path hubpath safe async zk callback safeasynczkcallback data callback datacallback overrid safe process result safeprocessresult rc string path object ctx data stat stat rc code nonod valu intvalu claim choos claimorchoos rc code valu intvalu keeper except keeperexcept zk util zkutil log error creat zk except logerrorandcreatezkexcept read ownership topic topic string utf8 tostringutf8 path rc cb oper fail operationfail ctx pub sub except pubsubexcept servic down except servicedownexcept successfulli read hedwig socket address hedwigsocketaddress owner hedwig socket address hedwigsocketaddress string data owner equal addr logger debug enabl isdebugen logger debug topic topic string utf8 tostringutf8 belong owner cb oper finish operationfinish ctx owner logger info discov stale self node topic topic string utf8 tostringutf8 delet previous fail left residu ephemer node here delet clean up creat acquir topic zk delet hub path hubpath stat get version getvers callback voidcallback overrid process result processresult rc string path object ctx code valu intvalu rc code nonod valu intvalu rc claim choos claimorchoos keeper except keeperexcept zk util zkutil log error creat zk except logerrorandcreatezkexcept delet self node topic topic string utf8 tostringutf8 path rc cb oper fail operationfail ctx pub sub except pubsubexcept servic down except servicedownexcept ctx ctx claim logger debug enabl isdebugen logger debug claim topic topic string utf8 tostringutf8 zk util zkutil creat full path optimist createfullpathoptimist zk hub path hubpath addr string tostr get byte getbyt id open acl unsaf open_acl_unsaf creat mode createmod ephemer safe async zk callback safeasynczkcallback string callback stringcallback overrid safe process result safeprocessresult rc string path object ctx string name rc code valu intvalu logger debug enabl isdebugen logger debug claim topic topic string utf8 tostringutf8 notifi listen add own topic notifylistenersandaddtoownedtop topic cb ctx updat load inform updateloadinform rc code nodeexist valu intvalu read keeper except keeperexcept zk util zkutil log error creat zk except logerrorandcreatezkexcept fail creat ephemer node claim ownership topic topic string utf8 tostringutf8 path rc cb oper fail operationfail ctx pub sub except pubsubexcept servic down except servicedownexcept ctx get current load data getcurrentloaddata number topic indic load inform topic size get byte getbyt updat load inform updateloadinform current load currentload get current load data getcurrentloaddata logger debug enabl isdebugen logger debug report load string current load currentload zk set data setdata ephemer node path ephemeralnodepath current load currentload load report stat callback loadreportingstatcallback overrid post releas cleanup postreleasecleanup string bytestr topic callback cb object ctx zk get data getdata hub path hubpath topic safe async zk callback safeasynczkcallback data callback datacallback overrid safe process result safeprocessresult rc string path object ctx data stat stat rc code nonod valu intvalu node ha disappear from live node logger warn delet self node topic topic string utf8 tostringutf8 node found cb oper finish operationfinish ctx rc code valu intvalu keeper except keeperexcept zk util zkutil log error creat zk except logerrorandcreatezkexcept fail delet self ownership node topic topic string utf8 tostringutf8 path rc cb oper fail operationfail ctx pub sub except pubsubexcept servic down except servicedownexcept hedwig socket address hedwigsocketaddress owner hedwig socket address hedwigsocketaddress string data owner equal addr logger warn want delet self node topic topic string utf8 tostringutf8 node owner found leav untouch node leav cb oper finish operationfinish ctx zk delet path stat get version getvers safe async zk callback safeasynczkcallback callback voidcallback overrid safe process result safeprocessresult rc string path object ctx rc code valu intvalu rc code nonod valu intvalu keeper except keeperexcept zk util zkutil log error creat zk except logerrorandcreatezkexcept fail delet self ownership node topic topic string utf8 tostringutf8 path rc cb oper fail operationfail ctx pub sub except pubsubexcept servic down except servicedownexcept cb oper finish operationfinish ctx ctx ctx overrid stop unregist zookeep make unavail from hub server list unregist zookeep unregisterwithzookeep interrupt except interruptedexcept logger error error unregist hub server keeper except keeperexcept logger error error unregist hub server stop 
object help synchron asynchron call sync counter synccount rc total enumer ledger entri ledgerentri seq ledger handl ledgerhandl lh total dec notifi notifyal block limit interrupt except interruptedexcept limit prev wait prev total total setrc rc rc rc getrc rc set sequenc setsequ enumer ledger entri ledgerentri seq seq seq enumer ledger entri ledgerentri get sequenc getsequ seq set lh setlh ledger handl ledgerhandl lh lh lh ledger handl ledgerhandl get lh getlh lh 
callback us messag handler messagehandl client app ve finish consum subscript messag sent from server asynchron callback back client lib stateless us singleton object context us messag consum data messageconsumedata type contain inform need call messag consum logic client lib respons handler responsehandl messag consum callback messageconsumecallback callback logger logger logger factori loggerfactori get logger getlogg messag consum callback messageconsumecallback hedwig client impl hedwigclientimpl client messag consum callback messageconsumecallback hedwig client impl hedwigclientimpl client client client messag consum retri task messageconsumeretrytask timer task timertask messag consum data messageconsumedata messag consum data messageconsumedata topic subscrib topicsubscrib topic subscrib topicsubscrib messag consum retri task messageconsumeretrytask messag consum data messageconsumedata messag consum data messageconsumedata topic subscrib topicsubscrib topic subscrib topicsubscrib messag consum data messageconsumedata messag consum data messageconsumedata topic subscrib topicsubscrib topic subscrib topicsubscrib overrid run consum messag channel topic subscrib channel topicsubscriberchannel client get subscrib getsubscrib get channel topic getchannelfortop topic subscrib topicsubscrib hedwig client impl hedwigclientimpl get respons handler from channel getresponsehandlerfromchannel topic subscrib channel topicsubscriberchannel get subscrib respons handler getsubscriberesponsehandl async messag consum asyncmessageconsum messag consum data messageconsumedata msg oper finish operationfinish object ctx result oper resultofoper messag consum data messageconsumedata messag consum data messageconsumedata messag consum data messageconsumedata ctx topic subscrib topicsubscrib topic subscrib topicsubscrib topic subscrib topicsubscrib messag consum data messageconsumedata topic messag consum data messageconsumedata subscrib id subscriberid messag ha successfulli consum client app callback respons handler responsehandl indic messag consum channel topic subscrib channel topicsubscriberchannel client get subscrib getsubscrib get channel topic getchannelfortop topic subscrib topicsubscrib hedwig client impl hedwigclientimpl get respons handler from channel getresponsehandlerfromchannel topic subscrib channel topicsubscriberchannel get subscrib respons handler getsubscriberesponsehandl messag consum messageconsum messag consum data messageconsumedata msg oper fail operationfail object ctx pub sub except pubsubexcept except messag ha successfulli consum client app callback respons handler responsehandl async messag handler messagehandl consum logic messag consum data messageconsumedata messag consum data messageconsumedata messag consum data messageconsumedata ctx topic subscrib topicsubscrib topic subscrib topicsubscrib topic subscrib topicsubscrib messag consum data messageconsumedata topic messag consum data messageconsumedata subscrib id subscriberid logger error messag consum successfulli client messag handler messagehandl messag consum data messageconsumedata sleep pre configur amount time millisecond befor retri futur more dynam logic durat sleep base time ve retri last amount time slept stick meta data messag consum data messageconsumedata retri client get client timer getclienttim schedul messag consum retri task messageconsumeretrytask messag consum data messageconsumedata topic subscrib topicsubscrib client get configur getconfigur get messag consum retri wait time getmessageconsumeretrywaittim 
stand server configur standaloneserverconfigur server configur serverconfigur overrid standalon isstandalon 
garbag collector handl ledger delet server side garbag collector garbagecollector garbag collect specif ledger param ledger id ledgerid ledger id garbag collect gc ledger id ledgerid 
entri log test entrylogtest test testcas logger log logger factori loggerfactori get logger getlogg entri log test entrylogtest befor set up setup except test test corrupt entri log testcorruptentrylog except file tmp dir tmpdir file creat temp file createtempfil bk test bktest dir tmp dir tmpdir delet tmp dir tmpdir mkdir file cur dir curdir booki get current directori getcurrentdirectori tmp dir tmpdir booki check directori structur checkdirectorystructur cur dir curdir gc wait time gcwaittim 1000 server configur serverconfigur conf server configur serverconfigur conf set gc wait time setgcwaittim gc wait time gcwaittim conf set ledger dir name setledgerdirnam string tmp dir tmpdir string tostr creat entri entri logger entrylogg logger entri logger entrylogg conf logger add entri addentri gener entri generateentri logger add entri addentri gener entri generateentri logger add entri addentri gener entri generateentri logger flush let truncat file corrupt last entri simul partial write file file cur dir curdir log random access file randomaccessfil raf random access file randomaccessfil rw raf set length setlength raf length 10 raf close ledger log logger entri logger entrylogg conf entri log metadata entrylogmetadata meta entri log metadata entrylogmetadata 0l extract scanner extractionscann scanner extract scanner extractionscann meta logger scan entri log scanentrylog 0l scanner fail reach here io except ioexcept log info extract meta from entri log meta assertnotnul meta ledger map ledgersmap get 1l assertnul meta ledger map ledgersmap get 2l assertnotnul meta ledger map ledgersmap get 3l buffer bytebuff gener entri generateentri ledger entri buffer bytebuff bb buffer bytebuff wrap 64 bb put putlong ledger bb put putlong entri bb put ledger ledger entri get byte getbyt bb flip bb test test miss log id testmissinglogid except file tmp dir tmpdir file creat temp file createtempfil entri log test entrylogtest dir tmp dir tmpdir delet tmp dir tmpdir mkdir file cur dir curdir booki get current directori getcurrentdirectori tmp dir tmpdir booki check directori structur checkdirectorystructur cur dir curdir server configur serverconfigur conf server configur serverconfigur conf set ledger dir name setledgerdirnam string tmp dir tmpdir string tostr creat entri num log numlog num entri numentri 10 posit num log numlog num log numlog posit num entri numentri entri logger entrylogg logger entri logger entrylogg conf num entri numentri posit logger add entri addentri gener entri generateentri logger flush delet last log id file last log id lastlogid file cur dir curdir last id lastid last log id lastlogid delet write entri num log numlog num log numlog posit num entri numentri entri logger entrylogg logger entri logger entrylogg conf num entri numentri posit logger add entri addentri gener entri generateentri logger flush entri logger entrylogg logger newlogg entri logger entrylogg conf num log numlog file log file logfil file cur dir curdir hex string tohexstr log asserttru log file logfil exist num log numlog num entri numentri string expect valu expectedvalu ledger valu logger newlogg read entri readentri posit buffer bytebuff buf buffer bytebuff wrap valu ledger id ledgerid buf get getlong entri id entryid buf get getlong data buf remain buf get data equal assertequ ledger id ledgerid equal assertequ entri id entryid equal assertequ expect valu expectedvalu string data test test entri logger entrylogg fail fnfe entri logger directori exist test entri logger fnfe directori exist testentryloggershouldthrowfnfeifdirectoriesdoesnotexist except file tmp dir tmpdir file creat temp file createtempfil bk test bktest dir tmp dir tmpdir delet server configur serverconfigur conf server configur serverconfigur conf set ledger dir name setledgerdirnam string tmp dir tmpdir string tostr entri logger entrylogg entri logger entrylogg entri logger entrylogg entri logger entrylogg conf fail expect file found except filenotfoundexcept file found except filenotfoundexcept equal assertequ entri log directori exist get local messag getlocalizedmessag entri logger entrylogg entri logger entrylogg shutdown after tear down teardown except 
test implement subscrib messag handler test messag handler testmessagehandl messag handler messagehandl subscrib reconnect test server send back messag ve process consum keep track ve encount signal back consum queue consumequeu hash set hashset messag seq id messageseqid consum messag consumedmessag hash set hashset messag seq id messageseqid largest msg seq id consum largestmsgseqidconsum synchron queue synchronousqueu consum queue consumequeu test messag handler testmessagehandl synchron queue synchronousqueu consum queue consumequeu consum queue consumequeu consum queue consumequeu deliv string bytestr topic string bytestr subscrib id subscriberid messag msg callback callback object context consum messag consumedmessag contain msg get msg id getmsgid messag consum add set consum messag consum messag consumedmessag add msg get msg id getmsgid check msg seq id increment compar last consum messag don check initi messag consum largest msg seq id consum largestmsgseqidconsum msg get msg id getmsgid get local compon getlocalcompon largest msg seq id consum largestmsgseqidconsum thread runnabl overrid run logger debug enabl isdebugen logger debug consum messag order msg id msgid msg get msg id getmsgid get local compon getlocalcompon concurr util concurrencyutil put consum queue consumequeu start thread runnabl overrid run logger debug enabl isdebugen logger debug consum oper finish successfulli concurr util concurrencyutil put consum queue consumequeu start store consum messag last msg id consum largest msg seq id consum largestmsgseqidconsum msg get msg id getmsgid get local compon getlocalcompon logger debug enabl isdebugen logger debug consum messag ve process msg callback oper finish operationfinish context 
stub callback stubcallback callback synchron queue synchronousqueu pub sub except pubsubexcept queue synchron queue synchronousqueu pub sub except pubsubexcept oper fail operationfail object ctx pub sub except pubsubexcept except thread runnabl overrid run concurr util concurrencyutil put queue except start oper finish operationfinish object ctx result oper resultofoper thread runnabl overrid run concurr util concurrencyutil put queue result oper resultofoper pub sub except pubsubexcept start 
bk booki except bkbookieexcept bk except bkexcept bk booki except bkbookieexcept code booki avail except nobookieavailableexcept 
stop deliveri request stopdeliveryrequest com googl protobuf gener messag generatedmessag us stop deliveri request stopdeliveryrequest builder newbuild construct stop deliveri request stopdeliveryrequest init field initfield stop deliveri request stopdeliveryrequest init noinit stop deliveri request stopdeliveryrequest instanc defaultinst stop deliveri request stopdeliveryrequest get instanc getdefaultinst instanc defaultinst stop deliveri request stopdeliveryrequest get instanc type getdefaultinstancefortyp instanc defaultinst com googl protobuf descriptor descriptor get descriptor getdescriptor org apach hedwig protocol pub sub protocol pubsubprotocol intern hedwig stop deliveri request descriptor internal_static_hedwig_stopdeliveryrequest_descriptor com googl protobuf gener messag generatedmessag field accessor tabl fieldaccessort intern get field accessor tabl internalgetfieldaccessort org apach hedwig protocol pub sub protocol pubsubprotocol intern hedwig stop deliveri request field accessor tabl internal_static_hedwig_stopdeliveryrequest_fieldaccessort requir byte subscrib id subscriberid subscriberid field number subscriberid_field_numb ha subscrib id hassubscriberid com googl protobuf string bytestr subscrib id subscriberid_ com googl protobuf string bytestr empti ha subscrib id hassubscriberid ha subscrib id hassubscriberid com googl protobuf string bytestr get subscrib id getsubscriberid subscrib id subscriberid_ init field initfield initi isiniti ha subscrib id hassubscriberid write writeto com googl protobuf code output stream codedoutputstream output java io io except ioexcept get serial size getserializeds ha subscrib id hassubscriberid output write byte writebyt get subscrib id getsubscriberid get unknown field getunknownfield write writeto output memoiz serial size memoizedserializeds get serial size getserializeds size memoiz serial size memoizedserializeds size size size ha subscrib id hassubscriberid size com googl protobuf code output stream codedoutputstream comput byte size computebytess get subscrib id getsubscriberid size get unknown field getunknownfield get serial size getserializeds memoiz serial size memoizedserializeds size size org apach hedwig protocol pub sub protocol pubsubprotocol stop deliveri request stopdeliveryrequest pars from parsefrom com googl protobuf string bytestr data com googl protobuf invalid protocol buffer except invalidprotocolbufferexcept builder newbuild merg from mergefrom data build pars buildpars org apach hedwig protocol pub sub protocol pubsubprotocol stop deliveri request stopdeliveryrequest pars from parsefrom com googl protobuf string bytestr data com googl protobuf extens registri lite extensionregistrylit extens registri extensionregistri com googl protobuf invalid protocol buffer except invalidprotocolbufferexcept builder newbuild merg from mergefrom data extens registri extensionregistri build pars buildpars org apach hedwig protocol pub sub protocol pubsubprotocol stop deliveri request stopdeliveryrequest pars from parsefrom data com googl protobuf invalid protocol buffer except invalidprotocolbufferexcept builder newbuild merg from mergefrom data build pars buildpars org apach hedwig protocol pub sub protocol pubsubprotocol stop deliveri request stopdeliveryrequest pars from parsefrom data com googl protobuf extens registri lite extensionregistrylit extens registri extensionregistri com googl protobuf invalid protocol buffer except invalidprotocolbufferexcept builder newbuild merg from mergefrom data extens registri extensionregistri build pars buildpars org apach hedwig protocol pub sub protocol pubsubprotocol stop deliveri request stopdeliveryrequest pars from parsefrom java io input stream inputstream input java io io except ioexcept builder newbuild merg from mergefrom input build pars buildpars org apach hedwig protocol pub sub protocol pubsubprotocol stop deliveri request stopdeliveryrequest pars from parsefrom java io input stream inputstream input com googl protobuf extens registri lite extensionregistrylit extens registri extensionregistri java io io except ioexcept builder newbuild merg from mergefrom input extens registri extensionregistri build pars buildpars org apach hedwig protocol pub sub protocol pubsubprotocol stop deliveri request stopdeliveryrequest pars delimit from parsedelimitedfrom java io input stream inputstream input java io io except ioexcept builder builder builder newbuild builder merg delimit from mergedelimitedfrom input builder build pars buildpars org apach hedwig protocol pub sub protocol pubsubprotocol stop deliveri request stopdeliveryrequest pars delimit from parsedelimitedfrom java io input stream inputstream input com googl protobuf extens registri lite extensionregistrylit extens registri extensionregistri java io io except ioexcept builder builder builder newbuild builder merg delimit from mergedelimitedfrom input extens registri extensionregistri builder build pars buildpars org apach hedwig protocol pub sub protocol pubsubprotocol stop deliveri request stopdeliveryrequest pars from parsefrom com googl protobuf code input stream codedinputstream input java io io except ioexcept builder newbuild merg from mergefrom input build pars buildpars org apach hedwig protocol pub sub protocol pubsubprotocol stop deliveri request stopdeliveryrequest pars from parsefrom com googl protobuf code input stream codedinputstream input com googl protobuf extens registri lite extensionregistrylit extens registri extensionregistri java io io except ioexcept builder newbuild merg from mergefrom input extens registri extensionregistri build pars buildpars builder builder newbuild builder creat builder builder type newbuilderfortyp builder newbuild builder builder newbuild org apach hedwig protocol pub sub protocol pubsubprotocol stop deliveri request stopdeliveryrequest prototyp builder newbuild merg from mergefrom prototyp builder builder tobuild builder newbuild builder com googl protobuf gener messag generatedmessag builder builder org apach hedwig protocol pub sub protocol pubsubprotocol stop deliveri request stopdeliveryrequest result construct org apach hedwig protocol pub sub protocol pubsubprotocol stop deliveri request stopdeliveryrequest builder newbuild builder builder creat builder builder builder builder result org apach hedwig protocol pub sub protocol pubsubprotocol stop deliveri request stopdeliveryrequest builder org apach hedwig protocol pub sub protocol pubsubprotocol stop deliveri request stopdeliveryrequest intern get result internalgetresult result builder clear result illeg state except illegalstateexcept call clear after build result org apach hedwig protocol pub sub protocol pubsubprotocol stop deliveri request stopdeliveryrequest builder clone creat merg from mergefrom result com googl protobuf descriptor descriptor get descriptor type getdescriptorfortyp org apach hedwig protocol pub sub protocol pubsubprotocol stop deliveri request stopdeliveryrequest get descriptor getdescriptor org apach hedwig protocol pub sub protocol pubsubprotocol stop deliveri request stopdeliveryrequest get instanc type getdefaultinstancefortyp org apach hedwig protocol pub sub protocol pubsubprotocol stop deliveri request stopdeliveryrequest get instanc getdefaultinst initi isiniti result initi isiniti org apach hedwig protocol pub sub protocol pubsubprotocol stop deliveri request stopdeliveryrequest build result initi isiniti uniniti messag except newuninitializedmessageexcept result build partial buildparti org apach hedwig protocol pub sub protocol pubsubprotocol stop deliveri request stopdeliveryrequest build pars buildpars com googl protobuf invalid protocol buffer except invalidprotocolbufferexcept initi isiniti uniniti messag except newuninitializedmessageexcept result invalid protocol buffer except asinvalidprotocolbufferexcept build partial buildparti org apach hedwig protocol pub sub protocol pubsubprotocol stop deliveri request stopdeliveryrequest build partial buildparti result illeg state except illegalstateexcept build ha call builder org apach hedwig protocol pub sub protocol pubsubprotocol stop deliveri request stopdeliveryrequest returnm result result returnm builder merg from mergefrom com googl protobuf messag org apach hedwig protocol pub sub protocol pubsubprotocol stop deliveri request stopdeliveryrequest merg from mergefrom org apach hedwig protocol pub sub protocol pubsubprotocol stop deliveri request stopdeliveryrequest merg from mergefrom builder merg from mergefrom org apach hedwig protocol pub sub protocol pubsubprotocol stop deliveri request stopdeliveryrequest org apach hedwig protocol pub sub protocol pubsubprotocol stop deliveri request stopdeliveryrequest get instanc getdefaultinst ha subscrib id hassubscriberid set subscrib id setsubscriberid get subscrib id getsubscriberid merg unknown field mergeunknownfield get unknown field getunknownfield builder merg from mergefrom com googl protobuf code input stream codedinputstream input com googl protobuf extens registri lite extensionregistrylit extens registri extensionregistri java io io except ioexcept com googl protobuf unknown field set unknownfieldset builder unknown field unknownfield com googl protobuf unknown field set unknownfieldset builder newbuild get unknown field getunknownfield tag input read tag readtag tag set unknown field setunknownfield unknown field unknownfield build pars unknown field parseunknownfield input unknown field unknownfield extens registri extensionregistri tag set unknown field setunknownfield unknown field unknownfield build 18 set subscrib id setsubscriberid input read byte readbyt requir byte subscrib id subscriberid ha subscrib id hassubscriberid result ha subscrib id hassubscriberid com googl protobuf string bytestr get subscrib id getsubscriberid result get subscrib id getsubscriberid builder set subscrib id setsubscriberid com googl protobuf string bytestr valu valu pointer except nullpointerexcept result ha subscrib id hassubscriberid result subscrib id subscriberid_ valu builder clear subscrib id clearsubscriberid result ha subscrib id hassubscriberid result subscrib id subscriberid_ get instanc getdefaultinst get subscrib id getsubscriberid protoc insert point protoc_insertion_point builder scope builder_scop hedwig stop deliveri request stopdeliveryrequest instanc defaultinst stop deliveri request stopdeliveryrequest org apach hedwig protocol pub sub protocol pubsubprotocol intern forc init internalforceinit instanc defaultinst init field initfield protoc insert point protoc_insertion_point scope class_scop hedwig stop deliveri request stopdeliveryrequest 
sub callback subcallback callback string bytestr sub id subid sub callback subcallback string bytestr sub id subid sub id subid sub id subid overrid oper finish operationfinish object ctx result oper resultofoper logger debug enabl isdebugen logger debug subscrib sub id subid string utf8 tostringutf8 succe done num done numdon increment get incrementandget done num subscrib numsubscrib concurr util concurrencyutil put queue overrid oper fail operationfail object ctx pub sub except pubsubexcept except logger debug enabl isdebugen logger debug subscrib sub id subid string utf8 tostringutf8 fail except concurr util concurrencyutil put subscrib sub id subid concurr util concurrencyutil put queue 
list code code read except readexcept quorum except quorumexcept booki avail except nobookieavailableexcept digest initi except digestnotinitializedexcept digest match except digestmatchexcept booki except notenoughbookiesexcept ledger exist except nosuchledgerexistsexcept booki handl avail except bookiehandlenotavailableexcept zk except zkexcept ledger recoveri except ledgerrecoveryexcept 10 ledger close except ledgerclosedexcept 11 write except writeexcept 12 entri except nosuchentryexcept 13 incorrect paramet except incorrectparameterexcept 14 interrupt except interruptedexcept 15 protocol version except protocolversionexcept 16 illeg op except illegalopexcept 100 ledger fenc except ledgerfencedexcept 101 unauthor access except unauthorizedaccessexcept 102 
encapsul request read singl messag messag topic seq id seqid scan call back link scan callback scancallback provid messag scan link scan callback scancallback messag scan messagescan object messag method call record scan link scan callback scancallback oper finish operationfinish object method call redund link scan callback scancallback scan fail scanfail object org apach hedwig except pub sub except pubsubexcept method call error scan request scanrequest string bytestr topic start seq id startseqid scan callback scancallback callback object ctx scan request scanrequest string bytestr topic start seq id startseqid scan callback scancallback callback object ctx topic topic start seq id startseqid start seq id startseqid callback callback ctx ctx string bytestr get topic gettop topic get start seq id getstartseqid start seq id startseqid scan callback scancallback get callback getcallback callback object get ctx getctx ctx 
pair pair pair pair first second 
consum request consumerequest com googl protobuf gener messag generatedmessag us consum request consumerequest builder newbuild construct consum request consumerequest init field initfield consum request consumerequest init noinit consum request consumerequest instanc defaultinst consum request consumerequest get instanc getdefaultinst instanc defaultinst consum request consumerequest get instanc type getdefaultinstancefortyp instanc defaultinst com googl protobuf descriptor descriptor get descriptor getdescriptor org apach hedwig protocol pub sub protocol pubsubprotocol intern hedwig consum request descriptor internal_static_hedwig_consumerequest_descriptor com googl protobuf gener messag generatedmessag field accessor tabl fieldaccessort intern get field accessor tabl internalgetfieldaccessort org apach hedwig protocol pub sub protocol pubsubprotocol intern hedwig consum request field accessor tabl internal_static_hedwig_consumerequest_fieldaccessort requir byte subscrib id subscriberid subscriberid field number subscriberid_field_numb ha subscrib id hassubscriberid com googl protobuf string bytestr subscrib id subscriberid_ com googl protobuf string bytestr empti ha subscrib id hassubscriberid ha subscrib id hassubscriberid com googl protobuf string bytestr get subscrib id getsubscriberid subscrib id subscriberid_ requir hedwig messag seq id messageseqid msg id msgid msgid field number msgid_field_numb ha msg id hasmsgid org apach hedwig protocol pub sub protocol pubsubprotocol messag seq id messageseqid msg id msgid_ ha msg id hasmsgid ha msg id hasmsgid org apach hedwig protocol pub sub protocol pubsubprotocol messag seq id messageseqid get msg id getmsgid msg id msgid_ init field initfield msg id msgid_ org apach hedwig protocol pub sub protocol pubsubprotocol messag seq id messageseqid get instanc getdefaultinst initi isiniti ha subscrib id hassubscriberid ha msg id hasmsgid get msg id getmsgid initi isiniti write writeto com googl protobuf code output stream codedoutputstream output java io io except ioexcept get serial size getserializeds ha subscrib id hassubscriberid output write byte writebyt get subscrib id getsubscriberid ha msg id hasmsgid output write messag writemessag get msg id getmsgid get unknown field getunknownfield write writeto output memoiz serial size memoizedserializeds get serial size getserializeds size memoiz serial size memoizedserializeds size size size ha subscrib id hassubscriberid size com googl protobuf code output stream codedoutputstream comput byte size computebytess get subscrib id getsubscriberid ha msg id hasmsgid size com googl protobuf code output stream codedoutputstream comput messag size computemessages get msg id getmsgid size get unknown field getunknownfield get serial size getserializeds memoiz serial size memoizedserializeds size size org apach hedwig protocol pub sub protocol pubsubprotocol consum request consumerequest pars from parsefrom com googl protobuf string bytestr data com googl protobuf invalid protocol buffer except invalidprotocolbufferexcept builder newbuild merg from mergefrom data build pars buildpars org apach hedwig protocol pub sub protocol pubsubprotocol consum request consumerequest pars from parsefrom com googl protobuf string bytestr data com googl protobuf extens registri lite extensionregistrylit extens registri extensionregistri com googl protobuf invalid protocol buffer except invalidprotocolbufferexcept builder newbuild merg from mergefrom data extens registri extensionregistri build pars buildpars org apach hedwig protocol pub sub protocol pubsubprotocol consum request consumerequest pars from parsefrom data com googl protobuf invalid protocol buffer except invalidprotocolbufferexcept builder newbuild merg from mergefrom data build pars buildpars org apach hedwig protocol pub sub protocol pubsubprotocol consum request consumerequest pars from parsefrom data com googl protobuf extens registri lite extensionregistrylit extens registri extensionregistri com googl protobuf invalid protocol buffer except invalidprotocolbufferexcept builder newbuild merg from mergefrom data extens registri extensionregistri build pars buildpars org apach hedwig protocol pub sub protocol pubsubprotocol consum request consumerequest pars from parsefrom java io input stream inputstream input java io io except ioexcept builder newbuild merg from mergefrom input build pars buildpars org apach hedwig protocol pub sub protocol pubsubprotocol consum request consumerequest pars from parsefrom java io input stream inputstream input com googl protobuf extens registri lite extensionregistrylit extens registri extensionregistri java io io except ioexcept builder newbuild merg from mergefrom input extens registri extensionregistri build pars buildpars org apach hedwig protocol pub sub protocol pubsubprotocol consum request consumerequest pars delimit from parsedelimitedfrom java io input stream inputstream input java io io except ioexcept builder builder builder newbuild builder merg delimit from mergedelimitedfrom input builder build pars buildpars org apach hedwig protocol pub sub protocol pubsubprotocol consum request consumerequest pars delimit from parsedelimitedfrom java io input stream inputstream input com googl protobuf extens registri lite extensionregistrylit extens registri extensionregistri java io io except ioexcept builder builder builder newbuild builder merg delimit from mergedelimitedfrom input extens registri extensionregistri builder build pars buildpars org apach hedwig protocol pub sub protocol pubsubprotocol consum request consumerequest pars from parsefrom com googl protobuf code input stream codedinputstream input java io io except ioexcept builder newbuild merg from mergefrom input build pars buildpars org apach hedwig protocol pub sub protocol pubsubprotocol consum request consumerequest pars from parsefrom com googl protobuf code input stream codedinputstream input com googl protobuf extens registri lite extensionregistrylit extens registri extensionregistri java io io except ioexcept builder newbuild merg from mergefrom input extens registri extensionregistri build pars buildpars builder builder newbuild builder creat builder builder type newbuilderfortyp builder newbuild builder builder newbuild org apach hedwig protocol pub sub protocol pubsubprotocol consum request consumerequest prototyp builder newbuild merg from mergefrom prototyp builder builder tobuild builder newbuild builder com googl protobuf gener messag generatedmessag builder builder org apach hedwig protocol pub sub protocol pubsubprotocol consum request consumerequest result construct org apach hedwig protocol pub sub protocol pubsubprotocol consum request consumerequest builder newbuild builder builder creat builder builder builder builder result org apach hedwig protocol pub sub protocol pubsubprotocol consum request consumerequest builder org apach hedwig protocol pub sub protocol pubsubprotocol consum request consumerequest intern get result internalgetresult result builder clear result illeg state except illegalstateexcept call clear after build result org apach hedwig protocol pub sub protocol pubsubprotocol consum request consumerequest builder clone creat merg from mergefrom result com googl protobuf descriptor descriptor get descriptor type getdescriptorfortyp org apach hedwig protocol pub sub protocol pubsubprotocol consum request consumerequest get descriptor getdescriptor org apach hedwig protocol pub sub protocol pubsubprotocol consum request consumerequest get instanc type getdefaultinstancefortyp org apach hedwig protocol pub sub protocol pubsubprotocol consum request consumerequest get instanc getdefaultinst initi isiniti result initi isiniti org apach hedwig protocol pub sub protocol pubsubprotocol consum request consumerequest build result initi isiniti uniniti messag except newuninitializedmessageexcept result build partial buildparti org apach hedwig protocol pub sub protocol pubsubprotocol consum request consumerequest build pars buildpars com googl protobuf invalid protocol buffer except invalidprotocolbufferexcept initi isiniti uniniti messag except newuninitializedmessageexcept result invalid protocol buffer except asinvalidprotocolbufferexcept build partial buildparti org apach hedwig protocol pub sub protocol pubsubprotocol consum request consumerequest build partial buildparti result illeg state except illegalstateexcept build ha call builder org apach hedwig protocol pub sub protocol pubsubprotocol consum request consumerequest returnm result result returnm builder merg from mergefrom com googl protobuf messag org apach hedwig protocol pub sub protocol pubsubprotocol consum request consumerequest merg from mergefrom org apach hedwig protocol pub sub protocol pubsubprotocol consum request consumerequest merg from mergefrom builder merg from mergefrom org apach hedwig protocol pub sub protocol pubsubprotocol consum request consumerequest org apach hedwig protocol pub sub protocol pubsubprotocol consum request consumerequest get instanc getdefaultinst ha subscrib id hassubscriberid set subscrib id setsubscriberid get subscrib id getsubscriberid ha msg id hasmsgid merg msg id mergemsgid get msg id getmsgid merg unknown field mergeunknownfield get unknown field getunknownfield builder merg from mergefrom com googl protobuf code input stream codedinputstream input com googl protobuf extens registri lite extensionregistrylit extens registri extensionregistri java io io except ioexcept com googl protobuf unknown field set unknownfieldset builder unknown field unknownfield com googl protobuf unknown field set unknownfieldset builder newbuild get unknown field getunknownfield tag input read tag readtag tag set unknown field setunknownfield unknown field unknownfield build pars unknown field parseunknownfield input unknown field unknownfield extens registri extensionregistri tag set unknown field setunknownfield unknown field unknownfield build 18 set subscrib id setsubscriberid input read byte readbyt 26 org apach hedwig protocol pub sub protocol pubsubprotocol messag seq id messageseqid builder sub builder subbuild org apach hedwig protocol pub sub protocol pubsubprotocol messag seq id messageseqid builder newbuild ha msg id hasmsgid sub builder subbuild merg from mergefrom get msg id getmsgid input read messag readmessag sub builder subbuild extens registri extensionregistri set msg id setmsgid sub builder subbuild build partial buildparti requir byte subscrib id subscriberid ha subscrib id hassubscriberid result ha subscrib id hassubscriberid com googl protobuf string bytestr get subscrib id getsubscriberid result get subscrib id getsubscriberid builder set subscrib id setsubscriberid com googl protobuf string bytestr valu valu pointer except nullpointerexcept result ha subscrib id hassubscriberid result subscrib id subscriberid_ valu builder clear subscrib id clearsubscriberid result ha subscrib id hassubscriberid result subscrib id subscriberid_ get instanc getdefaultinst get subscrib id getsubscriberid requir hedwig messag seq id messageseqid msg id msgid ha msg id hasmsgid result ha msg id hasmsgid org apach hedwig protocol pub sub protocol pubsubprotocol messag seq id messageseqid get msg id getmsgid result get msg id getmsgid builder set msg id setmsgid org apach hedwig protocol pub sub protocol pubsubprotocol messag seq id messageseqid valu valu pointer except nullpointerexcept result ha msg id hasmsgid result msg id msgid_ valu builder set msg id setmsgid org apach hedwig protocol pub sub protocol pubsubprotocol messag seq id messageseqid builder builder valu builderforvalu result ha msg id hasmsgid result msg id msgid_ builder valu builderforvalu build builder merg msg id mergemsgid org apach hedwig protocol pub sub protocol pubsubprotocol messag seq id messageseqid valu result ha msg id hasmsgid result msg id msgid_ org apach hedwig protocol pub sub protocol pubsubprotocol messag seq id messageseqid get instanc getdefaultinst result msg id msgid_ org apach hedwig protocol pub sub protocol pubsubprotocol messag seq id messageseqid builder newbuild result msg id msgid_ merg from mergefrom valu build partial buildparti result msg id msgid_ valu result ha msg id hasmsgid builder clear msg id clearmsgid result ha msg id hasmsgid result msg id msgid_ org apach hedwig protocol pub sub protocol pubsubprotocol messag seq id messageseqid get instanc getdefaultinst protoc insert point protoc_insertion_point builder scope builder_scop hedwig consum request consumerequest instanc defaultinst consum request consumerequest org apach hedwig protocol pub sub protocol pubsubprotocol intern forc init internalforceinit instanc defaultinst init field initfield protoc insert point protoc_insertion_point scope class_scop hedwig consum request consumerequest 
test zk util testzkutil zoo keeper test base zookeepertestbas test test creat full path optimist testcreatefullpathoptimist except test path testpath creat mode createmod ephemer test path testpath creat mode createmod persist test path testpath creat mode createmod persist test path testpath string path creat mode createmod mode except data 77 zk util zkutil creat full path optimist createfullpathoptimist zk path data id open acl unsaf open_acl_unsaf mode str cb strcb asserttru queue asserttru arrai equal data zk get data getdata path 
licens apach softwar foundat asf on more contributor licens agreement notic file distribut work addit inform copyright ownership asf licens file apach licens version licens us file complianc licens obtain copi licens http www apach org licens licens requir applic law agre write softwar distribut licens distribut basi warranti condit kind express impli licens specif languag govern permiss limit licens determin entri distribut booki entri get replic number replica first replica entri replica index replicaindex distribut write load entri booki entri id replica index link distribut schedul distributionschedul determin booki replica distribut schedul distributionschedul param entri id entryid param replica index replicaindex index booki get replica get booki index getbookieindex entri id entryid replica index replicaindex param entri id entryid param booki index bookieindex booki index replica entri id entryid get replica index getreplicaindex entri id entryid booki index bookieindex keep track booki ensembl action ha perform quorum coverag set quorumcoverageset add booki set check quorum set action perform param booki index heard from bookieindexheardfrom booki ve heard from quorum cover add booki check cover addbookieandcheckcov booki index heard from bookieindexheardfrom quorum coverag set quorumcoverageset get coverag set getcoverageset 
read callback readcallback callback declar param rc code param lh ledger handl param seq sequenc entri param ctx context object read complet readcomplet rc ledger handl ledgerhandl lh enumer ledger entri ledgerentri seq object ctx 
implementor basic respons ensur most singl host respons topic time desir host failur host cluster claim respons topic fail host claim respons topic host call link topic ownership chang listen topicownershipchangelisten topic manag topicmanag get name host respons topic param topic topic owner get param cb callback name host respons topic servic down except servicedownexcept error up inform get owner getown string bytestr topic claim shouldclaim callback hedwig socket address hedwigsocketaddress cb object ctx topic manag find set topic own node ha chang notifi set link topic ownership chang listen topicownershipchangelisten object compon link persist manag persistencemanag listen chang implement link topic ownership chang listen topicownershipchangelisten regist link topic manag topicmanag method import link topic ownership chang listen topicownershipchangelisten react immedi notif block multipl listen inform inform thread param listen add topic ownership chang listen addtopicownershipchangelisten topic ownership chang listen topicownershipchangelisten listen up ownership topic don servic down except servicedownexcept error claim respons topic releas topic releasetop string bytestr topic callback cb object ctx stop topic manag stop 
handl factori impl handlefactoryimpl handl factori handlefactori hash map hashmap ledger descriptor ledgerdescriptor ledger hash map hashmap ledger descriptor ledgerdescriptor hash map hashmap ledger descriptor ledgerdescriptor read ledger readonlyledg hash map hashmap ledger descriptor ledgerdescriptor ledger storag ledgerstorag ledger storag ledgerstorag handl factori impl handlefactoryimpl ledger storag ledgerstorag ledger storag ledgerstorag ledger storag ledgerstorag ledger storag ledgerstorag overrid ledger descriptor ledgerdescriptor get handl gethandl ledger id ledgerid master kei masterkei io except ioexcept booki except bookieexcept ledger descriptor ledgerdescriptor handl ledger handl ledger get ledger id ledgerid handl handl ledger descriptor ledgerdescriptor creat master kei masterkei ledger id ledgerid ledger storag ledgerstorag ledger put ledger id ledgerid handl handl check access checkaccess master kei masterkei handl overrid ledger descriptor ledgerdescriptor get read handl getreadonlyhandl ledger id ledgerid io except ioexcept booki ledger except noledgerexcept ledger descriptor ledgerdescriptor handl ledger handl read ledger readonlyledg get ledger id ledgerid handl handl ledger descriptor ledgerdescriptor creat read createreadonli ledger id ledgerid ledger storag ledgerstorag read ledger readonlyledg put ledger id ledgerid handl handl 
implement hard link command getter hardlinkcommandgett unix hard link cg unix hardlinkcgunix hard link command getter hardlinkcommandgett string hard link command hardlinkcommand ln string hard link mult prefix hardlinkmultprefix ln string hard link mult suffix hardlinkmultsuffix string get link count command getlinkcountcommand stat unix guarante least 32k byte cmd length subtract 64b allow java exec overhead max allow cmd arg length maxallowedcmdarglength 32 1024 65 set link count cmd setlinkcountcmdtempl string updat specif unix variant after initi phase get link count command getlinkcountcommand org apach hadoop fs hard link hardlink hard link command getter hardlinkcommandgett link on linkon java io file java io file overrid string link on linkon file file file link name linknam io except ioexcept string buf string hard link command hardlinkcommand length arraycopi hard link command hardlinkcommand buf hard link command hardlinkcommand length unix argument order ln exist buf make shell path makeshellpath file buf make shell path makeshellpath link name linknam buf org apach hadoop fs hard link hardlink hard link command getter hardlinkcommandgett link mult linkmult java lang string java io file overrid string link mult linkmult string file base name filebasenam file link dir linkdir io except ioexcept string buf string file base name filebasenam length hard link mult prefix hardlinkmultprefix length hard link mult suffix hardlinkmultsuffix length mark arraycopi hard link mult prefix hardlinkmultprefix buf mark hard link mult prefix hardlinkmultprefix length mark hard link mult prefix hardlinkmultprefix length arraycopi file base name filebasenam buf mark file base name filebasenam length mark file base name filebasenam length buf mark make shell path makeshellpath link dir linkdir buf org apach hadoop fs hard link hardlink hard link command getter hardlinkcommandgett link count linkcount java io file overrid string link count linkcount file file io except ioexcept string buf string get link count command getlinkcountcommand length arraycopi get link count command getlinkcountcommand buf get link count command getlinkcountcommand length buf get link count command getlinkcountcommand length make shell path makeshellpath file buf org apach hadoop fs hard link hardlink hard link command getter hardlinkcommandgett get link mult arg length getlinkmultarglength java io file java lang string java io file overrid get link mult arg length getlinkmultarglength file file dir filedir string file base name filebasenam file link dir linkdir io except ioexcept sum string file base name filebasenam add account termin delimit space sum length sum make shell path makeshellpath file dir filedir length make shell path makeshellpath link dir linkdir length add fix overhead hard link mult hardlinkmult prefix suffix sum length ln sum org apach hadoop fs hard link hardlink hard link command getter hardlinkcommandgett get max allow cmd arg length getmaxallowedcmdarglength overrid get max allow cmd arg length getmaxallowedcmdarglength max allow cmd arg length maxallowedcmdarglength 
scan verifi scanverifi runnabl list messag pub msg pubmsg string bytestr topic link block queue linkedblockingqueu statu queue statusqueu link block queue linkedblockingqueu scan verifi scanverifi string bytestr topic list messag pub msg pubmsg topic topic pub msg pubmsg pub msg pubmsg run start scan persist manag persistencemanag persist manag rang scan persistencemanagerwithrangescan scan callback scancallback listen rang scan verifi listen rangescanverifierlisten pub msg pubmsg persist manag rang scan persistencemanagerwithrangescan rang persist manag rangepersistencemanag persist manag rang scan persistencemanagerwithrangescan persist manag persistencemanag rang persist manag rangepersistencemanag scan messag scanmessag rang scan request rangescanrequest topic get lowest seq id getlowestseqid num messag test num_messages_to_test max valu max_valu listen statu queue statusqueu scan callback scancallback listen point scan verifi listen pointscanverifierlisten pub msg pubmsg topic persist manag persistencemanag scan singl messag scansinglemessag scan request scanrequest topic get lowest seq id getlowestseqid listen statu queue statusqueu listen finish wait maximum minut statu queue statusqueu poll 60 time unit timeunit second failur except failureexcept runtim except runtimeexcept scan time interrupt except interruptedexcept failur except failureexcept runtim except runtimeexcept 
zk connect callback zkconnectcallback connect connect fail connectionfail code 
test booki recoveri admin function booki recoveri test bookierecoverytest base test basetestcas logger log logger factori loggerfactori get logger getlogg booki recoveri test bookierecoverytest object us synchron async method call sync object syncobject valu sync object syncobject valu object us implement booki recov callback recovercallback unit junit test verifi oper complet successfulli booki recov callback bookierecovercallback recov callback recovercallback success overrid recov complet recovercomplet rc object ctx log info recov booki oper complet rc rc success rc code valu intvalu sync object syncobject sync sync object syncobject ctx sync sync valu sync notifi object us unit junit test digest type digesttyp digest type digesttyp sync object syncobject sync booki recov callback bookierecovercallback booki recov cb bookierecovercb book keeper admin bookkeeperadmin bk admin bkadmin constructor booki recoveri test bookierecoverytest digest type digesttyp digest type digesttyp digest type digesttyp digest type digesttyp befor overrid set up setup except set up configur properti need base client conf baseclientconf set booki recoveri digest type setbookierecoverydigesttyp digest type digesttyp base client conf baseclientconf set booki recoveri passwd setbookierecoverypasswd get byte getbyt set up setup sync sync object syncobject booki recov cb bookierecovercb booki recov callback bookierecovercallback client configur clientconfigur admin conf adminconf client configur clientconfigur base client conf baseclientconf admin conf adminconf set zk server setzkserv zk util zkutil get zoo keeper connect string getzookeeperconnectstr bk admin bkadmin book keeper admin bookkeeperadmin admin conf adminconf after overrid tear down teardown except releas resourc us book keeper tool bookkeepertool instanc bk admin bkadmin close tear down teardown helper method creat number ledger param num ledger numledg number ledger creat list ledger handl ledgerhandl ledger creat list ledger handl ledgerhandl creat ledger createledg num ledger numledg bk except bkexcept keeper except keeperexcept io except ioexcept interrupt except interruptedexcept creat ledger createledg num ledger numledg helper method creat number ledger param num ledger numledg number ledger creat param ensembl ensembl size ledger param quorum quorum size ledger list ledger handl ledgerhandl ledger creat list ledger handl ledgerhandl creat ledger createledg num ledger numledg ensembl quorum bk except bkexcept keeper except keeperexcept io except ioexcept interrupt except interruptedexcept list ledger handl ledgerhandl lh arrai list arraylist ledger handl ledgerhandl num ledger numledg lh add bkc creat ledger createledg ensembl quorum digest type digesttyp base client conf baseclientconf get booki recoveri passwd getbookierecoverypasswd lh list ledger handl ledgerhandl open ledger openledg list ledger handl ledgerhandl old lh oldlh except list ledger handl ledgerhandl lh newlh arrai list arraylist ledger handl ledgerhandl ledger handl ledgerhandl old lh oldlh old lh oldlh lh newlh add bkc open ledger openledg old lh oldlh get id getid digest type digesttyp base client conf baseclientconf get booki recoveri passwd getbookierecoverypasswd lh newlh helper method write dummi ledger entri ledger pass param num entri numentri number ledger entri write ledger param start entri id startentryid first entri id expect write ledger param lh list ledger handl ledgerhandl ledger write entri bk except bkexcept interrupt except interruptedexcept write entriesto ledger writeentriestoledg num entri numentri start entri id startentryid list ledger handl ledgerhandl lh bk except bkexcept interrupt except interruptedexcept ledger handl ledgerhandl lh lh num entri numentri lh add entri addentri ledger id ledgerid lh get id getid entri id entryid start entri id startentryid get byte getbyt close ledger closeledg list ledger handl ledgerhandl lh bk except bkexcept interrupt except interruptedexcept ledger handl ledgerhandl lh lh lh close helper method verifi read recov ledger entri param old lh oldlh old ledger handl param start entri id startentryid start entri id read param end entri id endentryid end entri id read bk except bkexcept interrupt except interruptedexcept verifi recov ledger verifyrecoveredledg list ledger handl ledgerhandl old lh oldlh start entri id startentryid end entri id endentryid bk except bkexcept interrupt except interruptedexcept get set ledger handl ledgerhandl ledger verifi list ledger handl ledgerhandl lh arrai list arraylist ledger handl ledgerhandl old lh oldlh size lh add bkc open ledger openledg old lh oldlh get get id getid digest type digesttyp base client conf baseclientconf get booki recoveri passwd getbookierecoverypasswd read ledger entri verifi present correct booki ledger handl ledgerhandl lh lh enumer ledger entri ledgerentri entri lh read entri readentri start entri id startentryid end entri id endentryid entri ha more element hasmoreel ledger entri ledgerentri entri entri next element nextel asserttru string entri get entri getentri equal ledger id ledgerid entri get ledger id getledgerid entri id entryid entri get entri id getentryid test asynchron booki recoveri function write entri booki kill on booki start up on replac recov ledger entri from kill booki on ll verifi entri store kill booki properli copi restor on except test test async booki recoveri specif booki testasyncbookierecoverytospecificbooki except creat ledger num ledger numledg list ledger handl ledgerhandl lh creat ledger createledg num ledger numledg write entri ledger dummi valu num msg nummsg 10 write entriesto ledger writeentriestoledg num msg nummsg lh shutdown first booki server log info finish write ledger entri shutdown on booki bs get shutdown bs remov startup booki server booki port newbookieport start booki startnewbooki write more entri ledger ensembl creat write entriesto ledger writeentriestoledg num msg nummsg 10 lh call async recov booki method inet socket address inetsocketaddress booki src bookiesrc inet socket address inetsocketaddress inet address inetaddress get local host getlocalhost get host address gethostaddress initi port initialport inet socket address inetsocketaddress booki dest bookiedest inet socket address inetsocketaddress inet address inetaddress get local host getlocalhost get host address gethostaddress booki port newbookieport log info recov data kill booki booki src bookiesrc replic on booki dest bookiedest initi sync object sync valu bk admin bkadmin async recov booki data asyncrecoverbookiedata booki src bookiesrc booki dest bookiedest booki recov cb bookierecovercb sync wait async method complet sync sync valu sync wait asserttru booki recov cb bookierecovercb success verifi recov ledger entri verifi recov ledger verifyrecoveredledg lh num msg nummsg test asynchron booki recoveri function write entri booki kill on booki start up booki recov ledger entri from kill booki random avail booki server ll verifi entri store kill booki properli copi restor booki except test test async booki recoveri random booki testasyncbookierecoverytorandombooki except creat ledger num ledger numledg list ledger handl ledgerhandl lh creat ledger createledg num ledger numledg write entri ledger dummi valu num msg nummsg 10 write entriesto ledger writeentriestoledg num msg nummsg lh shutdown first booki server log info finish write ledger entri shutdown on booki bs get shutdown bs remov startup three booki server start booki startnewbooki write more entri ledger ensembl creat write entriesto ledger writeentriestoledg num msg nummsg 10 lh call async recov booki method inet socket address inetsocketaddress booki src bookiesrc inet socket address inetsocketaddress inet address inetaddress get local host getlocalhost get host address gethostaddress initi port initialport inet socket address inetsocketaddress booki dest bookiedest log info recov data kill booki booki src bookiesrc replic random avail on initi sync object sync valu bk admin bkadmin async recov booki data asyncrecoverbookiedata booki src bookiesrc booki dest bookiedest booki recov cb bookierecovercb sync wait async method complet sync sync valu sync wait asserttru booki recov cb bookierecovercb success verifi recov ledger entri verifi recov ledger verifyrecoveredledg lh num msg nummsg test synchron booki recoveri function write entri booki kill on booki start up on replac recov ledger entri from kill booki on ll verifi entri store kill booki properli copi restor on except test test sync booki recoveri specif booki testsyncbookierecoverytospecificbooki except creat ledger num ledger numledg list ledger handl ledgerhandl lh creat ledger createledg num ledger numledg write entri ledger dummi valu num msg nummsg 10 write entriesto ledger writeentriestoledg num msg nummsg lh shutdown first booki server log info finish write ledger entri shutdown on booki bs get shutdown bs remov startup booki server booki port newbookieport start booki startnewbooki write more entri ledger ensembl creat write entriesto ledger writeentriestoledg num msg nummsg 10 lh call sync recov booki method inet socket address inetsocketaddress booki src bookiesrc inet socket address inetsocketaddress inet address inetaddress get local host getlocalhost get host address gethostaddress initi port initialport inet socket address inetsocketaddress booki dest bookiedest inet socket address inetsocketaddress inet address inetaddress get local host getlocalhost get host address gethostaddress booki port newbookieport log info recov data kill booki booki src bookiesrc replic on booki dest bookiedest bk admin bkadmin recov booki data recoverbookiedata booki src bookiesrc booki dest bookiedest verifi recov ledger entri verifi recov ledger verifyrecoveredledg lh num msg nummsg test synchron booki recoveri function write entri booki kill on booki start up booki recov ledger entri from kill booki random avail booki server ll verifi entri store kill booki properli copi restor booki except test test sync booki recoveri random booki testsyncbookierecoverytorandombooki except creat ledger num ledger numledg list ledger handl ledgerhandl lh creat ledger createledg num ledger numledg write entri ledger dummi valu num msg nummsg 10 write entriesto ledger writeentriestoledg num msg nummsg lh shutdown first booki server log info finish write ledger entri shutdown on booki bs get shutdown bs remov startup three booki server start booki startnewbooki write more entri ledger ensembl creat write entriesto ledger writeentriestoledg num msg nummsg 10 lh call sync recov booki method inet socket address inetsocketaddress booki src bookiesrc inet socket address inetsocketaddress inet address inetaddress get local host getlocalhost get host address gethostaddress initi port initialport inet socket address inetsocketaddress booki dest bookiedest log info recov data kill booki booki src bookiesrc replic random avail on bk admin bkadmin recov booki data recoverbookiedata booki src bookiesrc booki dest bookiedest verifi recov ledger entri verifi recov ledger verifyrecoveredledg lh num msg nummsg replic verif callback replicationverificationcallback read entri callback readentrycallback count down latch countdownlatch latch atom atomiclong num success numsuccess replic verif callback replicationverificationcallback num request numrequest latch count down latch countdownlatch num request numrequest num success numsuccess atom atomiclong read entri complet readentrycomplet rc ledger id ledgerid entri id entryid channel buffer channelbuff buffer object ctx log debug enabl isdebugen inet socket address inetsocketaddress addr inet socket address inetsocketaddress ctx log debug rc ledger ledger id ledgerid entri entri id entryid from ctx rc bk except bkexcept code num success numsuccess increment get incrementandget latch count down countdown await interrupt except interruptedexcept latch await 60 time unit timeunit second log warn didn get respons verif num success numsuccess get verifi fulli replic verifyfullyrepl ledger handl ledgerhandl lh entri untilentri except string znodepath bkc get ledger manag getledgermanag get ledger path getledgerpath lh get id getid stat stat bkc get zk handl getzkhandl exist znodepath assertnotnul stat mdbyte bkc get zk handl getzkhandl get data getdata znodepath stat ledger metadata ledgermetadata md ledger metadata ledgermetadata pars config parseconfig mdbyte stat get version getvers map arrai list arraylist inet socket address inetsocketaddress ensembl md get ensembl getensembl hash map hashmap rang hash map hashmap arrai list arraylist kei list keylist collect list collect enumer ensembl kei set keyset collect sort kei list keylist kei list keylist size rang put kei list keylist get kei list keylist get rang put kei list keylist get kei list keylist size entri untilentri map entri arrai list arraylist inet socket address inetsocketaddress ensembl entri set entryset quorum md quorum size quorums start entri id startentryid get kei getkei end entri id endentryid rang get start entri id startentryid expect success expectedsuccess quorum end entri id endentryid start entri id startentryid num request numrequest get valu getvalu size end entri id endentryid start entri id startentryid replic verif callback replicationverificationcallback cb replic verif callback replicationverificationcallback num request numrequest start entri id startentryid end entri id endentryid inet socket address inetsocketaddress addr get valu getvalu bkc booki client bookiecli read entri readentri addr lh get id getid cb addr num success numsuccess cb await num success numsuccess expect success expectedsuccess log warn fragment fulli replic ledger id ledgerid lh get id getid start entri id startentryid start entri id startentryid end entri id endentryid end entri id endentryid expect success expectedsuccess expect success expectedsuccess success gotsuccess num success numsuccess find dupe ensembl finddupesinensembl list ledger handl ledgerhandl lh except num dupe numdup ledger handl ledgerhandl lh lh string znodepath bkc get ledger manag getledgermanag get ledger path getledgerpath lh get id getid stat stat bkc get zk handl getzkhandl exist znodepath assertnotnul stat mdbyte bkc get zk handl getzkhandl get data getdata znodepath stat ledger metadata ledgermetadata md ledger metadata ledgermetadata pars config parseconfig mdbyte stat get version getvers map entri arrai list arraylist inet socket address inetsocketaddress md get ensembl getensembl entri set entryset hash set hashset inet socket address inetsocketaddress set hash set hashset inet socket address inetsocketaddress fragment get kei getkei inet socket address inetsocketaddress addr get valu getvalu set contain addr log error dupe addr found ensembl fragment fragment ledger lh get id getid num dupe numdup set add addr num dupe numdup test recoveri close ledger fail booki server last ensembl test test booki recoveri close ledger testbookierecoveryonclosedledg except creat ledger num ledger numledg list ledger handl ledgerhandl lh creat ledger createledg num ledger numledg num booki numbooki write entri ledger dummi valu num msg nummsg 10 write entriesto ledger writeentriestoledg num msg nummsg lh close ledger closeledg lh shutdown last booki server last ensembl arrai list arraylist inet socket address inetsocketaddress last ensembl lastensembl lh get get ledger metadata getledgermetadata get ensembl getensembl entri set entryset iter next get valu getvalu inet socket address inetsocketaddress booki kill bookietokil last ensembl lastensembl get last ensembl lastensembl size kill booki killbooki booki kill bookietokil start booki start booki startnewbooki inet socket address inetsocketaddress booki dest bookiedest log info recov data kill booki booki kill bookietokil replic random avail on bk admin bkadmin recov booki data recoverbookiedata booki kill bookietokil booki dest bookiedest ledger handl ledgerhandl lh lh asserttru fulli replic verifi fulli replic verifyfullyrepl lh num msg nummsg lh close test test booki recoveri open ledger testbookierecoveryonopenedledg except creat ledger num ledger numledg list ledger handl ledgerhandl lh creat ledger createledg num ledger numledg num booki numbooki write entri ledger dummi valu num msg nummsg 10 write entriesto ledger writeentriestoledg num msg nummsg lh shutdown first booki server arrai list arraylist inet socket address inetsocketaddress last ensembl lastensembl lh get get ledger metadata getledgermetadata get ensembl getensembl entri set entryset iter next get valu getvalu inet socket address inetsocketaddress booki kill bookietokil last ensembl lastensembl get last ensembl lastensembl size kill booki killbooki booki kill bookietokil start booki start booki startnewbooki inet socket address inetsocketaddress booki dest bookiedest log info recov data kill booki booki kill bookietokil replic random avail on bk admin bkadmin recov booki data recoverbookiedata booki kill bookietokil booki dest bookiedest ledger handl ledgerhandl lh lh asserttru fulli replic verifi fulli replic verifyfullyrepl lh num msg nummsg write entri write entriesto ledger writeentriestoledg num msg nummsg lh fail reach here except test test booki recoveri recoveri ledger testbookierecoveryoninrecoveryledg except num msg nummsg 10 creat ledger num ledger numledg list ledger handl ledgerhandl lh creat ledger createledg num ledger numledg write entri ledger dummi valu write entriesto ledger writeentriestoledg num msg nummsg lh shutdown first booki server arrai list arraylist inet socket address inetsocketaddress last ensembl lastensembl lh get get ledger metadata getledgermetadata get ensembl getensembl entri set entryset iter next get valu getvalu remov booki inet socket address inetsocketaddress booki kill bookietokil last ensembl lastensembl get kill booki killbooki booki kill bookietokil temp failur inet socket address inetsocketaddress booki kill2 bookietokill2 last ensembl lastensembl get server configur serverconfigur conf2 kill booki killbooki booki kill2 bookietokill2 start booki start booki startnewbooki open ledger ledger handl ledgerhandl old lh oldlh lh bkc open ledger openledg old lh oldlh get id getid digest type digesttyp base client conf baseclientconf get booki recoveri passwd getbookierecoverypasswd fail thrown except except bk admin bkadmin recov booki data recoverbookiedata booki kill bookietokil fail thrown except bk except bkexcept bk ledger recoveri except bkledgerrecoveryexcept bke correct behaviour restart fail booki bs add start booki startbooki conf2 bs conf bsconf add conf2 recov bk admin bkadmin recov booki data recoverbookiedata booki kill bookietokil ledger handl ledgerhandl lh lh asserttru fulli replic verifi fulli replic verifyfullyrepl lh num msg nummsg open ledger read metadata list ledger handl ledgerhandl lh newlh open ledger openledg lh ledger handl ledgerhandl lh newlh lh newlh first ensembl contain booki kill2 bookietokill2 contain booki kill bookietokil map entri arrai list arraylist inet socket address inetsocketaddress entri lh newlh get ledger metadata getledgermetadata get ensembl getensembl entri set entryset iter next assertfals entri get valu getvalu contain booki kill bookietokil asserttru entri get valu getvalu contain booki kill2 bookietokill2 test test async booki recoveri random booki booki testasyncbookierecoverytorandombookiesnotenoughbooki except creat ledger num ledger numledg list ledger handl ledgerhandl lh creat ledger createledg num ledger numledg num booki numbooki write entri ledger dummi valu num msg nummsg 10 write entriesto ledger writeentriestoledg num msg nummsg lh shutdown first booki server log info finish write ledger entri shutdown on booki bs get shutdown bs remov call async recov booki method inet socket address inetsocketaddress booki src bookiesrc inet socket address inetsocketaddress inet address inetaddress get local host getlocalhost get host address gethostaddress initi port initialport inet socket address inetsocketaddress booki dest bookiedest log info recov data kill booki booki src bookiesrc replic random avail on initi sync object sync valu bk admin bkadmin recov booki data recoverbookiedata booki src bookiesrc fail thrown except bk except bkexcept bk ledger recoveri except bkledgerrecoveryexcept bke correct behaviour test test sync booki recoveri random booki check dupe testsyncbookierecoverytorandombookiescheckfordup except random random 10 creat ledger num ledger numledg list ledger handl ledgerhandl lh creat ledger createledg num ledger numledg num booki numbooki write entri ledger dummi valu num msg nummsg 100 write entriesto ledger writeentriestoledg num msg nummsg lh shutdown first booki server log info finish write ledger entri shutdown on booki remov index removeindex next nextint bs size inet socket address inetsocketaddress booki src bookiesrc bs get remov index removeindex get local address getlocaladdress bs get remov index removeindex shutdown bs remov remov index removeindex startup three booki server start booki startnewbooki write more entri ledger ensembl creat write entriesto ledger writeentriestoledg num msg nummsg num msg nummsg lh call async recov booki method log info recov data kill booki booki src bookiesrc replic random avail on initi sync object sync valu bk admin bkadmin recov booki data recoverbookiedata booki src bookiesrc assertfals dupe exist ensembl find dupe ensembl finddupesinensembl lh write more entri ensur fenc hasn broken stuff write entriesto ledger writeentriestoledg num msg nummsg num msg nummsg lh ledger handl ledgerhandl lh lh asserttru fulli replic verifi fulli replic verifyfullyrepl lh num msg nummsg lh close 
licens apach softwar foundat asf on more contributor licens agreement notic file distribut work addit inform copyright ownership asf licens file apach licens version licens us file complianc licens obtain copi licens http www apach org licens licens requir applic law agre write softwar distribut licens distribut basi warranti condit kind express impli licens specif languag govern permiss limit licens packet booki protocol integ indic type request respons begin packet follow payload booki protocol bookieprotocol lowest protocol version work booki lowest compat protocol version lowest_compat_protocol_vers current version protocol client us current protocol version current_protocol_vers entri entri id us valid entri id assign invalid entri id invalid_entry_id entri identifi repres request obtain last add entri confirm last add confirm last_add_confirm length master kei add packet fix 20 histor reason gener mac digest manag macdigestmanag mac us digest master kei length master_key_length 20 first packet header contain version op code opcod flag initi version bk didn structur repres op code opcod first handl packet header packethead version op code opcod flag packet header packethead version op code opcod flag version version op code opcod op code opcod flag flag toint version op code opcod version ff 0xff 24 op code opcod ff 0xff 16 flag ffff 0xffff packet header packethead from fromint version 24 op code opcod flag version op code opcod op code opcod 16 ff 0xff flag ffff 0xffff packet header packethead version op code opcod flag get version getvers version get op code getopcod op code opcod get flag getflag flag add entri request payload ledger entri exactli log respons payload integ ha error code follow ledger number entri number entri written addentri read entri request payload ledger number entri number read ledger number integ entri number integ respons payload integ repres error code ledger entri error code eok ledger number entri number request note first sixteen byte entri happen ledger number entri number readentri error code success eok error code ledger exist enoledg error code request entri exist enoentri error code invalid request type ebadreq 100 gener error occur server eio 101 unauthor access ledger eua 102 server version incompat client ebadvers 103 attempt write fenc ledger efenc 104 flag flag_non x0 0x0 flag fenc flag_do_fenc x0001 0x0001 flag recoveri add flag_recovery_add x0002 0x0002 
test booki client bookiecli send entri loopback client loopbackcli write callback writecallback logger log logger factori loggerfactori get logger getlogg loopback client loopbackcli booki client bookiecli client recv timeout recvtimeout 2000 begin limit order safe executor orderedsafeexecutor executor counter limit counter limit limit limit increment limit notifi loopback client loopbackcli client socket channel factori clientsocketchannelfactori channel factori channelfactori order safe executor orderedsafeexecutor executor begin limit io except ioexcept client booki client bookiecli client configur clientconfigur channel factori channelfactori executor begin begin write ledger id ledgerid entri data inet socket address inetsocketaddress addr write callback writecallback cb object ctx io except ioexcept interrupt except interruptedexcept log info ledger id ledger id ledgerid entri entri passwd 20 arrai fill passwd client add entri addentri addr ledger id ledgerid passwd entri channel buffer channelbuff wrap buffer wrappedbuff data cb ctx booki protocol bookieprotocol flag flag_non write complet writecomplet rc ledger id ledgerid entri id entryid inet socket address inetsocketaddress addr object ctx counter counter counter ctx counter increment main string arg data integ pars parseint arg integ limit integ pars parseint arg counter counter limit ledger id ledgerid valu valueof valu longvalu begin current time milli currenttimemilli loopback client loopbackcli lb client socket channel factori clientsocketchannelfactori channel factori channelfactori nio client socket channel factori nioclientsocketchannelfactori executor cach thread pool newcachedthreadpool executor cach thread pool newcachedthreadpool order safe executor orderedsafeexecutor executor order safe executor orderedsafeexecutor inet socket address inetsocketaddress addr inet socket address inetsocketaddress 127 integ valu valueof arg valu intvalu lb loopback client loopbackcli channel factori channelfactori executor begin limit valu intvalu limit lb write ledger id ledgerid data addr lb wait println time write entri current time milli currenttimemilli begin io except ioexcept print stack trace printstacktrac interrupt except interruptedexcept print stack trace printstacktrac 
test local db persist manag black box testlocaldbpersistencemanagerblackbox test persist manag black box testpersistencemanagerblackbox overrid tear down teardown except tear down teardown local db persist manag localdbpersistencemanag persist manag persistencemanag reset overrid get lowest seq id getlowestseqid overrid persist manag persistencemanag instanti persist manag instantiatepersistencemanag local db persist manag localdbpersistencemanag instanc overrid get expect seq id getexpectedseqid num publish numpublish num publish numpublish test suit test suit testsuit test local db persist manag black box testlocaldbpersistencemanagerblackbox 
command cmd pub cmd_pub pub pub desc pub_desc pub usag pub_usag cmd sub cmd_sub sub sub desc sub_desc sub usag sub_usag cmd closesub cmd_closesub closesub closesub desc closesub_desc closesub usag closesub_usag cmd unsub cmd_unsub unsub unsub desc unsub_desc unsub usag unsub_usag cmd rmsub cmd_rmsub rmsub rmsub desc rmsub_desc rmsub usag rmsub_usag cmd consum cmd_consum consum consum desc consume_desc consum usag consume_usag cmd consumeto cmd_consumeto consumeto consumeto desc consumeto_desc consumeto usag consumeto_usag cmd pubsub cmd_pubsub pubsub pubsub desc pubsub_desc pubsub usag pubsub_usag cmd show cmd_show show show desc show_desc show usag show_usag cmd describ cmd_describ describ describ desc describe_desc describ usag describe_usag cmd readtop cmd_readtop readtop readtop desc readtopic_desc readtop usag readtopic_usag cmd set cmd_set set set desc set_desc set usag set_usag cmd histori cmd_histori histori histori desc history_desc histori usag history_usag cmd redo cmd_redo redo redo desc redo_desc redo usag redo_usag cmd help cmd_help help help desc help_desc help usag help_usag cmd quit cmd_quit quit quit desc quit_desc quit usag quit_usag cmd exit cmd_exit exit exit desc exit_desc exit usag exit_usag sub command cmd show topic cmd_show_top show topic show_top empti arrai empty_arrai cmd show hub cmd_show_hub show hub show_hub empti arrai empty_arrai cmd describ topic cmd_describe_top describ topic describe_top empti arrai empty_arrai command string name string desc string usag name name desc desc usag usag sub cmd subcmd link hash map linkedhashmap string command string get name getnam name string get descript getdescript desc map string command get sub command getsubcommand sub cmd subcmd add sub command addsubcommand command sub cmd subcmd put name print usag printusag err println name desc string line usag err println line err println string name string desc string usag map string command sub cmd subcmd 
thread watch booki nioserv aliv death watcher deathwatch thread watch interv watchinterv death watcher deathwatch server configur serverconfigur conf watch interv watchinterv conf get death watch interv getdeathwatchinterv overrid run thread sleep watch interv watchinterv interrupt except interruptedexcept booki run isbookierun nio server run isnioserverrun shutdown 
test entri log compact function compact test compactiontest book keeper cluster test bookkeeperclustertestcas logger log logger factori loggerfactori get logger getlogg compact test compactiontest digest type digesttyp digest type digesttyp entri size entry_s 1024 num booki num_booki num entri numentri gc wait time gcwaittim minor compact threshold minorcompactionthreshold major compact threshold majorcompactionthreshold minor compact interv minorcompactioninterv major compact interv majorcompactioninterv string msg compact test compactiontest num booki num_booki digest type digesttyp digest type digesttyp crc32 num entri numentri 100 gc wait time gcwaittim 1000 minor compact threshold minorcompactionthreshold 1f major compact threshold majorcompactionthreshold 5f minor compact interv minorcompactioninterv gc wait time gcwaittim 1000 major compact interv majorcompactioninterv gc wait time gcwaittim 1000 dummi messag string builder stringbuild msg sb msgsb string builder stringbuild entri size entry_s msg sb msgsb append msg msg sb msgsb string tostr befor overrid set up setup except set up configur properti need base conf baseconf set entri log size limit setentrylogsizelimit num entri numentri entri size entry_s base conf baseconf set gc wait time setgcwaittim gc wait time gcwaittim base conf baseconf set minor compact threshold setminorcompactionthreshold minor compact threshold minorcompactionthreshold base conf baseconf set major compact threshold setmajorcompactionthreshold major compact threshold majorcompactionthreshold base conf baseconf set minor compact interv setminorcompactioninterv minor compact interv minorcompactioninterv base conf baseconf set major compact interv setmajorcompactioninterv major compact interv majorcompactioninterv set up setup ledger handl ledgerhandl prepar data preparedata num entri log numentrylog chang num changenum except entri log file hold most 100 entri first ledger write entri low water mark num1 third ledger write more high water mark entri num3 num entri numentri 7f second ledger write remain entri higher low water mark high water mark num2 num entri numentri num3 num1 ledger handl ledgerhandl lh ledger handl ledgerhandl lh bkc creat ledger createledg num booki num_booki num booki num_booki digest type digesttyp get byte getbyt num entri log numentrylog num1 lh add entri addentri msg get byte getbyt num2 lh add entri addentri msg get byte getbyt num3 lh add entri addentri msg get byte getbyt chang num changenum num2 num3 lh verifi ledger verifyledg lid start entri id startentryid end entri id endentryid except ledger handl ledgerhandl lh bkc open ledger openledg lid digest type digesttyp get byte getbyt enumer ledger entri ledgerentri entri lh read entri readentri start entri id startentryid end entri id endentryid entri ha more element hasmoreel ledger entri ledgerentri entri entri next element nextel equal assertequ msg string entri get entri getentri check log file checklogfil file ledger directori ledgerdirectori num file numfil ha log file haslogfil num file numfil arrai fill ha log file haslogfil file booki get current directori getcurrentdirectori ledger directori ledgerdirectori list file listfil log info check file file isfil string name get name getnam name end endswith log string id string idstr name split id integ pars parseint id string idstr 16 id num file numfil ha log file haslogfil id ha log file haslogfil test test disabl compact testdisablecompact except prepar data ledger handl ledgerhandl lh prepar data preparedata disabl compact base conf baseconf set minor compact threshold setminorcompactionthreshold 0f base conf baseconf set major compact threshold setmajorcompactionthreshold 0f restart booki restart booki restartbooki base conf baseconf remov ledger2 ledger3 entri log ledger1 entri left bkc delet ledger deleteledg lh get id getid bkc delet ledger deleteledg lh get id getid log info finish delet ledger contain most entri thread sleep base conf baseconf get major compact interv getmajorcompactioninterv 1000 base conf baseconf get gc wait time getgcwaittim entri log log compact file ledger directori ledgerdirectori tmp dir tmpdir ha log file haslogfil check log file checklogfil ledger directori ledgerdirectori asserttru found entri log file log compact ledger directori ledgerdirectori ledger directori ledgerdirectori ha log file haslogfil ha log file haslogfil test test minor compact testminorcompact except prepar data ledger handl ledgerhandl lh prepar data preparedata ledger handl ledgerhandl lh lh lh close disabl major compact base conf baseconf set major compact threshold setmajorcompactionthreshold 0f restart booki restart booki restartbooki base conf baseconf remov ledger2 ledger3 bkc delet ledger deleteledg lh get id getid bkc delet ledger deleteledg lh get id getid log info finish delet ledger contain most entri thread sleep base conf baseconf get minor compact interv getminorcompactioninterv 1000 base conf baseconf get gc wait time getgcwaittim entri log log compact file ledger directori ledgerdirectori tmp dir tmpdir ha log haslog check log file checklogfil ledger directori ledgerdirectori assertfals found entri log file log compact ledger directori ledgerdirectori ledger directori ledgerdirectori ha log haslog ha log haslog ha log haslog even entri log file remov access entri ledger1 entri ha compact entri log verifi ledger verifyledg lh get id getid lh get last add confirm getlastaddconfirm test test major compact testmajorcompact except prepar data ledger handl ledgerhandl lh prepar data preparedata ledger handl ledgerhandl lh lh lh close disabl minor compact base conf baseconf set minor compact threshold setminorcompactionthreshold 0f restart booki restart booki restartbooki base conf baseconf remov ledger1 ledger3 bkc delet ledger deleteledg lh get id getid bkc delet ledger deleteledg lh get id getid log info finish delet ledger contain most entri thread sleep base conf baseconf get major compact interv getmajorcompactioninterv 1000 base conf baseconf get gc wait time getgcwaittim entri log log compact file ledger directori ledgerdirectori tmp dir tmpdir ha log file haslogfil check log file checklogfil ledger directori ledgerdirectori assertfals found entri log file log compact ledger directori ledgerdirectori ledger directori ledgerdirectori ha log file haslogfil ha log file haslogfil ha log file haslogfil even entri log file remov access entri ledger2 entri ha compact entri log verifi ledger verifyledg lh get id getid lh get last add confirm getlastaddconfirm test test major compact threshold testmajorcompactionabovethreshold except prepar data ledger handl ledgerhandl lh prepar data preparedata ledger handl ledgerhandl lh lh lh close remov ledger1 ledger2 bkc delet ledger deleteledg lh get id getid bkc delet ledger deleteledg lh get id getid log info finish delet ledger contain entri thread sleep base conf baseconf get major compact interv getmajorcompactioninterv 1000 base conf baseconf get gc wait time getgcwaittim entri log log compact file ledger directori ledgerdirectori tmp dir tmpdir ha log file haslogfil check log file checklogfil ledger directori ledgerdirectori asserttru found entri log file log compact ledger directori ledgerdirectori ledger directori ledgerdirectori ha log file haslogfil ha log file haslogfil ha log file haslogfil test test compact small entri log testcompactionsmallentrylog except creat ledger write entri ledger handl ledgerhandl alh bkc creat ledger createledg num booki num_booki num booki num_booki digest type digesttyp get byte getbyt alh add entri addentri msg get byte getbyt alh close restart booki roll entri log file restart booki restartbooki prepar data ledger handl ledgerhandl lh prepar data preparedata ledger handl ledgerhandl lh lh lh close remov ledger2 ledger3 bkc delet ledger deleteledg lh get id getid bkc delet ledger deleteledg lh get id getid log info finish delet ledger contain most entri thread sleep base conf baseconf get major compact interv getmajorcompactioninterv 1000 base conf baseconf get gc wait time getgcwaittim entri log log compact entri log log compact file ledger directori ledgerdirectori tmp dir tmpdir ha log haslog check log file checklogfil ledger directori ledgerdirectori asserttru found entri log file log compact ledger directori ledgerdirectori ledger directori ledgerdirectori ha log haslog assertfals found entri log file log compact ledger directori ledgerdirectori ledger directori ledgerdirectori ha log haslog ha log haslog ha log haslog even entri log file remov access entri ledger1 entri ha compact entri log verifi ledger verifyledg lh get id getid lh get last add confirm getlastaddconfirm 
read ahead cach readaheadcach persist manag persistencemanag runnabl hedwig jmx servic hedwigjmxservic logger logger logger factori loggerfactori get logger getlogg read ahead cach readaheadcach cach request cacherequest perform request performrequest underli persist manag us persist scan cach persist manag rang scan persistencemanagerwithrangescan real persist manag realpersistencemanag structur cach map cach kei cachekei cach valu cachevalu cach hash map hashmap cach kei cachekei cach valu cachevalu simplifi synchron cach maintain singl cach maintain thread queue hold request serv thread block queue blockingqueu cach request cacherequest request queue requestqueu link block queue linkedblockingqueu cach request cacherequest keep track entri ad cach remov fifo fashion sort map sortedmap set cach kei cachekei time index addit timeindexofaddit tree map treemap set cach kei cachekei track entri seq id order clean up entri after last subscrib map string bytestr sort set sortedset order index seq id orderedindexonseqid hash map hashmap string bytestr sort set sortedset maintain estim current size cach evict entri present cach size presentcaches on instanc callback pass underli persist manag ask persist messag persist callback persistcallback persist callback instanc persistcallbackinst persist callback persistcallback kind except us signal error from readahead seq id except nosuchseqidexcept seq id except instanc nosuchseqidexceptioninst seq id except nosuchseqidexcept read ahead except readaheadexcept read ahead except instanc readaheadexceptioninst read ahead except readaheadexcept server configur serverconfigur cfg thread cach thread cachethread indic thread run us stop thread pub sub server pubsubserv shutdown keep run keeprun jmx bean read ahead cach bean readaheadcachebean jmx cach bean jmxcachebean constructor start cach maintain thread param real persist manag realpersistencemanag read ahead cach readaheadcach persist manag rang scan persistencemanagerwithrangescan real persist manag realpersistencemanag server configur serverconfigur cfg real persist manag realpersistencemanag real persist manag realpersistencemanag cfg cfg cach thread cachethread thread cach thread cachethread read ahead cach readaheadcach start cach thread cachethread start method link persist manag persistencemanag pass straight down real persist manag get seq id after skip getseqidafterskip string bytestr topic seq id seqid skip amount skipamount real persist manag realpersistencemanag get seq id after skip getseqidafterskip topic seq id seqid skip amount skipamount messag seq id messageseqid get current seq id topic getcurrentseqidfortop string bytestr topic server respons topic except servernotresponsiblefortopicexcept real persist manag realpersistencemanag get current seq id topic getcurrentseqidfortop topic method link persist manag persistencemanag cach action persist pass real persist manag insert callback path persist messag persistmessag persist request persistrequest request make persist request persistrequest object insert callback middl assign origin request context callback persist request persistrequest request newrequest persist request persistrequest request get topic gettop request get messag getmessag persist callback instanc persistcallbackinst request real persist manag realpersistencemanag persist messag persistmessag request newrequest callback insert persist request path callback simpli form link persist respons persistrespons object insert request queue handl serial cach maintain thread persist callback persistcallback callback failur persist pass origin callback oper fail operationfail object ctx pub sub except pubsubexcept except persist request persistrequest origin request originalrequest persist request persistrequest ctx callback origin callback originalcallback origin request originalrequest get callback getcallback object origin context originalcontext origin request originalrequest get ctx getctx origin callback originalcallback oper fail operationfail origin context originalcontext except persist finish first notifi origin callback success opportunist treat messag scan oper finish operationfinish object ctx result oper resultofoper persist request persistrequest origin request originalrequest persist request persistrequest ctx let call origin callback first publish hear success origin request originalrequest get callback getcallback oper finish operationfinish origin request originalrequest get ctx getctx result oper resultofoper origin messag persist didn local seq id let add messag messag local seq id messagewithlocalseqid messag id util messageidutil merg local seq id mergelocalseqid origin request originalrequest get messag getmessag result oper resultofoper enqueu request add newli persist messag cach cach kei cachekei cach kei cachekei cach kei cachekei origin request originalrequest get topic gettop result oper resultofoper enqueu failur enqueuewithoutfailur scan respons scanrespons cach kei cachekei messag local seq id messagewithlocalseqid complic deal enqueu failur from context callback simpler quit restart afresh happen request queue cach maintain unbound param obj enqueu failur enqueuewithoutfailur cach request cacherequest obj request queue requestqueu offer obj unexpect error unexpectederror enqueu object obj string tostr cach request queue exit method from link persist manag persistencemanag scan scan touch cach enqueu scan request let cach maintain thread handl scan singl messag scansinglemessag scan request scanrequest request let scan request serial queue enqueu failur enqueuewithoutfailur scan request wrapper scanrequestwrapp request method from link persist manag persistencemanag enqueu request cach maintain thread delet messag id older on specifi deliv delivereduntil string bytestr topic seq id seqid enqueu failur enqueuewithoutfailur deliv delivereduntil topic seq id seqid method from link persist manag persistencemanag cach layer underli persist manag call consum consumeduntil method messag older latest on pass here won access anymor get ag cach eventu proactiv remov entri from cach consum consumeduntil string bytestr topic seq id seqid real persist manag realpersistencemanag consum consumeduntil topic seq id seqid set messag bound setmessagebound string bytestr topic integ bound real persist manag realpersistencemanag set messag bound setmessagebound topic bound clear messag bound clearmessagebound string bytestr topic real persist manag realpersistencemanag clear messag bound clearmessagebound topic consum bound consumetobound string bytestr topic real persist manag realpersistencemanag consum bound consumetobound topic begin code cach maintain thread run method simpli dequeu from request queue check type object act run keep run keeprun cach request cacherequest obj obj request queue requestqueu interrupt except interruptedexcept thread current thread currentthread interrupt obj perform request performrequest stop method enqueu shutdown cach request shutdowncacherequest stop enqueu failur enqueuewithoutfailur shutdown cach request shutdowncacherequest readahead polici simpl check entri exist messag request entri exist mean messag cach read messag outstand littl ahead read ahead count readaheadcount issu rang read read ahead count readaheadcount messag idea ensur next read ahead count readaheadcount messag avail rang scan issu read ahead rang scan request rangescanrequest read ahead doreadahead scan request scanrequest request string bytestr topic request get topic gettop seq id seqid request get start seq id getstartseqid read ahead count readaheadcount cfg get read ahead count getreadaheadcount prevent from get screw bad configur read ahead count readaheadcount math max read ahead count readaheadcount rang scan request rangescanrequest read ahead request readaheadrequest read ahead start from doreadaheadstartingfrom topic seq id seqid read ahead count readaheadcount read ahead request readaheadrequest read ahead request readaheadrequest start kei cach readahead happen let littl seq id seqid real persist manag realpersistencemanag get seq id after skip getseqidafterskip topic seq id seqid read ahead count readaheadcount read ahead request readaheadrequest read ahead start from doreadaheadstartingfrom topic seq id seqid read ahead count readaheadcount read ahead request readaheadrequest method check provid seq id exist cach rang read specifi amount issu param topic param seq id seqid param read ahead count readaheadcount rang read issu rang scan request rangescanrequest read ahead start from doreadaheadstartingfrom string bytestr topic seq id seqid read ahead count readaheadcount start seq id startseqid seq id seqid queue cach kei cachekei instal stub installedstub link list linkedlist cach kei cachekei read ahead count readaheadcount cach kei cachekei cach kei cachekei cach kei cachekei topic seq id seqid even stub exist mean scan outstand cach contain kei containskei cach kei cachekei cach valu cachevalu cach valu cachevalu cach valu cachevalu cach put cach kei cachekei cach valu cachevalu logger debug enabl isdebugen logger debug ad stub seq id seq id seqid topic topic string utf8 tostringutf8 instal stub installedstub add cach kei cachekei seq id seqid real persist manag realpersistencemanag get seq id after skip getseqidafterskip topic seq id seqid decid readahead readahead read ahead size limit readaheadsizelimit cfg get read ahead size byte getreadaheadsizebyt read ahead scan callback readaheadscancallback callback read ahead scan callback readaheadscancallback instal stub installedstub topic rang scan request rangescanrequest rang scan request rangescanrequest rang scan request rangescanrequest topic start seq id startseqid read ahead size limit readaheadsizelimit callback rang scan request rangescanrequest callback us rang scan read ahead scan callback readaheadscancallback scan callback scancallback queue cach kei cachekei instal stub installedstub string bytestr topic constructor param instal stub installedstub list stub instal rang scan param topic read ahead scan callback readaheadscancallback queue cach kei cachekei instal stub installedstub string bytestr topic instal stub installedstub instal stub installedstub topic topic messag scan messagescan object ctx messag messag messag read potenti let first enqueu cach kei cachekei cach kei cachekei cach kei cachekei topic messag get msg id getmsgid get local compon getlocalcompon enqueu failur enqueuewithoutfailur scan respons scanrespons cach kei cachekei messag let messag on expect cach kei cachekei expect kei expectedkei instal stub installedstub peek expect kei expectedkei expect more messag keep expect kei expectedkei equal cach kei cachekei expect dequeu get next expect on instal stub installedstub poll reach here scan expect mean wrong stub instal cach remov wait retri shouldn happen logger warn unexpect messag seq id messag get msg id getmsgid get local compon getlocalcompon topic topic string utf8 tostringutf8 from readahead scan expect seq id expect kei expectedkei seq id seqid topic expect kei expectedkei topic string utf8 tostringutf8 instal stub installedstub instal stub installedstub enqueu delet remain stub enqueuedeleteofremainingstub seq id except instanc nosuchseqidexceptioninst scan fail scanfail object ctx except except enqueu delet remain stub enqueuedeleteofremainingstub except scan finish scanfinish object ctx reason finish reasonforfinish reason scan finish more messag present leav stub place get fill publish happen scan finish reason read ahead size limit reach delet stub time schedul readahead request reason reason finish reasonforfinish more messag no_more_messag enqueu delet remain stub enqueuedeleteofremainingstub read ahead except instanc readaheadexceptioninst enqueu delet remain stub enqueuedeleteofremainingstub except reason cach kei cachekei instal stub installedstub instal stub installedstub instal stub installedstub poll enqueu failur enqueuewithoutfailur except cach kei exceptiononcachekei instal stub installedstub reason hash set cach kei factori hashsetcachekeyfactori factori set cach kei cachekei hash set cach kei factori hashsetcachekeyfactori instanc hash set cach kei factori hashsetcachekeyfactori set cach kei cachekei instanc newinst hash set hashset cach kei cachekei tree set factori treesetlongfactori factori sort set sortedset tree set factori treesetlongfactori instanc tree set factori treesetlongfactori sort set sortedset instanc newinst tree set treeset ad messag cach bookeep total size cach order entri ad size cach ha exceed budget old entri collect param cach kei cachekei param messag add messag cach addmessagetocach cach kei cachekei cach kei cachekei messag messag curr time currtim logger debug enabl isdebugen logger debug ad msg topic cach kei cachekei get topic gettop string utf8 tostringutf8 seq id messag get msg id getmsgid get local compon getlocalcompon readahead cach cach valu cachevalu cach valu cachevalu cach valu cachevalu cach get cach kei cachekei cach valu cachevalu cach valu cachevalu cach put cach kei cachekei cach valu cachevalu updat cach size present cach size presentcaches messag get bodi getbodi size maintain time index addit map method mapmethod add multi map addtomultimap time index addit timeindexofaddit curr time currtim cach kei cachekei hash set cach kei factori hashsetcachekeyfactori instanc maintain index seq id map method mapmethod add multi map addtomultimap order index seq id orderedindexonseqid cach kei cachekei get topic gettop cach kei cachekei get seq id getseqid tree set factori treesetlongfactori instanc add messag cach cach valu cachevalu set messag invok callback setmessageandinvokecallback messag curr time currtim overgrown collect old entri collect old cach entri collectoldcacheentri remov messag from cach removemessagefromcach cach kei cachekei cach kei cachekei except except maintain time index maintaintimeindex maintain seq id index maintainseqidindex cach valu cachevalu cach valu cachevalu cach remov cach kei cachekei cach valu cachevalu cach valu cachevalu stub isstub cach valu cachevalu set error invok callback seterrorandinvokecallback except stub present index dont maintain index here present cach size presentcaches cach valu cachevalu get messag getmessag get bodi getbodi size maintain index todo maintain lazili maintain seq id index maintainseqidindex map method mapmethod remov from multi map removefrommultimap order index seq id orderedindexonseqid cach kei cachekei get topic gettop cach kei cachekei get seq id getseqid maintain time index maintaintimeindex map method mapmethod remov from multi map removefrommultimap time index addit timeindexofaddit cach valu cachevalu get time addit gettimeofaddit cach kei cachekei collect old entri simpl collect insert time order oldest newest collect old cach entri collectoldcacheentri max cach size maxcaches cfg get maximum cach size getmaximumcaches present cach size presentcaches max cach size maxcaches time index addit timeindexofaddit empti isempti earliest time earliesttim time index addit timeindexofaddit first kei firstkei set cach kei cachekei old cach entri oldcacheentri time index addit timeindexofaddit get earliest time earliesttim note concret cach entri stub time index callback pend cach entri safe remov directli iter cach kei cachekei iter old cach entri oldcacheentri iter iter ha next hasnext cach kei cachekei cach kei cachekei iter next logger debug enabl isdebugen logger debug remov topic cach kei cachekei get topic gettop seq id cach kei cachekei get seq id getseqid from cach oldest remov messag from cach removemessagefromcach cach kei cachekei read ahead except instanc readaheadexceptioninst maintain time index maintaintimeindex maintain seq id index maintainseqidindex time index addit timeindexofaddit remov earliest time earliesttim rest simpl wrapper class except cach kei exceptiononcachekei cach request cacherequest cach kei cachekei cach kei cachekei except except except cach kei exceptiononcachekei cach kei cachekei cach kei cachekei except except cach kei cachekei cach kei cachekei except except reason outstand read cach stub fail except kei enqueu link read ahead scan callback readaheadscancallback handl simpli send error callback regist stub delet entri from cach perform request performrequest remov messag from cach removemessagefromcach cach kei cachekei except maintain time index maintaintimeindex maintain seq id index maintainseqidindex suppress warn suppresswarn serial seq id except nosuchseqidexcept except seq id except nosuchseqidexcept seq id suppress warn suppresswarn serial read ahead except readaheadexcept except read ahead except readaheadexcept readahead fail scan respons scanrespons cach request cacherequest cach kei cachekei cach kei cachekei messag messag scan respons scanrespons cach kei cachekei cach kei cachekei messag messag cach kei cachekei cach kei cachekei messag messag perform request performrequest add messag cach addmessagetocach cach kei cachekei messag current time milli currenttimemilli deliv delivereduntil cach request cacherequest string bytestr topic seq id seqid deliv delivereduntil string bytestr topic seq id seqid topic topic seq id seqid seq id seqid perform request performrequest sort set sortedset order seq id orderedseqid order index seq id orderedindexonseqid get topic order seq id orderedseqid focu set messag seq id on ha deliv sort set sortedset head set headset order seq id orderedseqid head set headset seq id seqid iter iter head set headset iter iter ha next hasnext seq id seqid iter next cach kei cachekei cach kei cachekei cach kei cachekei topic seq id seqid logger debug enabl isdebugen logger debug remov seq id cach kei cachekei get seq id getseqid topic cach kei cachekei get topic gettop string utf8 tostringutf8 from cach subscrib ha move past remov messag from cach removemessagefromcach cach kei cachekei read ahead except instanc readaheadexceptioninst maintain time index maintaintimeindex maintain seq id index maintainseqidindex iter remov order seq id orderedseqid empti isempti order index seq id orderedindexonseqid remov topic scan request wrapper scanrequestwrapp cach request cacherequest scan request scanrequest request scan request wrapper scanrequestwrapp scan request scanrequest request request request handl scan request first readahead caus rang read issu underli persist manag readahead put stub cach messag present cach scan callback part scan request ad stub call messag arriv result rang scan issu underli persist manag perform request performrequest rang scan request rangescanrequest read ahead request readaheadrequest read ahead doreadahead request read ahead instal least stub cach valu cachevalu cach valu cachevalu cach get cach kei cachekei request get topic gettop request get start seq id getstartseqid add callback stub cach valu concret messag callback call right awai cach valu cachevalu add callback addcallback request get callback getcallback request get ctx getctx read ahead request readaheadrequest real persist manag realpersistencemanag scan messag scanmessag read ahead request readaheadrequest shutdown cach request shutdowncacherequest cach request cacherequest simpl type cach request cacherequest enqueu pub sub server pubsubserv shut down stop read ahead cach readaheadcach thread perform request performrequest keep run keeprun overrid jmx registerjmx hedwig bean info hedwigmbeaninfo parent jmx cach bean jmxcachebean read ahead cach bean readaheadcachebean hedwig bean registri hedwigmbeanregistri get instanc getinst jmx cach bean jmxcachebean except logger warn fail readahead cach jmx jmx cach bean jmxcachebean overrid unregist jmx unregisterjmx jmx cach bean jmxcachebean hedwig bean registri hedwigmbeanregistri get instanc getinst unregist jmx cach bean jmxcachebean except logger warn fail unregist readahead cach jmx 
defin client api hedwig client retriev publish object client object us publish messag topic hedwig publish publish get publish getpublish retriev subscrib object client object us subscrib messag from topic subscrib subscrib get subscrib getsubscrib close client free associ resourc close 
declar callback interfac us bookkeep client librari expos client applic bookkeep intern callback bookkeeperinternalcallback logger log logger factori loggerfactori get logger getlogg bookkeep intern callback bookkeeperinternalcallback callback call from booki client bookiecli object call repli write oper oper add entri ledger write callback writecallback write complet writecomplet rc ledger id ledgerid entri id entryid inet socket address inetsocketaddress addr object ctx gener callback genericcallback oper complet operationcomplet rc result declar callback implement call from booki client bookiecli object call repli read oper oper read entri from ledger read entri callback readentrycallback read entri complet readentrycomplet rc ledger id ledgerid entri id entryid channel buffer channelbuff buffer object ctx multi callback object wait multipl async oper complet fail invok callback provid failur rc failurerc multi callback multicallback async callback asynccallback callback voidcallback number expect callback expect failur rc failurerc success rc successrc callback context invok async callback asynccallback callback voidcallback cb object context keep track oper complet atom integ atomicinteg done atom integ atomicinteg list except from oper complet unsuccessfulli link block queue linkedblockingqueu integ except link block queue linkedblockingqueu integ multi callback multicallback expect async callback asynccallback callback voidcallback cb object context success rc successrc failur rc failurerc expect expect cb cb context context failur rc failurerc failur rc failurerc success rc successrc success rc successrc expect cb process result processresult success rc successrc context tick done increment get incrementandget expect except empti isempti cb process result processresult success rc successrc context cb process result processresult failur rc failurerc context overrid process result processresult rc string path object ctx rc success rc successrc log error error mutil callback rc except add rc tick processor process specif element processor process specif element param data data process param iter callback iterationcallback callback invok process ha done process data async callback asynccallback callback voidcallback cb 
keep track booki ensembl action ha perform quorum coverag set quorumcoverageset add booki set check quorum set action perform param booki index heard from bookieindexheardfrom booki ve heard from quorum cover add booki check cover addbookieandcheckcov booki index heard from bookieindexheardfrom 
safe async callback safeasynccallback uncaught except handler uncaughtexceptionhandl uncaught except handler uncaughtexceptionhandl termin jvm except handler terminatejvmexceptionhandl set uncaught except handler setuncaughtexceptionhandl uncaught except handler uncaughtexceptionhandl uncaught except handler uncaughtexceptionhandl safe async callback safeasynccallback uncaught except handler uncaughtexceptionhandl uncaught except handler uncaughtexceptionhandl invok uncaught except handler invokeuncaughtexceptionhandl throwabl thread thread thread current thread currentthread uncaught except handler uncaughtexceptionhandl uncaught except uncaughtexcept thread 
abstract ledger manag base zookeep common method queri zk node abstract abstract zk ledger manag abstractzkledgermanag ledger manag ledgermanag logger log logger factori loggerfactori get logger getlogg abstract zk ledger manag abstractzkledgermanag ledger node prefix string ledger node prefix ledger_node_prefix string avail node available_nod avail string cooki node cookies_nod cooki abstract configur abstractconfigur conf zoo keeper zookeep zk string ledger root path ledgerrootpath zoo keeper zookeep base ledger manag constructor param conf configur object param zk zoo keeper zookeep client handl param ledger root path ledgerrootpath zoo keeper zookeep path store ledger metadata abstract zk ledger manag abstractzkledgermanag abstract configur abstractconfigur conf zoo keeper zookeep zk string ledger root path ledgerrootpath conf conf zk zk ledger root path ledgerrootpath ledger root path ledgerrootpath get ledger singl zk node param node path nodepath zookeep node path param get ledger callback getledgerscallback callback function process ledger singl node async get ledger singl node asyncgetledgersinsinglenod string node path nodepath gener callback genericcallback hash set hashset get ledger callback getledgerscallback first sync zk make read latest activ avail ledger node zk sync node path nodepath async callback asynccallback callback voidcallback overrid process result processresult rc string path object ctx log debug enabl isdebugen log debug sync node path path rc rc code valu intvalu log error zk error sync ledger node get children keeper except keeperexcept creat keeper except keeperexcept code get rc path get ledger callback getledgerscallback oper complet operationcomplet rc sync ha complet successfulli poll zk read latest set activ ledger node async get ledger singl node doasyncgetledgersinsinglenod node path nodepath get ledger callback getledgerscallback async get ledger singl node doasyncgetledgersinsinglenod string node path nodepath gener callback genericcallback hash set hashset get ledger callback getledgerscallback zk get children getchildren node path nodepath async callback asynccallback children callback childrencallback overrid process result processresult rc string path object ctx list string ledger node ledgernod rc code valu intvalu log error error poll zk avail ledger node keeper except keeperexcept creat keeper except keeperexcept code get rc path get ledger callback getledgerscallback oper complet operationcomplet rc log debug enabl isdebugen log debug retriev current set ledger node ledger node ledgernod convert zk retriev ledger node hash set hashset easier comparison hash set hashset activ ledger allactiveledg hash set hashset ledger node ledgernod size 0f string ledger node ledgernod ledger node ledgernod special znode isspecialznod ledger node ledgernod convert node path ledger id differ ledger manag implement activ ledger allactiveledg add get ledger id getledgerid path ledger node ledgernod io except ioexcept log warn error extract ledger id ledgerid from zk ledger node ledger node ledgernod pretti bad error ledger node zk ha incorrect format non exist ledger get ledger callback getledgerscallback oper complet operationcomplet rc activ ledger allactiveledg get ledger ctx getledgersctx rc done hash set hashset ledger get ledger singl zk node param node path nodepath zookeep node path io except ioexcept interrupt except interruptedexcept hash set hashset get ledger singl node getledgersinsinglenod string node path nodepath io except ioexcept interrupt except interruptedexcept get ledger ctx getledgersctx ctx get ledger ctx getledgersctx log debug enabl isdebugen log debug get ledger node node path nodepath async get ledger singl node asyncgetledgersinsinglenod node path nodepath gener callback genericcallback hash set hashset overrid oper complet operationcomplet rc hash set hashset zk activ ledger zkactiveledg ctx code valu intvalu rc ctx ledger zk activ ledger zkactiveledg ctx rc rc ctx done ctx notifi notifyal ctx ctx done ctx wait code valu intvalu ctx rc io except ioexcept error get ledger from node node path nodepath ctx ledger process ledger singl zk node ledger found zk node processor process ledger id ledgerid trigger process specif ledger after ledger ha process cb finalcb call provid context object rc pass cb finalcb decid ul li ledger process successfulli success rc successrc pass li ledger process fail failur rc failurerc pass ul param path zk node path store ledger param processor processor provid process ledger param cb finalcb callback object ledger process param ctx context object pass cb finalcb param success rc successrc rc pass cb finalcb ledger process successfulli param failur rc failurerc rc pass cb finalcb ledger process fail async process ledger singl node asyncprocessledgersinsinglenod string path processor processor async callback asynccallback callback voidcallback cb finalcb object ctx success rc successrc failur rc failurerc async get ledger singl node asyncgetledgersinsinglenod path gener callback genericcallback hash set hashset overrid oper complet operationcomplet rc hash set hashset zk activ ledger zkactiveledg code valu intvalu rc cb finalcb process result processresult failur rc failurerc ctx log debug enabl isdebugen log debug process ledger zk activ ledger zkactiveledg ledger found directli zk activ ledger zkactiveledg size cb finalcb process result processresult success rc successrc ctx multi callback multicallback mcb multi callback multicallback zk activ ledger zkactiveledg size cb finalcb ctx success rc successrc failur rc failurerc start loop ledger ledger zk activ ledger zkactiveledg processor process ledger mcb znode special znode param znode znode name znode special znode special znode isspecialznod string znode avail node available_nod equal znode cooki node cookies_nod equal znode ledger layout ledgerlayout layout znode layout_znod equal znode overrid close garbag collect compar host ledger zk ledger param gc garbag collector garbag collect found inact delet ledger param bk activ ledger bkactiveledg activ ledger host booki server param zk ledger zkallledg ledger store zookeep gc dogc garbag collector garbagecollector gc map bk activ ledger bkactiveledg set zk ledger zkallledg remov activ ledger doesn exist zk bk lid bklid bk activ ledger bkactiveledg kei set keyset zk ledger zkallledg contain bk lid bklid remov from current activ ledger bk activ ledger bkactiveledg remov bk lid bklid gc gc bk lid bklid 
unsubscrib respons handler unsubscriberesponsehandl logger logger logger factori loggerfactori get logger getlogg unsubscrib respons handler unsubscriberesponsehandl respons handler responsehandl respons handler responsehandl unsubscrib respons handler unsubscriberesponsehandl respons handler responsehandl respons handler responsehandl respons handler responsehandl respons handler responsehandl main method handl unsubscrib respons messag from server handl unsubscrib respons handleunsubscriberespons pub sub respons pubsubrespons respons pub sub data pubsubdata pub sub data pubsubdata channel channel except logger debug enabl isdebugen logger debug handl unsubscrib respons respons pub sub data pubsubdata pub sub data pubsubdata host hedwig client impl hedwigclientimpl get host from channel gethostfromchannel channel respons get statu code getstatuscod success success unsubscrib request safe close subscrib channel cach data topic subscrib topicsubscrib respons handler responsehandl get subscrib getsubscrib close subscript closesubscript pub sub data pubsubdata topic pub sub data pubsubdata subscrib id subscriberid respons success invok callback oper finish operationfinish method pub sub data pubsubdata callback oper finish operationfinish pub sub data pubsubdata context client subscrib client_not_subscrib unsubscrib request server client subscrib topic pub sub data pubsubdata callback oper fail operationfail pub sub data pubsubdata context client subscrib except clientnotsubscribedexcept client subscrib topic pub sub data pubsubdata topic string utf8 tostringutf8 subscrib id subscriberid pub sub data pubsubdata subscrib id subscriberid string utf8 tostringutf8 servic down service_down respons servic down failur invok callback oper fail operationfail method pub sub data pubsubdata callback oper fail operationfail pub sub data pubsubdata context servic down except servicedownexcept server respond servic down service_down statu respons topic not_responsible_for_top redirect respons ll repost origin unsubscrib request respons handler responsehandl handl redirect respons handleredirectrespons respons pub sub data pubsubdata channel statu code error oper fail case logger error unexpect error respons from server pub sub respons pubsubrespons respons pub sub data pubsubdata callback oper fail operationfail pub sub data pubsubdata context servic down except servicedownexcept server respond statu code respons get statu code getstatuscod 
stat aggreg non callback singl shot oper measur throughput throughput aggreg throughputaggreg string label count atom integ atomicinteg done atom integ atomicinteg atom atomiclong earliest atom atomiclong atom integ atomicinteg num fail numfail atom integ atomicinteg thread progress thread progressthread link block queue linkedblockingqueu integ queue link block queue linkedblockingqueu integ throughput aggreg throughputaggreg string label count label label count count count queue add get getboolean progress progress thread progressthread thread runnabl overrid run done snap donesnap prev done snap donesnap count prev done snap donesnap done snap donesnap done get done snap donesnap prev println label progress done snap donesnap count thread sleep 1000 except ex runtim except runtimeexcept ex progress thread progressthread start progress startprogress progress thread progressthread progress thread progressthread start ding fail snap done snapdon done increment get incrementandget earliest compar set compareandset current time milli currenttimemilli fail num fail numfail increment get incrementandget logger debug enabl isdebugen logger debug label fail fail succeed done snap done snapdon snap done snapdon count queue add num fail numfail get string summar start time starttim finish label count done get tput calc tp calctp count start time starttim op num fail numfail num fail numfail 
abstract open callback opencallback async callback asynccallback open callback opencallback overrid open complet opencomplet rc ledger handl ledgerhandl ledger handl ledgerhandl object ctx safe open complet safeopencomplet rc ledger handl ledgerhandl ctx throwabl invok uncaught except handler invokeuncaughtexceptionhandl abstract safe open complet safeopencomplet rc ledger handl ledgerhandl ledger handl ledgerhandl object ctx 
implementor basiclli respons jmx bean hedwig jmx servic hedwigjmxservic jmx param parent parent jmx bean jmx registerjmx hedwig bean info hedwigmbeaninfo parent unregist jmx unregist jmx unregisterjmx 
context object synchron call read last confirm last confirm ctx lastconfirmedctx entri id pend entry_id_pend 10 respons rc last confirm ctx lastconfirmedctx respons entri id pend entry_id_pend set last confirm setlastconfirm last confirm lastconfirm respons last confirm lastconfirm getlast confirm getlastconfirm respons set rc setrc rc rc rc get rc getrc rc readi respons entri id pend entry_id_pend 
licens apach softwar foundat asf on more contributor licens agreement notic file distribut work addit inform copyright ownership asf licens file apach licens version licens us file complianc licens obtain copi licens http www apach org licens licens requir applic law agre write softwar distribut licens distribut basi warranti condit kind express impli licens specif languag govern permiss limit licens async callback asynccallback add callback addcallback callback declar param rc code param lh ledger handl param entri id entryid entri identifi param ctx context object add complet addcomplet rc ledger handl ledgerhandl lh entri id entryid object ctx close callback closecallback callback definit param rc code param lh ledger handl param ctx context object close complet closecomplet rc ledger handl ledgerhandl lh object ctx creat callback createcallback declar callback method param rc statu param lh ledger handl param ctx context object creat complet createcomplet rc ledger handl ledgerhandl lh object ctx open callback opencallback callback asynchron call open ledger param rc code param lh ledger handl param ctx context object open complet opencomplet rc ledger handl ledgerhandl lh object ctx read callback readcallback callback declar param rc code param lh ledger handl param seq sequenc entri param ctx context object read complet readcomplet rc ledger handl ledgerhandl lh enumer ledger entri ledgerentri seq object ctx delet callback deletecallback callback definit delet oper param rc code param ctx context object delet complet deletecomplet rc object ctx read last confirm callback readlastconfirmedcallback callback definit booki recov oper param rc code param last confirm lastconfirm entri id last confirm write link ledger handl ledgerhandl invalid entri id invalid_entry_id invalid entri id invalid_entry_id entri ha confirm param ctx context object read last confirm complet readlastconfirmedcomplet rc last confirm lastconfirm object ctx recov callback recovercallback callback definit booki recov oper param rc code param ctx context object recov complet recovercomplet rc object ctx 
composit except concurr oper composit except compositeexcept pub sub except pubsubexcept collect pub sub except pubsubexcept except composit except compositeexcept collect pub sub except pubsubexcept except statu code statuscod composit composit except except except collect pub sub except pubsubexcept get except getexcept except overrid string string tostr string builder stringbuild builder string builder stringbuild builder append string tostr append pub sub except pubsubexcept except except builder append except append builder string tostr 
map method mapmethod get after insert absent getafterinsertingifabs map map kei factori valu factori valuefactori valu map get kei valu valu valu factori valuefactori instanc newinst map put kei valu valu collect add multi map addtomultimap map map kei valu factori valu factori valuefactori collect collect get after insert absent getafterinsertingifabs map kei valu factori valuefactori collect add valu collect remov from multi map removefrommultimap map map kei valu collect collect map get kei collect collect remov valu collect empti isempti map remov kei 
hedwig proxi hedwigproxi logger logger logger factori loggerfactori get logger getlogg hedwig proxi hedwigproxi hedwig client hedwigcli client server socket channel factori serversocketchannelfactori server socket channel factori serversocketchannelfactori channel group channelgroup channel allchannel map oper type operationtyp handler handler proxi configur proxyconfigur cfg channel tracker channeltrack tracker thread group threadgroup tg hedwig proxi hedwigproxi proxi configur proxyconfigur cfg uncaught except handler uncaughtexceptionhandl except handler exceptionhandl cfg cfg tg thread group threadgroup hedwigproxi overrid uncaught except uncaughtexcept thread throwabl except handler exceptionhandl uncaught except uncaughtexcept hedwig proxi hedwigproxi proxi configur proxyconfigur conf interrupt except interruptedexcept conf termin jvm except handler terminatejvmexceptionhandl start interrupt except interruptedexcept link block queue linkedblockingqueu queue link block queue linkedblockingqueu thread tg runnabl overrid run client hedwig client hedwigcli cfg server socket channel factori serversocketchannelfactori nio server socket channel factori nioserversocketchannelfactori executor cach thread pool newcachedthreadpool executor cach thread pool newcachedthreadpool initi handler initializehandl initi netti initializenetti queue offer start queue us test channel tracker channeltrack get channel tracker getchanneltrack tracker initi handler initializehandl handler hash map hashmap oper type operationtyp handler tracker channel tracker channeltrack client get subscrib getsubscrib handler put oper type operationtyp publish proxi publish hander proxypublishhand client get publish getpublish handler put oper type operationtyp subscrib proxi subscrib handler proxysubscribehandl client get subscrib getsubscrib tracker handler put oper type operationtyp unsubscrib proxi unsubscrib handler proxyunsubscribehandl client get subscrib getsubscrib tracker handler put oper type operationtyp consum proxi consum handler proxyconsumehandl client get subscrib getsubscrib handler put oper type operationtyp stop deliveri stop_deliveri proxi stop deliveri handler proxystopdeliveryhandl client get subscrib getsubscrib tracker handler put oper type operationtyp start deliveri start_deliveri proxi start deliveri handler proxystartdeliveryhandl client get subscrib getsubscrib tracker initi netti initializenetti intern logger factori internalloggerfactori set factori setdefaultfactori log4 logger factori log4jloggerfactori channel allchannel channel group defaultchannelgroup hedwigproxi server bootstrap serverbootstrap bootstrap server bootstrap serverbootstrap server socket channel factori serversocketchannelfactori umbrella handler umbrellahandl umbrella handler umbrellahandl umbrella handler umbrellahandl channel allchannel handler pub sub server pipelin factori pubsubserverpipelinefactori pipelin pub sub server pipelin factori pubsubserverpipelinefactori umbrella handler umbrellahandl cfg get maximum messag size getmaximummessages bootstrap set pipelin factori setpipelinefactori pipelin bootstrap set option setopt child tcp delai tcpnodelai bootstrap set option setopt child keep aliv keepal bootstrap set option setopt reus address reuseaddress bind start accept incom connect channel allchannel add bootstrap bind inet socket address inetsocketaddress cfg get proxi port getproxyport logger info receiv loop shutdown channel allchannel close await uninterrupt awaituninterrupt client close server socket channel factori serversocketchannelfactori releas extern resourc releaseexternalresourc follow method exist unit test purpos awai make start deliveri total server side handler get start deliveri handler getstartdeliveryhandl handler get oper type operationtyp start deliveri start_deliveri handler get stop deliveri handler getstopdeliveryhandl handler get oper type operationtyp stop deliveri stop_deliveri param arg main string arg logger info attempt start hedwig proxi proxi configur proxyconfigur conf proxi configur proxyconfigur arg length string conf file conffil arg conf load conf loadconf file conf file conffil uri touri url tourl malform url except malformedurlexcept string msg open configur file conf file conffil pub sub server pubsubserv error msg exit errormsgandexit msg pub sub server pubsubserv rc invalid conf file rc_invalid_conf_fil configur except configurationexcept string msg malform configur file conf file conffil pub sub server pubsubserv error msg exit errormsgandexit msg pub sub server pubsubserv rc misconfigur rc_misconfigur logger info configur file conf file conffil hedwig proxi hedwigproxi conf start throwabl pub sub server pubsubserv error msg exit errormsgandexit error startup pub sub server pubsubserv rc rc_other 
abstract abstract topic manag abstracttopicmanag topic manag topicmanag name hedwig socket address hedwigsocketaddress addr topic chang listen arrai list arraylist topic ownership chang listen topicownershipchangelisten listen arrai list arraylist topic ownership chang listen topicownershipchangelisten list topic respons set string bytestr topic collect set synchronizedset hash set hashset string bytestr topic op queuer topicopqueu queuer server configur serverconfigur cfg schedul executor servic scheduledexecutorservic schedul logger logger logger factori loggerfactori get logger getlogg abstract topic manag abstracttopicmanag get owner op getownerop topic op queuer topicopqueu asynchron op asynchronousop hedwig socket address hedwigsocketaddress claim shouldclaim get owner op getownerop string bytestr topic claim shouldclaim callback hedwig socket address hedwigsocketaddress cb object ctx queuer topic cb ctx claim shouldclaim claim shouldclaim overrid run real get owner realgetown topic claim shouldclaim cb ctx releas op releaseop topic op queuer topicopqueu asynchron op asynchronousop releas op releaseop string bytestr topic callback cb object ctx queuer topic cb ctx overrid run topic contain topic cb oper finish operationfinish ctx real releas topic realreleasetop topic cb ctx abstract topic manag abstracttopicmanag server configur serverconfigur cfg schedul executor servic scheduledexecutorservic schedul unknown host except unknownhostexcept cfg cfg queuer topic op queuer topicopqueu schedul schedul schedul addr cfg get server addr getserveraddr overrid add topic ownership chang listen addtopicownershipchangelisten topic ownership chang listen topicownershipchangelisten listen listen add listen notifi listen add own topic notifylistenersandaddtoownedtop string bytestr topic callback hedwig socket address hedwigsocketaddress origin callback originalcallback object origin context originalcontext callback post cb postcb callback overrid oper finish operationfinish object ctx result oper resultofoper topic add topic cfg get retent sec getretentionsec schedul schedul runnabl overrid run enqueu releas oper recal releas doesn fail even topic miss releas topic releasetop topic callback overrid oper fail operationfail object ctx pub sub except pubsubexcept except logger error failur happen period releas topic topic except overrid oper finish operationfinish object ctx result oper resultofoper logger debug success period releas topic topic cfg get retent sec getretentionsec time unit timeunit second origin callback originalcallback oper finish operationfinish origin context originalcontext addr overrid oper fail operationfail object ctx pub sub except pubsubexcept except todo optim releas experi first error callback cb callback oper finish operationfinish object ctx _ctx result oper _resultofoper origin callback originalcallback oper fail operationfail ctx except oper fail operationfail object ctx _ctx pub sub except pubsubexcept except _except logger error except releas topic except _except origin callback originalcallback oper fail operationfail ctx except real releas topic realreleasetop topic cb origin context originalcontext callback mcb callback util callbackutil multi callback multicallback listen size post cb postcb topic ownership chang listen topicownershipchangelisten listen listen listen acquir topic acquiredtop topic mcb real releas topic realreleasetop string bytestr topic callback callback object ctx topic ownership chang listen topicownershipchangelisten listen listen listen lost topic losttop topic topic remov topic post releas cleanup postreleasecleanup topic callback ctx overrid get owner getown string bytestr topic claim shouldclaim callback hedwig socket address hedwigsocketaddress cb object ctx queuer push run pushandmayberun topic get owner op getownerop topic claim shouldclaim cb ctx overrid releas topic releasetop string bytestr topic callback cb object ctx queuer push run pushandmayberun topic releas op releaseop topic cb ctx method owner topic on ha chosen pre chosen owner hub chosen base claim shouldclaim paramet end up choos hub owner code abstract topic manag abstracttopicmanag notifi listen add own topic notifylistenersandaddtoownedtop string bytestr oper callback operationcallback object method call abstract real get owner realgetown string bytestr topic claim shouldclaim callback hedwig socket address hedwigsocketaddress cb object ctx method cleanup necessari hub topic ha releas abstract post releas cleanup postreleasecleanup string bytestr topic callback cb object ctx overrid stop 
abstract test persist manag black box testpersistencemanagerblackbox test testcas persist manag persistencemanag persist manag persistencemanag num messag test num_messages_to_test num topic test num_topics_to_test logger logger logger factori loggerfactori get logger getlogg test persist manag black box testpersistencemanagerblackbox test callback testcallback test callback testcallback test callback testcallback runtim except runtimeexcept failur except failureexcept test callback testcallback callback oper fail operationfail object ctx pub sub except pubsubexcept except failur except failureexcept runtim except runtimeexcept except suppress warn suppresswarn uncheck oper finish operationfinish object ctx result oper resultofoper link block queue linkedblockingqueu statu queue statusqueu link block queue linkedblockingqueu ctx statu queue statusqueu put interrupt except interruptedexcept failur except failureexcept runtim except runtimeexcept rang scan verifi listen rangescanverifierlisten scan callback scancallback list messag pub msg pubmsg rang scan verifi listen rangescanverifierlisten list messag pub msg pubmsg pub msg pubmsg pub msg pubmsg messag scan messagescan object ctx messag recv messag recvmessag pub msg pubmsg empti isempti failur except failureexcept runtim except runtimeexcept messag receiv expect messag pub msg pubmsg pub msg pubmsg get helper method helpermethod equal areequ recv messag recvmessag pub msg pubmsg failur except failureexcept runtim except runtimeexcept scan messag equal expect pub msg pubmsg remov scan fail scanfail object ctx except except failur except failureexcept runtim except runtimeexcept except suppress warn suppresswarn uncheck scan finish scanfinish object ctx reason finish reasonforfinish reason reason reason finish reasonforfinish more messag no_more_messag failur except failureexcept runtim except runtimeexcept scan finish prematur reason link block queue linkedblockingqueu statu queue statusqueu link block queue linkedblockingqueu ctx statu queue statusqueu put interrupt except interruptedexcept failur except failureexcept runtim except runtimeexcept point scan verifi listen pointscanverifierlisten scan callback scancallback list messag pub msg pubmsg string bytestr topic point scan verifi listen pointscanverifierlisten list messag pub msg pubmsg string bytestr topic topic topic pub msg pubmsg pub msg pubmsg suppress warn suppresswarn uncheck messag scan messagescan object ctx messag recv messag recvmessag messag pub msg pubmsg pub msg pubmsg get helper method helpermethod equal areequ recv messag recvmessag pub msg pubmsg failur except failureexcept runtim except runtimeexcept scan messag equal expect pub msg pubmsg remov pub msg pubmsg empti isempti link block queue linkedblockingqueu statu queue statusqueu link block queue linkedblockingqueu ctx statu queue statusqueu put interrupt except interruptedexcept failur except failureexcept runtim except runtimeexcept seq id seqid recv messag recvmessag get msg id getmsgid get local compon getlocalcompon seq id seqid persist manag persistencemanag get seq id after skip getseqidafterskip topic seq id seqid scan request scanrequest request scan request scanrequest topic seq id seqid point scan verifi listen pointscanverifierlisten pub msg pubmsg topic ctx persist manag persistencemanag scan singl messag scansinglemessag request scan fail scanfail object ctx except except failur except failureexcept runtim except runtimeexcept except scan finish scanfinish object ctx reason finish reasonforfinish reason scan verifi scanverifi runnabl list messag pub msg pubmsg string bytestr topic link block queue linkedblockingqueu statu queue statusqueu link block queue linkedblockingqueu scan verifi scanverifi string bytestr topic list messag pub msg pubmsg topic topic pub msg pubmsg pub msg pubmsg run start scan persist manag persistencemanag persist manag rang scan persistencemanagerwithrangescan scan callback scancallback listen rang scan verifi listen rangescanverifierlisten pub msg pubmsg persist manag rang scan persistencemanagerwithrangescan rang persist manag rangepersistencemanag persist manag rang scan persistencemanagerwithrangescan persist manag persistencemanag rang persist manag rangepersistencemanag scan messag scanmessag rang scan request rangescanrequest topic get lowest seq id getlowestseqid num messag test num_messages_to_test max valu max_valu listen statu queue statusqueu scan callback scancallback listen point scan verifi listen pointscanverifierlisten pub msg pubmsg topic persist manag persistencemanag scan singl messag scansinglemessag scan request scanrequest topic get lowest seq id getlowestseqid listen statu queue statusqueu listen finish wait maximum minut statu queue statusqueu poll 60 time unit timeunit second failur except failureexcept runtim except runtimeexcept scan time interrupt except interruptedexcept failur except failureexcept runtim except runtimeexcept publish runnabl list messag pub msg pubmsg string bytestr topic publish string bytestr topic list messag pub msg pubmsg pub msg pubmsg pub msg pubmsg topic topic run link block queue linkedblockingqueu statu queue statusqueu link block queue linkedblockingqueu messag msg pub msg pubmsg persist manag persistencemanag persist messag persistmessag persist request persistrequest topic msg test callback testcallback statu queue statusqueu wait maximum minut statu queue statusqueu poll 60 time unit timeunit second failur except failureexcept runtim except runtimeexcept scan time interrupt except interruptedexcept failur except failureexcept runtim except runtimeexcept overrid set up setup except logger info start get name getnam persist manag persistencemanag instanti persist manag instantiatepersistencemanag failur except failureexcept logger info persist manag test setup finish abstract get lowest seq id getlowestseqid abstract persist manag persistencemanag instanti persist manag instantiatepersistencemanag except overrid tear down teardown except logger info tear down teardown start tear down teardown logger info finish get name getnam string bytestr get topic name gettopicnam number string bytestr copi from utf8 copyfromutf8 topic number test test persist manag testpersistencemanag except list thread publish thread publisherthread link list linkedlist thread list thread scanner thread scannerthread link list linkedlist thread thread thread semaphor latch semaphor num topic test num_topics_to_test string bytestr topic get topic name gettopicnam persist manag persistencemanag topic ownership chang listen topicownershipchangelisten topic ownership chang listen topicownershipchangelisten tocl topic ownership chang listen topicownershipchangelisten persist manag persistencemanag latch acquir tocl acquir topic acquiredtop topic callback overrid oper fail operationfail object ctx pub sub except pubsubexcept except failur except failureexcept runtim except runtimeexcept except semaphor ctx releas overrid oper finish operationfinish object ctx re semaphor ctx releas latch latch acquir latch releas failur except failureexcept except failur except failureexcept get caus getcaus list messag msg helper method helpermethod get random publish messag getrandompublishedmessag num messag test num_messages_to_test 1024 thread thread publish topic msg publish thread publisherthread add thread thread start thread thread scan verifi scanverifi topic msg scanner thread scannerthread add thread thread publish thread publisherthread join thread scanner thread scannerthread start thread scanner thread scannerthread join equal assertequ failur except failureexcept num topic test num_topics_to_test equal assertequ persist manag persistencemanag get current seq id topic getcurrentseqidfortop get topic name gettopicnam get local compon getlocalcompon get expect seq id getexpectedseqid num messag test num_messages_to_test abstract get expect seq id getexpectedseqid num publish numpublish 
base test requir book keeper bookkeep client server setup book keeper test base bookkeepertestbas zoo keeper test base zookeepertestbas logger log logger factori loggerfactori get logger getlogg book keeper test base bookkeepertestbas test booki testbooki booki read delai readdelai test booki testbooki server configur serverconfigur conf read delai readdelai io except ioexcept keeper except keeperexcept interrupt except interruptedexcept booki except bookieexcept conf read delai readdelai read delai readdelai overrid buffer bytebuff read entri readentri ledger id ledgerid entri id entryid io except ioexcept ledger except noledgerexcept read delai readdelai thread sleep read delai readdelai interrupt except interruptedexcept read entri readentri ledger id ledgerid entri id entryid test booki server testbookieserv booki server bookieserv test booki server testbookieserv server configur serverconfigur conf io except ioexcept keeper except keeperexcept interrupt except interruptedexcept booki except bookieexcept conf booki booki newbooki server configur serverconfigur conf io except ioexcept keeper except keeperexcept interrupt except interruptedexcept booki except bookieexcept test booki testbooki conf read delai readdelai book keeper bookkeep server variabl list booki server bookieserv booki list bookieslist list server configur serverconfigur bk conf list bkconfslist initi port initialport 5000 next port nextport initi port initialport string constant us creat booki server file string prefix booki string suffix test read delai readdelai read delai readdelai variabl decid booki server set up num booki numbooki book keeper bookkeep client instanc book keeper bookkeep bk server configur serverconfigur base conf baseconf server configur serverconfigur client configur clientconfigur base client conf baseclientconf client configur clientconfigur constructor book keeper test base bookkeepertestbas num booki numbooki num booki numbooki 0l book keeper test base bookkeepertestbas num booki numbooki read delai readdelai num booki numbooki num booki numbooki read delai readdelai read delai readdelai book keeper test base bookkeepertestbas us booki getter zoo keeper zookeep client instanc parent set up zoo keeper zookeep get zoo keeper client getzookeepercli zk junit fake test happi test test testnoth except overrid befor set up setup except set up setup initi zk client valu zk creat ledger id open acl unsaf open_acl_unsaf creat mode createmod persist zk creat ledger avail id open acl unsaf open_acl_unsaf creat mode createmod persist keeper except keeperexcept log error error set up interrupt except interruptedexcept log error error set up creat booki server booki list bookieslist link list linkedlist booki server bookieserv bk conf list bkconfslist link list linkedlist server configur serverconfigur num booki numbooki start up booki server startupnewbookieserv creat book keeper bookkeep client bk book keeper bookkeep host port hostport string get zk host port getzkhostport host port hostport overrid after tear down teardown except shutdown booki server booki server bookieserv bs booki list bookieslist bs shutdown close book keeper bookkeep client bk close tear down teardown stop booki server stopallbookieserv except booki server bookieserv bs booki list bookieslist bs shutdown booki list bookieslist clear start booki server startallbookieserv except server configur serverconfigur conf bk conf list bkconfslist booki list bookieslist add start booki startbooki conf tear down on booki server teardownonebookieserv except random random bi next nextint booki list bookieslist size booki server bookieserv bs booki list bookieslist get bi bs shutdown booki list bookieslist remov bi bk conf list bkconfslist remov bi start up booki server startupnewbookieserv except file tmp dir tmpdir file util fileutil creat temp directori createtempdirectori prefix next port nextport initi port initialport suffix server configur serverconfigur conf server configur newserverconfigur next port nextport host port hostport tmp dir tmpdir file tmp dir tmpdir booki list bookieslist add start booki startbooki conf bk conf list bkconfslist add conf helper method startup booki server configur object param conf server configur object booki server bookieserv start booki startbooki server configur serverconfigur conf except booki server bookieserv server test booki server testbookieserv conf server start port conf get booki port getbookieport zk exist ledger avail inet address inetaddress get local host getlocalhost get host address gethostaddress port thread sleep 500 server server configur serverconfigur server configur newserverconfigur port string zk server zkserver file journal dir journaldir file ledger dir ledgerdir server configur serverconfigur conf server configur serverconfigur base conf baseconf conf set booki port setbookieport port conf set zk server setzkserv zk server zkserver conf set journal dir name setjournaldirnam journal dir journaldir get path getpath string ledger dir name ledgerdirnam string ledger dir ledgerdir length ledger dir ledgerdir length ledger dir name ledgerdirnam ledger dir ledgerdir get path getpath conf set ledger dir name setledgerdirnam ledger dir name ledgerdirnam conf 
memori ledger rang inmemoryledgerrang ledger rang ledgerrang rang start seq id includ startseqidinclud memori ledger rang inmemoryledgerrang ledger rang ledgerrang rang start seq id startseqid rang rang start seq id includ startseqidinclud start seq id startseqid 
oper statist op stat opstat num bucket num_bucket max latenc maxlat min latenc minlat max valu max_valu total latenc totallat 0f num success op numsuccessop num fail op numfailedop latenc bucket latencybucket num bucket num_bucket op stat opstat increment number fail oper increment fail op incrementfailedop num fail op numfailedop updat latenc updat latenc updatelat latenc total latenc totallat latenc num success op numsuccessop latenc min latenc minlat min latenc minlat latenc latenc max latenc maxlat max latenc maxlat latenc bucket latenc 100 100 ms 100m bucket latenc 10 latenc 1000 100 ms 100m 1000 ms 1000m bucket latenc 100 latenc 10000 1s 10 bucket latenc 1000 more 10 bucket latenc bucket latencybucket bucket op stat data opstatdata op stat data toopstatdata avg latenc avglat num success op numsuccessop total latenc totallat num success op numsuccessop 0f string builder stringbuild sb string builder stringbuild num bucket num_bucket sb append latenc bucket latencybucket num bucket num_bucket sb append op stat data opstatdata max latenc maxlat min latenc minlat avg latenc avglat num success op numsuccessop num fail op numfailedop sb string tostr diff base opstat param base base opstat diff opstat op stat opstat diff op stat opstat base op stat opstat diff op stat opstat diff max latenc maxlat max latenc maxlat base max latenc maxlat max latenc maxlat base max latenc maxlat diff min latenc minlat min latenc minlat base min latenc minlat base min latenc minlat min latenc minlat diff total latenc totallat total latenc totallat base total latenc totallat diff num success op numsuccessop num success op numsuccessop base num success op numsuccessop diff num fail op numfailedop num fail op numfailedop base num fail op numfailedop num bucket num_bucket diff latenc bucket latencybucket latenc bucket latencybucket base latenc bucket latencybucket diff copi stat from op stat opstat param op stat copi copyof op stat opstat max latenc maxlat max latenc maxlat min latenc minlat min latenc minlat total latenc totallat total latenc totallat num success op numsuccessop num success op numsuccessop num fail op numfailedop num fail op numfailedop arraycopi latenc bucket latencybucket latenc bucket latencybucket latenc bucket latencybucket length 
booki zk expir test bookiezkexpiretest book keeper cluster test bookkeeperclustertestcas booki zk expir test bookiezkexpiretest test test booki server zk expir behaviour testbookieserverzkexpirebehaviour except booki server bookieserv server file file creat temp file createtempfil bookieserv test delet mkdir hash set hashset thread threadset hash set hashset thread thread count threadcount thread activ count activecount thread thread thread thread count threadcount thread count threadcount thread enumer thread thread count threadcount thread get name getnam index indexof send thread sendthread threadset add thread server configur serverconfigur conf server configur newserverconfigur initi port initialport zk util zkutil get zoo keeper connect string getzookeeperconnectstr file server booki server bookieserv conf server start thread sleep 10 thread sendthread thread count threadcount thread activ count activecount thread thread thread count threadcount thread count threadcount thread enumer thread thread count threadcount thread get name getnam index indexof send thread sendthread threadset contain thread sendthread thread assertnotnul send thread found sendthread sendthread suspend thread sleep 10000 sendthread resum allow watcher thread run thread sleep 3000 assertfals booki shutdown lose zk session server booki run isbookierun assertfals nio server shutdown lose zk session server nio server run isnioserverrun assertfals booki server shutdown lose zk session server run isrun server shutdown 
callback util callbackutil callback wait number event fire fail fail callback composit except todo chang us except make composit except compositeexcept gener pub sub except pubsubexcept param expect number expect callback param cb callback call param ctx param logger param success msg successmsg log success param failur msg failuremsg log failur param eager error handler eagererrorhandl execut after first failur befor failur callback releas resourc composit oper doom gener callback callback multi callback multicallback expect callback cb object ctx logger logger string success msg successmsg string failur msg failuremsg runnabl eager error handler eagererrorhandl expect cb oper finish operationfinish ctx callback atom integ atomicinteg done atom integ atomicinteg link block queue linkedblockingqueu pub sub except pubsubexcept except link block queue linkedblockingqueu pub sub except pubsubexcept tick done increment get incrementandget expect except empti isempti cb oper finish operationfinish ctx cb oper fail operationfail ctx composit except compositeexcept except overrid oper fail operationfail object ctx pub sub except pubsubexcept except logger failur msg failuremsg logger error failur msg failuremsg except except add except tick overrid oper finish operationfinish object ctx result oper resultofoper logger success msg successmsg logger info success msg successmsg tick callback wait number event fire fail fail callback composit except callback multi callback multicallback expect callback cb object ctx multi callback multicallback expect cb ctx callback wait number event fire fail fail callback composit except callback multin callback multincallback expect callback cb object ctx runnabl eager error handler eagererrorhandl multi callback multicallback expect cb ctx eager error handler eagererrorhandl callback nop callback overrid oper fail operationfail object ctx pub sub except pubsubexcept except overrid oper finish operationfinish object ctx result oper resultofoper callback callback nop nop log happen befor continu callback chain callback logger logger logger string success msg successmsg string failur msg failuremsg callback cont callback overrid oper fail operationfail object ctx pub sub except pubsubexcept except logger error failur msg failuremsg except cont cont oper fail operationfail ctx except overrid oper finish operationfinish object ctx result oper resultofoper logger info success msg successmsg cont cont oper finish operationfinish ctx result oper resultofoper log happen continu callback logger logger logger string success msg successmsg string failur msg failuremsg logger logger success msg successmsg failur msg failuremsg nop callback call callback cb bound result callback curri callback cb result callback overrid oper fail operationfail object ctx pub sub except pubsubexcept except cb oper fail operationfail ctx except overrid oper finish operationfinish object ctx result oper resultofoper cb oper finish operationfinish ctx result 
respons maintain consist view booki avail read zookeep set watch booki node booki fail part code turn find replac booki watcher bookiewatch watcher children callback childrencallback logger logger logger factori loggerfactori get logger getlogg booki watcher bookiewatch booki registr path zk string booki registr path bookieregistrationpath set inet socket address inetsocketaddress empti set empty_set hash set hashset inet socket address inetsocketaddress zk connect backoff sec zk_connect_backoff_sec book keeper bookkeep bk schedul executor servic scheduledexecutorservic schedul hash set hashset inet socket address inetsocketaddress known booki knownbooki hash set hashset inet socket address inetsocketaddress safe runnabl saferunn read task rereadtask safe runnabl saferunn overrid safe run saferun read booki readbooki booki watcher bookiewatch client configur clientconfigur conf book keeper bookkeep bk bk bk zk booki registr path booki registr path bookieregistrationpath conf get zk avail booki path getzkavailablebookiespath schedul executor singl thread schedul executor newsinglethreadscheduledexecutor halt schedul shutdown read booki readbooki read booki readbooki read booki readbooki children callback childrencallback callback bk get zk handl getzkhandl get children getchildren booki registr path bookieregistrationpath callback overrid process watch event watchedev event read booki readbooki overrid process result processresult rc string path object ctx list string children rc keeper except keeperexcept code valu intvalu logger error error read booki keeper except keeperexcept creat code get rc path read after second schedul schedul read task rereadtask zk connect backoff sec zk_connect_backoff_sec time unit timeunit second read booki address set effici lookup hash set hashset inet socket address inetsocketaddress booki addr newbookieaddr hash set hashset inet socket address inetsocketaddress string booki addr string bookieaddrstr children inet socket address inetsocketaddress booki addr bookieaddr booki addr bookieaddr string util stringutil pars addr parseaddr booki addr string bookieaddrstr io except ioexcept logger error pars booki address booki addr string bookieaddrstr ignor booki booki addr newbookieaddr add booki addr bookieaddr hash set hashset inet socket address inetsocketaddress dead booki deadbooki hash set hashset inet socket address inetsocketaddress known booki knownbooki clone dead booki deadbooki remov removeal booki addr newbookieaddr known booki knownbooki booki addr newbookieaddr bk get booki client getbookiecli bk get booki client getbookiecli close client closecli dead booki deadbooki block booki read from zookeep us link book keeper bookkeep constructor interrupt except interruptedexcept keeper except keeperexcept read booki block readbookiesblock interrupt except interruptedexcept keeper except keeperexcept link block queue linkedblockingqueu integ queue link block queue linkedblockingqueu integ read booki readbooki children callback childrencallback process result processresult rc string path object ctx list string children booki watcher bookiewatch process result processresult rc path ctx children queue put rc interrupt except interruptedexcept logger error interrup read booki block fashion runtim except runtimeexcept rc queue rc keeper except keeperexcept code valu intvalu keeper except keeperexcept creat code get rc wrapper link get addit booki getadditionalbooki set method exclus list exisit booki param num booki need numbookiesneed bk booki except bknotenoughbookiesexcept arrai list arraylist inet socket address inetsocketaddress get booki getnewbooki num booki need numbookiesneed bk booki except bknotenoughbookiesexcept get addit booki getadditionalbooki empti set empty_set num booki need numbookiesneed wrapper link get addit booki getadditionalbooki set method extra booki param exist booki existingbooki bk booki except bknotenoughbookiesexcept inet socket address inetsocketaddress get addit booki getadditionalbooki list inet socket address inetsocketaddress exist booki existingbooki bk booki except bknotenoughbookiesexcept get addit booki getadditionalbooki hash set hashset inet socket address inetsocketaddress exist booki existingbooki get return addit booki exclus list need param exist booki existingbooki param num addit booki need numadditionalbookiesneed bk booki except bknotenoughbookiesexcept arrai list arraylist inet socket address inetsocketaddress get addit booki getadditionalbooki set inet socket address inetsocketaddress exist booki existingbooki num addit booki need numadditionalbookiesneed bk booki except bknotenoughbookiesexcept arrai list arraylist inet socket address inetsocketaddress booki newbooki arrai list arraylist inet socket address inetsocketaddress num addit booki need numadditionalbookiesneed booki newbooki list inet socket address inetsocketaddress booki allbooki booki allbooki arrai list arraylist inet socket address inetsocketaddress known booki knownbooki collect shuffl booki allbooki inet socket address inetsocketaddress booki booki allbooki exist booki existingbooki contain booki booki newbooki add booki num addit booki need numadditionalbookiesneed num addit booki need numadditionalbookiesneed booki newbooki bk booki except bknotenoughbookiesexcept 
rang scan op rangescanop topic op queuer topicopqueu synchron op synchronousop rang scan request rangescanrequest request num messag read nummessagesread total size read totalsizeread topic info topicinfo topic info topicinfo start seq id scan startseqidtoscan rang scan op rangescanop rang scan request rangescanrequest request request 1l rang scan op rangescanop rang scan request rangescanrequest request start seq id startseqid queuer request topic request request start seq id scan startseqidtoscan start seq id startseqid overrid run intern runintern topic info topicinfo topic info topicinfo get topic topic info topicinfo request callback scan fail scanfail request ctx pub sub except pubsubexcept server respons topic except servernotresponsiblefortopicexcept start seq id scan startseqidtoscan zero mean unfinish scan request scan from provid posit start read from startreadingfrom start seq id scan startseqidtoscan request start seq id startseqid start seq id scan startseqidtoscan read memori ledger rang inmemoryledgerrang imlr start seq id startseqid end seq id endseqid imlr handl bk async open ledger asyncopenledg imlr rang get ledger id getledgerid digest type digesttyp crc32 passwd safe asyn bk callback safeasynbkcallback open callback opencallback overrid safe open complet safeopencomplet rc ledger handl ledgerhandl ledger handl ledgerhandl object ctx rc bk except bkexcept code imlr handl ledger handl ledgerhandl read imlr start seq id startseqid end seq id endseqid bk except bkexcept bke bk except bkexcept creat rc logger error open ledger imlr rang get ledger id getledgerid topic topic request callback scan fail scanfail ctx pub sub except pubsubexcept servic down except servicedownexcept bke request ctx ledger handl read from correct end seq id correctedendseqid math min start seq id startseqid request messag limit messagelimit num messag read nummessagesread end seq id endseqid logger debug enabl isdebugen logger debug issu bk read ledger imlr handl get id getid from entri id start seq id startseqid imlr start seq id includ startseqidinclud entri id correct end seq id correctedendseqid imlr start seq id includ startseqidinclud imlr handl async read entri asyncreadentri start seq id startseqid imlr start seq id includ startseqidinclud correct end seq id correctedendseqid imlr start seq id includ startseqidinclud safe asyn bk callback safeasynbkcallback read callback readcallback expect entri id expectedentryid start seq id startseqid imlr start seq id includ startseqidinclud overrid safe read complet safereadcomplet rc ledger handl ledgerhandl lh enumer ledger entri ledgerentri seq object ctx rc bk except bkexcept code seq ha more element hasmoreel bk except bkexcept bke bk except bkexcept creat rc logger error error read from ledger imlr rang get ledger id getledgerid topic topic string utf8 tostringutf8 bke request callback scan fail scanfail request ctx pub sub except pubsubexcept servic down except servicedownexcept bke ledger entri ledgerentri entri seq ha more element hasmoreel entri seq next element nextel messag messag messag messag pars from parsefrom entri get entri input stream getentryinputstream io except ioexcept string msg unread messag found ledger imlr rang get ledger id getledgerid topic topic string utf8 tostringutf8 logger error msg request callback scan fail scanfail ctx pub sub except pubsubexcept unexpect condit except unexpectedconditionexcept msg logger debug enabl isdebugen logger debug read respons from ledger lh get id getid entri id entri get entri id getentryid expect entri id expectedentryid entri get entri id getentryid expect entri id expectedentryid expect entri id expectedentryid entri get entri id getentryid entri get entri id getentryid messag get msg id getmsgid get local compon getlocalcompon imlr start seq id includ startseqidinclud expect entri id expectedentryid expect entri id expectedentryid request callback messag scan messagescan ctx messag num messag read nummessagesread total size read totalsizeread messag get bodi getbodi size num messag read nummessagesread request messag limit messagelimit request callback scan finish scanfinish ctx reason finish reasonforfinish num messag limit exceed num_messages_limit_exceed total size read totalsizeread request size limit sizelimit request callback scan finish scanfinish ctx reason finish reasonforfinish size limit exceed size_limit_exceed scan messag scan messag scanmessag request imlr start seq id includ startseqidinclud entri get entri id getentryid request ctx start read from startreadingfrom start seq id startseqid map entri memori ledger rang inmemoryledgerrang entri topic info topicinfo ledger rang ledgerrang ceil entri ceilingentri start seq id startseqid entri old ledger seq id us current ledger end seq id endseqid topic info topicinfo current ledger rang currentledgerrang start seq id includ startseqidinclud topic info topicinfo last entri id ack current ledger lastentryidackedincurrentledg end seq id endseqid start seq id startseqid request callback scan finish scanfinish request ctx reason finish reasonforfinish more messag no_more_messag read topic info topicinfo current ledger rang currentledgerrang start seq id startseqid end seq id endseqid read entri get valu getvalu start seq id startseqid entri get valu getvalu rang get end seq id includ getendseqidinclud get local compon getlocalcompon 
file client filecli callabl list file output stream fileoutputstream stream data time random file client filecli list file output stream fileoutputstream stream data time stream stream data data time time random ident hash code identityhashcod call count start current time milli currenttimemilli stopat start time current time milli currenttimemilli stopat file output stream fileoutputstream stream stream get next nextint stream size stream stream write data stream flush stream get channel getchannel forc count time current time milli currenttimemilli start log info worker finish process write ms tpt op time count time 1000 count io except ioexcept ioe log error except worker thread ioe 0l 
code ledger manag factori ledgermanagerfactori code take respons creat ledger manag ledger manag factori ledgermanagerfactori creat ledger manag param conf configur object param zk zoo keeper zookeep client handl talk zk ledger manag us ledger manag io except ioexcept ledger manag ledgermanag ledger manag newledgermanag abstract configur abstractconfigur conf zoo keeper zookeep zk io except ioexcept keeper except keeperexcept interrupt except interruptedexcept string lm type lmtype conf get ledger manag type getledgermanagertyp string ledger root path ledgerrootpath conf get zk ledger root path getzkledgersrootpath ledger root path ledgerrootpath ledger root path ledgerrootpath length io except ioexcept empti ledger root path zk ledger manag zk flat ledger manag flatledgermanag conf ledger root path ledgerrootpath flat ledger manag flatledgermanag cur version cur_vers check configur ledger manag compat exist layout ledger layout ledgerlayout layout ledger layout ledgerlayout read layout readlayout zk ledger root path ledgerrootpath layout exist layout lm type lmtype lm type lmtype equal flat ledger manag flatledgermanag name layout ledger layout ledgerlayout flat ledger manag flatledgermanag name flat ledger manag flatledgermanag cur version cur_vers lm type lmtype equal hierarch ledger manag hierarchicalledgermanag name layout ledger layout ledgerlayout hierarch ledger manag hierarchicalledgermanag name hierarch ledger manag hierarchicalledgermanag cur version cur_vers io except ioexcept unknown ledger manag type lm type lmtype layout store zk ledger root path ledgerrootpath keeper except keeperexcept node exist except nodeexistsexcept nee ledger layout ledgerlayout layout2 ledger layout ledgerlayout read layout readlayout zk ledger root path ledgerrootpath layout2 equal layout io except ioexcept content write layout zookeep layout layout2 incompat layout layout lm type lmtype layout get manag type getmanagertyp equal lm type lmtype io except ioexcept configur layout lm type lmtype match exist layout layout get manag type getmanagertyp creat ledger manag flat ledger manag flatledgermanag name equal layout get manag type getmanagertyp flat ledger manag flatledgermanag conf zk ledger root path ledgerrootpath layout get manag version getmanagervers hierarch ledger manag hierarchicalledgermanag name equal layout get manag type getmanagertyp hierarch ledger manag hierarchicalledgermanag conf zk ledger root path ledgerrootpath layout get manag version getmanagervers io except ioexcept unknown ledger manag type lm type lmtype 
noop callback noopcallback callback overrid oper fail operationfail object ctx pub sub except pubsubexcept except consum stat consumestat increment fail op incrementfailedop oper finish operationfinish object ctx result oper resultofoper don collect consum process time consum stat consumestat updat latenc updatelat 
abstract asynchron op asynchronousop op string bytestr topic callback cb object ctx asynchron op asynchronousop string bytestr topic callback cb object ctx topic topic cb callback overrid oper fail operationfail object ctx pub sub except pubsubexcept except cb oper fail operationfail ctx except pop run next popandrunnext topic overrid oper finish operationfinish object ctx result oper resultofoper cb oper finish operationfinish ctx result oper resultofoper pop run next popandrunnext topic ctx ctx 
base test stand standalon pub sub server pubsubserv setup abstract pub sub server stand test base pubsubserverstandalonetestbas test testcas logger logger logger factori loggerfactori get logger getlogg pub sub server stand test base pubsubserverstandalonetestbas stand server configur standaloneserverconfigur server configur serverconfigur overrid standalon isstandalon pub sub server pubsubserv server overrid befor set up setup except logger info start get name getnam server pub sub server pubsubserv stand server configur standaloneserverconfigur server start logger info standalon pub sub server pubsubserv test setup finish overrid after tear down teardown except logger info tear down teardown start server shutdown logger info finish get name getnam 
proxi consum handler proxyconsumehandl handler logger logger logger factori loggerfactori get logger getlogg proxi consum handler proxyconsumehandl subscrib subscrib proxi consum handler proxyconsumehandl subscrib subscrib subscrib subscrib overrid handl request handlerequest pub sub request pubsubrequest request channel channel request ha consum request hasconsumerequest umbrella handler umbrellahandl send error respons malform request senderrorresponsetomalformedrequest channel request get txn id gettxnid miss consum request data consum request consumerequest consum request consumerequest request get consum request getconsumerequest subscrib consum request get topic gettop consum request consumerequest get subscrib id getsubscriberid consum request consumerequest get msg id getmsgid client subscrib except clientnotsubscribedexcept ignor logger warn unexpect consum request 
method thread safe subscript manag subscriptionmanag subscript subscrib topic method reliabl persist exist subscript lost subscript exist depend creat attach flag subscrib request except return asynchron method param topic param sub request subrequest param consum seq id consumeseqid seq id seqid start serv subscript from brand subscript param callback seq id return callback serv start from param ctx serv subscrib request servesubscriberequest string bytestr topic subscrib request subscriberequest sub request subrequest messag seq id messageseqid consum seq id consumeseqid callback messag seq id messageseqid callback object ctx set consum posit subscrib topic note method persist consum posit immedi lazi persist asynchron more effici param topic param subscrib id subscriberid param consum seq id consumeseqid set consum seq id subscrib setconsumeseqidforsubscrib string bytestr topic string bytestr subscrib id subscriberid messag seq id messageseqid consum seq id consumeseqid callback callback object ctx delet subscript param topic param subscrib id subscriberid unsubscrib string bytestr topic string bytestr subscrib id subscriberid callback callback object ctx manag api method fill get id subscrib topic param topic list subscrib id current subscrib topic list string bytestr get subscript topic getsubscriptionsfortop string bytestr topic get topic subscrib subscrib param subscrib id subscriberid list topic subscrib subscrib servic down except servicedownexcept error up subscript inform list string bytestr get topic subscrib gettopicsforsubscrib string bytestr subscrib id subscriberid servic down except servicedownexcept add listen notifi topic subscript pair ad remov add listen addlisten subscript event listen subscriptioneventlisten listen stop subscript manag stop 
test sub unsub handler testsubunsubhandl test testcas subscrib handler subscribehandl sh stub deliveri manag stubdeliverymanag dm stub subscript manag stubsubscriptionmanag sm string bytestr topic string bytestr copi from utf8 copyfromutf8 topic write record channel writerecordingchannel channel subscrib request subscriberequest sub request prototyp subrequestprototyp pub sub request pubsubrequest pub sub request prototyp pubsubrequestprototyp string bytestr subscrib id subscriberid unsubscrib handler unsubscribehandl ush overrid set up setup except set up setup server configur serverconfigur conf server configur serverconfigur schedul executor servic scheduledexecutorservic executor executor singl thread schedul executor newsinglethreadscheduledexecutor topic manag topicmanag tm trivial topic manag trivialownalltopicmanag conf executor dm stub deliveri manag stubdeliverymanag persist manag persistencemanag pm local db persist manag localdbpersistencemanag instanc sm stub subscript manag stubsubscriptionmanag tm pm conf executor sh subscrib handler subscribehandl tm dm pm sm conf channel write record channel writerecordingchannel subscrib id subscriberid string bytestr copi from utf8 copyfromutf8 sub id subid sub request prototyp subrequestprototyp subscrib request subscriberequest builder newbuild set subscrib id setsubscriberid subscrib id subscriberid build pub sub request prototyp pubsubrequestprototyp pub sub request pubsubrequest builder newbuild set protocol version setprotocolvers protocol version protocolvers version on version_on set type settyp oper type operationtyp subscrib set txn id settxnid set topic settop topic set subscrib request setsubscriberequest sub request prototyp subrequestprototyp build ush unsubscrib handler unsubscribehandl tm conf sm dm test test subscrib request testnosubscriberequest sh handl request owner handlerequestatown pub sub request pubsubrequest builder newbuild pub sub request prototyp pubsubrequestprototyp clear subscrib request clearsubscriberequest build channel equal assertequ statu code statuscod malform request malformed_request pub sub respons pubsubrespons channel get messag written getmessageswritten get get statu code getstatuscod test test success testsuccesscas stub callback stubcallback callback stub callback stubcallback sm acquir topic acquiredtop topic callback assertnul concurr util concurrencyutil callback queue right sh handl request owner handlerequestatown pub sub request prototyp pubsubrequestprototyp channel equal assertequ statu code statuscod success pub sub respons pubsubrespons channel get messag written getmessageswritten get get statu code getstatuscod make channel put map equal assertequ topic subscrib topicsubscrib topic subscrib id subscriberid sh channel2 sub channel2sub get channel equal assertequ channel sh sub2 channel sub2channel get topic subscrib topicsubscrib topic subscrib id subscriberid make deliveri start start serv request startservingrequest start request startrequest start serv request startservingrequest dm last request lastrequest poll equal assertequ channel channel end point channelendpoint start request startrequest end point endpoint get channel getchannel equal assertequ start request startrequest hub subscrib ishubsubscrib equal assertequ filter truefilt start request startrequest filter get getclass equal assertequ start request startrequest seq id start from seqidtostartfrom get local compon getlocalcompon equal assertequ subscrib id subscriberid start request startrequest subscrib id subscriberid equal assertequ topic start request startrequest topic make subscript regist stub callback stubcallback messag seq id messageseqid callback1 stub callback stubcallback messag seq id messageseqid sm serv subscrib request servesubscriberequest topic subscrib request subscriberequest builder newbuild sub request prototyp subrequestprototyp set creat attach setcreateorattach creat attach createorattach creat build messag seq id messageseqid builder newbuild set local compon setlocalcompon 10 build callback1 equal assertequ pub sub except pubsubexcept client subscrib except clientalreadysubscribedexcept concurr util concurrencyutil callback1 queue right get getclass subscrib error write record channel writerecordingchannel dup channel dupchannel write record channel writerecordingchannel sh handl request owner handlerequestatown pub sub request prototyp pubsubrequestprototyp dup channel dupchannel equal assertequ statu code statuscod topic busi topic_busi pub sub respons pubsubrespons dup channel dupchannel get messag written getmessageswritten get get statu code getstatuscod after disconnect channel subscrib work sh channel disconnect channeldisconnect channel dup channel dupchannel write record channel writerecordingchannel sh handl request owner handlerequestatown pub sub request prototyp pubsubrequestprototyp dup channel dupchannel equal assertequ statu code statuscod success pub sub respons pubsubrespons dup channel dupchannel get messag written getmessageswritten get get statu code getstatuscod test unsubscrib channel write record channel writerecordingchannel ush handl request owner handlerequestatown pub sub request prototyp pubsubrequestprototyp channel equal assertequ statu code statuscod malform request malformed_request pub sub respons pubsubrespons channel get messag written getmessageswritten get get statu code getstatuscod pub sub request pubsubrequest unsub request unsubrequest pub sub request pubsubrequest builder newbuild pub sub request prototyp pubsubrequestprototyp set unsubscrib request setunsubscriberequest unsubscrib request unsubscriberequest builder newbuild set subscrib id setsubscriberid subscrib id subscriberid build channel write record channel writerecordingchannel dm last request lastrequest clear ush handl request owner handlerequestatown unsub request unsubrequest channel equal assertequ statu code statuscod success pub sub respons pubsubrespons channel get messag written getmessageswritten get get statu code getstatuscod make deliveri ha stop equal assertequ topic subscrib topicsubscrib topic subscrib id subscriberid dm last request lastrequest poll make info from sm stub callback stubcallback messag seq id messageseqid callback2 stub callback stubcallback messag seq id messageseqid sm serv subscrib request servesubscriberequest topic subscrib request subscriberequest builder newbuild sub request prototyp subrequestprototyp set creat attach setcreateorattach creat attach createorattach attach build messag seq id messageseqid builder newbuild set local compon setlocalcompon 10 build callback2 equal assertequ pub sub except pubsubexcept client subscrib except clientnotsubscribedexcept concurr util concurrencyutil callback2 queue right get getclass 
builder com googl protobuf gener messag generatedmessag builder builder org apach hedwig protocol pub sub protocol pubsubprotocol region specif seq id regionspecificseqid result construct org apach hedwig protocol pub sub protocol pubsubprotocol region specif seq id regionspecificseqid builder newbuild builder builder creat builder builder builder builder result org apach hedwig protocol pub sub protocol pubsubprotocol region specif seq id regionspecificseqid builder org apach hedwig protocol pub sub protocol pubsubprotocol region specif seq id regionspecificseqid intern get result internalgetresult result builder clear result illeg state except illegalstateexcept call clear after build result org apach hedwig protocol pub sub protocol pubsubprotocol region specif seq id regionspecificseqid builder clone creat merg from mergefrom result com googl protobuf descriptor descriptor get descriptor type getdescriptorfortyp org apach hedwig protocol pub sub protocol pubsubprotocol region specif seq id regionspecificseqid get descriptor getdescriptor org apach hedwig protocol pub sub protocol pubsubprotocol region specif seq id regionspecificseqid get instanc type getdefaultinstancefortyp org apach hedwig protocol pub sub protocol pubsubprotocol region specif seq id regionspecificseqid get instanc getdefaultinst initi isiniti result initi isiniti org apach hedwig protocol pub sub protocol pubsubprotocol region specif seq id regionspecificseqid build result initi isiniti uniniti messag except newuninitializedmessageexcept result build partial buildparti org apach hedwig protocol pub sub protocol pubsubprotocol region specif seq id regionspecificseqid build pars buildpars com googl protobuf invalid protocol buffer except invalidprotocolbufferexcept initi isiniti uniniti messag except newuninitializedmessageexcept result invalid protocol buffer except asinvalidprotocolbufferexcept build partial buildparti org apach hedwig protocol pub sub protocol pubsubprotocol region specif seq id regionspecificseqid build partial buildparti result illeg state except illegalstateexcept build ha call builder org apach hedwig protocol pub sub protocol pubsubprotocol region specif seq id regionspecificseqid returnm result result returnm builder merg from mergefrom com googl protobuf messag org apach hedwig protocol pub sub protocol pubsubprotocol region specif seq id regionspecificseqid merg from mergefrom org apach hedwig protocol pub sub protocol pubsubprotocol region specif seq id regionspecificseqid merg from mergefrom builder merg from mergefrom org apach hedwig protocol pub sub protocol pubsubprotocol region specif seq id regionspecificseqid org apach hedwig protocol pub sub protocol pubsubprotocol region specif seq id regionspecificseqid get instanc getdefaultinst ha region hasregion set region setregion get region getregion ha seq id hasseqid set seq id setseqid get seq id getseqid merg unknown field mergeunknownfield get unknown field getunknownfield builder merg from mergefrom com googl protobuf code input stream codedinputstream input com googl protobuf extens registri lite extensionregistrylit extens registri extensionregistri java io io except ioexcept com googl protobuf unknown field set unknownfieldset builder unknown field unknownfield com googl protobuf unknown field set unknownfieldset builder newbuild get unknown field getunknownfield tag input read tag readtag tag set unknown field setunknownfield unknown field unknownfield build pars unknown field parseunknownfield input unknown field unknownfield extens registri extensionregistri tag set unknown field setunknownfield unknown field unknownfield build 10 set region setregion input read byte readbyt 16 set seq id setseqid input read int64 readuint64 requir byte region ha region hasregion result ha region hasregion com googl protobuf string bytestr get region getregion result get region getregion builder set region setregion com googl protobuf string bytestr valu valu pointer except nullpointerexcept result ha region hasregion result region region_ valu builder clear region clearregion result ha region hasregion result region region_ get instanc getdefaultinst get region getregion requir uint64 seq id seqid ha seq id hasseqid result ha seq id hasseqid get seq id getseqid result get seq id getseqid builder set seq id setseqid valu result ha seq id hasseqid result seq id seqid_ valu builder clear seq id clearseqid result ha seq id hasseqid result seq id seqid_ 0l protoc insert point protoc_insertion_point builder scope builder_scop hedwig region specif seq id regionspecificseqid 
client side part book keeper bookkeep protocol booki client bookiecli logger log logger factori loggerfactori get logger getlogg booki client bookiecli global state booki client bookiecli atom atomiclong total byte outstand totalbytesoutstand atom atomiclong order safe executor orderedsafeexecutor executor client socket channel factori clientsocketchannelfactori channel factori channelfactori concurr hash map concurrenthashmap inet socket address inetsocketaddress channel booki client perchannelbookiecli channel concurr hash map concurrenthashmap inet socket address inetsocketaddress channel booki client perchannelbookiecli client configur clientconfigur conf booki client bookiecli client configur clientconfigur conf client socket channel factori clientsocketchannelfactori channel factori channelfactori order safe executor orderedsafeexecutor executor conf conf channel factori channelfactori channel factori channelfactori executor executor channel booki client perchannelbookiecli lookup client lookupcli inet socket address inetsocketaddress addr channel booki client perchannelbookiecli channel channel get addr channel channel channel booki client perchannelbookiecli conf executor channel factori channelfactori addr total byte outstand totalbytesoutstand channel booki client perchannelbookiecli prev channel prevchannel channel put absent putifabs addr channel prev channel prevchannel channel prev channel prevchannel channel close client closecli set inet socket address inetsocketaddress addr hash set hashset channel booki client perchannelbookiecli client hash set hashset channel booki client perchannelbookiecli inet socket address inetsocketaddress addr channel booki client perchannelbookiecli channel get client add client size executor submit safe runnabl saferunn overrid safe run saferun channel booki client perchannelbookiecli client close add entri addentri inet socket address inetsocketaddress addr ledger id ledgerid master kei masterkei entri id entryid channel buffer channelbuff send tosend write callback writecallback cb object ctx option channel booki client perchannelbookiecli client lookup client lookupcli addr client connect need op connectifneededanddoop gener callback genericcallback overrid oper complet operationcomplet rc result rc bk except bkexcept code cb write complet writecomplet rc ledger id ledgerid entri id entryid addr ctx client add entri addentri ledger id ledgerid master kei masterkei entri id entryid send tosend cb ctx option read entri fenc ledger readentryandfenceledg inet socket address inetsocketaddress addr ledger id ledgerid master kei masterkei entri id entryid read entri callback readentrycallback cb object ctx channel booki client perchannelbookiecli client lookup client lookupcli addr client connect need op connectifneededanddoop gener callback genericcallback overrid oper complet operationcomplet rc result rc bk except bkexcept code cb read entri complet readentrycomplet rc ledger id ledgerid entri id entryid ctx client read entri fenc ledger readentryandfenceledg ledger id ledgerid master kei masterkei entri id entryid cb ctx read entri readentri inet socket address inetsocketaddress addr ledger id ledgerid entri id entryid read entri callback readentrycallback cb object ctx channel booki client perchannelbookiecli client lookup client lookupcli addr client connect need op connectifneededanddoop gener callback genericcallback overrid oper complet operationcomplet rc result rc bk except bkexcept code cb read entri complet readentrycomplet rc ledger id ledgerid entri id entryid ctx client read entri readentri ledger id ledgerid entri id entryid cb ctx close channel booki client perchannelbookiecli channel channel valu channel close counter total total dec notifi notifyal wait limit interrupt except interruptedexcept limit wait total total param arg io except ioexcept number format except numberformatexcept interrupt except interruptedexcept main string arg number format except numberformatexcept io except ioexcept interrupt except interruptedexcept arg length err println usag booki client bookiecli booki host bookiehost port ledger write callback writecallback cb write callback writecallback write complet writecomplet rc ledger entri inet socket address inetsocketaddress addr object ctx counter counter counter ctx counter dec rc println rc rc entri ledger counter counter counter hello hello get byte getbyt ledger pars parselong arg client socket channel factori clientsocketchannelfactori channel factori channelfactori nio client socket channel factori nioclientsocketchannelfactori executor cach thread pool newcachedthreadpool executor cach thread pool newcachedthreadpool order safe executor orderedsafeexecutor executor order safe executor orderedsafeexecutor booki client bookiecli bc booki client bookiecli client configur clientconfigur channel factori channelfactori executor inet socket address inetsocketaddress addr inet socket address inetsocketaddress arg integ pars parseint arg 100000 counter bc add entri addentri addr ledger channel buffer channelbuff wrap buffer wrappedbuff hello cb counter counter wait println total counter total channel factori channelfactori releas extern resourc releaseexternalresourc executor shutdown 
test run server ledger manag run runwith parameter abstract ledger manag test ledgermanagertestcas book keeper cluster test bookkeeperclustertestcas logger log logger factori loggerfactori get logger getlogg ledger manag test ledgermanagertestcas ledger manag ledgermanag ledger manag ledgermanag ledger manag test ledgermanagertestcas string ledger manag type ledgermanagertyp base conf baseconf set ledger manag type setledgermanagertyp ledger manag type ledgermanagertyp paramet collect object config arrai list aslist object flat ledger manag flatledgermanag name hierarch ledger manag hierarchicalledgermanag name befor overrid set up setup except set up setup ledger manag ledgermanag ledger manag factori ledgermanagerfactori ledger manag newledgermanag base conf baseconf zkc after overrid tear down teardown except ledger manag ledgermanag close tear down teardown 
server respons topic except servernotresponsiblefortopicexcept pub sub except pubsubexcept note except messag serv name respons host server respons topic except servernotresponsiblefortopicexcept string respons host responsiblehost statu code statuscod respons topic not_responsible_for_top respons host responsiblehost 
filter list journal roll journal roll filter journalrollingfilt journal id filter journalidfilt overrid accept journal id journalid journal id journalid last log mark lastlogmark get last mark getlastmark get txn log id gettxnlogid 
test booki recoveri hierarch ledger manag hierarchicalledgermanag hierarch booki recoveri test hierarchicalbookierecoverytest booki recoveri test bookierecoverytest hierarch booki recoveri test hierarchicalbookierecoverytest digest type digesttyp digest type digesttyp digest type digesttyp befor overrid set up setup except base conf baseconf set ledger manag type setledgermanagertyp hierarch ledger manag hierarchicalledgermanag name base client conf baseclientconf set ledger manag type setledgermanagertyp hierarch ledger manag hierarchicalledgermanag name set up setup 
abstract close callback closecallback async callback asynccallback close callback closecallback overrid close complet closecomplet rc ledger handl ledgerhandl ledger handl ledgerhandl object ctx safe close complet safeclosecomplet rc ledger handl ledgerhandl ctx throwabl invok uncaught except handler invokeuncaughtexceptionhandl abstract safe close complet safeclosecomplet rc ledger handl ledgerhandl ledger handl ledgerhandl object ctx 
booki illeg op except bookieillegalopexcept booki except bookieexcept booki illeg op except bookieillegalopexcept code unauthor access except unauthorizedaccessexcept 
deliveri end point deliveryendpoint send pub sub respons pubsubrespons respons deliveri callback deliverycallback callback close 
defin client subscrib api subscrib subscrib topic input subscrib id subscriberid param topic topic name subscript param subscrib id subscriberid id subscrib param mode prohibit toler requir exist subscript connect except couldnotconnectexcept abl connect server host client subscrib except clientalreadysubscribedexcept client subscrib topic servic down except servicedownexcept unabl subscrib topic invalid subscrib id except invalidsubscriberidexcept subscrib id subscriberid valid set asid format subscrib id subscriberid differ purpos local vs hub subscrib subscrib string bytestr topic string bytestr subscrib id subscriberid creat attach createorattach mode connect except couldnotconnectexcept client subscrib except clientalreadysubscribedexcept servic down except servicedownexcept invalid subscrib id except invalidsubscriberidexcept subscrib topic asynchron input subscrib id subscriberid disregard topic ha creat param topic topic name subscript param subscrib id subscriberid id subscrib param mode prohibit toler requir exist subscript param callback callback invok subscrib request server ha deal error condit async subscrib request param context call context callback done asynchron async subscrib asyncsubscrib string bytestr topic string bytestr subscrib id subscriberid creat attach createorattach mode callback callback object context subscrib topic input subscrib id subscriberid param topic topic name subscript param subscrib id subscriberid id subscrib param option option pass subscript link subscrib async subscrib asyncsubscrib com googl protobuf string bytestr com googl protobuf string bytestr pub sub protocol pubsubprotocol subscript option subscriptionopt callback object async subscrib asyncsubscrib detail set option connect except couldnotconnectexcept abl connect server host client subscrib except clientalreadysubscribedexcept client subscrib topic servic down except servicedownexcept unabl subscrib topic invalid subscrib id except invalidsubscriberidexcept subscrib id subscriberid valid set asid format subscrib id subscriberid differ purpos local vs hub subscrib subscrib string bytestr topic string bytestr subscrib id subscriberid subscript option subscriptionopt option connect except couldnotconnectexcept client subscrib except clientalreadysubscribedexcept servic down except servicedownexcept invalid subscrib id except invalidsubscriberidexcept subscrib topic asynchron input subscrib id subscriberid subscript option subscriptionopt contain paramet hub make subscript two option createorattach mode messag bound createorattach mode defin subscript creat subscript attach preexist subscript creat subscript subscript exist error occur messag bound defin maximum number undeliv messag store subscript us ensur unus subscript grow unbound fashion messag bound infinit undeliv messag store subscript note on subscript topic ha infinit messag bound messag bound subscript topic effect infinit messag store first subscript usag follow pre code creat subscript messag bound subscript option subscriptionopt option subscript option subscriptionopt builder newbuild set creat attach setcreateorattach creat attach createorattach creat set messag bound setmessagebound build client get subscrib getsubscrib async subscrib asyncsubscrib string bytestr copi from utf8 copyfromutf8 topic mytop string bytestr copi from utf8 copyfromutf8 subscript mysubscript option callback mycallback context mycontext pre param topic topic name subscript param subscrib id subscriberid id subscrib param option option pass subscript param callback callback invok subscrib request server ha deal error condit async subscrib request param context call context callback done asynchron async subscrib asyncsubscrib string bytestr topic string bytestr subscrib id subscriberid subscript option subscriptionopt option callback callback object context unsubscrib from topic subscrib id subscriberid user ha previous subscrib param topic topic name subscript param subscrib id subscriberid id subscrib connect except couldnotconnectexcept abl connect server host client subscrib except clientnotsubscribedexcept client current subscrib topic servic down except servicedownexcept server down unabl complet request invalid subscrib id except invalidsubscriberidexcept subscrib id subscriberid valid set asid format subscrib id subscriberid differ purpos local vs hub subscrib unsubscrib string bytestr topic string bytestr subscrib id subscriberid connect except couldnotconnectexcept client subscrib except clientnotsubscribedexcept servic down except servicedownexcept invalid subscrib id except invalidsubscriberidexcept unsubscrib from topic asynchron subscrib id subscriberid user ha previous subscrib param topic topic name subscript param subscrib id subscriberid id subscrib param callback callback invok unsubscrib request server ha deal error condit async unsubscrib request param context call context callback done asynchron async unsubscrib asyncunsubscrib string bytestr topic string bytestr subscrib id subscriberid callback callback object context manual send consum messag server input param topic topic name subscript param subscrib id subscriberid id subscrib param messag seq id messageseqid messag sequenc id latest messag client app ha successfulli consum messag up point consid consum client subscrib except clientnotsubscribedexcept client current subscrib topic base client local state consum string bytestr topic string bytestr subscrib id subscriberid messag seq id messageseqid messag seq id messageseqid client subscrib except clientnotsubscribedexcept check subscrib id subscriberid client current subscrib topic param topic topic name subscript param subscrib id subscriberid id subscrib connect except couldnotconnectexcept abl connect server host servic down except servicedownexcept error check server client ha subscript indic client ha subscript ha subscript hassubscript string bytestr topic string bytestr subscrib id subscriberid connect except couldnotconnectexcept servic down except servicedownexcept fill input list subscript subscrib id subscriberid client subscrib param subscrib id subscriberid id subscrib list fill subscript name topic string connect except couldnotconnectexcept abl connect server host servic down except servicedownexcept error retriev list topic list string bytestr get subscript list getsubscriptionlist string bytestr subscrib id subscriberid connect except couldnotconnectexcept servic down except servicedownexcept begin deliveri messag from server topic subscrib id subscriberid param topic topic name subscript param subscrib id subscriberid id subscrib param messag handler messagehandl messag handler consum subscrib messag client subscrib except clientnotsubscribedexcept client current subscrib topic start deliveri except alreadystartdeliveryexcept start deliveri messag handler befor stop exist on start deliveri startdeliveri string bytestr topic string bytestr subscrib id subscriberid messag handler messagehandl messag handler messagehandl client subscrib except clientnotsubscribedexcept start deliveri except alreadystartdeliveryexcept stop deliveri messag topic subscrib id subscriberid param topic topic name subscript param subscrib id subscriberid id subscrib client subscrib except clientnotsubscribedexcept client current subscrib topic stop deliveri stopdeliveri string bytestr topic string bytestr subscrib id subscriberid client subscrib except clientnotsubscribedexcept close client side cach data subscript send unsubscrib request server close subscrib channel synchron exist topic param topic topic name subscript param subscrib id subscriberid id subscrib servic down except servicedownexcept subscrib channel abl close successfulli close subscript closesubscript string bytestr topic string bytestr subscrib id subscriberid servic down except servicedownexcept close client side cach data subscript send unsubscrib request server close subscrib channel asynchron exist topic param topic topic name subscript param subscrib id subscriberid id subscrib param callback callback invok subscrib channel ha close param context call context callback done asynchron async close subscript asyncclosesubscript string bytestr topic string bytestr subscrib id subscriberid callback callback object context 
test benchmark testbenchmark logger log logger factori loggerfactori get logger getlogg test benchmark testbenchmark thread ensembl thread ensemblethread string zk string zkstring localhost 2181 list string booki befor beforeclass start ensembl startensembl except num booki numbooki ensembl thread ensemblethread thread run local book keeper localbookkeep main string string valu valueof num booki numbooki interrupt except interruptedexcept log info shut down ensembl thread except log error error run bookkeep ensembl ensembl thread ensemblethread start local book keeper localbookkeep wait server up waitforserverup zk string zkstring 5000 except fail start zookeep zoo keeper zookeep zk count down latch countdownlatch connect latch connectlatch count down latch countdownlatch zk zoo keeper zookeep zk string zkstring 15000 watcher overrid process watch event watchedev event event get state getstat keeper state keeperst sync connect syncconnect connect latch connectlatch count down countdown connect latch connectlatch await 10 time unit timeunit second log error couldn connect zookeep zk string zkstring 10 booki zk get children getchildren ledger avail zk get children getchildren ledger avail size num booki numbooki except thread sleep 1000 except booki start zk close after afterclass stop ensembl stopensembl except ensembl thread ensemblethread ensembl thread ensemblethread interrupt ensembl thread ensemblethread join test test throughput latenc testthroughputlat except bench throughput latenc benchthroughputlat main string time 10 skipwarmup throttl sendlimit 10000 test test booki testbooki except string booki booki get string part booki split bench booki benchbooki main string host part port part zookeep zk string zkstring test test read throughput latenc testreadthroughputlat except atom atomicboolean threw except threwexcept atom atomicboolean thread thread run bench read throughput latenc benchreadthroughputlat main string listen 10 throwabl log error error read start thread sleep 10000 data 1024 arrai fill data last ledger id lastledgerid asserttru thread run aliv isal 10 book keeper bookkeep bk book keeper bookkeep zk string zkstring ledger handl ledgerhandl lh bk creat ledger createledg book keeper bookkeep digest type digesttyp crc32 bench passwd benchpasswd get byte getbyt last ledger id lastledgerid lh get id getid 100 lh add entri addentri data lh close bk close 60 aliv isal thread sleep 1000 wait 10 second read finish assertfals thread finish aliv isal bench read throughput latenc benchreadthroughputlat main string ledger string valu valueof last ledger id lastledgerid next ledger id nextledgerid last ledger id lastledgerid thread run bench read throughput latenc benchreadthroughputlat main string ledger string valu valueof next ledger id nextledgerid throwabl log error error read start asserttru thread run aliv isal book keeper bookkeep bk book keeper bookkeep zk string zkstring ledger handl ledgerhandl lh bk creat ledger createledg book keeper bookkeep digest type digesttyp crc32 bench passwd benchpasswd get byte getbyt 100 lh add entri addentri data lh close bk close 60 aliv isal thread sleep 1000 wait 10 second read finish assertfals thread finish aliv isal 
test server configur testserverconfigur hub server configur hubserverconfigur test server configur testserverconfigur server port serverport ssl server port sslserverport server port serverport ssl server port sslserverport overrid get bk ensembl size getbkensembles overrid get bk quorum size getbkquorums overrid get read ahead count getreadaheadcount overrid get maximum cach size getmaximumcaches 32 
stat aggreg callback round trip oper measur throughput latenc throughput latenc aggreg throughputlatencyaggreg num bucket numbucket throughput aggreg throughputaggreg tp agg tpagg semaphor outstand atom atomiclong sum atom atomiclong atom atomiclong latenc bucket latencybucket bucket count number oper ms ms throughput latenc aggreg throughputlatencyaggreg string label count limit interrupt except interruptedexcept num bucket numbucket integ get integ getinteg num bucket numbucket 101 latenc bucket latencybucket atom atomiclong num bucket numbucket tp agg tpagg throughput aggreg throughputaggreg label count outstand semaphor limit num bucket numbucket latenc bucket latencybucket atom atomiclong start progress startprogress tp agg tpagg start progress startprogress report latenc reportlat latenc sum add get addandget latenc bucket index bucketindex latenc num bucket numbucket bucket index bucketindex num bucket numbucket bucket index bucketindex latenc latenc bucket latencybucket bucket index bucketindex increment get incrementandget string get percentil getpercentil percentil num inlier need numinliersneed percentil 100 tp agg tpagg count num inlier found numinliersfound num bucket numbucket num inlier found numinliersfound latenc bucket latencybucket valu intvalu num inlier found numinliersfound num inlier need numinliersneed num bucket numbucket string summar start time starttim percentil pars parsedoubl get properti getproperti percentil 99 tp agg tpagg summar start time starttim avg latenc sum get tp agg tpagg count percentil il latenc get percentil getpercentil percentil 
list avail command hedwig command hedwigcommand string empti arrai empty_arrai string list command us plai hedwig pub publish messag hedwig string pub pub string pub desc pub_desc publish messag topic hedwig string pub usag pub_usag string usag pub topic messag topic topic name printabl string space messag messag bodi remain argument us messag bodi publish sub subscrib topic hedwig specifi subscrib string sub sub string sub desc sub_desc subscrib topic specifi subscrib string sub usag sub_usag string usag sub topic subscrib mode topic topic name printabl string space subscrib subscrib id printabl string space mode mode creat subscript receiv start deliveri receiv messag avail mode valu creat creat subscript subscript exsit fail attach attach exsit subscript subscript exist fail creat attach create_or_attach attach subscript exist creat on closesub close subscript subscrib topic string closesub closesub string closesub desc closesub_desc close subscript subscrib specifi topic string closesub usag closesub_usag string usag closesub topic subscrib topic topic name printabl string space subscrib subscrib id printabl string space note command cleanup subscript state client side unsub clean subscript state server side unsub unsubscrib subscrib topic string unsub unsub string unsub desc unsub_desc unsubscrib topic subscrib string unsub usag unsub_usag string usag unsub topic subscrib topic topic name printabl string space subscrib subscrib id printabl string space note command cleanup subscript state server side closesub clean subscript state client side string rmsub rmsub string rmsub desc rmsub_desc remov subscript topic string rmsub usag rmsub_usag string usag rmsub topic prefix topic_prefix start topic start_top end topic end_top subscrib prefix subscriber_prefix start sub start_sub end sub end_sub topic prefix topic_prefix topic prefix start topic start_top start topic id end topic end_top end topic id subscrib prefix subscriber_prefix subscrib prefix start sub start_sub start subscrib id end sub end_sub end subscrib id consum move consum ptr subscript specifi step string consum consum string consum desc consume_desc move consum ptr subscript sepcifi step string consum usag consume_usag string usag consum topic subscrib nmsg topic topic name printabl string space subscrib subscrib id printabl string space nmsg messag move consum ptr exampl suppos from zk subscrib consum topic messag 10 hedwig standalon consum after execut command consum 10 request sent hedwig note hedwig updat subscript consum ptr lazili consumpt ptr read from zookeep stabl after sent consum request hedwig move ptr memori lazili updat zookeep ptr chang describ topic consumeto move consum ptr subscript specifi po string consumeto consumeto string consumeto desc consumeto_desc move consum ptr subscript specifi messag id string consumeto usag consumeto_usag string usag consumeto topic subscrib msg id msg_id topic topic name printabl string space subscrib subscrib id printabl string space msg id msg_id messag id consum ptr move messag id current consum ptr hedwig exampl suppos from zk subscrib consum topic messag 10 hedwig standalon consumeto 12 after execut command consum 12 request sent hedwig note hedwig updat subscript consum ptr lazili consumpt ptr read from zookeep stabl after sent consum request hedwig move ptr memori lazili updat zookeep ptr chang describ topic pubsub healthi check command ensur cluster run string pubsub pubsub string pubsub desc pubsub_desc healthi check command ensur hedwig run state string pubsub usag pubsub_usag string usag pubsub topic subscrib timeout sec timeout_sec messag topic topic name printabl string space subscrib subscrib id printabl string space timeout sec timeout_sec subscrib wait publish messag messag messag bodi remain argument us messag bodi publish exampl hedwig standalon pubsub topic subid 10 test messag test_messag hw subscrib topic topic subscrib subid subscrib subid wait messag 10 second hw publish test messag test_messag topic topic subscrib recevi messag 10 sec check messag publish messag success fail list command us admin hedwig show list avail hub server topic string show show string show desc show_desc list avail hub server topic string show usag show_usag string usag show topic hub show topic list avail topic hedwig show hub list avail hub hedwig note show topic work million topic hedwig packet len packetlen limit fetch data from zookeep string show topic show_top topic string show hub show_hub hub describ show metadata topic string describ describ string describ desc describe_desc show metadata topic includ topic owner persist info subscript info string describ usag describe_usag string usag describ topic topic topic topic name printabl string space exampl describ topic ttttt output topic inform ttttt owner 98 137 99 27 9875 9876 persist info ledger 54729 59 ledger 54731 60 60 ledger 54733 61 61 subscript info subscrib mysub consum seq id consumeseqid local 50 string describ topic describe_top topic readtop read messag specifi topic string readtop readtop string readtop desc readtopic_desc read messag specifi topic string readtop usag readtopic_usag string usag readtop topic start msg id start_msg_id topic topic name printabl string space start msg id start_msg_id messag id start read from start msg id start_msg_id provid start from least consum messag id least_consumed_message_id least consum messag id least_consume_message_id comput from subscrib start msg id start_msg_id provid start from max start msg id start_msg_id least consum messag id least_consumed_message_id messag format msgid local 51 msg id msgid local 51 src region srcregion standalon messag hello list command set set print zk watch string set set string set desc set_desc set print zk watch string set usag set_usag empti arrai empty_arrai histori list histori command string histori histori string histori desc history_desc list histori command string histori usag history_usag empti arrai empty_arrai redo redo previou command string redo redo string redo desc redo_desc redo histori command string redo usag redo_usag string usag redo cmdno cmdno histori command last command help print usag inform specifi command string help help string help desc help_desc print usag inform specifi command string help usag help_usag string usag help command command command name string quit quit string quit desc quit_desc exit consol string quit usag quit_usag empti arrai empty_arrai string exit exit string exit desc exit_desc quit desc quit_desc string exit usag exit_usag empti arrai empty_arrai command cmd pub cmd_pub pub pub desc pub_desc pub usag pub_usag cmd sub cmd_sub sub sub desc sub_desc sub usag sub_usag cmd closesub cmd_closesub closesub closesub desc closesub_desc closesub usag closesub_usag cmd unsub cmd_unsub unsub unsub desc unsub_desc unsub usag unsub_usag cmd rmsub cmd_rmsub rmsub rmsub desc rmsub_desc rmsub usag rmsub_usag cmd consum cmd_consum consum consum desc consume_desc consum usag consume_usag cmd consumeto cmd_consumeto consumeto consumeto desc consumeto_desc consumeto usag consumeto_usag cmd pubsub cmd_pubsub pubsub pubsub desc pubsub_desc pubsub usag pubsub_usag cmd show cmd_show show show desc show_desc show usag show_usag cmd describ cmd_describ describ describ desc describe_desc describ usag describe_usag cmd readtop cmd_readtop readtop readtop desc readtopic_desc readtop usag readtopic_usag cmd set cmd_set set set desc set_desc set usag set_usag cmd histori cmd_histori histori histori desc history_desc histori usag history_usag cmd redo cmd_redo redo redo desc redo_desc redo usag redo_usag cmd help cmd_help help help desc help_desc help usag help_usag cmd quit cmd_quit quit quit desc quit_desc quit usag quit_usag cmd exit cmd_exit exit exit desc exit_desc exit usag exit_usag sub command cmd show topic cmd_show_top show topic show_top empti arrai empty_arrai cmd show hub cmd_show_hub show hub show_hub empti arrai empty_arrai cmd describ topic cmd_describe_top describ topic describe_top empti arrai empty_arrai command string name string desc string usag name name desc desc usag usag sub cmd subcmd link hash map linkedhashmap string command string get name getnam name string get descript getdescript desc map string command get sub command getsubcommand sub cmd subcmd add sub command addsubcommand command sub cmd subcmd put name print usag printusag err println name desc string line usag err println line err println string name string desc string usag map string command sub cmd subcmd map string command command add command addcommand command command put get name getnam init command command link hash map linkedhashmap string command add command addcommand command cmd pub cmd_pub add command addcommand command cmd sub cmd_sub add command addcommand command cmd closesub cmd_closesub add command addcommand command cmd unsub cmd_unsub add command addcommand command cmd rmsub cmd_rmsub add command addcommand command cmd consum cmd_consum add command addcommand command cmd consumeto cmd_consumeto add command addcommand command cmd pubsub cmd_pubsub show command cmd show cmd_show add sub command addsubcommand command cmd show topic cmd_show_top command cmd show cmd_show add sub command addsubcommand command cmd show hub cmd_show_hub add command addcommand command cmd show cmd_show describ command cmd describ cmd_describ add sub command addsubcommand command cmd describ topic cmd_describe_top add command addcommand command cmd describ cmd_describ add command addcommand command cmd readtop cmd_readtop add command addcommand command cmd set cmd_set add command addcommand command cmd histori cmd_histori add command addcommand command cmd redo cmd_redo add command addcommand command cmd help cmd_help add command addcommand command cmd quit cmd_quit add command addcommand command cmd exit cmd_exit map string command get hedwig command gethedwigcommand command find candid command specifi token list param token token list list candid command list string find candid command findcandidatecommand string token list string cmd link list linkedlist string map string command cmd map cmdmap command token length command cmd map cmdmap get token command get sub command getsubcommand size cmd cmd map cmdmap get sub command getsubcommand cmd add addal cmd map cmdmap kei set keyset cmd 
booki benchmark bookiebenchmark abstract benchmark abstractbenchmark logger logger logger factori loggerfactori get logger getlogg bookkeep benchmark bookkeeperbenchmark booki client bookiecli bkc inet socket address inetsocketaddress addr client socket channel factori clientsocketchannelfactori channel factori channelfactori order safe executor orderedsafeexecutor executor order safe executor orderedsafeexecutor booki benchmark bookiebenchmark string booki host port bookiehostport except channel factori channelfactori nio client socket channel factori nioclientsocketchannelfactori executor cach thread pool newcachedthreadpool executor cach thread pool newcachedthreadpool bkc booki client bookiecli client configur clientconfigur channel factori channelfactori executor string host port hostport booki host port bookiehostport split addr inet socket address inetsocketaddress host port hostport integ pars parseint host port hostport overrid op doop num op numop except num outstand numoutstand integ get integ getinteg par npar 1000 semaphor outstand semaphor num outstand numoutstand write callback writecallback callback write callback writecallback abstract callback abstractcallback handler abstract callback abstractcallback outstand num op numop overrid write complet writecomplet rc ledger id ledgerid entri id entryid inet socket address inetsocketaddress addr object ctx handler handl rc bk except bkexcept code ctx passwd 20 size integ get integ getinteg size 1024 data size num op numop outstand acquir buffer bytebuff buffer buffer bytebuff alloc 44 ledger id ledgerid 1000 buffer put putlong ledger id ledgerid buffer put putlong buffer put putlong buffer put passwd buffer rewind channel buffer channelbuff send tosend channel buffer channelbuff wrap buffer wrappedbuff channel buffer channelbuff wrap buffer wrappedbuff buffer slice channel buffer channelbuff wrap buffer wrappedbuff data bkc add entri addentri addr ledger id ledgerid passwd send tosend callback current time milli currenttimemilli overrid tear down teardown bkc close channel factori channelfactori releas extern resourc releaseexternalresourc executor shutdown main string arg except booki benchmark bookiebenchmark benchmark booki benchmark bookiebenchmark arg benchmark run 
releas op releaseop topic op queuer topicopqueu asynchron op asynchronousop releas op releaseop string bytestr topic callback cb object ctx queuer topic cb ctx overrid run callback cb finalcb callback overrid oper finish operationfinish object ctx result oper resultofoper finish overrid oper fail operationfail object ctx pub sub except pubsubexcept except logger warn error releas topic topic string utf8 tostringutf8 except finish finish topic2 local count topic2localcount remov topic decrement local count remot subscript fail don unsubscrib succe subscript depend local count notifi unsubscrib notifi unsubcrib notifyunsubcrib topic cb oper finish operationfinish ctx logger debug enabl isdebugen logger debug updat subscript state lose topic topic string utf8 tostringutf8 updat subscript state updatesubscriptionst topic cb finalcb ctx 
exit code us exit booki server exit code exitcod normal quit invalid configur invalid conf invalid_conf except run booki server server except server_except zookeep expir zk expir zk_expir booki zookeep fail zk reg fail zk_reg_fail except run booki booki except bookie_except 
creat hardlink support unix linux win xp winxp 2003 vista cygwin mac os hard link hardlink inner fs util fsutil method provid blatantli non thread safe enabl volum parallel updat snapshot provid threadsaf method alloc buffer string arrai call provid api hardlink file directori singl command up 128 time more effici minim impact extra buffer creation hard link hardlink os type ostyp os type unix os_type_unix os type winxp os_type_winxp os type solari os_type_solari os type mac os_type_mac os type ostyp os type ostyp hard link command getter hardlinkcommandgett get hard link command gethardlinkcommand link stat linkstat link stat linkstat initi command getter static us method instanti hard link hardlink object os type ostyp get os type getostyp os type ostyp os type ostyp os type winxp os_type_winxp window get hard link command gethardlinkcommand hard link cg win hardlinkcgwin unix get hard link command gethardlinkcommand hard link cg unix hardlinkcgunix overrid get link count command getlinkcountcommand unix variant linux set stat os type ostyp os type ostyp os type mac os_type_mac string link count cmd linkcountcmdtempl stat hard link cg unix hardlinkcgunix set link count cmd setlinkcountcmdtempl link count cmd linkcountcmdtempl os type ostyp os type ostyp os type solari os_type_solari string link count cmd linkcountcmdtempl ls hard link cg unix hardlinkcgunix set link count cmd setlinkcountcmdtempl link count cmd linkcountcmdtempl hard link hardlink link stat linkstat link stat linkstat os type ostyp get os type getostyp string os name osnam get properti getproperti os name os name osnam contain window os name osnam contain xp os name osnam contain 2003 os name osnam contain vista os name osnam contain window windows_7 os name osnam contain window os name osnam contain windows7 os type ostyp os type winxp os_type_winxp os name osnam contain sun os suno os name osnam contain solari os type ostyp os type solari os_type_solari os name osnam contain mac os type ostyp os type mac os_type_mac os type ostyp os type unix os_type_unix abstract bridg os depend implement need function creat hardlink queri link count implement chosen initi phase hard link hardlink getter method construct shell command string purpos abstract hard link command getter hardlinkcommandgett get command string need hardlink bunch file from singl sourc directori target directori sourc directori specifi here command execut sourc directori current work directori shell invoc param file base name filebasenam arrai path file name rel sourc directori param link dir linkdir target directori hardlink put arrai string suitabl us singl shell command link runtim exec io except ioexcept file path name misbehav abstract string link mult linkmult string file base name filebasenam file link dir linkdir io except ioexcept get command string need hardlink singl file abstract string link on linkon file file file link name linknam io except ioexcept get command string queri hardlink count file abstract string link count linkcount file file io except ioexcept calcul total string length shell command result from execut link mult linkmult plu length sourc directori name provid shell param file dir filedir sourc directori parent file base name filebasenam param file base name filebasenam arrai path file name rel sourc directori param link dir linkdir target directori hardlink put total data length exce max allow cmd arg length maxallowedcmdarglength io except ioexcept abstract get link mult arg length getlinkmultarglength file file dir filedir string file base name filebasenam file link dir linkdir io except ioexcept get maximum allow string length shell command os document minimum guarante support command length aprx 32 kb 32kb unix kb 8kb window abstract get max allow cmd arg length getmaxallowedcmdarglength implement hard link command getter hardlinkcommandgett unix hard link cg unix hardlinkcgunix hard link command getter hardlinkcommandgett string hard link command hardlinkcommand ln string hard link mult prefix hardlinkmultprefix ln string hard link mult suffix hardlinkmultsuffix string get link count command getlinkcountcommand stat unix guarante least 32k byte cmd length subtract 64b allow java exec overhead max allow cmd arg length maxallowedcmdarglength 32 1024 65 set link count cmd setlinkcountcmdtempl string updat specif unix variant after initi phase get link count command getlinkcountcommand org apach hadoop fs hard link hardlink hard link command getter hardlinkcommandgett link on linkon java io file java io file overrid string link on linkon file file file link name linknam io except ioexcept string buf string hard link command hardlinkcommand length arraycopi hard link command hardlinkcommand buf hard link command hardlinkcommand length unix argument order ln exist buf make shell path makeshellpath file buf make shell path makeshellpath link name linknam buf org apach hadoop fs hard link hardlink hard link command getter hardlinkcommandgett link mult linkmult java lang string java io file overrid string link mult linkmult string file base name filebasenam file link dir linkdir io except ioexcept string buf string file base name filebasenam length hard link mult prefix hardlinkmultprefix length hard link mult suffix hardlinkmultsuffix length mark arraycopi hard link mult prefix hardlinkmultprefix buf mark hard link mult prefix hardlinkmultprefix length mark hard link mult prefix hardlinkmultprefix length arraycopi file base name filebasenam buf mark file base name filebasenam length mark file base name filebasenam length buf mark make shell path makeshellpath link dir linkdir buf org apach hadoop fs hard link hardlink hard link command getter hardlinkcommandgett link count linkcount java io file overrid string link count linkcount file file io except ioexcept string buf string get link count command getlinkcountcommand length arraycopi get link count command getlinkcountcommand buf get link count command getlinkcountcommand length buf get link count command getlinkcountcommand length make shell path makeshellpath file buf org apach hadoop fs hard link hardlink hard link command getter hardlinkcommandgett get link mult arg length getlinkmultarglength java io file java lang string java io file overrid get link mult arg length getlinkmultarglength file file dir filedir string file base name filebasenam file link dir linkdir io except ioexcept sum string file base name filebasenam add account termin delimit space sum length sum make shell path makeshellpath file dir filedir length make shell path makeshellpath link dir linkdir length add fix overhead hard link mult hardlinkmult prefix suffix sum length ln sum org apach hadoop fs hard link hardlink hard link command getter hardlinkcommandgett get max allow cmd arg length getmaxallowedcmdarglength overrid get max allow cmd arg length getmaxallowedcmdarglength max allow cmd arg length maxallowedcmdarglength implement hard link command getter hardlinkcommandgett window note link count linkcount shell command window cygwin shell command depend cygwin bin window path environ variabl stat ex found hard link cg win hardlinkcgwin hard link command getter hardlinkcommandgett window command getter impl member field access assist unit test sort non win server string hard link command hardlinkcommand fsutil hardlink creat string hard link mult prefix hardlinkmultprefix cmd string hard link mult dir hardlinkmultdir string hard link mult suffix hardlinkmultsuffix fsutil hardlink creat nul string get link count command getlinkcountcommand stat window guarante 8k byte cmd length subtract 64b allow java exec overhead max allow cmd arg length maxallowedcmdarglength 1024 65 org apach hadoop fs hard link hardlink hard link command getter hardlinkcommandgett link on linkon java io file java io file overrid string link on linkon file file file link name linknam io except ioexcept string buf string hard link command hardlinkcommand length arraycopi hard link command hardlinkcommand buf hard link command hardlinkcommand length window argument order creat exist buf file get canon path getcanonicalpath buf link name linknam get canon path getcanonicalpath buf org apach hadoop fs hard link hardlink hard link command getter hardlinkcommandgett link mult linkmult java lang string java io file overrid string link mult linkmult string file base name filebasenam file link dir linkdir io except ioexcept string buf string file base name filebasenam length hard link mult prefix hardlinkmultprefix length hard link mult suffix hardlinkmultsuffix length string td link dir linkdir get canon path getcanonicalpath hard link mult dir hardlinkmultdir mark arraycopi hard link mult prefix hardlinkmultprefix buf mark hard link mult prefix hardlinkmultprefix length mark hard link mult prefix hardlinkmultprefix length arraycopi file base name filebasenam buf mark file base name filebasenam length mark file base name filebasenam length arraycopi hard link mult suffix hardlinkmultsuffix buf mark hard link mult suffix hardlinkmultsuffix length mark hard link mult suffix hardlinkmultsuffix length buf mark td buf org apach hadoop fs hard link hardlink hard link command getter hardlinkcommandgett link count linkcount java io file overrid string link count linkcount file file io except ioexcept string buf string get link count command getlinkcountcommand length arraycopi get link count command getlinkcountcommand buf get link count command getlinkcountcommand length link count linkcount command cygwin shell command window shell command us make shell path makeshellpath get canon path getcanonicalpath caus shell exec cygpath ex stat ex handl do style path print coupl byte warn stderr us more effici get canon path getcanonicalpath buf get link count command getlinkcountcommand length file get canon path getcanonicalpath buf org apach hadoop fs hard link hardlink hard link command getter hardlinkcommandgett get link mult arg length getlinkmultarglength java io file java lang string java io file overrid get link mult arg length getlinkmultarglength file file dir filedir string file base name filebasenam file link dir linkdir io except ioexcept sum string file base name filebasenam add account termin delimit space sum length sum file dir filedir get canon path getcanonicalpath length link dir linkdir get canon path getcanonicalpath length add fix overhead hard link mult hardlinkmult command prefix suffix dir suffix sum cmd ex fsutil hardlink creat nul length sum org apach hadoop fs hard link hardlink hard link command getter hardlinkcommandgett get max allow cmd arg length getmaxallowedcmdarglength overrid get max allow cmd arg length getmaxallowedcmdarglength max allow cmd arg length maxallowedcmdarglength calcul nomin length contributor total commandstr length includ fix overhead os depend command assist unit test real client expect creat hard link mult createhardlinkmult us intern user doesn worri param file dir filedir sourc directori parent file base name filebasenam param file base name filebasenam arrai path file name rel sourc directori param link dir linkdir target directori hardlink put total data length exce max allow cmd arg length maxallowedcmdarglength io except ioexcept get link mult arg length getlinkmultarglength file file dir filedir string file base name filebasenam file link dir linkdir io except ioexcept get hard link command gethardlinkcommand get link mult arg length getlinkmultarglength file dir filedir file base name filebasenam link dir linkdir valu us unit test shell command allow total string length exceed size get max allow cmd arg length getmaxallowedcmdarglength get hard link command gethardlinkcommand get max allow cmd arg length getmaxallowedcmdarglength complex user visibl function creat hardlink param file exist sourc file param link name linknam desir target link file creat hard link createhardlink file file file link name linknam io except ioexcept file io except ioexcept invalid argument creat hard link createhardlink sourc file link name linknam io except ioexcept invalid argument creat hard link createhardlink link name construct execut shell command string hard link command hardlinkcommand get hard link command gethardlinkcommand link on linkon file link name linknam process process runtim get runtim getruntim exec hard link command hardlinkcommand process wait waitfor string err msg errmsg buffer reader bufferedread input stream reader inputstreamread process get input stream getinputstream read line readlin err msg errmsg err msg errmsg string inp msg inpmsg buffer reader bufferedread input stream reader inputstreamread process get error stream geterrorstream read line readlin inp msg inpmsg inp msg inpmsg io except ioexcept err msg errmsg inp msg inpmsg interrupt except interruptedexcept io except ioexcept process destroi creat hardlink from multipl exist file on parent directori on target directori param parent dir parentdir directori contain sourc file param file base name filebasenam list path file name return parent dir parentdir list param link dir linkdir hardlink put exist list file overflow max allow cmd arg length maxallowedcmdarglength automat split multipl invoc underli method creat hard link mult createhardlinkmult file parent dir parentdir string file base name filebasenam file link dir linkdir io except ioexcept method non test client expect us normal allow up max allow cmd arg length maxallowedcmdarglength charact cmd creat hard link mult createhardlinkmult parent dir parentdir file base name filebasenam link dir linkdir get hard link command gethardlinkcommand get max allow cmd arg length getmaxallowedcmdarglength link creat hard link mult createhardlinkmult ad variabl max length maxlength eas unit test split featur list likewis return call count callcount number sub arrai file list split non test client expect call method creat hard link mult createhardlinkmult file parent dir parentdir string file base name filebasenam file link dir linkdir max length maxlength io except ioexcept parent dir parentdir io except ioexcept invalid argument creat hard link mult createhardlinkmult parent directori link dir linkdir io except ioexcept invalid argument creat hard link mult createhardlinkmult link directori file base name filebasenam io except ioexcept invalid argument creat hard link mult createhardlinkmult filenam list empti file base name filebasenam length os cmd handl empti list filenam legal link dir linkdir exist file found except filenotfoundexcept link dir linkdir found list split multipl invoc call count callcount get link mult arg length getlinkmultarglength parent dir parentdir file base name filebasenam link dir linkdir max length maxlength file base name filebasenam length string list1 arrai copi copyof file base name filebasenam file base name filebasenam length call count callcount creat hard link mult createhardlinkmult parent dir parentdir list1 link dir linkdir max length maxlength string list2 arrai copi rang copyofrang file base name filebasenam file base name filebasenam length file base name filebasenam length call count callcount creat hard link mult createhardlinkmult parent dir parentdir list2 link dir linkdir max length maxlength call count callcount call count callcount construct execut shell command string hard link command hardlinkcommand get hard link command gethardlinkcommand link mult linkmult file base name filebasenam link dir linkdir process process runtim get runtim getruntim exec hard link command hardlinkcommand parent dir parentdir process wait waitfor string err msg errmsg buffer reader bufferedread input stream reader inputstreamread process get input stream getinputstream read line readlin err msg errmsg err msg errmsg string inp msg inpmsg buffer reader bufferedread input stream reader inputstreamread process get error stream geterrorstream read line readlin inp msg inpmsg inp msg inpmsg io except ioexcept err msg errmsg inp msg inpmsg interrupt except interruptedexcept io except ioexcept process destroi call count callcount retriev number link specifi file get link count getlinkcount file file name filenam io except ioexcept file name filenam io except ioexcept invalid argument get link count getlinkcount file name file name filenam exist file found except filenotfoundexcept file name filenam found construct execut shell command string cmd get hard link command gethardlinkcommand link count linkcount file name filenam string inp msg inpmsg string err msg errmsg exit valu exitvalu buffer reader bufferedread buffer reader bufferedread err process process runtim get runtim getruntim exec cmd exit valu exitvalu process wait waitfor buffer reader bufferedread input stream reader inputstreamread process get input stream getinputstream inp msg inpmsg read line readlin err buffer reader bufferedread input stream reader inputstreamread process get error stream geterrorstream err msg errmsg err read line readlin inp msg inpmsg exit valu exitvalu creat io except createioexcept file name filenam inp msg inpmsg err msg errmsg exit valu exitvalu os type ostyp os type ostyp os type solari os_type_solari string result inp msg inpmsg split integ pars parseint result integ pars parseint inp msg inpmsg number format except numberformatexcept creat io except createioexcept file name filenam inp msg inpmsg err msg errmsg exit valu exitvalu interrupt except interruptedexcept creat io except createioexcept file name filenam inp msg inpmsg err msg errmsg exit valu exitvalu process destroi close err err close creat io except ioexcept fail get link count io except ioexcept creat io except createioexcept file string messag string error exitvalu except caus string win err msg winerrmsg window error get link count getlinkcount cygwin misconfigur string fail get link count file messag messag error error os type ostyp os type ostyp os type winxp os_type_winxp win err msg winerrmsg exit valu exitvalu caus io except ioexcept io except ioexcept caus hard link hardlink statist counter method multi thread safe init call hard link hardlink instanti intend us knowledg client intern intern method updat instanc counter link stat linkstat count dir countdir count singl link countsinglelink count mult link countmultlink count file mult link countfilesmultlink count empti dir countemptydir count physic file copi countphysicalfilecopi clear count dir countdir count singl link countsinglelink count mult link countmultlink count file mult link countfilesmultlink count empti dir countemptydir count physic file copi countphysicalfilecopi string report hard link stat hardlinkstat count dir countdir directori includ count empti dir countemptydir empti directori count singl link countsinglelink singl link oper count mult link countmultlink multi link oper link count file mult link countfilesmultlink file total count singl link countsinglelink count file mult link countfilesmultlink linkabl file physic copi count physic file copi countphysicalfilecopi file convert os filenam path work shell param filenam filenam convert unix pathnam io except ioexcept window problem subprocess string make shell path makeshellpath file file io except ioexcept string filenam file get canon path getcanonicalpath get properti getproperti os name start startswith window buffer reader bufferedread process builder processbuild pb process builder processbuild cygpath filenam process pb start err wait waitfor err io except ioexcept couldn resolv path filenam err buffer reader bufferedread input stream reader inputstreamread get input stream getinputstream read line readlin interrupt except interruptedexcept io except ioexcept couldn resolv path filenam close filenam 
bk incorrect paramet except bkincorrectparameterexcept bk except bkexcept bk incorrect paramet except bkincorrectparameterexcept code incorrect paramet except incorrectparameterexcept 
booki client test bookieclienttest test testcas logger log logger factori loggerfactori get logger getlogg booki client test bookieclienttest booki server bookieserv bs file tmp dir tmpdir port 13645 client socket channel factori clientsocketchannelfactori channel factori channelfactori order safe executor orderedsafeexecutor executor server configur serverconfigur conf server configur serverconfigur overrid set up setup except tmp dir tmpdir file creat temp file createtempfil booki test tmp dir tmpdir delet tmp dir tmpdir mkdir test reli book keeper bookkeep client need zoo keeper zookeep booki avail pass zk server zkserver input paramet construct booki server bookieserv server configur serverconfigur conf server configur serverconfigur conf set zk server setzkserv set booki port setbookieport port set journal dir name setjournaldirnam tmp dir tmpdir get path getpath set ledger dir name setledgerdirnam string tmp dir tmpdir get path getpath bs booki server bookieserv conf bs start channel factori channelfactori nio client socket channel factori nioclientsocketchannelfactori executor cach thread pool newcachedthreadpool executor cach thread pool newcachedthreadpool executor order safe executor orderedsafeexecutor overrid tear down teardown except bs shutdown recurs delet recursivedelet tmp dir tmpdir channel factori channelfactori releas extern resourc releaseexternalresourc executor shutdown recurs delet recursivedelet file dir file children dir list file listfil children file child children recurs delet recursivedelet child dir delet result resultstruct rc buffer bytebuff entri read entri callback readentrycallback recb read entri callback readentrycallback read entri complet readentrycomplet rc ledger id ledgerid entri id entryid channel buffer channelbuff bb object ctx result resultstruct rs result resultstruct ctx rs rs rc rc bb bb reader index readerindex 16 rs entri bb buffer tobytebuff rs notifi notifyal write callback writecallback wrcb write callback writecallback write complet writecomplet rc ledger id ledgerid entri id entryid inet socket address inetsocketaddress addr object ctx ctx ctx ctx notifi notifyal test test write gap testwritegap except object notifi object notifyobject object passwd 20 arrai fill passwd inet socket address inetsocketaddress addr inet socket address inetsocketaddress 127 port result resultstruct arc result resultstruct booki client bookiecli bc booki client bookiecli client configur clientconfigur channel factori channelfactori executor channel buffer channelbuff bb bb creat buffer createbytebuff bc add entri addentri addr passwd bb wrcb arc booki protocol bookieprotocol flag flag_non arc arc wait 1000 bc read entri readentri addr recb arc arc wait 1000 equal assertequ arc rc equal assertequ arc entri get getint bb creat buffer createbytebuff bc add entri addentri addr passwd bb wrcb booki protocol bookieprotocol flag flag_non bb creat buffer createbytebuff bc add entri addentri addr passwd bb wrcb booki protocol bookieprotocol flag flag_non bb creat buffer createbytebuff bc add entri addentri addr passwd bb wrcb booki protocol bookieprotocol flag flag_non bb creat buffer createbytebuff bc add entri addentri addr passwd bb wrcb booki protocol bookieprotocol flag flag_non notifi object notifyobject bb creat buffer createbytebuff 11 11 bc add entri addentri addr passwd 11 bb wrcb notifi object notifyobject booki protocol bookieprotocol flag flag_non notifi object notifyobject wait arc bc read entri readentri addr recb arc arc wait 1000 equal assertequ bk except bkexcept code entri except nosuchentryexcept arc rc arc bc read entri readentri addr recb arc arc wait 1000 equal assertequ arc rc equal assertequ arc entri get getint arc bc read entri readentri addr recb arc arc wait 1000 equal assertequ arc rc equal assertequ arc entri get getint arc bc read entri readentri addr recb arc arc wait 1000 equal assertequ arc rc equal assertequ arc entri get getint arc bc read entri readentri addr recb arc arc wait 1000 equal assertequ arc rc equal assertequ arc entri get getint arc bc read entri readentri addr recb arc arc wait 1000 equal assertequ bk except bkexcept code entri except nosuchentryexcept arc rc arc bc read entri readentri addr 11 recb arc arc wait 1000 equal assertequ arc rc equal assertequ 11 arc entri get getint arc bc read entri readentri addr recb arc arc wait 1000 equal assertequ arc rc equal assertequ arc entri get getint arc bc read entri readentri addr 10 recb arc arc wait 1000 equal assertequ bk except bkexcept code entri except nosuchentryexcept arc rc arc bc read entri readentri addr 12 recb arc arc wait 1000 equal assertequ bk except bkexcept code entri except nosuchentryexcept arc rc arc bc read entri readentri addr 13 recb arc arc wait 1000 equal assertequ bk except bkexcept code entri except nosuchentryexcept arc rc channel buffer channelbuff creat buffer createbytebuff lid eid buffer bytebuff bb bb buffer bytebuff alloc 16 bb put putlong lid bb put putlong eid bb put putint bb flip channel buffer channelbuff wrap buffer wrappedbuff bb test test ledger testnoledg except result resultstruct arc result resultstruct inet socket address inetsocketaddress addr inet socket address inetsocketaddress 127 port booki client bookiecli bc booki client bookiecli client configur clientconfigur channel factori channelfactori executor arc bc read entri readentri addr 13 recb arc arc wait 1000 equal assertequ bk except bkexcept code entri except nosuchentryexcept arc rc 
cnxn wrapper time time cnxn timedcnxn cnxn cnxn time time cnxn timedcnxn cnxn cnxn start time starttim cnxn cnxn time start time starttim 
test write concurr ledger concurr ledger test concurrentledgertest test testcas logger log logger factori loggerfactori get logger getlogg concurr ledger test concurrentledgertest booki booki file txn dir txndir ledger dir ledgerdir recv timeout recvtimeout 10000 semaphor throttl server configur serverconfigur conf server configur serverconfigur overrid befor set up setup except string txn dir name txndirnam get properti getproperti txn dir txndir txn dir name txndirnam txn dir txndir file txn dir name txndirnam string ledger dir name ledgerdirnam get properti getproperti ledger dir ledgerdir ledger dir name ledgerdirnam ledger dir ledgerdir file ledger dir name ledgerdirnam file tmp file tmpfile file creat temp file createtempfil book txn txn dir txndir tmp file tmpfile delet txn dir txndir file tmp file tmpfile get parent getpar tmp file tmpfile get name getnam dir txn dir txndir mkdir tmp file tmpfile file creat temp file createtempfil book ledger ledger dir ledgerdir ledger dir ledgerdir file tmp file tmpfile get parent getpar tmp file tmpfile get name getnam dir ledger dir ledgerdir mkdir conf set booki port setbookieport 5000 conf set zk server setzkserv conf set journal dir name setjournaldirnam txn dir txndir get path getpath conf set ledger dir name setledgerdirnam string ledger dir ledgerdir get path getpath booki booki conf booki start recurs delet recursivedelet file file isfil delet file list file listfil recurs delet recursivedelet delet overrid after tear down teardown booki shutdown recurs delet recursivedelet txn dir txndir recurs delet recursivedelet ledger dir ledgerdir zero 16 iter 51 string iter string iterationsstr get properti getproperti iter iter string iterationsstr iter integ pars parseint iter string iterationsstr iter step iterationstep 25 string iter string iterationsstr get properti getproperti iter step iterationstep iter string iterationsstr iter step iterationstep integ pars parseint iter string iterationsstr test test concurr write testconcurrentwrit io except ioexcept interrupt except interruptedexcept booki except bookieexcept size 1024 totalwrit 128 get properti getproperti totalwrit totalwrit integ pars parseint get properti getproperti totalwrit log info run up iter iter log info total write totalwrit ledger ledger ledger iter ledger iter step iterationstep durat write dowrit ledger size totalwrit log info totalwrit ledger durat ms log info ledger ledger ledger ledger iter ledger iter step iterationstep durat read doread ledger size totalwrit log info ledger read durat ms read doread ledger size totalwrit io except ioexcept interrupt except interruptedexcept booki except bookieexcept start current time milli currenttimemilli totalwrit ledger ledger buffer bytebuff entri booki read entri readentri skip ledger id entri id entri get getlong entri get getlong equal assertequ entri get getlong equal assertequ entri get getlong finish current time milli currenttimemilli finish start write dowrit ledger size totalwrit io except ioexcept interrupt except interruptedexcept booki except bookieexcept throttl semaphor 10000 write callback writecallback cb write callback writecallback overrid write complet writecomplet rc ledger id ledgerid entri id entryid inet socket address inetsocketaddress addr object ctx atom integ atomicinteg counter atom integ atomicinteg ctx counter get increment getandincr throttl releas atom integ atomicinteg counter atom integ atomicinteg start current time milli currenttimemilli totalwrit ledger ledger buffer bytebuff byte buffer bytebuff alloc size byte put putlong byte put putlong byte put putlong byte put putlong byte put ledger entri get byte getbyt byte posit byte limit byte capac throttl acquir booki add entri addentri byte cb counter zero finish current time milli currenttimemilli finish start 
benchmark subscrib benchmarksubscrib benchmark worker benchmarkwork callabl logger logger logger factori loggerfactori get logger getlogg benchmark subscrib benchmarksubscrib subscrib subscrib string bytestr sub id subid benchmark subscrib benchmarksubscrib num topic numtop num messag nummessag num region numregion start topic label starttopiclabel partit index partitionindex num partit numpartit subscrib subscrib string bytestr sub id subid num topic numtop num messag nummessag num region numregion start topic label starttopiclabel partit index partitionindex num partit numpartit subscrib subscrib sub id subid sub id subid warmup num warmup numwarmup interrupt except interruptedexcept multipli number op num parit numparit end up skip partit logic multi sub multisub warmup warmup num warmup numwarmup num warmup numwarmup num partit numpartit call except throughput aggreg throughputaggreg agg throughput aggreg throughputaggreg recv num messag nummessag agg start progress startprogress map string last seq id map lastseqidseenmap hash map hashmap string start topic label starttopiclabel start topic label starttopiclabel num topic numtop hedwig benchmark hedwigbenchmark respons topic amiresponsiblefortop partit index partitionindex num partit numpartit string topic hedwig benchmark hedwigbenchmark topic prefix topic_prefix subscrib subscrib string bytestr copi from utf8 copyfromutf8 topic sub id subid creat attach createorattach creat attach create_or_attach subscrib start deliveri startdeliveri string bytestr copi from utf8 copyfromutf8 topic sub id subid messag handler messagehandl overrid deliv string bytestr topic thistop string bytestr subscrib id subscriberid messag msg callback callback object context logger debug enabl isdebugen logger debug messag from src region msg get src region getsrcregion seq id msg get msg id getmsgid string map kei mapkei topic msg get src region getsrcregion string utf8 tostringutf8 last seq id lastseqidseen last seq id map lastseqidseenmap get map kei mapkei last seq id lastseqidseen last seq id lastseqidseen get src seq id getsrcseqid msg last seq id lastseqidseen logger info redeliveri messag src region msg get src region getsrcregion seq id msg get msg id getmsgid agg ding callback oper finish operationfinish context println finish subscrib topic wait messag wait till benchmark test ha complet agg queue println agg summar agg earliest get get src seq id getsrcseqid messag msg msg get msg id getmsgid get remot compon count getremotecomponentscount msg get msg id getmsgid get local compon getlocalcompon region specif seq id regionspecificseqid rseq id rseqid msg get msg id getmsgid get remot compon list getremotecomponentslist rseq id rseqid get region getregion equal msg get src region getsrcregion rseq id rseqid get seq id getseqid msg get msg id getmsgid get local compon getlocalcompon multi sub multisub string label string topic prefix topicprefix start npar count interrupt except interruptedexcept start time starttim current time milli currenttimemilli throughput latenc aggreg throughputlatencyaggreg agg throughput latenc aggreg throughputlatencyaggreg label count num partit numpartit npar agg start progress startprogress end start count start end hedwig benchmark hedwigbenchmark respons topic amiresponsiblefortop partit index partitionindex num partit numpartit subscrib async subscrib asyncsubscrib string bytestr copi from utf8 copyfromutf8 topic prefix topicprefix sub id subid creat attach createorattach creat attach create_or_attach benchmark callback benchmarkcallback agg wait till benchmark test ha complet agg tp agg tpagg queue count println agg summar start time starttim 
stop serv subscrib stopservingsubscrib deliveri manag request deliverymanagerrequest activ subscrib state activesubscriberst subscrib stop serv subscrib stopservingsubscrib activ subscrib state activesubscriberst subscrib subscrib subscrib overrid perform request performrequest automat stop deliveri disconnect channel subscrib set connect setnotconnect subscrib ha move move request deliveri pointer pend request queue note subscrib first chang deliveri pointer submit request move work remov deliveri ptr removedeliveryptr subscrib subscrib get last seq id commun extern getlastseqidcommunicatedextern absenc isabsenceok prune topic prunetop 
server stat serverstat server stat serverstat instanc server stat serverstat packet sent packetss packet receiv packetsreceiv max latenc maxlat min latenc minlat max valu max_valu total latenc totallat count provid get outstand request getoutstandingrequest get last process zxid getlastprocessedzxid provid provid object mutex object server stat serverstat get instanc getinst instanc concret registerasconcret set instanc setinst server stat serverstat unregist instanc set instanc setinst server stat serverstat instanc newinst instanc instanc instanc newinst server stat serverstat getter get min latenc getminlat min latenc minlat max valu max_valu min latenc minlat get avg latenc getavglat count total latenc totallat count get max latenc getmaxlat max latenc maxlat get outstand request getoutstandingrequest mutex provid provid get outstand request getoutstandingrequest get last process zxid getlastprocessedzxid mutex provid provid get last process zxid getlastprocessedzxid get packet receiv getpacketsreceiv packet receiv packetsreceiv get packet sent getpacketss packet sent packetss string get server state getserverst standalon overrid string string tostr string builder stringbuild sb string builder stringbuild sb append latenc min avg max get min latenc getminlat get avg latenc getavglat get max latenc getmaxlat sb append receiv get packet receiv getpacketsreceiv sb append sent get packet sent getpacketss provid sb append outstand get outstand request getoutstandingrequest sb append zxid 0x hex string tohexstr get last process zxid getlastprocessedzxid sb append mode get server state getserverst sb string tostr mutat set stat provid setstatsprovid provid zk mutex provid zk updat latenc updatelat request creat time requestcreatetim latenc current time milli currenttimemilli request creat time requestcreatetim total latenc totallat latenc count latenc min latenc minlat min latenc minlat latenc latenc max latenc maxlat max latenc maxlat latenc reset latenc resetlat total latenc totallat count max latenc maxlat min latenc minlat max valu max_valu reset max latenc resetmaxlat max latenc maxlat get min latenc getminlat increment packet receiv incrementpacketsreceiv packet receiv packetsreceiv increment packet sent incrementpacketss packet sent packetss reset request counter resetrequestcount packet receiv packetsreceiv packet sent packetss 
builder com googl protobuf gener messag generatedmessag builder builder org apach hedwig protocol pub sub protocol pubsubprotocol pub sub respons pubsubrespons result construct org apach hedwig protocol pub sub protocol pubsubprotocol pub sub respons pubsubrespons builder newbuild builder builder creat builder builder builder builder result org apach hedwig protocol pub sub protocol pubsubprotocol pub sub respons pubsubrespons builder org apach hedwig protocol pub sub protocol pubsubprotocol pub sub respons pubsubrespons intern get result internalgetresult result builder clear result illeg state except illegalstateexcept call clear after build result org apach hedwig protocol pub sub protocol pubsubprotocol pub sub respons pubsubrespons builder clone creat merg from mergefrom result com googl protobuf descriptor descriptor get descriptor type getdescriptorfortyp org apach hedwig protocol pub sub protocol pubsubprotocol pub sub respons pubsubrespons get descriptor getdescriptor org apach hedwig protocol pub sub protocol pubsubprotocol pub sub respons pubsubrespons get instanc type getdefaultinstancefortyp org apach hedwig protocol pub sub protocol pubsubprotocol pub sub respons pubsubrespons get instanc getdefaultinst initi isiniti result initi isiniti org apach hedwig protocol pub sub protocol pubsubprotocol pub sub respons pubsubrespons build result initi isiniti uniniti messag except newuninitializedmessageexcept result build partial buildparti org apach hedwig protocol pub sub protocol pubsubprotocol pub sub respons pubsubrespons build pars buildpars com googl protobuf invalid protocol buffer except invalidprotocolbufferexcept initi isiniti uniniti messag except newuninitializedmessageexcept result invalid protocol buffer except asinvalidprotocolbufferexcept build partial buildparti org apach hedwig protocol pub sub protocol pubsubprotocol pub sub respons pubsubrespons build partial buildparti result illeg state except illegalstateexcept build ha call builder org apach hedwig protocol pub sub protocol pubsubprotocol pub sub respons pubsubrespons returnm result result returnm builder merg from mergefrom com googl protobuf messag org apach hedwig protocol pub sub protocol pubsubprotocol pub sub respons pubsubrespons merg from mergefrom org apach hedwig protocol pub sub protocol pubsubprotocol pub sub respons pubsubrespons merg from mergefrom builder merg from mergefrom org apach hedwig protocol pub sub protocol pubsubprotocol pub sub respons pubsubrespons org apach hedwig protocol pub sub protocol pubsubprotocol pub sub respons pubsubrespons get instanc getdefaultinst ha protocol version hasprotocolvers set protocol version setprotocolvers get protocol version getprotocolvers ha statu code hasstatuscod set statu code setstatuscod get statu code getstatuscod ha txn id hastxnid set txn id settxnid get txn id gettxnid ha statu msg hasstatusmsg set statu msg setstatusmsg get statu msg getstatusmsg ha messag hasmessag merg messag mergemessag get messag getmessag ha topic hastop set topic settop get topic gettop ha subscrib id hassubscriberid set subscrib id setsubscriberid get subscrib id getsubscriberid merg unknown field mergeunknownfield get unknown field getunknownfield builder merg from mergefrom com googl protobuf code input stream codedinputstream input com googl protobuf extens registri lite extensionregistrylit extens registri extensionregistri java io io except ioexcept com googl protobuf unknown field set unknownfieldset builder unknown field unknownfield com googl protobuf unknown field set unknownfieldset builder newbuild get unknown field getunknownfield tag input read tag readtag tag set unknown field setunknownfield unknown field unknownfield build pars unknown field parseunknownfield input unknown field unknownfield extens registri extensionregistri tag set unknown field setunknownfield unknown field unknownfield build raw valu rawvalu input read readenum org apach hedwig protocol pub sub protocol pubsubprotocol protocol version protocolvers valu org apach hedwig protocol pub sub protocol pubsubprotocol protocol version protocolvers valu valueof raw valu rawvalu valu unknown field unknownfield merg varint field mergevarintfield raw valu rawvalu set protocol version setprotocolvers valu 16 raw valu rawvalu input read readenum org apach hedwig protocol pub sub protocol pubsubprotocol statu code statuscod valu org apach hedwig protocol pub sub protocol pubsubprotocol statu code statuscod valu valueof raw valu rawvalu valu unknown field unknownfield merg varint field mergevarintfield raw valu rawvalu set statu code setstatuscod valu 24 set txn id settxnid input read int64 readuint64 34 set statu msg setstatusmsg input read string readstr 42 org apach hedwig protocol pub sub protocol pubsubprotocol messag builder sub builder subbuild org apach hedwig protocol pub sub protocol pubsubprotocol messag builder newbuild ha messag hasmessag sub builder subbuild merg from mergefrom get messag getmessag input read messag readmessag sub builder subbuild extens registri extensionregistri set messag setmessag sub builder subbuild build partial buildparti 50 set topic settop input read byte readbyt 58 set subscrib id setsubscriberid input read byte readbyt requir hedwig protocol version protocolvers protocol version protocolvers ha protocol version hasprotocolvers result ha protocol version hasprotocolvers org apach hedwig protocol pub sub protocol pubsubprotocol protocol version protocolvers get protocol version getprotocolvers result get protocol version getprotocolvers builder set protocol version setprotocolvers org apach hedwig protocol pub sub protocol pubsubprotocol protocol version protocolvers valu valu pointer except nullpointerexcept result ha protocol version hasprotocolvers result protocol version protocolversion_ valu builder clear protocol version clearprotocolvers result ha protocol version hasprotocolvers result protocol version protocolversion_ org apach hedwig protocol pub sub protocol pubsubprotocol protocol version protocolvers version on version_on requir hedwig statu code statuscod statu code statuscod ha statu code hasstatuscod result ha statu code hasstatuscod org apach hedwig protocol pub sub protocol pubsubprotocol statu code statuscod get statu code getstatuscod result get statu code getstatuscod builder set statu code setstatuscod org apach hedwig protocol pub sub protocol pubsubprotocol statu code statuscod valu valu pointer except nullpointerexcept result ha statu code hasstatuscod result statu code statuscode_ valu builder clear statu code clearstatuscod result ha statu code hasstatuscod result statu code statuscode_ org apach hedwig protocol pub sub protocol pubsubprotocol statu code statuscod success requir uint64 txn id txnid ha txn id hastxnid result ha txn id hastxnid get txn id gettxnid result get txn id gettxnid builder set txn id settxnid valu result ha txn id hastxnid result txn id txnid_ valu builder clear txn id cleartxnid result ha txn id hastxnid result txn id txnid_ 0l option string statu msg statusmsg ha statu msg hasstatusmsg result ha statu msg hasstatusmsg java lang string get statu msg getstatusmsg result get statu msg getstatusmsg builder set statu msg setstatusmsg java lang string valu valu pointer except nullpointerexcept result ha statu msg hasstatusmsg result statu msg statusmsg_ valu builder clear statu msg clearstatusmsg result ha statu msg hasstatusmsg result statu msg statusmsg_ get instanc getdefaultinst get statu msg getstatusmsg option hedwig messag messag ha messag hasmessag result ha messag hasmessag org apach hedwig protocol pub sub protocol pubsubprotocol messag get messag getmessag result get messag getmessag builder set messag setmessag org apach hedwig protocol pub sub protocol pubsubprotocol messag valu valu pointer except nullpointerexcept result ha messag hasmessag result messag message_ valu builder set messag setmessag org apach hedwig protocol pub sub protocol pubsubprotocol messag builder builder valu builderforvalu result ha messag hasmessag result messag message_ builder valu builderforvalu build builder merg messag mergemessag org apach hedwig protocol pub sub protocol pubsubprotocol messag valu result ha messag hasmessag result messag message_ org apach hedwig protocol pub sub protocol pubsubprotocol messag get instanc getdefaultinst result messag message_ org apach hedwig protocol pub sub protocol pubsubprotocol messag builder newbuild result messag message_ merg from mergefrom valu build partial buildparti result messag message_ valu result ha messag hasmessag builder clear messag clearmessag result ha messag hasmessag result messag message_ org apach hedwig protocol pub sub protocol pubsubprotocol messag get instanc getdefaultinst option byte topic ha topic hastop result ha topic hastop com googl protobuf string bytestr get topic gettop result get topic gettop builder set topic settop com googl protobuf string bytestr valu valu pointer except nullpointerexcept result ha topic hastop result topic topic_ valu builder clear topic cleartop result ha topic hastop result topic topic_ get instanc getdefaultinst get topic gettop option byte subscrib id subscriberid ha subscrib id hassubscriberid result ha subscrib id hassubscriberid com googl protobuf string bytestr get subscrib id getsubscriberid result get subscrib id getsubscriberid builder set subscrib id setsubscriberid com googl protobuf string bytestr valu valu pointer except nullpointerexcept result ha subscrib id hassubscriberid result subscrib id subscriberid_ valu builder clear subscrib id clearsubscriberid result ha subscrib id hassubscriberid result subscrib id subscriberid_ get instanc getdefaultinst get subscrib id getsubscriberid protoc insert point protoc_insertion_point builder scope builder_scop hedwig pub sub respons pubsubrespons 
boiler plate wrapper class follow visibl test read complet readcomplet read entri callback readentrycallback cb object ctx read complet readcomplet read entri callback readentrycallback cb object ctx cb cb ctx ctx 
bench throughput latenc benchthroughputlat add callback addcallback runnabl logger log logger factori loggerfactori get logger getlogg bench throughput latenc benchthroughputlat book keeper bookkeep bk ledger handl ledgerhandl lh atom atomiclong counter semaphor sem number ledger numberofledg send limit sendlimit latenc context local start time localstarttim id context id time id id local start time localstarttim time bench throughput latenc benchthroughputlat ensembl size qsize passwd number ledger numberofledg send limit sendlimit client configur clientconfigur conf keeper except keeperexcept io except ioexcept interrupt except interruptedexcept sem semaphor conf get throttl valu getthrottlevalu bk book keeper bookkeep conf counter atom atomiclong number ledger numberofledg number ledger numberofledg send limit sendlimit send limit sendlimit latenc send limit sendlimit lh ledger handl ledgerhandl number ledger numberofledg number ledger numberofledg lh bk creat ledger createledg ensembl size qsize book keeper bookkeep digest type digesttyp crc32 passwd log info ledger handl lh get id getid bk except bkexcept print stack trace printstacktrac random rand random close interrupt except interruptedexcept bk except bkexcept number ledger numberofledg lh close bk close previou byte set entri data setentrydata data byte data last ledger lastledg get random ledger getrandomledg rand next nextint number ledger numberofledg latenc index latencyindex atom atomiclong complet request completedrequest atom atomiclong durat get durat getdur durat run log info run start previou current time milli currenttimemilli sent thread report thread run thread sleep 1000 log info ms req current time milli currenttimemilli complet request completedrequest get set getandset interrupt except interruptedexcept log info caught interrupt except awai report start befor send beforesend nano time nanotim thread current thread currentthread interrupt isinterrupt sent send limit sendlimit sem acquir sent 10000 after send aftersend nano time nanotim time after send aftersend befor send beforesend log info time send first batch ns time 1000 1000 1000 time interrupt except interruptedexcept index get random ledger getrandomledg ledger handl ledgerhandl lh index log error handl index nano time nanotim nano time nanotim lh index async add entri asyncaddentri byte context sent nano time nanotim counter increment get incrementandget sent log info sent sent counter get thread sleep 1000 30 interrupt except interruptedexcept log error interrupt wait durat current time milli currenttimemilli start throughput sent 1000 get durat getdur report interrupt report join interrupt except interruptedexcept ignor log info finish process ms get durat getdur tp throughput throughput get throughput getthroughput throughput threshold 20000 run averag counter runningaveragecount total time totaltim overrid add complet addcomplet rc ledger handl ledgerhandl lh entri id entryid object ctx context context context ctx us id pass context multipl ledger work even on ledger entri id entryid context id time newtim nano time nanotim context local start time localstarttim sem releas counter decrement get decrementandget rc latenc entri id entryid time newtim complet request completedrequest increment get incrementandget main string arg keeper except keeperexcept io except ioexcept interrupt except interruptedexcept pars except parseexcept bk except bkexcept option option option option add option addopt time run time second 60 option add option addopt entrys entri size byte 1024 option add option addopt ensembl ensembl size option add option addopt quorum quorum size option add option addopt throttl max outstand request 10000 option add option addopt ledger number ledger option add option addopt zookeep zookeep ensembl localhost 2181 option add option addopt password password us creat ledger bench passwd benchpasswd option add option addopt coordnod coordin znode multi client benchmark option option add option addopt timeout number second after up option add option addopt sockettimeout socket timeout bookkeep client second option add option addopt skipwarmup skip warm up option add option addopt sendlimit max number entri send 20000000 option add option addopt help messag command line parser commandlinepars parser posix parser posixpars command line commandlin cmd parser pars option arg cmd ha option hasopt help help formatt helpformatt formatt help formatt helpformatt formatt print help printhelp bench throughput latenc benchthroughputlat option option exit run time runningtim valu valueof cmd get option valu getoptionvalu time 60 string server cmd get option valu getoptionvalu zookeep localhost 2181 entrys integ valu valueof cmd get option valu getoptionvalu entrys 1024 ledger integ valu valueof cmd get option valu getoptionvalu ledger ensembl integ valu valueof cmd get option valu getoptionvalu ensembl quorum integ valu valueof cmd get option valu getoptionvalu quorum throttl integ valu valueof cmd get option valu getoptionvalu throttl 10000 send limit sendlimit integ valu valueof cmd get option valu getoptionvalu sendlimit 20000000 sock timeout socktimeout integ valu valueof cmd get option valu getoptionvalu sockettimeout string coordin znode coordinationznod cmd get option valu getoptionvalu coordnod passwd cmd get option valu getoptionvalu password bench passwd benchpasswd get byte getbyt timer timeout timer cmd ha option hasopt timeout timeout valu valueof cmd get option valu getoptionvalu timeout 360 1000 timeout schedul timer task timertask run err println time benchmark after timeout ms exit timeout log warn paramet receiv run time run time runningtim entri size entrys ensembl size ensembl quorum size quorum throttl throttl number ledger ledger zk server server total time totaltim run time runningtim 1000 warmup run thread thread data entrys arrai fill data client configur clientconfigur conf client configur clientconfigur conf set throttl valu setthrottlevalu throttl set read timeout setreadtimeout sock timeout socktimeout set zk server setzkserv server cmd ha option hasopt skipwarmup throughput log info start warmup throughput warm up warmup data ledger ensembl quorum passwd conf log info warmup tp throughput log info warmup phase finish benchmark bench throughput latenc benchthroughputlat bench bench throughput latenc benchthroughputlat ensembl quorum passwd ledger send limit sendlimit conf bench set entri data setentrydata data thread thread bench zoo keeper zookeep zk coordin znode coordinationznod count down latch countdownlatch connect latch connectlatch count down latch countdownlatch zk zoo keeper zookeep server 15000 watcher overrid process watch event watchedev event event get state getstat keeper state keeperst sync connect syncconnect connect latch connectlatch count down countdown connect latch connectlatch await 10 time unit timeunit second log error couldn connect zookeep server zk close exit count down latch countdownlatch latch count down latch countdownlatch log info wait coordin znode coordinationznod zk exist coordin znode coordinationznod watcher overrid process watch event watchedev event event get type gettyp event type eventtyp node creat nodecr latch count down countdown latch count down countdown latch await log info coordin znode creat thread start thread sleep total time totaltim thread interrupt thread join log info calcul percentil numlat bench latenc length bench latenc numlat numcomplet numlat numlat math min bench send limit sendlimit numlat latenc numlat bench latenc length numlat bench latenc latenc bench latenc arrai sort latenc tp numcomplet 1000 bench get durat getdur log info numcomplet complet bench get durat getdur second tp op sec zk zk creat coordin znode coordinationznod worker tp tp durat bench get durat getdur get byte getbyt zoo def zoodef id open acl unsaf open_acl_unsaf creat mode createmod persist sequenti persistent_sequenti zk close dump latenc debug sort entryid output stream outputstream fo buffer output stream bufferedoutputstream file output stream fileoutputstream latenc dump latencydump dat latenc fo write string tostr 1000000 ms get byte getbyt fo flush fo close get latenc log info 99 th 99th percentil latenc percentil latenc 99 log info 95 th 95th percentil latenc percentil latenc 95 bench close timeout cancel percentil latenc percentil size latenc length sampl size samples size percentil 100 total count sampl size samples total latenc count total count 1000000 warm up warmup data ledger ensembl size qsize passwd client configur clientconfigur conf keeper except keeperexcept io except ioexcept interrupt except interruptedexcept bk except bkexcept count down latch countdownlatch connect latch connectlatch count down latch countdownlatch booki string booki registr path bookieregistrationpath conf get zk avail booki path getzkavailablebookiespath zoo keeper zookeep zk string server conf get zk server getzkserv zk zoo keeper zookeep server 15000 watcher overrid process watch event watchedev event event get state getstat keeper state keeperst sync connect syncconnect connect latch connectlatch count down countdown connect latch connectlatch await 10 time unit timeunit second log error couldn connect zookeep server io except ioexcept couldn connect zookeep server booki zk get children getchildren booki registr path bookieregistrationpath size zk zk close bench throughput latenc benchthroughputlat warmup bench throughput latenc benchthroughputlat booki booki passwd ledger 50000 conf warmup set entri data setentrydata data thread thread thread warmup thread start thread join warmup close warmup get throughput getthroughput 
test proto version testprotovers booki client test bookieclienttest base befor setup except base booki client test bookieclienttest base set up setup after teardown except base tear down teardown test version testvers version expectedresult except channel booki client perchannelbookiecli bc channel booki client perchannelbookiecli base executor base channel factori channelfactori inet socket address inetsocketaddress inet address inetaddress get local host getlocalhost base port atom atomiclong atom integ atomicinteg outerrc atom integ atomicinteg count down latch countdownlatch connect latch connectlatch count down latch countdownlatch bc connect need op connectifneededanddoop gener callback genericcallback oper complet operationcomplet rc result outerrc set rc connect latch connectlatch count down countdown connect latch connectlatch await time unit timeunit second equal assertequ client connect bk except bkexcept code outerrc get outerrc set 1000 count down latch countdownlatch read latch readlatch count down latch countdownlatch read entri callback readentrycallback cb read entri callback readentrycallback read entri complet readentrycomplet rc ledger id ledgerid entri id entryid channel buffer channelbuff buffer object ctx outerrc set rc read latch readlatch count down countdown bc read complet readcomplet put bc complet kei newcompletionkei channel booki client perchannelbookiecli read complet readcomplet cb total header size totalheaders length packet request type ledger id ledgerid entri id entryid updat protocol read chang channel buffer channelbuff tmp entri tmpentri bc channel get config getconfig get buffer factori getbufferfactori get buffer getbuff total header size totalheaders tmp entri tmpentri write writeint total header size totalheaders tmp entri tmpentri write writeint booki protocol bookieprotocol packet header packethead version booki protocol bookieprotocol readentri toint tmp entri tmpentri write writelong tmp entri tmpentri write writelong bc channel write tmp entri tmpentri await uninterrupt awaituninterrupt read latch readlatch await time unit timeunit second equal assertequ expect result differ expectedresult outerrc get bc close test test version testvers except test version testvers booki protocol bookieprotocol lowest compat protocol version lowest_compat_protocol_vers bk except bkexcept code protocol version except protocolversionexcept test version testvers booki protocol bookieprotocol lowest compat protocol version lowest_compat_protocol_vers bk except bkexcept code entri except nosuchentryexcept test version testvers booki protocol bookieprotocol current protocol version current_protocol_vers bk except bkexcept code entri except nosuchentryexcept test version testvers booki protocol bookieprotocol current protocol version current_protocol_vers bk except bkexcept code protocol version except protocolversionexcept 
run booki server test abstract book keeper cluster test bookkeeperclustertestcas test testcas logger log logger factori loggerfactori get logger getlogg book keeper cluster test bookkeeperclustertestcas zoo keeper zookeep relat variabl zoo keeper util zookeeperutil zk util zkutil zoo keeper util zookeeperutil zoo keeper zookeep zkc book keeper bookkeep relat variabl list file tmp dir tmpdir link list linkedlist file list booki server bookieserv bs link list linkedlist booki server bookieserv list server configur serverconfigur bs conf bsconf link list linkedlist server configur serverconfigur integ initi port initialport 5000 integ next port nextport initi port initialport num booki numbooki book keeper test client bookkeepertestcli bkc server configur serverconfigur base conf baseconf server configur serverconfigur client configur clientconfigur base client conf baseclientconf client configur clientconfigur book keeper cluster test bookkeeperclustertestcas num booki numbooki num booki numbooki num booki numbooki befor overrid set up setup except start zookeep servic start zk cluster startzkclust start bookkeep servic start bk cluster startbkclust except log error error set up after overrid tear down teardown except log info tear down teardown stop bookkeep servic stop bk cluster stopbkclust stop zookeep servic stop zk cluster stopzkclust start zookeep cluster except start zk cluster startzkclust except zk util zkutil start server startserv zkc zk util zkutil get zoo keeper client getzookeepercli stop zookeep cluster except stop zk cluster stopzkclust except zk util zkutil kill server killserv start cluster except start bk cluster startbkclust except base client conf baseclientconf set zk server setzkserv zk util zkutil get zoo keeper connect string getzookeeperconnectstr num booki numbooki bkc book keeper test client bookkeepertestcli base client conf baseclientconf creat booki server b1 b2 b3 num booki numbooki start booki startnewbooki stop cluster except stop bk cluster stopbkclust except bkc bkc close booki server bookieserv server bs server shutdown file tmp dir tmpdir file util fileutil delet directori deletedirectori server configur serverconfigur server configur newserverconfigur port string zk server zkserver file journal dir journaldir file ledger dir ledgerdir server configur serverconfigur conf server configur serverconfigur base conf baseconf conf set booki port setbookieport port conf set zk server setzkserv zk server zkserver conf set journal dir name setjournaldirnam journal dir journaldir get path getpath string ledger dir name ledgerdirnam string ledger dir ledgerdir length ledger dir ledgerdir length ledger dir name ledgerdirnam ledger dir ledgerdir get path getpath conf set ledger dir name setledgerdirnam ledger dir name ledgerdirnam conf kill booki socket address param addr socket address configur kill booki interrupt except interruptedexcept server configur serverconfigur kill booki killbooki inet socket address inetsocketaddress addr interrupt except interruptedexcept booki server bookieserv remov toremov remov index toremoveindex booki server bookieserv server bs server get local address getlocaladdress equal addr server shutdown remov toremov server remov index toremoveindex remov toremov bs remov remov toremov bs conf bsconf remov remov index toremoveindex kill booki index param index booki index configur kill booki interrupt except interruptedexcept io except ioexcept server configur serverconfigur kill booki killbooki index interrupt except interruptedexcept io except ioexcept index bs size io except ioexcept booki exist booki server bookieserv server bs get index server shutdown bs remov server bs conf bsconf remov index sleep booki param addr socket address param second sleep second param count down latch interrupt except interruptedexcept io except ioexcept sleep booki sleepbooki inet socket address inetsocketaddress addr second count down latch countdownlatch interrupt except interruptedexcept io except ioexcept string name booki journal bookiejourn addr get port getport thread allthread thread thread activ count activecount thread enumer allthread thread allthread get name getnam equal name thread sleeper thread run suspend count down countdown thread sleep second 1000 resum except log error error suspend thread sleeper start io except ioexcept booki thread found restart booki server interrupt except interruptedexcept io except ioexcept keeper except keeperexcept booki except bookieexcept restart booki restartbooki interrupt except interruptedexcept io except ioexcept keeper except keeperexcept booki except bookieexcept restart booki restartbooki restart booki server configur set param conf newconf configur set interrupt except interruptedexcept io except ioexcept keeper except keeperexcept booki except bookieexcept restart booki restartbooki server configur serverconfigur conf newconf interrupt except interruptedexcept io except ioexcept keeper except keeperexcept booki except bookieexcept shut down booki server booki server bookieserv server bs server shutdown bs clear thread sleep 1000 restart ensur server configur serverconfigur conf bs conf bsconf conf newconf conf load conf loadconf conf newconf bs add start booki startbooki conf helper method startup booki server port number param port port start booki server io except ioexcept start booki startnewbooki io except ioexcept interrupt except interruptedexcept keeper except keeperexcept booki except bookieexcept file file creat temp file createtempfil booki test tmp dir tmpdir add delet mkdir port next port nextport server configur serverconfigur conf server configur newserverconfigur port zk util zkutil get zoo keeper connect string getzookeeperconnectstr file bs conf bsconf add conf bs add start booki startbooki conf port helper method startup booki server configur object param conf server configur object booki server bookieserv start booki startbooki server configur serverconfigur conf io except ioexcept interrupt except interruptedexcept keeper except keeperexcept booki except bookieexcept booki server bookieserv server booki server bookieserv conf server start port conf get booki port getbookieport bkc get zk handl getzkhandl exist ledger avail inet address inetaddress get local host getlocalhost get host address gethostaddress port thread sleep 500 bkc read booki block readbookiesblock log info booki port port ha creat server 
bk ledger exist except bknosuchledgerexistsexcept bk except bkexcept bk ledger exist except bknosuchledgerexistsexcept code ledger exist except nosuchledgerexistsexcept 
hedwig netti specif implement subscrib hedwig subscrib hedwigsubscrib subscrib logger logger logger factori loggerfactori get logger getlogg hedwig subscrib hedwigsubscrib concurr map store cach channel connect client side server host topic subscrib id subscriberid combin topic subscrib topicsubscrib uniqu channel connect server get respons handler responsehandl ti channel channel pipelin concurr map concurrentmap topic subscrib topicsubscrib channel topic subscriber2 channel topicsubscriber2channel concurr hash map concurrenthashmap topic subscrib topicsubscrib channel concurr map store messag handler topic sub id combin store here subscrib respons handler subscriberresponsehandl don lose handler user set connect recov concurr map concurrentmap topic subscrib topicsubscrib messag handler messagehandl topic subscriber2 messag handler topicsubscriber2messagehandl concurr hash map concurrenthashmap topic subscrib topicsubscrib messag handler messagehandl hedwig client impl hedwigclientimpl client client configur clientconfigur cfg object close lock closelock object close hedwig subscrib hedwigsubscrib hedwig client impl hedwigclientimpl client client client cfg client get configur getconfigur method hold common logic synchron subscrib unsubscrib request code reus two flow similar assumpt input oper type operationtyp subscrib unsubscrib sub unsub subunsub string bytestr topic string bytestr subscrib id subscriberid oper type operationtyp oper type operationtyp subscript option subscriptionopt option connect except couldnotconnectexcept client subscrib except clientalreadysubscribedexcept client subscrib except clientnotsubscribedexcept servic down except servicedownexcept logger debug enabl isdebugen string builder stringbuild debug msg debugmsg string builder stringbuild append call sync sub unsub subunsub request topic append topic string utf8 tostringutf8 append subscrib id subscriberid append subscrib id subscriberid string utf8 tostringutf8 append oper type operationtyp append oper type operationtyp option debug msg debugmsg append creat attach createorattach append option get creat attach getcreateorattach append messag bound messagebound append option get messag bound getmessagebound logger debug debug msg debugmsg string tostr pub sub data pubsubdata pub sub data pubsubdata pub sub data pubsubdata topic subscrib id subscriberid oper type operationtyp option pub sub data pubsubdata pub sub callback pubsubcallback pub sub callback pubsubcallback pub sub callback pubsubcallback pub sub data pubsubdata async sub unsub asyncsubunsub topic subscrib id subscriberid pub sub callback pubsubcallback oper type operationtyp option pub sub data pubsubdata done isdon pub sub data pubsubdata wait interrupt except interruptedexcept servic down except servicedownexcept interrupt except wait async sub unsub subunsub call check from pub sub callback pubsubcallback success pub sub callback pubsubcallback get call success getiscallsuccess except thrown oper fail pub sub except pubsubexcept failur except failureexcept pub sub callback pubsubcallback get failur except getfailureexcept failur except failureexcept happen oper fail pub sub except pubsubexcept pass log warn messag gener servic down except servicedownexcept logger error sync sub unsub subunsub oper fail pub sub except pubsubexcept pass servic down except servicedownexcept server ack respons sub unsub subunsub request success expect except occur rethrow failur except failureexcept connect except couldnotconnectexcept connect except couldnotconnectexcept failur except failureexcept failur except failureexcept client subscrib except clientalreadysubscribedexcept client subscrib except clientalreadysubscribedexcept failur except failureexcept failur except failureexcept client subscrib except clientnotsubscribedexcept client subscrib except clientnotsubscribedexcept failur except failureexcept failur except failureexcept servic down except servicedownexcept servic down except servicedownexcept failur except failureexcept logger error unexpect pub sub except pubsubexcept thrown failur except failureexcept string tostr gener servic down except servicedownexcept wrap origin pub sub except pubsubexcept servic down except servicedownexcept failur except failureexcept method hold common logic asynchron subscrib unsubscrib request code reus two flow similar assumpt input oper type operationtyp subscrib unsubscrib async sub unsub asyncsubunsub string bytestr topic string bytestr subscrib id subscriberid callback callback object context oper type operationtyp oper type operationtyp subscript option subscriptionopt option logger debug enabl isdebugen string builder stringbuild debug msg debugmsg string builder stringbuild append call async sub unsub subunsub request topic append topic string utf8 tostringutf8 append subscrib id subscriberid append subscrib id subscriberid string utf8 tostringutf8 append oper type operationtyp append oper type operationtyp option debug msg debugmsg append creat attach createorattach append option get creat attach getcreateorattach append messag bound messagebound append option get messag bound getmessagebound logger debug debug msg debugmsg string tostr check server host master topic subscrib pub sub data pubsubdata pub sub data pubsubdata pub sub data pubsubdata topic subscrib id subscriberid oper type operationtyp option callback context client topic2 host topic2host contain kei containskei topic inet socket address inetsocketaddress host client topic2 host topic2host get topic oper type operationtyp equal oper type operationtyp unsubscrib client get publish getpublish host2 channel host2channel contain kei containskei host unsubscrib reus channel connect server host cach publish publish unsubscrib flow us channel cach store connect callback connectcallback sub unsub dosubunsub pub sub data pubsubdata client get publish getpublish host2 channel host2channel get host server host master topic connect first subscrib channel connect time topic subscrib topicsubscrib topic subscrib topicsubscrib connect subscrib assum server respond appropri statu indic unsubscrib client subscrib topic channel connect server host client down back up client side soft state memori netti channel connect anymor client connect doconnect pub sub data pubsubdata host server host topic known us server host port defin config point server vip redirect random server server host topic client connect doconnect pub sub data pubsubdata cfg get server host getdefaultserverhost subscrib string bytestr topic string bytestr subscrib id subscriberid creat attach createorattach mode connect except couldnotconnectexcept client subscrib except clientalreadysubscribedexcept servic down except servicedownexcept invalid subscrib id except invalidsubscriberidexcept subscript option subscriptionopt option subscript option subscriptionopt builder newbuild set creat attach setcreateorattach mode build subscrib topic subscrib id subscriberid option subscrib string bytestr topic string bytestr subscrib id subscriberid subscript option subscriptionopt option connect except couldnotconnectexcept client subscrib except clientalreadysubscribedexcept servic down except servicedownexcept invalid subscrib id except invalidsubscriberidexcept subscrib topic subscrib id subscriberid option subscrib string bytestr topic string bytestr subscrib id subscriberid subscript option subscriptionopt option hub ishub connect except couldnotconnectexcept client subscrib except clientalreadysubscribedexcept servic down except servicedownexcept invalid subscrib id except invalidsubscriberidexcept valid format subscrib id subscriberid valid local hub subscrib valid subscrib id isvalidsubscriberid subscrib id subscriberid hub ishub invalid subscrib id except invalidsubscriberidexcept subscrib id subscriberid pass valid subscrib id subscriberid string utf8 tostringutf8 hub ishub hub ishub sub unsub subunsub topic subscrib id subscriberid oper type operationtyp subscrib option client subscrib except clientnotsubscribedexcept logger error unexpect except thrown string tostr except thrown here gener servic down except servicedownexcept wrap origin except servic down except servicedownexcept async subscrib asyncsubscrib string bytestr topic string bytestr subscrib id subscriberid creat attach createorattach mode callback callback object context subscript option subscriptionopt option subscript option subscriptionopt builder newbuild set creat attach setcreateorattach mode build async subscrib asyncsubscrib topic subscrib id subscriberid option callback context async subscrib asyncsubscrib string bytestr topic string bytestr subscrib id subscriberid subscript option subscriptionopt option callback callback object context async subscrib asyncsubscrib topic subscrib id subscriberid option callback context async subscrib asyncsubscrib string bytestr topic string bytestr subscrib id subscriberid subscript option subscriptionopt option callback callback object context hub ishub valid format subscrib id subscriberid valid local hub subscrib valid subscrib id isvalidsubscriberid subscrib id subscriberid hub ishub callback oper fail operationfail context servic down except servicedownexcept invalid subscrib id except invalidsubscriberidexcept subscrib id subscriberid pass valid subscrib id subscriberid string utf8 tostringutf8 hub ishub hub ishub async sub unsub asyncsubunsub topic subscrib id subscriberid callback context oper type operationtyp subscrib option unsubscrib string bytestr topic string bytestr subscrib id subscriberid connect except couldnotconnectexcept client subscrib except clientnotsubscribedexcept servic down except servicedownexcept invalid subscrib id except invalidsubscriberidexcept unsubscrib topic subscrib id subscriberid unsubscrib string bytestr topic string bytestr subscrib id subscriberid hub ishub connect except couldnotconnectexcept client subscrib except clientnotsubscribedexcept servic down except servicedownexcept invalid subscrib id except invalidsubscriberidexcept valid format subscrib id subscriberid valid local hub subscrib valid subscrib id isvalidsubscriberid subscrib id subscriberid hub ishub invalid subscrib id except invalidsubscriberidexcept subscrib id subscriberid pass valid subscrib id subscriberid string utf8 tostringutf8 hub ishub hub ishub synchron close subscript client side even unsubscrib request server error won deliv messag subscript client client retri unsubscrib request server fulli unsubscrib from topic close subscript closesubscript topic subscrib id subscriberid sub unsub subunsub topic subscrib id subscriberid oper type operationtyp unsubscrib client subscrib except clientalreadysubscribedexcept logger error unexpect except thrown string tostr except thrown here gener servic down except servicedownexcept wrap origin except servic down except servicedownexcept async unsubscrib asyncunsubscrib string bytestr topic string bytestr subscrib id subscriberid callback callback object context async unsubscrib asyncunsubscrib topic subscrib id subscriberid callback context async unsubscrib asyncunsubscrib string bytestr topic string bytestr subscrib id subscriberid callback callback object context hub ishub valid format subscrib id subscriberid valid local hub subscrib valid subscrib id isvalidsubscriberid subscrib id subscriberid hub ishub callback oper fail operationfail context servic down except servicedownexcept invalid subscrib id except invalidsubscriberidexcept subscrib id subscriberid pass valid subscrib id subscriberid string utf8 tostringutf8 hub ishub hub ishub asynchron close subscript callback oper complet post async unsubscrib request async close subscript asyncclosesubscript topic subscrib id subscriberid callback overrid oper finish operationfinish object ctx result oper resultofoper async sub unsub asyncsubunsub topic subscrib id subscriberid callback context oper type operationtyp unsubscrib overrid oper fail operationfail object ctx pub sub except pubsubexcept except callback oper fail operationfail context except helper method determin subscrib id subscriberid valid hub local subscrib valid subscrib id isvalidsubscriberid string bytestr subscrib id subscriberid hub ishub hub ishub subscript state util subscriptionstateutil hub subscrib ishubsubscrib subscrib id subscriberid hub ishub subscript state util subscriptionstateutil hub subscrib ishubsubscrib subscrib id subscriberid consum string bytestr topic string bytestr subscrib id subscriberid messag seq id messageseqid messag seq id messageseqid client subscrib except clientnotsubscribedexcept logger debug enabl isdebugen logger debug call consum topic topic string utf8 tostringutf8 subscrib id subscriberid subscrib id subscriberid string utf8 tostringutf8 messag seq id messageseqid messag seq id messageseqid topic subscrib topicsubscrib topic subscrib topicsubscrib topic subscrib topicsubscrib topic subscrib id subscriberid check topic subscript client side exist topic subscriber2 channel topicsubscriber2channel contain kei containskei topic subscrib topicsubscrib client subscrib except clientnotsubscribedexcept send consum messag client subscrib topic topic string utf8 tostringutf8 subscrib id subscriberid subscrib id subscriberid string utf8 tostringutf8 pub sub data pubsubdata pub sub data pubsubdata pub sub data pubsubdata topic subscrib id subscriberid oper type operationtyp consum send consum messag server subscrib channel topic subscript us consum doconsum pub sub data pubsubdata topic subscriber2 channel topicsubscriber2channel get topic subscrib topicsubscrib messag seq id messageseqid helper method write actual subscrib unsubscrib messag client connect server channel avail param pub sub data pubsubdata subscrib unsubscrib call data wrapper object assum oper type operationtyp field subscrib unsubscrib param channel netti channel commun client server sub unsub dosubunsub pub sub data pubsubdata pub sub data pubsubdata channel channel creat pub sub request pubsubrequest pub sub request pubsubrequest builder pubsub request builder pubsubrequestbuild pub sub request pubsubrequest builder newbuild pubsub request builder pubsubrequestbuild set protocol version setprotocolvers protocol version protocolvers version on version_on pubsub request builder pubsubrequestbuild set type settyp pub sub data pubsubdata oper type operationtyp pub sub data pubsubdata server triedserv pub sub data pubsubdata server triedserv size pubsub request builder pubsubrequestbuild add server addalltriedserv pub sub data pubsubdata server triedserv txn id txnid client global counter globalcount increment get incrementandget pubsub request builder pubsubrequestbuild set txn id settxnid txn id txnid pubsub request builder pubsubrequestbuild set claim setshouldclaim pub sub data pubsubdata claim shouldclaim pubsub request builder pubsubrequestbuild set topic settop pub sub data pubsubdata topic creat subscrib unsubscrib request pub sub data pubsubdata oper type operationtyp equal oper type operationtyp subscrib creat subscrib request subscriberequest subscrib request subscriberequest builder subscrib request builder subscriberequestbuild subscrib request subscriberequest builder newbuild subscrib request builder subscriberequestbuild set subscrib id setsubscriberid pub sub data pubsubdata subscrib id subscriberid subscrib request builder subscriberequestbuild set creat attach setcreateorattach pub sub data pubsubdata option get creat attach getcreateorattach subscrib wait cross region subscript establish befor return subscrib request builder subscriberequestbuild set synchron setsynchron pub sub data pubsubdata option get messag bound getmessagebound subscrib request builder subscriberequestbuild set messag bound setmessagebound pub sub data pubsubdata option get messag bound getmessagebound cfg get subscript messag bound getsubscriptionmessagebound subscrib request builder subscriberequestbuild set messag bound setmessagebound cfg get subscript messag bound getsubscriptionmessagebound set subscrib request subscriberequest outer pub sub request pubsubrequest pubsub request builder pubsubrequestbuild set subscrib request setsubscriberequest subscrib request builder subscriberequestbuild creat subscrib request unsubscriberequest unsubscrib request unsubscriberequest builder unsubscrib request builder unsubscriberequestbuild unsubscrib request unsubscriberequest builder newbuild unsubscrib request builder unsubscriberequestbuild set subscrib id setsubscriberid pub sub data pubsubdata subscrib id subscriberid set unsubscrib request unsubscriberequest outer pub sub request pubsubrequest pubsub request builder pubsubrequestbuild set unsubscrib request setunsubscriberequest unsubscrib request builder unsubscriberequestbuild updat pub sub data pubsubdata txn id txnid request write time requestwritetim pub sub data pubsubdata txn id txnid txn id txnid pub sub data pubsubdata request write time requestwritetim current time milli currenttimemilli befor write store inform respons handler responsehandl server respond appropri callback data invok txn id hedwig client impl hedwigclientimpl get respons handler from channel getresponsehandlerfromchannel channel txn2 pub sub data txn2pubsubdata put txn id txnid pub sub data pubsubdata write subscrib request channel logger debug enabl isdebugen logger debug write sub unsub subunsub request host hedwig client impl hedwigclientimpl get host from channel gethostfromchannel channel pub sub data pubsubdata pub sub data pubsubdata channel futur channelfutur futur channel write pubsub request builder pubsubrequestbuild build futur add listen addlisten write callback writecallback pub sub data pubsubdata client helper method write consum messag server after subscrib channel connect made server messag consum client param pub sub data pubsubdata consum call data wrapper object assum oper type operationtyp field consum param channel netti channel commun client server param messag seq id messageseqid messag seq id latest last messag client ha consum consum doconsum pub sub data pubsubdata pub sub data pubsubdata channel channel messag seq id messageseqid messag seq id messageseqid creat pub sub request pubsubrequest pub sub request pubsubrequest builder pubsub request builder pubsubrequestbuild pub sub request pubsubrequest builder newbuild pubsub request builder pubsubrequestbuild set protocol version setprotocolvers protocol version protocolvers version on version_on pubsub request builder pubsubrequestbuild set type settyp oper type operationtyp consum txn id txnid client global counter globalcount increment get incrementandget pubsub request builder pubsubrequestbuild set txn id settxnid txn id txnid pubsub request builder pubsubrequestbuild set topic settop pub sub data pubsubdata topic creat consum request consumerequest consum request consumerequest builder consum request builder consumerequestbuild consum request consumerequest builder newbuild consum request builder consumerequestbuild set subscrib id setsubscriberid pub sub data pubsubdata subscrib id subscriberid consum request builder consumerequestbuild set msg id setmsgid messag seq id messageseqid set consum request consumerequest outer pub sub request pubsubrequest pubsub request builder pubsubrequestbuild set consum request setconsumerequest consum request builder consumerequestbuild consum request send from client fire forget manner expect server send back ack respons respons handler responsehandl callback invok isn client initi action futur listen log error messag problem write consum request logger debug enabl isdebugen logger debug write consum request host hedwig client impl hedwigclientimpl get host from channel gethostfromchannel channel messag seq id messageseqid messag seq id messageseqid pub sub data pubsubdata pub sub data pubsubdata channel futur channelfutur futur channel write pubsub request builder pubsubrequestbuild build futur add listen addlisten channel futur listen channelfuturelisten overrid oper complet operationcomplet channel futur channelfutur futur except futur success issuccess logger error error write consum request host hedwig client impl hedwigclientimpl get host from channel gethostfromchannel channel messag seq id messageseqid messag seq id messageseqid pub sub data pubsubdata pub sub data pubsubdata ha subscript hassubscript string bytestr topic string bytestr subscrib id subscriberid connect except couldnotconnectexcept servic down except servicedownexcept subscript type info store server end client side eventu server subscript manag part ti zookeep manag info comment type api relat here data avail server figur correct contact server get info client side ha soft memori state client subscript inform topic subscriber2 channel topicsubscriber2channel contain kei containskei topic subscrib topicsubscrib topic subscrib id subscriberid list string bytestr get subscript list getsubscriptionlist string bytestr subscrib id subscriberid connect except couldnotconnectexcept servic down except servicedownexcept previou ha subscript hassubscript method data resid server end client side start deliveri startdeliveri string bytestr topic string bytestr subscrib id subscriberid messag handler messagehandl messag handler messagehandl client subscrib except clientnotsubscribedexcept start deliveri except alreadystartdeliveryexcept start deliveri startdeliveri topic subscrib id subscriberid messag handler messagehandl restart deliveri restartdeliveri string bytestr topic string bytestr subscrib id subscriberid client subscrib except clientnotsubscribedexcept start deliveri except alreadystartdeliveryexcept start deliveri startdeliveri topic subscrib id subscriberid start deliveri startdeliveri string bytestr topic string bytestr subscrib id subscriberid messag handler messagehandl messag handler messagehandl restart client subscrib except clientnotsubscribedexcept start deliveri except alreadystartdeliveryexcept logger debug enabl isdebugen logger debug start deliveri topic topic string utf8 tostringutf8 subscrib id subscriberid subscrib id subscriberid string utf8 tostringutf8 topic subscrib topicsubscrib topic subscrib topicsubscrib topic subscrib topicsubscrib topic subscrib id subscriberid make topic subscript client side exist assumpt client memori channel creat topic subscrib topicsubscrib server ha sent ack respons initi subscrib request topic subscriber2 channel topicsubscriber2channel contain kei containskei topic subscrib topicsubscrib logger error client subscrib topic topic string utf8 tostringutf8 subscrib id subscriberid subscrib id subscriberid string utf8 tostringutf8 client subscrib except clientnotsubscribedexcept client subscrib topic topic string utf8 tostringutf8 subscrib id subscriberid subscrib id subscriberid string utf8 tostringutf8 messag handler messagehandl subscrib channel respons handler channel topic subscrib channel topicsubscriberchannel topic subscriber2 channel topicsubscriber2channel get topic subscrib topicsubscrib ensur set handler readabl channel sync race condit connect recoveri user call time messag handler messagehandl exist msg handler existedmsghandl topic subscriber2 messag handler topicsubscriber2messagehandl get topic subscrib topicsubscrib restart restart exist msg handler messag handler messagehandl exist msg handler existedmsghandl ha start deliveri stop exist msg handler existedmsghandl start deliveri except alreadystartdeliveryexcept messag handler ha start topic subscrib topic subscrib topicsubscrib messag handler messagehandl topic subscriber2 messag handler topicsubscriber2messagehandl put absent putifabs topic subscrib topicsubscrib messag handler messagehandl start deliveri except alreadystartdeliveryexcept start deliveri topic subscrib topic subscrib topicsubscrib hedwig client impl hedwigclientimpl get respons handler from channel getresponsehandlerfromchannel topic subscrib channel topicsubscriberchannel get subscrib respons handler getsubscriberesponsehandl set messag handler setmessagehandl messag handler messagehandl make topic subscrib topicsubscrib channel readabl set readabl initi subscript done note asynchron call fail futur listen futurelisten log error messag channel futur channelfutur futur topic subscrib channel topicsubscriberchannel set readabl setread futur add listen addlisten channel futur listen channelfuturelisten overrid oper complet operationcomplet channel futur channelfutur futur except futur success issuccess logger error unabl make subscrib channel readabl start deliveri startdeliveri call topic topic string utf8 tostringutf8 subscrib id subscriberid subscrib id subscriberid string utf8 tostringutf8 stop deliveri stopdeliveri string bytestr topic string bytestr subscrib id subscriberid client subscrib except clientnotsubscribedexcept logger debug enabl isdebugen logger debug stop deliveri topic topic string utf8 tostringutf8 subscrib id subscriberid subscrib id subscriberid string utf8 tostringutf8 topic subscrib topicsubscrib topic subscrib topicsubscrib topic subscrib topicsubscrib topic subscrib id subscriberid make topic subscript client side exist assumpt client memori channel creat topic subscrib topicsubscrib server ha sent ack respons initi subscrib request topic subscriber2 channel topicsubscriber2channel contain kei containskei topic subscrib topicsubscrib logger error client subscrib topic topic string utf8 tostringutf8 subscrib id subscriberid subscrib id subscriberid string utf8 tostringutf8 client subscrib except clientnotsubscribedexcept client subscrib topic topic string utf8 tostringutf8 subscrib id subscriberid subscrib id subscriberid string utf8 tostringutf8 unregist messag handler messagehandl subscrib channel respons handler channel topic subscrib channel topicsubscriberchannel topic subscriber2 channel topicsubscriber2channel get topic subscrib topicsubscrib hedwig client impl hedwigclientimpl get respons handler from channel getresponsehandlerfromchannel topic subscrib channel topicsubscriberchannel get subscrib respons handler getsubscriberesponsehandl set messag handler setmessagehandl topic subscriber2 messag handler topicsubscriber2messagehandl remov topic subscrib topicsubscrib make topic subscrib topicsubscrib channel readabl buffer up messag sent from server note asynchron call fail futur listen futurelisten log error messag channel futur channelfutur futur topic subscrib channel topicsubscriberchannel set readabl setread futur add listen addlisten channel futur listen channelfuturelisten overrid oper complet operationcomplet channel futur channelfutur futur except futur success issuccess logger error unabl make subscrib channel readabl stop deliveri stopdeliveri call topic topic string utf8 tostringutf8 subscrib id subscriberid subscrib id subscriberid string utf8 tostringutf8 close subscript closesubscript string bytestr topic string bytestr subscrib id subscriberid servic down except servicedownexcept pub sub data pubsubdata pub sub data pubsubdata pub sub data pubsubdata topic subscrib id subscriberid pub sub data pubsubdata pub sub callback pubsubcallback pub sub callback pubsubcallback pub sub callback pubsubcallback pub sub data pubsubdata async close subscript asyncclosesubscript topic subscrib id subscriberid pub sub callback pubsubcallback pub sub data pubsubdata done isdon pub sub data pubsubdata wait interrupt except interruptedexcept servic down except servicedownexcept interrupt except wait async close subscript asyncclosesubscript call check from pub sub callback pubsubcallback success pub sub callback pubsubcallback get call success getiscallsuccess servic down except servicedownexcept except close subscript topic topic string utf8 tostringutf8 subscrib id subscriberid subscrib id subscriberid string utf8 tostringutf8 async close subscript asyncclosesubscript string bytestr topic string bytestr subscrib id subscriberid callback callback object context logger debug enabl isdebugen logger debug close subscript asynchron topic topic string utf8 tostringutf8 subscrib id subscriberid subscrib id subscriberid string utf8 tostringutf8 topic subscrib topicsubscrib topic subscrib topicsubscrib topic subscrib topicsubscrib topic subscrib id subscriberid topic subscriber2 channel topicsubscriber2channel contain kei containskei topic subscrib topicsubscrib remov cach refer topic subscrib topicsubscrib channel channel topic subscriber2 channel topicsubscriber2channel get topic subscrib topicsubscrib topic subscriber2 channel topicsubscriber2channel remov topic subscrib topicsubscrib close subscrib channel asynchron hedwig client impl hedwigclientimpl get respons handler from channel getresponsehandlerfromchannel channel channel close explicitli channelclosedexplicitli channel futur channelfutur futur channel close futur add listen addlisten channel futur listen channelfuturelisten overrid oper complet operationcomplet channel futur channelfutur futur except futur success issuccess logger error fail close subscript channel topic topic string utf8 tostringutf8 subscrib id subscriberid subscrib id subscriberid string utf8 tostringutf8 callback oper fail operationfail context servic down except servicedownexcept fail close subscript channel topic topic string utf8 tostringutf8 subscrib id subscriberid subscrib id subscriberid string utf8 tostringutf8 callback oper finish operationfinish context logger warn close subscript don subscrib channel cach topic topic string utf8 tostringutf8 subscrib id subscriberid subscrib id subscriberid string utf8 tostringutf8 callback oper finish operationfinish context getter setter entri topic2 host topic2host map us class inform classpath channel get channel topic getchannelfortop topic subscrib topicsubscrib topic topic subscriber2 channel topicsubscriber2channel get topic set channel topic setchannelfortop topic subscrib topicsubscrib topic channel channel close lock closelock close channel close channel oldc topic subscriber2 channel topicsubscriber2channel put absent putifabs topic channel oldc channel close remov channel topic removechannelfortop topic subscrib topicsubscrib topic topic subscriber2 channel topicsubscriber2channel remov topic close close lock closelock close close open channel channel channel topic subscriber2 channel topicsubscriber2channel valu client get respons handler from channel getresponsehandlerfromchannel channel channel close explicitli channelclosedexplicitli channel close await uninterrupt awaituninterrupt topic subscriber2 channel topicsubscriber2channel clear 
test updat subscript state testupdatesubscriptionst hedwig hub test base hedwighubtestbas retent sec valu retention_secs_valu 100 client side variabl hedwig client hedwigcli client publish publish subscrib subscrib synchron queue synchronousqueu verifi async call synchron queue synchronousqueu queue synchron queue synchronousqueu test implement subscrib messag handler order check messag handler ordercheckingmessagehandl messag handler messagehandl string bytestr topic string bytestr subscrib id subscriberid start msg id startmsgid num msg nummsg end msg id endmsgid order inord order check messag handler ordercheckingmessagehandl string bytestr topic string bytestr subscrib id subscriberid start msg id startmsgid num msg nummsg topic topic subscrib id subscriberid subscrib id subscriberid start msg id startmsgid start msg id startmsgid num msg nummsg num msg nummsg end msg id endmsgid start msg id startmsgid num msg nummsg overrid deliv string bytestr topic thistop string bytestr subscrib id thissubscriberid messag msg callback callback object context topic equal topic thistop subscrib id subscriberid equal subscrib id thissubscriberid check order msg id msgid integ pars parseint msg get bodi getbodi string utf8 tostringutf8 logger debug enabl isdebugen logger debug receiv messag msg id msgid order inord start msg id startmsgid msg id msgid logger error expect messag start msg id startmsgid receiv messag msg id msgid order inord start msg id startmsgid callback oper finish operationfinish context msg id msgid end msg id endmsgid thread runnabl overrid run logger debug enabl isdebugen logger debug deliv finish concurr util concurrencyutil put queue start order isinord order inord test updat subscript state testupdatesubscriptionst hub server configur newhubserverconfigur hub server configur hubserverconfigur hub server configur newhubserverconfigur server port serverport ssl server port sslserverport server port serverport ssl server port sslserverport overrid get retent sec getretentionsec retent sec valu retention_secs_valu overrid server configur serverconfigur get server configur getserverconfigur server port serverport ssl server port sslserverport hub server configur newhubserverconfigur server port serverport ssl server port sslserverport test client configur testclientconfigur client configur clientconfigur overrid send consum messag enabl isautosendconsumemessageen overrid befor set up setup except set up setup client hedwig client hedwigcli test client configur testclientconfigur publish client get publish getpublish subscrib client get subscrib getsubscrib overrid after tear down teardown except client close tear down teardown test test consum topic releas testconsumewhentopicreleas except string bytestr topic string bytestr copi from utf8 copyfromutf8 test consum topic releas testconsumewhentopicreleas string bytestr sub id subid string bytestr copi from utf8 copyfromutf8 mysub start msg id startmsgid num msg nummsg 10 subscrib client subscrib subscrib topic sub id subid creat attach createorattach creat attach create_or_attach start deliveri order check messag handler ordercheckingmessagehandl ocm order check messag handler ordercheckingmessagehandl topic sub id subid start msg id startmsgid num msg nummsg subscrib start deliveri startdeliveri topic sub id subid ocm num msg nummsg messag msg messag builder newbuild set bodi setbodi string bytestr copi from utf8 copyfromutf8 integ string tostr start msg id startmsgid build publish publish topic msg logger info publish finish queue logger info deliv finish check messag receiv order asserttru ocm order isinord wait retent sec thread sleep retent sec valu retention_secs_valu 1000 subscrib stop deliveri stopdeliveri topic sub id subid subscrib close subscript closesubscript topic sub id subid start msg id startmsgid 20 reconnect subscrib subscrib topic sub id subid creat attach createorattach creat attach create_or_attach ocm order check messag handler ordercheckingmessagehandl topic sub id subid start msg id startmsgid num msg nummsg subscrib start deliveri startdeliveri topic sub id subid ocm num msg nummsg messag msg messag builder newbuild set bodi setbodi string bytestr copi from utf8 copyfromutf8 integ string tostr start msg id startmsgid build publish publish topic msg queue check messag receiv order asserttru ocm order isinord test test consum hub shutdown testconsumewhenhubshutdown except string bytestr topic string bytestr copi from utf8 copyfromutf8 test consum hub shutdown testconsumewhenhubshutdown string bytestr sub id subid string bytestr copi from utf8 copyfromutf8 mysub start msg id startmsgid num msg nummsg 10 subscrib client subscrib subscrib topic sub id subid creat attach createorattach creat attach create_or_attach start deliveri order check messag handler ordercheckingmessagehandl ocm order check messag handler ordercheckingmessagehandl topic sub id subid start msg id startmsgid num msg nummsg subscrib start deliveri startdeliveri topic sub id subid ocm num msg nummsg messag msg messag builder newbuild set bodi setbodi string bytestr copi from utf8 copyfromutf8 integ string tostr start msg id startmsgid build publish publish topic msg logger info publish finish queue logger info deliv finish check messag receiv order asserttru ocm order isinord make consum request sent hub server befor shut down thread sleep 2000 subscrib stop deliveri stopdeliveri topic sub id subid subscrib close subscript closesubscript topic sub id subid stop hub server stophubserv thread sleep 1000 start hub server starthubserv start msg id startmsgid 20 reconnect subscrib subscrib topic sub id subid creat attach createorattach creat attach create_or_attach ocm order check messag handler ordercheckingmessagehandl topic sub id subid start msg id startmsgid num msg nummsg subscrib start deliveri startdeliveri topic sub id subid ocm num msg nummsg messag msg messag builder newbuild set bodi setbodi string bytestr copi from utf8 copyfromutf8 integ string tostr start msg id startmsgid build publish publish topic msg queue check messag receiv order asserttru ocm order isinord 
digest type us verif crc32 cheap comput protect byzantin booki booki report fake byte match crc32 mac code more expens comput password booki report fake byte mathch mac password digest type digesttyp mac crc32 
listen event issu subscript manag subscriptionmanag subscript event listen subscriptioneventlisten call subscript manag previous zero local subscrib topic current accept first local subscrib param topic topic interest param synchron request initi local subscrib exist subscript inherit hub recov state from zk param cb subscript complet success call callback error cb result subscript error first local subscrib onfirstlocalsubscrib string bytestr topic synchron callback cb call subscript manag subscriptionmanag previous non zero local subscrib topic current drop last local subscrib fulli asynchron callback param topic topic interest last local unsubscrib onlastlocalunsubscrib string bytestr topic 
zk subscript manag zksubscriptionmanag abstract subscript manag abstractsubscriptionmanag zoo keeper zookeep zk logger logger logger factori loggerfactori get logger getlogg zk subscript manag zksubscriptionmanag zk subscript manag zksubscriptionmanag zoo keeper zookeep zk topic manag topicmanag topic mgr topicmgr persist manag persistencemanag pm server configur serverconfigur cfg schedul executor servic scheduledexecutorservic schedul cfg topic mgr topicmgr pm schedul zk zk string builder stringbuild topic subscrib path topicsubscriberspath string builder stringbuild sb string bytestr topic cfg get zk topic path getzktopicpath sb topic append subscrib string topic subscrib path topicsubscriberpath string bytestr topic string bytestr subscrib topic subscrib path topicsubscriberspath string builder stringbuild topic append append subscrib string utf8 tostringutf8 string tostr overrid read subscript readsubscript string bytestr topic callback map string bytestr memori subscript state inmemorysubscriptionst cb object ctx string topic subscrib path topicsubscriberspath topic subscrib path topicsubscriberspath string builder stringbuild topic string tostr zk get children getchildren topic subscrib path topicsubscriberspath safe async zk callback safeasynczkcallback children callback childrencallback overrid safe process result safeprocessresult rc string path object ctx list string children rc code valu intvalu rc code nonod valu intvalu keeper except keeperexcept zk util zkutil log error creat zk except logerrorandcreatezkexcept read subscrib topic topic string utf8 tostringutf8 path rc cb oper fail operationfail ctx pub sub except pubsubexcept servic down except servicedownexcept map string bytestr memori subscript state inmemorysubscriptionst topic sub topicsub concurr hash map concurrenthashmap string bytestr memori subscript state inmemorysubscriptionst rc code nonod valu intvalu children size logger debug enabl isdebugen logger debug subscript found acquir topic topic string utf8 tostringutf8 cb oper finish operationfinish ctx topic sub topicsub atom atomicboolean fail atom atomicboolean atom integ atomicinteg count atom integ atomicinteg string child children string bytestr subscrib id subscriberid string bytestr copi from utf8 copyfromutf8 child string child path childpath path child zk get data getdata child path childpath safe async zk callback safeasynczkcallback data callback datacallback overrid safe process result safeprocessresult rc string path object ctx data stat stat rc code valu intvalu keeper except keeperexcept zk util zkutil log error creat zk except logerrorandcreatezkexcept read subscript data topic topic string utf8 tostringutf8 subscrib id subscriberid subscrib id subscriberid string utf8 tostringutf8 path rc report failur reportfailur pub sub except pubsubexcept servic down except servicedownexcept fail get subscript state subscriptionst state state subscript state subscriptionst pars from parsefrom data invalid protocol buffer except invalidprotocolbufferexcept ex string msg fail deseri state topic topic string utf8 tostringutf8 subscrib id subscriberid subscrib id subscriberid string utf8 tostringutf8 logger error msg ex report failur reportfailur pub sub except pubsubexcept unexpect condit except unexpectedconditionexcept msg logger debug enabl isdebugen logger debug found subscript acquir topic topic string utf8 tostringutf8 subscrib id subscriberid child state subscript state util subscriptionstateutil string tostr state topic sub topicsub put subscrib id subscriberid memori subscript state inmemorysubscriptionst state count increment get incrementandget children size topic sub topicsub size count get cb oper finish operationfinish ctx topic sub topicsub report failur reportfailur pub sub except pubsubexcept fail compar set compareandset cb oper fail operationfail ctx ctx ctx overrid creat subscript state createsubscriptionst string bytestr topic string bytestr subscrib id subscriberid subscript state subscriptionst state callback callback object ctx zk util zkutil creat full path optimist createfullpathoptimist zk topic subscrib path topicsubscriberpath topic subscrib id subscriberid state arrai tobytearrai id open acl unsaf open_acl_unsaf creat mode createmod persist safe async zk callback safeasynczkcallback string callback stringcallback overrid safe process result safeprocessresult rc string path object ctx string name rc code valu intvalu logger debug enabl isdebugen logger debug successfulli record subscript topic topic string utf8 tostringutf8 subscrib id subscriberid subscrib id subscriberid string utf8 tostringutf8 state subscript state util subscriptionstateutil string tostr state callback oper finish operationfinish ctx keeper except keeperexcept ke zk util zkutil log error creat zk except logerrorandcreatezkexcept record subscript topic topic string utf8 tostringutf8 subscrib id subscriberid subscrib id subscriberid string utf8 tostringutf8 path rc callback oper fail operationfail ctx pub sub except pubsubexcept servic down except servicedownexcept ke ctx overrid updat subscript state updatesubscriptionst string bytestr topic string bytestr subscrib id subscriberid subscript state subscriptionst state callback callback object ctx zk set data setdata topic subscrib path topicsubscriberpath topic subscrib id subscriberid state arrai tobytearrai safe async zk callback safeasynczkcallback stat callback statcallback overrid safe process result safeprocessresult rc string path object ctx stat stat rc code valu intvalu keeper except keeperexcept zk util zkutil log error creat zk except logerrorandcreatezkexcept topic topic string utf8 tostringutf8 subscrib id subscriberid subscrib id subscriberid string utf8 tostringutf8 set subscript state subscript state util subscriptionstateutil string tostr state path rc callback oper fail operationfail ctx pub sub except pubsubexcept servic down except servicedownexcept logger debug enabl isdebugen logger debug successfulli updat subscript topic topic string utf8 tostringutf8 subscrib id subscriberid subscrib id subscriberid string utf8 tostringutf8 state subscript state util subscriptionstateutil string tostr state callback oper finish operationfinish ctx ctx overrid delet subscript state deletesubscriptionst string bytestr topic string bytestr subscrib id subscriberid callback callback object ctx zk delet topic subscrib path topicsubscriberpath topic subscrib id subscriberid safe async zk callback safeasynczkcallback callback voidcallback overrid safe process result safeprocessresult rc string path object ctx rc code valu intvalu logger debug enabl isdebugen logger debug successfulli delet subscript topic topic string utf8 tostringutf8 subscrib id subscriberid subscrib id subscriberid string utf8 tostringutf8 callback oper finish operationfinish ctx keeper except keeperexcept zk util zkutil log error creat zk except logerrorandcreatezkexcept topic topic string utf8 tostringutf8 subscrib id subscriberid subscrib id subscriberid string utf8 tostringutf8 fail delet subscript path rc callback oper fail operationfail ctx pub sub except pubsubexcept servic down except servicedownexcept ctx 
replic verif callback replicationverificationcallback read entri callback readentrycallback count down latch countdownlatch latch atom atomiclong num success numsuccess replic verif callback replicationverificationcallback num request numrequest latch count down latch countdownlatch num request numrequest num success numsuccess atom atomiclong read entri complet readentrycomplet rc ledger id ledgerid entri id entryid channel buffer channelbuff buffer object ctx log debug enabl isdebugen inet socket address inetsocketaddress addr inet socket address inetsocketaddress ctx log debug rc ledger ledger id ledgerid entri entri id entryid from ctx rc bk except bkexcept code num success numsuccess increment get incrementandget latch count down countdown await interrupt except interruptedexcept latch await 60 time unit timeunit second log warn didn get respons verif num success numsuccess get 
stub deliveri manag stubdeliverymanag deliveri manag deliverymanag start serv request startservingrequest string bytestr topic string bytestr subscrib id subscriberid messag seq id messageseqid seq id start from seqidtostartfrom deliveri end point deliveryendpoint end point endpoint messag filter messagefilt filter hub subscrib ishubsubscrib start serv request startservingrequest string bytestr topic string bytestr subscrib id subscriberid messag seq id messageseqid seq id start from seqidtostartfrom deliveri end point deliveryendpoint end point endpoint messag filter messagefilt filter hub subscrib ishubsubscrib topic topic subscrib id subscriberid subscrib id subscriberid seq id start from seqidtostartfrom seq id start from seqidtostartfrom end point endpoint end point endpoint filter filter hub subscrib ishubsubscrib hub subscrib ishubsubscrib queue object last request lastrequest link list linkedlist object overrid start serv subscript startservingsubscript string bytestr topic string bytestr subscrib id subscriberid messag seq id messageseqid seq id start from seqidtostartfrom deliveri end point deliveryendpoint end point endpoint messag filter messagefilt filter hub subscrib ishubsubscrib last request lastrequest add start serv request startservingrequest topic subscrib id subscriberid seq id start from seqidtostartfrom end point endpoint filter hub subscrib ishubsubscrib overrid stop serv subscrib stopservingsubscrib string bytestr topic string bytestr subscrib id subscriberid last request lastrequest add topic subscrib topicsubscrib topic subscrib id subscriberid overrid start overrid stop 
hedwig benchmark hedwigbenchmark callabl logger logger logger factori loggerfactori get logger getlogg hedwig benchmark hedwigbenchmark string topic prefix topic_prefix topic hedwig client hedwigcli client publish publish subscrib subscrib command line commandlin cmd hedwig benchmark hedwigbenchmark client configur clientconfigur cfg command line commandlin cmd client hedwig client hedwigcli cfg publish client get publish getpublish subscrib client get subscrib getsubscrib cmd cmd respons topic amiresponsiblefortop topic num topicnum partit index partitionindex num partit numpartit topic num topicnum num partit numpartit partit index partitionindex overrid call except paramet program run pub sub subscript benchmark recv string mode cmd get option valu getoptionvalu mode number request make publish subscrib num topic numtop integ valu valueof cmd get option valu getoptionvalu topic ntopic 50 num messag nummessag integ valu valueof cmd get option valu getoptionvalu msg nmsg 1000 num region numregion integ valu valueof cmd get option valu getoptionvalu region nregion start topic label starttopiclabel integ valu valueof cmd get option valu getoptionvalu start topic label starttopiclabel partit index partitionindex integ valu valueof cmd get option valu getoptionvalu partit index partitionindex num partit numpartit integ valu valueof cmd get option valu getoptionvalu partit npartit replica index replicaindex integ valu valueof cmd get option valu getoptionvalu replica index replicaindex rate integ valu valueof cmd get option valu getoptionvalu rate parallel nparallel integ valu valueof cmd get option valu getoptionvalu npar 100 msg size msgsize integ valu valueof cmd get option valu getoptionvalu msg size msgsize 1024 number warmup subscript make warmup nwarmup integ valu valueof cmd get option valu getoptionvalu nwarmup 1000 mode equal sub benchmark subscrib benchmarksubscrib benchmark sub benchmarksub benchmark subscrib benchmarksubscrib num topic numtop start topic label starttopiclabel subscrib string bytestr copi from utf8 copyfromutf8 sub mysub benchmark sub benchmarksub warmup warmup nwarmup benchmark sub benchmarksub call mode equal recv benchmark subscrib benchmarksubscrib benchmark sub benchmarksub benchmark subscrib benchmarksubscrib num topic numtop num messag nummessag num region numregion start topic label starttopiclabel partit index partitionindex num partit numpartit subscrib string bytestr copi from utf8 copyfromutf8 sub replica index replicaindex benchmark sub benchmarksub call mode equal pub offer load msg second benchmark publish benchmarkpublish benchmark pub benchmarkpub benchmark publish benchmarkpublish num topic numtop num messag nummessag num region numregion start topic label starttopiclabel partit index partitionindex num partit numpartit publish subscrib msg size msgsize parallel nparallel rate benchmark pub benchmarkpub warmup warmup nwarmup benchmark pub benchmarkpub call except unknown mode mode main string arg except option option option option add option addopt mode sub recv pub option add option addopt topic ntopic number topic 50 option add option addopt msg nmsg number messag 1000 option add option addopt region nregion number regsion option add option addopt start topic label starttopiclabel prefix topic label numer option add option addopt partit index partitionindex partit partit index client option add option addopt partit npartit number partit option add option addopt replica index replicaindex option add option addopt rate option add option addopt npar 100 option add option addopt msg size msgsize size messag 1024 option add option addopt nwarmup number warmup messag 1000 option add option addopt hub defaulthub hedwig hub connect localhost 4080 command line parser commandlinepars parser posix parser posixpars command line commandlin cmd parser pars option arg cmd ha option hasopt help help formatt helpformatt formatt help formatt helpformatt formatt print help printhelp hedwig benchmark hedwigbenchmark option option exit client configur clientconfigur cfg client configur clientconfigur hedwig socket address hedwigsocketaddress get server hedwig socket address getdefaultserverhedwigsocketaddress hedwig socket address hedwigsocketaddress cmd get option valu getoptionvalu hub defaulthub localhost 4080 ssl enabl issslen intern logger factori internalloggerfactori set factori setdefaultfactori log4 logger factori log4jloggerfactori hedwig benchmark hedwigbenchmark app hedwig benchmark hedwigbenchmark cfg cmd app call exit 
stub ownership chang listen stubownershipchangelisten topic ownership chang listen topicownershipchangelisten failur synchron queue synchronousqueu pair string bytestr bs queue bsqueue stub ownership chang listen stubownershipchangelisten synchron queue synchronousqueu pair string bytestr bs queue bsqueue bs queue bsqueue bs queue bsqueue set failur setfailur failur failur failur overrid lost topic losttop string bytestr topic thread runnabl overrid run concurr util concurrencyutil put bs queue bsqueue pair topic start acquir topic acquiredtop string bytestr topic callback callback object ctx thread runnabl overrid run concurr util concurrencyutil put bs queue bsqueue pair topic failur callback oper fail operationfail ctx pub sub except pubsubexcept servic down except servicedownexcept ask fail callback oper finish operationfinish ctx start 
booki bean booki bean bookiebean booki mx bean bookiemxbean bkm bean info bkmbeaninfo booki bk booki bean bookiebean booki bk bk bk overrid string get name getnam booki overrid hidden ishidden overrid get queue length getqueuelength bk journal get journal queue length getjournalqueuelength 
abstract base handler basehandl handler topic manag topicmanag topic mgr topicmgr server configur serverconfigur cfg base handler basehandl topic manag topicmanag tm server configur serverconfigur cfg topic mgr topicmgr tm cfg cfg handl request handlerequest pub sub request pubsubrequest request channel channel topic mgr topicmgr get owner getown request get topic gettop request get claim getshouldclaim callback hedwig socket address hedwigsocketaddress overrid oper fail operationfail object ctx pub sub except pubsubexcept except channel write pub sub respons util pubsubresponseutil get respons except getresponseforexcept except request get txn id gettxnid server stat serverstat get instanc getinst get op stat getopstat request get type gettyp increment fail op incrementfailedop overrid oper finish operationfinish object ctx hedwig socket address hedwigsocketaddress owner owner equal cfg get server addr getserveraddr channel write pub sub respons util pubsubresponseutil get respons except getresponseforexcept server respons topic except servernotresponsiblefortopicexcept owner string tostr request get txn id gettxnid server stat serverstat get instanc getinst increment request redirect incrementrequestsredirect handl request owner handlerequestatown request channel abstract handl request owner handlerequestatown pub sub request pubsubrequest request channel channel 
describ cmd describecmd command mycommand overrid run cmd runcmd string arg except arg length hedwig command hedwigcommand describ topic describe_top equal arg describ topic describetop arg describ topic describetop string topic except string bytestr btopic string bytestr copi from utf8 copyfromutf8 topic hedwig socket address hedwigsocketaddress owner admin get topic owner gettopicown btopic list ledger rang ledgerrang rang admin get topic ledger gettopicledg btopic map string bytestr subscript state subscriptionst state admin get topic subscript gettopicsubscript btopic println topic inform topic println println owner owner owner println print ledger print topic ledger printtopicledg rang print subscript print topic subscript printtopicsubscript state print topic ledger printtopicledg list ledger rang ledgerrang lr println persist info lr println lr empti isempti println ledger us iter ledger rang ledgerrang lr iter lriter lr iter start ledger startofledg lr iter lriter ha next hasnext ledger rang ledgerrang rang lr iter lriter next end ledger endofledg max valu max_valu rang ha end seq id includ hasendseqidinclud end ledger endofledg rang get end seq id includ getendseqidinclud get local compon getlocalcompon println ledger rang get ledger id getledgerid start ledger startofledg end ledger endofledg max valu max_valu end ledger endofledg start ledger startofledg end ledger endofledg println print topic subscript printtopicsubscript map string bytestr subscript state subscriptionst state println subscript info state size println subscrib map entri string bytestr subscript state subscriptionst entri state entri set entryset println subscrib entri get kei getkei string utf8 tostringutf8 subscript state util subscriptionstateutil string tostr entri get valu getvalu println 
persist op persistop topic op queuer topicopqueu synchron op synchronousop persist request persistrequest request persist op persistop persist request persistrequest request queuer request topic request request overrid run intern runintern topic info topicinfo topic info topicinfo topic info topicinfo get topic topic info topicinfo request callback oper fail operationfail request ctx pub sub except pubsubexcept server respons topic except servernotresponsiblefortopicexcept topic info topicinfo releas doreleas get request callback oper fail operationfail request ctx pub sub except pubsubexcept servic down except servicedownexcept ownership topic releas unrecover issu local seq id localseqid topic info topicinfo last seq id push lastseqidpush get local compon getlocalcompon messag seq id messageseqid builder builder messag seq id messageseqid builder newbuild request messag ha msg id hasmsgid messag id util messageidutil region maximum takeregionmaximum builder topic info topicinfo last seq id push lastseqidpush request messag get msg id getmsgid builder add remot compon addallremotecompon topic info topicinfo last seq id push lastseqidpush get remot compon list getremotecomponentslist builder set local compon setlocalcompon local seq id localseqid topic info topicinfo last seq id push lastseqidpush builder build messag msg serial msgtoseri messag builder newbuild request messag set msg id setmsgid topic info topicinfo last seq id push lastseqidpush build topic info topicinfo current ledger rang currentledgerrang handl async add entri asyncaddentri msg serial msgtoseri arrai tobytearrai safe asyn bk callback safeasynbkcallback add callback addcallback overrid safe add complet safeaddcomplet rc ledger handl ledgerhandl lh entri id entryid object ctx rc bk except bkexcept code bk except bkexcept bke bk except bkexcept creat rc logger error error persist entri ledger lh get id getid topic topic string utf8 tostringutf8 bke preserv order guarante up topic let oper topic info topicinfo releas doreleas compar set compareandset tm releas topic releasetop request topic callback overrid oper fail operationfail object ctx pub sub except pubsubexcept except logger error except found releas topic request topic string utf8 tostringutf8 encount except from bookkeep except overrid oper finish operationfinish object ctx result oper resultofoper logger debug successfulli releas topic encount except from bookkeep request topic string utf8 tostringutf8 request callback oper fail operationfail ctx pub sub except pubsubexcept servic down except servicedownexcept bke entri id entryid topic info topicinfo current ledger rang currentledgerrang start seq id includ startseqidinclud local seq id localseqid string msg expect bk assign entri id local seq id localseqid topic info topicinfo current ledger rang currentledgerrang start seq id includ startseqidinclud assign entri id entri id entryid topic topic string utf8 tostringutf8 ledger lh get id getid logger error msg unexpect error unexpectederror msg topic info topicinfo last entri id ack current ledger lastentryidackedincurrentledg entri id entryid request callback oper finish operationfinish ctx local seq id localseqid request ctx 
abstract stat callback statcallback async callback asynccallback stat callback statcallback process result processresult rc string path object ctx stat stat safe process result safeprocessresult rc path ctx stat throwabl invok uncaught except handler invokeuncaughtexceptionhandl abstract safe process result safeprocessresult rc string path object ctx stat stat 
encapsul asynchron ledger delet oper ledger delet op ledgerdeleteop callback voidcallback logger log logger factori loggerfactori get logger getlogg ledger delet op ledgerdeleteop book keeper bookkeep bk ledger id ledgerid delet callback deletecallback cb object ctx constructor param bk book keeper bookkeep object param ledger id ledgerid ledger id param cb callback implement param ctx option control object ledger delet op ledgerdeleteop book keeper bookkeep bk ledger id ledgerid delet callback deletecallback cb object ctx bk bk ledger id ledgerid ledger id ledgerid cb cb ctx ctx initi oper initi asynchron delet ledger node zk complet invok callback method bk get zk handl getzkhandl delet bk get ledger manag getledgermanag get ledger path getledgerpath ledger id ledgerid zoo keeper zookeep callback org apach zookeep async callback asynccallback callback voidcallback process result processresult java lang string java lang object process result processresult rc string path object ctx cb delet complet deletecomplet rc ctx 
abstract abstract benchmark abstractbenchmark logger logger logger factori loggerfactori get logger getlogg abstract benchmark abstractbenchmark atom atomiclong total latenc totallat atom atomiclong link block queue linkedblockingqueu done signal queue donesignalqueu link block queue linkedblockingqueu abstract op doop num op numop except abstract tear down teardown except abstract callback abstractcallback atom integ atomicinteg num done numdon atom integ atomicinteg semaphor outstand num op numop log abstract callback abstractcallback semaphor outstand num op numop outstand outstand num op numop num op numop log get getboolean progress handl success object ctx outstand releas success concurr util concurrencyutil put done signal queue donesignalqueu total latenc totallat add get addandget current time milli currenttimemilli ctx num done numdoneint num done numdon increment get incrementandget log num done numdoneint 10000 logger info finish num done numdoneint op num op numop num done numdoneint concurr util concurrencyutil put done signal queue donesignalqueu run phase runphas string phase num op numop except start time starttim current time milli currenttimemilli op doop num op numop done signal queue donesignalqueu logger error on more oper fail phase phase runtim except runtimeexcept logger info phase phase avg latenc total latenc totallat get num op numop tput num op numop 1000 current time milli currenttimemilli start time starttim run except num warmup numwarmup integ get integ getinteg warmup nwarmup 50000 run phase runphas warmup num warmup numwarmup logger info sleep 10 second thread sleep 10000 reset latenc total latenc totallat set num op numop integ get integ getinteg op nop 400000 run phase runphas real num op numop tear down teardown 
manag write bookkeep entri entri written common log ledger cach ledgercach pointer file creat offset file find actual ledger entri entri log file creat identifi entri logger entrylogg logger log logger factori loggerfactori get logger getlogg entri logger entrylogg file dir log id logid maximum size entri logger file log size limit logsizelimit buffer channel bufferedchannel log channel logchannel 1k block head entri logger file contain fingerprint futur meta data logfil header size logfile_header_s 1024 buffer bytebuff logfil header logfile_head buffer bytebuff alloc logfil header size logfile_header_s mb 1024 1024 scan entri entri log file entri log scanner entrylogscann test entri belong specifi ledger process param ledger id ledgerid ledger id entri ledger scan accept ledger id ledgerid process entri param ledger id ledgerid ledger id param entri entri buffer bytebuff io except ioexcept process ledger id ledgerid buffer bytebuff entri io except ioexcept creat entri logger entrylogg store log file directori entri logger entrylogg server configur serverconfigur conf io except ioexcept dir booki get current directori getcurrentdirectori conf get ledger dir getledgerdir log size limit log size limit logsizelimit conf get entri log size limit getentrylogsizelimit initi entri log header buffer object unit test run multipl booki entri logger entrylogg jvm booki instanc access header race condit entri log roll header buffer clear befor write log channel logchannel logfil header logfile_head put bklo get byte getbyt find largest log id logid log id logid file dir dir dir exist file found except filenotfoundexcept entri log directori exist last log id lastlogid get last log id getlastlogid dir last log id lastlogid log id logid log id logid last log id lastlogid creat log createnewlog map entri log file open channel concurr hash map concurrenthashmap buffer channel bufferedchannel channel concurr hash map concurrenthashmap buffer channel bufferedchannel get current log id getcurrentlogid log id logid creat log file creat log createnewlog io except ioexcept list file list arrai list aslist dir collect shuffl list log channel logchannel log channel logchannel flush better overwrit exist entri log file file log file newlogfil string log file name logfilenam hex string tohexstr log id logid log file dir list log file newlogfil file dir log file name logfilenam log file newlogfil exist log warn found exist entri log log file newlogfil creat log log file newlogfil log file newlogfil log channel logchannel buffer channel bufferedchannel random access file randomaccessfil log file newlogfil rw get channel getchannel 64 1024 log channel logchannel write buffer bytebuff logfil header logfile_head clear channel put log id logid log channel logchannel file dir set last log id setlastlogid log id logid remov entri log param entri log id entrylogid entri log file id remov entri log removeentrylog entri log id entrylogid buffer channel bufferedchannel bc channel remov entri log id entrylogid bc close underli file channel delet bc get file channel getfilechannel close io except ioexcept log warn except close garbag collect entri log entrylog file file entri log file entrylogfil entri log file entrylogfil find file findfil entri log id entrylogid file found except filenotfoundexcept log error delet entri log entrylog file found entri log id entrylogid log entri log file entrylogfil delet log warn delet entri log file entri log file entrylogfil write id last id lastid file directori set last log id setlastlogid file dir log id logid io except ioexcept file output stream fileoutputstream fo fo file output stream fileoutputstream file dir last id lastid buffer writer bufferedwrit bw buffer writer bufferedwrit output stream writer outputstreamwrit fo bw write hex string tohexstr log id logid bw flush bw close io except ioexcept get last log id getlastlogid file dir id read last log id readlastlogid dir read success id id read fail scan ledger directori find biggest log id file log file logfil dir list file listfil file filter filefilt overrid accept file file file get name getnam end endswith log list log arrai list arraylist file lf log file logfil string id string idstr lf get name getnam split lid pars parselong id string idstr 16 log add lid number format except numberformatexcept nfe log file found directori log size order collect collect sort log log get log size read id from last id lastid file directori read last log id readlastlogid file file input stream fileinputstream fi fi file input stream fileinputstream file last id lastid file found except filenotfoundexcept buffer reader bufferedread br buffer reader bufferedread input stream reader inputstreamread fi string last id string lastidstr br read line readlin pars parselong last id string lastidstr 16 io except ioexcept number format except numberformatexcept br close io except ioexcept flush io except ioexcept log channel logchannel log channel logchannel flush add entri addentri ledger buffer bytebuff entri io except ioexcept log channel logchannel posit entri remain log size limit logsizelimit creat log createnewlog buffer bytebuff buff buffer bytebuff alloc buff put putint entri remain buff flip log channel logchannel write buff po log channel logchannel posit log channel logchannel write entri log channel logchannel flush log id logid 32l po read entri readentri ledger id ledgerid entri id entryid locat io except ioexcept entri log id entrylogid locat 32l po locat xffffffffl 0xffffffffl buffer bytebuff size buff sizebuff buffer bytebuff alloc po get ledger id ledgerid length check buffer channel bufferedchannel fc fc get channel log id getchannelforlogid entri log id entrylogid file found except filenotfoundexcept file found except filenotfoundexcept new file found except filenotfoundexcept get messag getmessag ledger id ledgerid locat locat new set stack trace setstacktrac get stack trace getstacktrac new fc read size buff sizebuff po size buff sizebuff capac io except ioexcept read from entrylog entri log id entrylogid po size buff sizebuff flip entri size entrys size buff sizebuff get getint entri size entrys includ ledger id ledgerid entri size entrys mb log error saniti check fail entri size entri size entrys locat po entri log id entrylogid data entri size entrys buffer bytebuff buff buffer bytebuff wrap data rc fc read buff po rc data length io except ioexcept read ledger id ledgerid entri id entryid entri log id entrylogid po rc data length buff flip ledger id thisledgerid buff get getlong ledger id thisledgerid ledger id ledgerid io except ioexcept problem found entri log id entrylogid entri id entryid posit po entri belong ledger id thisledgerid ledger id ledgerid entri id thisentryid buff get getlong entri id thisentryid entri id entryid io except ioexcept problem found entri log id entrylogid entri id entryid posit po entri entri id thisentryid entri id entryid data buffer channel bufferedchannel get channel log id getchannelforlogid entri log id entrylogid io except ioexcept buffer channel bufferedchannel fc channel get entri log id entrylogid fc fc file file find file findfil entri log id entrylogid get channel us open exist entri log file better open read mode file channel filechannel fc newfc random access file randomaccessfil file get channel getchannel file exist befor creat buffer channel bufferedchannel layer set file channel filechannel posit end write buffer start fc newfc posit fc newfc size fc buffer channel bufferedchannel fc newfc 8192 buffer channel bufferedchannel oldfc channel put absent putifabs entri log id entrylogid fc oldfc fc newfc close oldfc fc log file exist log exist logexist log id logid file dir file file hex string tohexstr log id logid log exist file find file findfil log id logid file found except filenotfoundexcept file dir file file hex string tohexstr log id logid log exist file found except filenotfoundexcept file log hex string tohexstr log id logid scan entri log param entri log id entrylogid entri log id param scanner entri log scanner io except ioexcept scan entri log scanentrylog entri log id entrylogid entri log scanner entrylogscann scanner io except ioexcept buffer bytebuff size buff sizebuff buffer bytebuff alloc buffer bytebuff lid buff lidbuff buffer bytebuff alloc buffer channel bufferedchannel bc get buffer channel bufferedchannel current entri log file bc get channel log id getchannelforlogid entri log id entrylogid io except ioexcept log warn fail get channel scan entri log entri log id entrylogid log start read posit current entri log file after header ledger entri po logfil header size logfile_header_s read entri log file extract ledger id check ve finish read entri log file po bc size bc read size buff sizebuff po size buff sizebuff capac io except ioexcept read entri size from entrylog entri log id entrylogid po size buff sizebuff flip entri size entrys size buff sizebuff get getint entri size entrys mb log warn found larg size entri entri size entrys locat po entri log id entrylogid size buff sizebuff clear read ledger id first bc read lid buff lidbuff po lid buff lidbuff capac io except ioexcept read ledger id from entrylog entri log id entrylogid lid buff lidbuff flip lid lid buff lidbuff get getlong lid buff lidbuff clear scanner accept lid skip entri po entri size entrys read entri data entri size entrys buffer bytebuff buff buffer bytebuff wrap data rc bc read buff po rc data length io except ioexcept read ledger entri from entri log entrylog entri log id entrylogid po rc data length buff flip process entri scanner process lid buff advanc posit next entri po entri size entrys shutdown method gracefulli stop entri logger shutdown log channel logchannel buffer channel flush shut down flush log channel logchannel get file channel getfilechannel close io except ioexcept idea avoid io except shut down ignor log error error flush entri log shut down caus entri log corrupt log channel logchannel get file channel getfilechannel open isopen io util ioutil close log log channel logchannel get file channel getfilechannel 
object us call async method wait complet sync object syncobject valu rc sync object syncobject valu rc bk except bkexcept code 
consum cmd consumecmd command mycommand overrid run cmd runcmd string arg except arg length last consum id lastconsumedid subscript state subscriptionst state admin get subscript getsubscript string bytestr copi from utf8 copyfromutf8 arg string bytestr copi from utf8 copyfromutf8 arg state err println fail read subscript topic arg subscrib arg num messag consum nummessagestoconsum pars parselong arg id consum idtoconsum last consum id lastconsumedid num messag consum nummessagestoconsum println move subscrib arg consum ptr topic arg from last consum id lastconsumedid id consum idtoconsum messag seq id messageseqid consum id consumeid messag seq id messageseqid builder newbuild set local compon setlocalcompon id consum idtoconsum build string bytestr topic string bytestr copi from utf8 copyfromutf8 arg string bytestr sub id subid string bytestr copi from utf8 copyfromutf8 arg subscrib consum topic sub id subid consum id consumeid except err println consum fail 
sync read callback syncreadcallback read callback readcallback implement callback synchron read method param rc code param leder ledger identifi param seq sequenc entri param ctx control object read complet readcomplet rc ledger handl ledgerhandl lh enumer ledger entri ledgerentri seq object ctx sync counter synccount counter sync counter synccount ctx counter counter set sequenc setsequ seq counter setrc rc counter dec counter notifi 
visabl test complet kei completionkei ledger id ledgerid entri id entryid timeout timeoutat complet kei completionkei ledger id ledgerid entri id entryid ledger id ledgerid ledger id ledgerid entri id entryid entri id entryid timeout timeoutat current time milli currenttimemilli conf get read timeout getreadtimeout 1000 overrid equal object obj obj complet kei completionkei obj complet kei completionkei complet kei completionkei obj ledger id ledgerid ledger id ledgerid entri id entryid entri id entryid overrid hash code hashcod ledger id ledgerid 16 entri id entryid string string tostr string format ledger entri ledgerentri ledger id ledgerid entri id entryid timeout shouldtimeout timeout timeoutat current time milli currenttimemilli 
test zk subscript manag testzksubscriptionmanag zoo keeper test base zookeepertestbas zk subscript manag zksubscriptionmanag sm server configur serverconfigur cfg server configur serverconfigur synchron queue synchronousqueu messag seq id messageseqid pub sub except pubsubexcept msg id callback queue msgidcallbackqueu synchron queue synchronousqueu messag seq id messageseqid pub sub except pubsubexcept synchron queue synchronousqueu pub sub except pubsubexcept callback queue booleancallbackqueu synchron queue synchronousqueu pub sub except pubsubexcept callback callback voidcallback callback messag seq id messageseqid msg id callback msgidcallback overrid set up setup except set up setup cfg server configur serverconfigur schedul executor servic scheduledexecutorservic schedul executor schedul thread pool newscheduledthreadpool sm zk subscript manag zksubscriptionmanag zk trivial topic manag trivialownalltopicmanag cfg schedul cfg schedul msg id callback msgidcallback callback messag seq id messageseqid overrid oper fail operationfail object ctx pub sub except pubsubexcept except schedul execut runnabl run concurr util concurrencyutil put msg id callback queue msgidcallbackqueu messag seq id messageseqid except overrid oper finish operationfinish object ctx messag seq id messageseqid result oper resultofoper schedul execut runnabl run concurr util concurrencyutil put msg id callback queue msgidcallbackqueu result oper resultofoper pub sub except pubsubexcept callback voidcallback callback overrid oper fail operationfail object ctx pub sub except pubsubexcept except schedul execut runnabl run concurr util concurrencyutil put callback queue booleancallbackqueu except overrid oper finish operationfinish object ctx result oper resultofoper schedul execut runnabl run concurr util concurrencyutil put callback queue booleancallbackqueu pub sub except pubsubexcept test test basic testbas except string bytestr topic1 string bytestr copi from utf8 copyfromutf8 topic1 string bytestr sub1 string bytestr copi from utf8 copyfromutf8 sub1 topic acquir subscrib request subscriberequest sub request subrequest subscrib request subscriberequest builder newbuild set subscrib id setsubscriberid sub1 build messag seq id messageseqid msg id msgid messag seq id messageseqid builder newbuild set local compon setlocalcompon 100 build sm serv subscrib request servesubscriberequest topic1 sub request subrequest msg id msgid msg id callback msgidcallback equal assertequ concurr util concurrencyutil msg id callback queue msgidcallbackqueu right get getclass pub sub except pubsubexcept server respons topic except servernotresponsiblefortopicexcept sm unsubscrib topic1 sub1 callback voidcallback equal assertequ concurr util concurrencyutil callback queue booleancallbackqueu right get getclass pub sub except pubsubexcept server respons topic except servernotresponsiblefortopicexcept acquir topic sm acquir topic acquiredtop topic1 callback voidcallback asserttru callback queue booleancallbackqueu left asserttru sm top2 sub2 seq top2sub2seq contain kei containskei topic1 equal assertequ sm top2 sub2 seq top2sub2seq get topic1 size sm unsubscrib topic1 sub1 callback voidcallback equal assertequ concurr util concurrencyutil callback queue booleancallbackqueu right get getclass pub sub except pubsubexcept client subscrib except clientnotsubscribedexcept attach subscript sub request subrequest subscrib request subscriberequest builder newbuild set creat attach setcreateorattach creat attach createorattach attach set subscrib id setsubscriberid sub1 build sm serv subscrib request servesubscriberequest topic1 sub request subrequest msg id msgid msg id callback msgidcallback equal assertequ concurr util concurrencyutil msg id callback queue msgidcallbackqueu right get getclass pub sub except pubsubexcept client subscrib except clientnotsubscribedexcept creat sub request subrequest subscrib request subscriberequest builder newbuild set creat attach setcreateorattach creat attach createorattach creat set subscrib id setsubscriberid sub1 build sm serv subscrib request servesubscriberequest topic1 sub request subrequest msg id msgid msg id callback msgidcallback equal assertequ msg id msgid get local compon getlocalcompon concurr util concurrencyutil msg id callback queue msgidcallbackqueu left get local compon getlocalcompon equal assertequ msg id msgid get local compon getlocalcompon sm top2 sub2 seq top2sub2seq get topic1 get sub1 get last consum seq id getlastconsumeseqid get local compon getlocalcompon creat sm serv subscrib request servesubscriberequest topic1 sub request subrequest msg id msgid msg id callback msgidcallback equal assertequ concurr util concurrencyutil msg id callback queue msgidcallbackqueu right get getclass pub sub except pubsubexcept client subscrib except clientalreadysubscribedexcept equal assertequ msg id msgid get local compon getlocalcompon sm top2 sub2 seq top2sub2seq get topic1 get sub1 get last consum seq id getlastconsumeseqid get local compon getlocalcompon sm lost topic losttop topic1 sm acquir topic acquiredtop topic1 callback voidcallback asserttru callback queue booleancallbackqueu left attach sub request subrequest subscrib request subscriberequest builder newbuild set creat attach setcreateorattach creat attach createorattach attach set subscrib id setsubscriberid sub1 build messag seq id messageseqid msg id1 msgid1 messag seq id messageseqid builder newbuild set local compon setlocalcompon msg id msgid get local compon getlocalcompon 10 build sm serv subscrib request servesubscriberequest topic1 sub request subrequest msg id1 msgid1 msg id callback msgidcallback equal assertequ msg id msgid get local compon getlocalcompon msg id callback queue msgidcallbackqueu left get local compon getlocalcompon equal assertequ msg id msgid get local compon getlocalcompon sm top2 sub2 seq top2sub2seq get topic1 get sub1 get last consum seq id getlastconsumeseqid get local compon getlocalcompon manipul consum ptr dont persist zk messag seq id messageseqid msg id2 msgid2 messag seq id messageseqid builder newbuild set local compon setlocalcompon msg id msgid get local compon getlocalcompon cfg get consum interv getconsumeinterv build sm set consum seq id subscrib setconsumeseqidforsubscrib topic1 sub1 msg id2 msgid2 callback voidcallback asserttru callback queue booleancallbackqueu left equal assertequ msg id2 msgid2 get local compon getlocalcompon sm top2 sub2 seq top2sub2seq get topic1 get sub1 get last consum seq id getlastconsumeseqid get local compon getlocalcompon equal assertequ msg id msgid get local compon getlocalcompon sm top2 sub2 seq top2sub2seq get topic1 get sub1 get subscript state getsubscriptionst get msg id getmsgid get local compon getlocalcompon more write zk messag seq id messageseqid msg id3 msgid3 messag seq id messageseqid builder newbuild set local compon setlocalcompon msg id msgid get local compon getlocalcompon cfg get consum interv getconsumeinterv build sm set consum seq id subscrib setconsumeseqidforsubscrib topic1 sub1 msg id3 msgid3 callback voidcallback asserttru callback queue booleancallbackqueu left sm lost topic losttop topic1 sm acquir topic acquiredtop topic1 callback voidcallback asserttru callback queue booleancallbackqueu left equal assertequ msg id3 msgid3 get local compon getlocalcompon sm top2 sub2 seq top2sub2seq get topic1 get sub1 get last consum seq id getlastconsumeseqid get local compon getlocalcompon equal assertequ msg id3 msgid3 get local compon getlocalcompon sm top2 sub2 seq top2sub2seq get topic1 get sub1 get subscript state getsubscriptionst get msg id getmsgid get local compon getlocalcompon unsubscrib sm unsubscrib topic1 sub1 callback voidcallback asserttru callback queue booleancallbackqueu left sm lost topic losttop topic1 sm acquir topic acquiredtop topic1 callback voidcallback asserttru callback queue booleancallbackqueu left assertfals sm top2 sub2 seq top2sub2seq get topic1 contain kei containskei sub1 
configur test configurationtest test testcas test test configur overwrit testconfigurationoverwrit clear properti clearproperti zk server zkserver server configur serverconfigur conf server configur serverconfigur equal assertequ conf get zk server getzkserv overrid set from properti set properti setproperti zk server zkserver server1 affect previou creat configur set overwrit equal assertequ server1 conf get zk server getzkserv server configur serverconfigur conf2 server configur serverconfigur equal assertequ server1 conf2 get zk server getzkserv clear properti clearproperti zk server zkserver load configur server configur serverconfigur conf newconf server configur serverconfigur equal assertequ conf newconf get zk server getzkserv conf newconf set zk server setzkserv newserv equal assertequ newserv conf newconf get zk server getzkserv conf2 load conf loadconf conf newconf equal assertequ newserv conf2 get zk server getzkserv test test get zk server testgetzkserv set properti setproperti zk server zkserver server1 port1 server2 port2 server configur serverconfigur conf server configur serverconfigur client configur clientconfigur client conf clientconf client configur clientconfigur equal assertequ zookeep connect string doesn match server configur server1 port1 server2 port2 conf get zk server getzkserv equal assertequ zookeep connect string doesn match client configur server1 port1 server2 port2 client conf clientconf get zk server getzkserv 
buffer layer front file channel filechannel buffer channel bufferedchannel buffer bytebuff write buffer writebuff buffer bytebuff read buffer readbuff file channel filechannel bc posit capac read buffer start posit readbufferstartposit write buffer start posit writebufferstartposit make constructor unit test buffer channel bufferedchannel file channel filechannel bc capac io except ioexcept bc bc capac capac posit bc posit write buffer start posit writebufferstartposit posit file channel file channel filechannel get file channel getfilechannel bc close io except ioexcept bc close open isopen bc open isopen write buffer bytebuff src io except ioexcept copi write buffer writebuff write buffer writebuff buffer bytebuff alloc direct allocatedirect capac src remain truncat write buffer writebuff remain src remain truncat src remain write buffer writebuff remain src limit src limit truncat copi src remain write buffer writebuff put src src limit src limit truncat write buffer writebuff remain write buffer writebuff flip bc write write buffer writebuff write buffer writebuff clear write buffer start posit writebufferstartposit bc posit posit copi copi posit posit retriev current size underli file channel filechannel file channel filechannel size measur byte io except ioexcept error occur read file channel filechannel size io except ioexcept bc size flush sync io except ioexcept write buffer writebuff write buffer writebuff flip bc write write buffer writebuff write buffer writebuff clear write buffer start posit writebufferstartposit bc posit sync bc forc channel get intern channel getinternalchannel bc read buffer bytebuff buff po io except ioexcept read buffer readbuff read buffer readbuff buffer bytebuff alloc direct allocatedirect capac read buffer start posit readbufferstartposit min valu min_valu prev po prevpo po buff remain check write buffer write buffer writebuff write buffer start posit writebufferstartposit po posit buffer positioninbuff po write buffer start posit writebufferstartposit byte copi bytestocopi write buffer writebuff posit posit buffer positioninbuff byte copi bytestocopi buff remain byte copi bytestocopi buff remain byte copi bytestocopi io except ioexcept read past eof buffer bytebuff src write buffer writebuff duplic src posit posit buffer positioninbuff src limit posit buffer positioninbuff byte copi bytestocopi buff put src po byte copi bytestocopi write buffer writebuff write buffer start posit writebufferstartposit po here reach end first check grab from read buffer readbuff read buffer start posit readbufferstartposit po po read buffer start posit readbufferstartposit read buffer readbuff capac posit buffer positioninbuff po read buffer start posit readbufferstartposit byte copi bytestocopi read buffer readbuff capac posit buffer positioninbuff byte copi bytestocopi buff remain byte copi bytestocopi buff remain buffer bytebuff src read buffer readbuff duplic src posit posit buffer positioninbuff src limit posit buffer positioninbuff byte copi bytestocopi buff put src po byte copi bytestocopi let read read buffer start posit readbufferstartposit po read buffer readbuff clear make don overlap write buffer read buffer start posit readbufferstartposit read buffer readbuff capac write buffer start posit writebufferstartposit read buffer start posit readbufferstartposit write buffer start posit writebufferstartposit read buffer readbuff capac read buffer start posit readbufferstartposit read buffer readbuff put ledger entri page ledgerentrypag zero page zeropag read buffer start posit readbufferstartposit read buffer readbuff remain bc read read buffer readbuff read buffer start posit readbufferstartposit read buffer readbuff posit io except ioexcept read read buffer readbuff put ledger entri page ledgerentrypag zero page zeropag read buffer readbuff remain read buffer readbuff clear po prev po prevpo 
memori subscript manag inmemorysubscriptionmanag abstract subscript manag abstractsubscriptionmanag memori subscript manag inmemorysubscriptionmanag topic manag topicmanag tm persist manag persistencemanag pm server configur serverconfigur conf schedul executor servic scheduledexecutorservic schedul conf tm pm schedul overrid creat subscript state createsubscriptionst string bytestr topic string bytestr subscrib id subscriberid subscript state subscriptionst state callback callback object ctx memori info record base callback oper finish operationfinish ctx overrid delet subscript state deletesubscriptionst string bytestr topic string bytestr subscrib id subscriberid callback callback object ctx memori info delet base callback oper finish operationfinish ctx overrid updat subscript state updatesubscriptionst string bytestr topic string bytestr subscrib id subscriberid subscript state subscriptionst state callback callback object ctx memori info updat base callback oper finish operationfinish ctx overrid lost topic losttop string bytestr topic intention dont lose memori inform overrid read subscript readsubscript string bytestr topic callback map string bytestr memori subscript state inmemorysubscriptionst cb object ctx don lose memori inform lost topic losttop back map string bytestr memori subscript state inmemorysubscriptionst topic sub topicsub top2 sub2 seq top2sub2seq get topic topic sub topicsub cb oper finish operationfinish ctx topic sub topicsub cb oper finish operationfinish ctx concurr hash map concurrenthashmap string bytestr memori subscript state inmemorysubscriptionst 
test file util testfileutil test testcas test test creat tmp directori testcreatetmpdirectori except string prefix abc string suffix def file dir file util fileutil creat temp directori createtempdirectori prefix suffix asserttru dir directori isdirectori asserttru dir get name getnam start startswith prefix asserttru dir get name getnam end endswith suffix file util fileutil dir delet thread dirdeleterthread start file util fileutil dir delet thread dirdeleterthread join assertfals dir exist 
messag consum retri task messageconsumeretrytask timer task timertask messag consum data messageconsumedata messag consum data messageconsumedata topic subscrib topicsubscrib topic subscrib topicsubscrib messag consum retri task messageconsumeretrytask messag consum data messageconsumedata messag consum data messageconsumedata topic subscrib topicsubscrib topic subscrib topicsubscrib messag consum data messageconsumedata messag consum data messageconsumedata topic subscrib topicsubscrib topic subscrib topicsubscrib overrid run consum messag channel topic subscrib channel topicsubscriberchannel client get subscrib getsubscrib get channel topic getchannelfortop topic subscrib topicsubscrib hedwig client impl hedwigclientimpl get respons handler from channel getresponsehandlerfromchannel topic subscrib channel topicsubscriberchannel get subscrib respons handler getsubscriberesponsehandl async messag consum asyncmessageconsum messag consum data messageconsumedata msg 
client channel pipelin factori clientchannelpipelinefactori channel pipelin factori channelpipelinefactori hedwig client impl hedwigclientimpl client client channel pipelin factori clientchannelpipelinefactori hedwig client impl hedwigclientimpl client client client retriev channel pipelin channelpipelin from factori channel pipelin channelpipelin get pipelin getpipelin except creat channel piplin channelpiplin factori method from channel helper channel pipelin channelpipelin pipelin channel pipelin client get ssl factori getsslfactori pipelin add last addlast ssl ssl handler sslhandler client get ssl factori getsslfactori get engin getengin pipelin add last addlast lengthbaseddecod length field base frame decod lengthfieldbasedframedecod client get configur getconfigur get maximum messag size getmaximummessages pipelin add last addlast lengthprepend length field prepend lengthfieldprepend pipelin add last addlast protobufdecod protobuf decod protobufdecod pub sub protocol pubsubprotocol pub sub respons pubsubrespons get instanc getdefaultinst pipelin add last addlast protobufencod protobuf encod protobufencod pipelin add last addlast responsehandl respons handler responsehandl client pipelin 
specif link distribut schedul distributionschedul place entri round robin fashion ensembl size quorum size entri booki entri booki entri booki round robin distribut schedul roundrobindistributionschedul distribut schedul distributionschedul quorum size quorums ensembl size ensembles round robin distribut schedul roundrobindistributionschedul quorum size quorums ensembl size ensembles quorum size quorums quorum size quorums ensembl size ensembles ensembl size ensembles overrid get booki index getbookieindex entri id entryid replica index replicaindex entri id entryid replica index replicaindex ensembl size ensembles overrid get replica index getreplicaindex entri id entryid booki index bookieindex note java return sign dividend posit replica index replicaindex math util mathutil sign safe mod signsafemod booki index bookieindex entri id entryid ensembl size ensembles replica index replicaindex quorum size quorums replica index replicaindex rr quorum coverag set rrquorumcoverageset quorum coverag set quorumcoverageset cover quorum start booki index ha cover recoveri repli cover num quorum uncov numquorumsuncov rr quorum coverag set rrquorumcoverageset cover ensembl size ensembles num quorum uncov numquorumsuncov ensembl size ensembles add booki check cover addbookieandcheckcov booki index heard from bookieindexheardfrom num quorum uncov numquorumsuncov quorum size quorums quorum start index quorumstartindex math util mathutil sign safe mod signsafemod booki index heard from bookieindexheardfrom ensembl size ensembles cover quorum start index quorumstartindex cover quorum start index quorumstartindex num quorum uncov numquorumsuncov num quorum uncov numquorumsuncov quorum coverag set quorumcoverageset get coverag set getcoverageset rr quorum coverag set rrquorumcoverageset 
consol client hedwig hedwig consol hedwigconsol logger log logger factori loggerfactori get logger getlogg hedwig consol hedwigconsol note fix passwd bookkeep passwd sillysecret get byte getbyt histori file name string hw histori file hw_history_fil hw histori hw_histori command option mycommandopt cl command option mycommandopt hash map hashmap integ string histori link hash map linkedhashmap integ string command count commandcount print watch printwatch map string command mycommand command mycommand consol inconsol hedwig admin hedwigadmin admin hedwig client hedwigcli hub client hubclient publish publish subscrib subscrib consol messag handler consolemessagehandl consol handler consolehandl consol messag handler consolemessagehandl string region myregion command mycommand run cmd runcmd string arg except help cmd helpcmd command mycommand overrid run cmd runcmd string arg except print usag printusag arg length string command arg command get hedwig command gethedwigcommand get command print usag printusag print usag printusag print usag printusag usag exit cmd exitcmd command mycommand overrid run cmd runcmd string arg except print messag printmessag quit hub client hubclient close admin close runtim get runtim getruntim exit redo cmd redocmd command mycommand overrid run cmd runcmd string arg except arg length index equal arg index command count commandcount index integ decod arg command count commandcount index err println command index rang cl pars command parsecommand histori get index cl get command getcommand equal redo err println redo redo histori put command count commandcount histori get index process cmd processcmd cl histori cmd historycmd command mycommand overrid run cmd runcmd string arg except command count commandcount 10 command count commandcount println histori get set cmd setcmd command mycommand overrid run cmd runcmd string arg except arg length printwatch equal arg arg length println printwatch print watch printwatch print watch printwatch arg equal pub cmd pubcmd command mycommand overrid run cmd runcmd string arg except arg length string bytestr topic string bytestr copi from utf8 copyfromutf8 arg string builder stringbuild sb string builder stringbuild arg length sb append arg arg length sb append string bytestr msg bodi msgbodi string bytestr copi from utf8 copyfromutf8 sb string tostr messag msg messag builder newbuild set bodi setbodi msg bodi msgbodi build publish publish topic msg println pub done except err println pub fail print stack trace printstacktrac consol messag handler consolemessagehandl messag handler messagehandl overrid deliv string bytestr topic string bytestr subscrib id subscriberid messag msg callback callback object context println receiv messag from topic topic string utf8 tostringutf8 subscrib subscrib id subscriberid string utf8 tostringutf8 msg get bodi getbodi string utf8 tostringutf8 callback oper finish operationfinish context sub cmd subcmd command mycommand overrid run cmd runcmd string arg except creat attach createorattach mode receiv arg length arg length mode creat attach createorattach attach receiv mode creat attach createorattach valu valueof integ pars parseint arg except err println unknow mode arg arg length receiv pars parseboolean arg except receiv mode err println unknow mode arg string bytestr topic string bytestr copi from utf8 copyfromutf8 arg string bytestr sub id subid string bytestr copi from utf8 copyfromutf8 arg subscrib subscrib topic sub id subid mode receiv subscrib start deliveri startdeliveri topic sub id subid consol handler consolehandl println sub done receiv println sub done receiv except err println sub fail print stack trace printstacktrac unsub cmd unsubcmd command mycommand overrid run cmd runcmd string arg except arg length string bytestr topic string bytestr copi from utf8 copyfromutf8 arg string bytestr sub id subid string bytestr copi from utf8 copyfromutf8 arg subscrib stop deliveri stopdeliveri topic sub id subid subscrib unsubscrib topic sub id subid println unsub done except err println unsub fail print stack trace printstacktrac rmsub cmd rmsubcmd command mycommand overrid run cmd runcmd string arg except arg length string topic prefix topicprefix arg start topic starttop integ pars parseint arg end topic endtop integ pars parseint arg string sub prefix subprefix arg start sub startsub integ pars parseint arg end sub endsub integ pars parseint arg start topic starttop end topic endtop end sub endsub start sub startsub start topic starttop end topic endtop string bytestr topic string bytestr copi from utf8 copyfromutf8 topic prefix topicprefix start sub startsub end sub endsub string bytestr sub string bytestr copi from utf8 copyfromutf8 sub prefix subprefix subscrib subscrib topic sub creat attach createorattach creat attach create_or_attach subscrib unsubscrib topic sub println rmsub topic string utf8 tostringutf8 done except err println rmsub topic string utf8 tostringutf8 fail print stack trace printstacktrac close subscript cmd closesubscriptioncmd command mycommand overrid run cmd runcmd string arg except arg length string bytestr topic string bytestr copi from utf8 copyfromutf8 arg string bytestr sud id sudid string bytestr copi from utf8 copyfromutf8 arg subscrib stop deliveri stopdeliveri topic sud id sudid subscrib close subscript closesubscript topic sud id sudid except err println closesub fail consum cmd consumetocmd command mycommand overrid run cmd runcmd string arg except arg length string bytestr topic string bytestr copi from utf8 copyfromutf8 arg string bytestr sub id subid string bytestr copi from utf8 copyfromutf8 arg msg id msgid pars parselong arg messag seq id messageseqid consum id consumeid messag seq id messageseqid builder newbuild set local compon setlocalcompon msg id msgid build subscrib consum topic sub id subid consum id consumeid except err println consumeto fail consum cmd consumecmd command mycommand overrid run cmd runcmd string arg except arg length last consum id lastconsumedid subscript state subscriptionst state admin get subscript getsubscript string bytestr copi from utf8 copyfromutf8 arg string bytestr copi from utf8 copyfromutf8 arg state err println fail read subscript topic arg subscrib arg num messag consum nummessagestoconsum pars parselong arg id consum idtoconsum last consum id lastconsumedid num messag consum nummessagestoconsum println move subscrib arg consum ptr topic arg from last consum id lastconsumedid id consum idtoconsum messag seq id messageseqid consum id consumeid messag seq id messageseqid builder newbuild set local compon setlocalcompon id consum idtoconsum build string bytestr topic string bytestr copi from utf8 copyfromutf8 arg string bytestr sub id subid string bytestr copi from utf8 copyfromutf8 arg subscrib consum topic sub id subid consum id consumeid except err println consum fail pub sub cmd pubsubcmd command mycommand overrid run cmd runcmd string arg except arg length start time starttim current time milli currenttimemilli string bytestr topic string bytestr copi from utf8 copyfromutf8 arg string bytestr sub id subid string bytestr copi from utf8 copyfromutf8 arg start time starttim timeout sec timeoutsec 60 timeout sec timeoutsec integ pars parseint arg number format except numberformatexcept nfe string builder stringbuild sb string builder stringbuild arg length sb append arg arg length sb append append timestamp tag string bytestr msg bodi msgbodi string bytestr copi from utf8 copyfromutf8 sb string tostr start time starttim messag msg messag builder newbuild set bodi setbodi msg bodi msgbodi build subscrib success count down latch countdownlatch done isdon count down latch countdownlatch elaps time elapsedtim 0l println start pubsub test sub topic subscrib subscrib topic sub id subid creat attach createorattach creat attach create_or_attach subscrib println sub topic topic string utf8 tostringutf8 subscrib id sub id subid string utf8 tostringutf8 pub topic publish publish topic msg println pub topic topic string utf8 tostringutf8 msg get bodi getbodi string utf8 tostringutf8 ensur subscrib first publish next start deliveri receiv messag start deliveri first befor publish done isdon notifi befor wait subscrib start deliveri startdeliveri topic sub id subid messag handler messagehandl overrid deliv string bytestr topic thistop string bytestr subscrib id subscriberid messag messag callback callback object context topic thistop equal topic subscrib id subscriberid equal sub id subid msg get bodi getbodi equal messag get bodi getbodi println receiv messag messag get bodi getbodi string utf8 tostringutf8 done isdon count down countdown callback oper finish operationfinish context wait messag success done isdon await timeout sec timeoutsec time unit timeunit second elaps time elapsedtim current time milli currenttimemilli start time starttim subscrib subscrib stop deliveri stopdeliveri topic sub id subid subscrib unsubscrib topic sub id subid success println pubsub success time elaps time elapsedtim ms println pubsub fail success read topic cmd readtopiccmd command mycommand overrid run cmd runcmd string arg except arg length read topic readtop rt string bytestr topic string bytestr copi from utf8 copyfromutf8 arg arg length rt read topic readtop admin topic consol inconsol rt read topic readtop admin topic pars parselong arg consol inconsol rt read topic readtop show cmd showcmd command mycommand overrid run cmd runcmd string arg except arg length string error msg errormsg hedwig command hedwigcommand show hub show_hub equal arg error msg errormsg unabl fetch list hub server show hub showhub hedwig command hedwigcommand show topic show_top equal arg error msg errormsg unabl fetch list topic show topic showtop err println error unknown show command arg except error msg errormsg err println error msg errormsg print stack trace printstacktrac show hub showhub except map hedwig socket address hedwigsocketaddress integ hub admin get avail hub getavailablehub println avail hub server map entri hedwig socket address hedwigsocketaddress integ entri hub entri set entryset println entri get kei getkei entri get valu getvalu show topic showtop except list string topic admin get topic gettop println topic list println topic describ cmd describecmd command mycommand overrid run cmd runcmd string arg except arg length hedwig command hedwigcommand describ topic describe_top equal arg describ topic describetop arg describ topic describetop string topic except string bytestr btopic string bytestr copi from utf8 copyfromutf8 topic hedwig socket address hedwigsocketaddress owner admin get topic owner gettopicown btopic list ledger rang ledgerrang rang admin get topic ledger gettopicledg btopic map string bytestr subscript state subscriptionst state admin get topic subscript gettopicsubscript btopic println topic inform topic println println owner owner owner println print ledger print topic ledger printtopicledg rang print subscript print topic subscript printtopicsubscript state print topic ledger printtopicledg list ledger rang ledgerrang lr println persist info lr println lr empti isempti println ledger us iter ledger rang ledgerrang lr iter lriter lr iter start ledger startofledg lr iter lriter ha next hasnext ledger rang ledgerrang rang lr iter lriter next end ledger endofledg max valu max_valu rang ha end seq id includ hasendseqidinclud end ledger endofledg rang get end seq id includ getendseqidinclud get local compon getlocalcompon println ledger rang get ledger id getledgerid start ledger startofledg end ledger endofledg max valu max_valu end ledger endofledg start ledger startofledg end ledger endofledg println print topic subscript printtopicsubscript map string bytestr subscript state subscriptionst state println subscript info state size println subscrib map entri string bytestr subscript state subscriptionst entri state entri set entryset println subscrib entri get kei getkei string utf8 tostringutf8 subscript state util subscriptionstateutil string tostr entri get valu getvalu println map string command mycommand build command buildmycommand map string command mycommand cmd hash map hashmap string command mycommand exit cmd exitcmd exit cmd exitcmd exit cmd exitcmd cmd put exit exit cmd exitcmd cmd put quit exit cmd exitcmd cmd put help help cmd helpcmd cmd put histori histori cmd historycmd cmd put redo redo cmd redocmd cmd put set set cmd setcmd cmd put pub pub cmd pubcmd cmd put sub sub cmd subcmd cmd put pubsub pub sub cmd pubsubcmd cmd put closesub close subscript cmd closesubscriptioncmd cmd put unsub unsub cmd unsubcmd cmd put rmsub rmsub cmd rmsubcmd cmd put consum consum cmd consumecmd cmd put consumeto consum cmd consumetocmd cmd put show show cmd showcmd cmd put describ describ cmd describecmd cmd put readtop read topic cmd readtopiccmd cmd usag err println hedwig consol hedwigconsol option command arg err println err println avaiabl command string cmd get hedwig command gethedwigcommand kei set keyset err println cmd err println storag command line option shell command command option mycommandopt map string string option hash map hashmap string string list string cmd arg cmdarg string command command option mycommandopt string get option getopt string opt option get opt string get command getcommand command string get cmd argument getcmdargu index cmd arg cmdarg get index get num argument getnumargu cmd arg cmdarg size string get arg arrai getargarrai cmd arg cmdarg arrai toarrai string pars command line contain on more flag befor option command string param arg command line argument pars succeed pars option parseopt string arg list string arg list arglist arrai list aslist arg iter string arg list arglist iter ha next hasnext string opt next opt start startswith command opt cmd arg cmdarg arrai list arraylist string cmd arg cmdarg add command ha next hasnext cmd arg cmdarg add next option put opt substr next element except nosuchelementexcept err println error argument found option opt break string command argument param cmdstring string form cmd arg1 arg2 pars succeed pars command parsecommand string cmdstring string arg cmdstring split arg length command arg cmd arg cmdarg arrai list aslist arg watcher mywatch watcher process watch event watchedev event get print watch getprintwatch print messag printmessag watcher print messag printmessag event string tostr print messag printmessag string msg consol inconsol println msg hedwig consol param arg argument io except ioexcept interrupt except interruptedexcept hedwig consol hedwigconsol string arg io except ioexcept interrupt except interruptedexcept hedwig command hedwigcommand init cl pars option parseopt arg cl get command getcommand consol inconsol consol inconsol org apach bookkeep conf client configur clientconfigur bk client conf bkclientconf org apach bookkeep conf client configur clientconfigur server configur serverconfigur hub server conf hubserverconf server configur serverconfigur string server cfg file servercfgfil cl get option getopt server cfg server cfg file servercfgfil hub server conf hubserverconf load conf loadconf file server cfg file servercfgfil uri touri url tourl configur except configurationexcept io except ioexcept bk client conf bkclientconf load conf loadconf file server cfg file servercfgfil uri touri url tourl configur except configurationexcept io except ioexcept client configur clientconfigur hub client cfg hubclientcfg client configur clientconfigur string client cfg file clientcfgfil cl get option getopt client cfg client cfg file clientcfgfil hub client cfg hubclientcfg load conf loadconf file client cfg file clientcfgfil uri touri url tourl configur except configurationexcept io except ioexcept print messag printmessag connect zookeep bookkeep hedwig admin hedwigadmin admin hedwig admin hedwigadmin bk client conf bkclientconf hub server conf hubserverconf admin get zk handl getzkhandl watcher mywatch except io except ioexcept print messag printmessag connect hub server hub client cfg hubclientcfg get server host getdefaultserverhost hub client hubclient hedwig client hedwigcli hub client cfg hubclientcfg publish hub client hubclient get publish getpublish subscrib hub client hubclient get subscrib getsubscrib paramet region myregion hub server conf hubserverconf get region getmyregion get print watch getprintwatch print watch printwatch string get prompt getprompt string builder stringbuild sb string builder stringbuild sb append hedwig append region myregion append append command count commandcount append sb string tostr add histori addtohistori string cmd histori put cmd execut line executelin string line line equal cl pars command parsecommand line add histori addtohistori command count commandcount line process cmd processcmd cl command count commandcount process cmd processcmd command option mycommandopt string arg get arg arrai getargarrai string cmd get command getcommand arg length usag get hedwig command gethedwigcommand contain kei containskei cmd usag log debug enabl isdebugen log debug process cmd command mycommand command mycommand command mycommand get cmd command mycommand err println command processor found command cmd usag start time starttim current time milli currenttimemilli success success command mycommand run cmd runcmd arg except print stack trace printstacktrac success elaps time elapsedtim current time milli currenttimemilli start time starttim consol inconsol success println finish elaps time elapsedtim 1000 command get hedwig command gethedwigcommand get cmd print usag printusag success suppress warn suppresswarn uncheck run io except ioexcept consol inconsol command mycommand build command buildmycommand cl get command getcommand println welcom hedwig jlinemiss us jline classpath consolec name fornam jline consol reader consoleread completorc name fornam org apach hedwig admin consol line hedwig completor jlinehedwigcompletor println line jline support enabl object consol consolec get constructor getconstructor instanc newinst object completor completorc get constructor getconstructor hedwig admin hedwigadmin instanc newinst admin method add completor addcompletor consolec get method getmethod add completor addcompletor name fornam jline completor add completor addcompletor invok consol completor load histori file histori enabl historyen object histori method add histori addhistori method flush histori flushhistori historyc name fornam jline histori histori historyc get constructor getconstructor instanc newinst file file file get properti getproperti hw histori file get properti getproperti user home hw histori file hw_history_fil string tostr log debug enabl isdebugen log debug histori file file string tostr method set histori file sethistoryfil historyc get method getmethod set histori file sethistoryfil file set histori file sethistoryfil invok histori file set histori consol reader method set histori sethistori consolec get method getmethod set histori sethistori historyc set histori sethistori invok consol histori load histori from histori file method move first entri movetofirstentri historyc get method getmethod move first entri movetofirstentri move first entri movetofirstentri invok histori add histori addhistori historyc get method getmethod add histori addtohistori string flush histori flushhistori historyc get method getmethod flush buffer flushbuff method next entri nextentri historyc get method getmethod next method current historyc get method getmethod current next entri nextentri invok histori string entri string current invok histori entri equal add histori addtohistori command count commandcount entri command count commandcount histori enabl historyen println line jline histori support enabl found except classnotfoundexcept println line jline histori support disabl log debug line jline histori disabl except histori enabl historyen method except nosuchmethodexcept println line jline histori support disabl log debug line jline histori disabl except histori enabl historyen invoc target except invocationtargetexcept println line jline histori support disabl log debug line jline histori disabl except histori enabl historyen illeg access except illegalaccessexcept println line jline histori support disabl log debug line jline histori disabl except histori enabl historyen instanti except instantiationexcept println line jline histori support disabl log debug line jline histori disabl except histori enabl historyen string line method read line readlin consolec get method getmethod read line readlin string line string read line readlin invok consol get prompt getprompt execut line executelin line histori enabl historyen add histori addhistori invok histori line flush histori flushhistori invok histori found except classnotfoundexcept log debug unabl start jline jlinemiss method except nosuchmethodexcept log debug unabl start jline jlinemiss invoc target except invocationtargetexcept log debug unabl start jline jlinemiss illeg access except illegalaccessexcept log debug unabl start jline jlinemiss instanti except instantiationexcept log debug unabl start jline jlinemiss jlinemiss println line jline support disabl buffer reader bufferedread br buffer reader bufferedread input stream reader inputstreamread string line line br read line readlin execut line executelin line consol inconsol process cmd processcmd cl command mycommand get exit run cmd runcmd string except main string arg io except ioexcept interrupt except interruptedexcept hedwig consol hedwigconsol consol hedwig consol hedwigconsol arg consol run 
releas op releaseop topic op queuer topicopqueu asynchron op asynchronousop releas op releaseop string bytestr topic callback cb object ctx queuer topic cb ctx overrid run topic contain topic cb oper finish operationfinish ctx real releas topic realreleasetop topic cb ctx 
subscrib respons handler subscriberesponsehandl logger logger logger factori loggerfactori get logger getlogg subscrib respons handler subscriberesponsehandl respons handler responsehandl respons handler responsehandl member variabl us respons handler responsehandl subscrib channel abl consum messag sent back from server recreat channel connect down store origin pub sub data pubsubdata subscrib request messag handler messagehandl regist deliveri messag start subscript pub sub data pubsubdata orig sub data origsubdata channel subscrib channel subscribechannel messag handler messagehandl messag handler messagehandl counter number consum messag buffer up befor send consum messag back server last largest messag seq id batch num consum messag buffer numconsumedmessagesinbuff messag seq id messageseqid last messag seq id lastmessageseqid queue us subscrib messag handler messagehandl hasn regist ve receiv subscript messag from server lazili creat need queue messag subscrib msg queue subscribemsgqueu set store outstand subscrib messag pend consum client app messag handler messagehandl grow big problem client end messag consumpt throttl thing temporarili set subscrib netti channel readabl set ha shrunk suffici turn channel back read messag set messag outstand msg set outstandingmsgset subscrib respons handler subscriberesponsehandl respons handler responsehandl respons handler responsehandl respons handler responsehandl respons handler responsehandl getter retriev origin pub sub data pubsubdata us subscrib request pub sub data pubsubdata get orig sub data getorigsubdata orig sub data origsubdata main method handl subscrib respons from server sent subscrib request handl subscrib respons handlesubscriberespons pub sub respons pubsubrespons respons pub sub data pubsubdata pub sub data pubsubdata channel channel except success respons subscrib request won netti channel creat close respons get statu code getstatuscod equal statu code statuscod success hedwig client impl hedwigclientimpl get respons handler from channel getresponsehandlerfromchannel channel channel close explicitli channelclosedexplicitli channel close logger debug enabl isdebugen logger debug handl subscrib respons respons pub sub data pubsubdata pub sub data pubsubdata host hedwig client impl hedwigclientimpl get host from channel gethostfromchannel channel respons get statu code getstatuscod success success subscrib request store channel local set readabl initi won deliv messag topic subscript client explicitli subscrib channel subscribechannel channel subscrib channel subscribechannel set readabl setread store origin pub sub data pubsubdata us creat success subscrib request orig sub data origsubdata pub sub data pubsubdata store map topic subscrib topicsubscrib channel control start stop messag deliveri from server channel store success ack respons from server topic subscrib topicsubscrib topic subscrib topicsubscrib topic subscrib topicsubscrib pub sub data pubsubdata topic pub sub data pubsubdata subscrib id subscriberid respons handler responsehandl get subscrib getsubscrib set channel topic setchannelfortop topic subscrib topicsubscrib channel lazili creat set from concurr hashmap keep track outstand messag consum client app stage deliveri topic hasn start creation set thread safe ll creat set initi capac equal configur paramet maximum number outstand messag allow load factor set 0f mean ll rehash alloc more space exce initi capac thing slow pile up client app side consum messag outstand msg set outstandingmsgset collect set from map newsetfrommap concurr hash map concurrenthashmap messag respons handler responsehandl get configur getconfigur get maximum outstand messag getmaximumoutstandingmessag 0f respons success invok callback oper finish operationfinish method pub sub data pubsubdata callback oper finish operationfinish pub sub data pubsubdata context client subscrib client_already_subscrib subscrib request server client subscrib pub sub data pubsubdata callback oper fail operationfail pub sub data pubsubdata context client subscrib except clientalreadysubscribedexcept client subscrib topic pub sub data pubsubdata topic string utf8 tostringutf8 subscrib id subscriberid pub sub data pubsubdata subscrib id subscriberid string utf8 tostringutf8 servic down service_down respons servic down failur invok callback oper fail operationfail method pub sub data pubsubdata callback oper fail operationfail pub sub data pubsubdata context servic down except servicedownexcept server respond servic down service_down statu respons topic not_responsible_for_top redirect respons ll repost origin subscrib request respons handler responsehandl handl redirect respons handleredirectrespons respons pub sub data pubsubdata channel statu code error oper fail case logger error unexpect error respons from server pub sub respons pubsubrespons respons pub sub data pubsubdata callback oper fail operationfail pub sub data pubsubdata context servic down except servicedownexcept server respond statu code respons get statu code getstatuscod main method handl consum messag topic client subscrib handl subscrib messag handlesubscribemessag pub sub respons pubsubrespons respons logger debug enabl isdebugen logger debug handl subscrib messag respons topic subscrib id subscriberid object respons get orig sub data getorigsubdata topic string utf8 tostringutf8 get orig sub data getorigsubdata subscrib id subscriberid string utf8 tostringutf8 messag messag respons get messag getmessag consum messag asynchron client subscrib deliveri subscript ha start messag handler messagehandl ha regist topic subscrib topicsubscrib messag handler messagehandl async messag consum asyncmessageconsum messag messag handler messagehandl ha regist queue up messag topic subscript make initi lazi creation messag queue thread safe don run race condit two simultan thread process receiv messag creat instanc messag queue perform overhead deliveri topic ha even start messag consum buffer up here subscrib msg queue subscribemsgqueu subscrib msg queue subscribemsgqueu link list linkedlist messag logger debug enabl isdebugen logger debug messag ha arriv subscrib channel regist messag handler messagehandl queue up messag messag subscrib msg queue subscribemsgqueu add messag method call messag arriv subscrib channel consum asynchron regist messag handler messagehandl call here param messag messag from subscrib channel consum async messag consum asyncmessageconsum messag messag logger debug enabl isdebugen logger debug call client app messag handler messagehandl asynchron consum messag messag topic orig sub data origsubdata topic string utf8 tostringutf8 subscrib id subscriberid orig sub data origsubdata subscrib id subscriberid string utf8 tostringutf8 add pend consum messag outstand msg set outstandingmsgset outstand msg set outstandingmsgset add messag check ve exceed max size outstand messag set outstand msg set outstandingmsgset size respons handler responsehandl get configur getconfigur get maximum outstand messag getmaximumoutstandingmessag subscrib channel subscribechannel readabl isread outstand messag throttl set netti channel readabl logger debug enabl isdebugen logger debug outstand messag outstand msg set outstandingmsgset size throttl subscrib netti channel subscrib channel subscribechannel set readabl setread messag consum data messageconsumedata messag consum data messageconsumedata messag consum data messageconsumedata orig sub data origsubdata topic orig sub data origsubdata subscrib id subscriberid messag messag handler messagehandl deliv orig sub data origsubdata topic orig sub data origsubdata subscrib id subscriberid messag respons handler responsehandl get client getclient get consum callback getconsumecallback messag consum data messageconsumedata method call client app messag handler messagehandl ha asynchron complet consum subscrib messag sent from server contract client app messag sent handler consum callback respons done order asynchron call messag handler messagehandl consum messag call messag consum messageconsum method here callback voidcallback order make thread safe multipl outstand messag consum client app call back here make method param messag messag sent from server topic subscript ha consum client messag consum messageconsum messag messag logger debug enabl isdebugen logger debug messag ha successfulli consum client app messag messag topic orig sub data origsubdata topic string utf8 tostringutf8 subscrib id subscriberid orig sub data origsubdata subscrib id subscriberid string utf8 tostringutf8 updat consum messag buffer variabl respons handler responsehandl get configur getconfigur send consum messag enabl isautosendconsumemessageen updat variabl send consum messag server onu client app call subscrib consum api let server messag ha successfulli consum num consum messag buffer numconsumedmessagesinbuff last messag seq id lastmessageseqid messag get msg id getmsgid remov consum messag from outstand messag set outstand msg set outstandingmsgset remov messag consum respons server config param messag consum buffer up befor send consum request keep count number messag consum largest latest msg id batch messag deliv order gap send consum messag enabl respons handler responsehandl get configur getconfigur send consum messag enabl isautosendconsumemessageen num consum messag buffer numconsumedmessagesinbuff respons handler responsehandl get configur getconfigur get consum messag buffer size getconsumedmessagesbuffers send consum request reset consum messag buffer variabl us channel creat from subscrib request topic subscrib topicsubscrib logger debug enabl isdebugen logger debug consum messag buffer limit reach send consum request server last messag seq id lastmessageseqid last messag seq id lastmessageseqid respons handler responsehandl get subscrib getsubscrib consum doconsum orig sub data origsubdata subscrib channel subscribechannel last messag seq id lastmessageseqid num consum messag buffer numconsumedmessagesinbuff last messag seq id lastmessageseqid check throttl messag consumpt previous outstand messag limit reach turn deliveri back more outstand messag consum make configur paramet need subscrib channel subscribechannel readabl isread outstand msg set outstandingmsgset size logger debug enabl isdebugen logger debug messag consumpt ha caught up turn throttl messag subscrib channel topic orig sub data origsubdata topic string utf8 tostringutf8 subscrib id subscriberid orig sub data origsubdata subscrib id subscriberid string utf8 tostringutf8 subscrib channel subscribechannel set readabl setread setter us subscrib flow deliveri subscript start us messag handler messagehandl need consum subscrib messag topic param messag handler messagehandl messag handler messagehandl respons handler responsehandl instanc set messag handler setmessagehandl messag handler messagehandl messag handler messagehandl logger debug enabl isdebugen logger debug set messag handler messagehandl topic subscrib id subscriberid get orig sub data getorigsubdata topic string utf8 tostringutf8 get orig sub data getorigsubdata subscrib id subscriberid string utf8 tostringutf8 messag handler messagehandl messag handler messagehandl messag handler messagehandl regist queu up subscript messag sent from server consum first messag handler messagehandl regist hedwig subscrib hedwigsubscrib stop deliveri stopdeliveri call messag handler messagehandl subscrib msg queue subscribemsgqueu subscrib msg queue subscribemsgqueu size logger debug enabl isdebugen logger debug consum subscrib msg queue subscribemsgqueu size queu up messag topic orig sub data origsubdata topic string utf8 tostringutf8 subscrib id subscriberid orig sub data origsubdata subscrib id subscriberid string utf8 tostringutf8 messag messag subscrib msg queue subscribemsgqueu async messag consum asyncmessageconsum messag remov queu up messag consum subscrib msg queue subscribemsgqueu clear getter messag handler messagehandl set subscrib channel messag handler messagehandl consum messag messag handler messagehandl get messag handler getmessagehandl messag handler messagehandl 
stub scan callback stubscancallback scan callback scancallback messag end messag end_messag messag builder newbuild set bodi setbodi string bytestr empti build link block queue linkedblockingqueu messag except queue link block queue linkedblockingqueu messag except overrid messag scan messagescan object ctx messag messag concurr util concurrencyutil put queue messag except overrid scan fail scanfail object ctx except except concurr util concurrencyutil put queue messag except overrid scan finish scanfinish object ctx reason finish reasonforfinish reason concurr util concurrencyutil put queue end messag end_messag except 
help cmd helpcmd command mycommand overrid run cmd runcmd string arg except print usag printusag arg length string command arg command get hedwig command gethedwigcommand get command print usag printusag print usag printusag print usag printusag usag 
throughput callback throughputcallback write callback writecallback count wait count waitingcount integ max valu max_valu write complet writecomplet rc ledger id ledgerid entri id entryid inet socket address inetsocketaddress addr object ctx rc log error error rc count count wait count waitingcount notifi notifyal wait waitfor count interrupt except interruptedexcept count count wait count waitingcount count wait 1000 wait count waitingcount integ max valu max_valu 
rang scan verifi listen rangescanverifierlisten scan callback scancallback list messag pub msg pubmsg rang scan verifi listen rangescanverifierlisten list messag pub msg pubmsg pub msg pubmsg pub msg pubmsg messag scan messagescan object ctx messag recv messag recvmessag pub msg pubmsg empti isempti failur except failureexcept runtim except runtimeexcept messag receiv expect messag pub msg pubmsg pub msg pubmsg get helper method helpermethod equal areequ recv messag recvmessag pub msg pubmsg failur except failureexcept runtim except runtimeexcept scan messag equal expect pub msg pubmsg remov scan fail scanfail object ctx except except failur except failureexcept runtim except runtimeexcept except suppress warn suppresswarn uncheck scan finish scanfinish object ctx reason finish reasonforfinish reason reason reason finish reasonforfinish more messag no_more_messag failur except failureexcept runtim except runtimeexcept scan finish prematur reason link block queue linkedblockingqueu statu queue statusqueu link block queue linkedblockingqueu ctx statu queue statusqueu put interrupt except interruptedexcept failur except failureexcept runtim except runtimeexcept 
base test zoo keeper zookeep client server setup abstract zoo keeper test base zookeepertestbas client base clientbas zoo keeper zookeep zk synchron queue synchronousqueu queue synchron queue synchronousqueu callback cb callback overrid oper finish operationfinish object ctx result thread runnabl run concurr util concurrencyutil put queue start overrid oper fail operationfail object ctx pub sub except pubsubexcept except thread runnabl run concurr util concurrencyutil put queue start async callback asynccallback string callback stringcallback str cb strcb async callback asynccallback string callback stringcallback overrid process result processresult rc string path object ctx string name concurr util concurrencyutil put queue rc code valu intvalu async callback asynccallback callback voidcallback cb voidcb async callback asynccallback callback voidcallback overrid process result processresult rc string path object ctx concurr util concurrencyutil put queue rc code valu intvalu overrid befor set up setup except set up setup zk creat client createcli overrid after tear down teardown except tear down teardown zk close 
provid journal relat manag journal thread logger log logger factori loggerfactori get logger getlogg journal filter pickup journal journal id filter journalidfilt accept journal id journalid list journal id specifi journal id filer param journal dir journaldir journal dir param filter journal id filter list filter id list list journal id listjournalid file journal dir journaldir journal id filter journalidfilt filter file log file logfil journal dir journaldir list file listfil list log arrai list arraylist file log file logfil string name get name getnam name end endswith txn string id string idstr name split id pars parselong id string idstr 16 filter filter accept id log add id log add id collect sort log log last log mark last log mark lastlogmark txn log id txnlogid txn log posit txnlogposit last log mark lastlogmark last mark lastmark last log mark lastlogmark log id logid log posit logposit txn log id txnlogid log id logid txn log posit txnlogposit log posit logposit set last log mark setlastlogmark log id logid log posit logposit txn log id txnlogid log id logid txn log posit txnlogposit log posit logposit mark log marklog last mark lastmark last log mark lastlogmark txn log id txnlogid txn log posit txnlogposit last log mark lastlogmark get last mark getlastmark last mark lastmark get txn log id gettxnlogid txn log id txnlogid get txn log posit gettxnlogposit txn log posit txnlogposit roll log rolllog buff 16 buffer bytebuff bb buffer bytebuff wrap buff record log id logid log posit logposit mark mark log marklog safe record befor last mark lastmark persist disk index entri logger bb put putlong last mark lastmark get txn log id gettxnlogid bb put putlong last mark lastmark get txn log posit gettxnlogposit log debug enabl isdebugen log debug roll log rolllog persist last mark log last mark lastmark file dir ledger directori ledgerdirectori file file file dir last mark lastmark file output stream fileoutputstream fo file output stream fileoutputstream file fo write buff fo get channel getchannel forc fo close io except ioexcept log error problem write file read last mark from last mark lastmark file last mark first max journal log id max log posit max journal log read log readlog buff 16 buffer bytebuff bb buffer bytebuff wrap buff file dir ledger directori ledgerdirectori file file file dir last mark lastmark file input stream fileinputstream fi file input stream fileinputstream file byte read bytesread fi read buff byte read bytesread 16 io except ioexcept couldn read byte from last mark lastmark want 16 byte read bytesread fi close bb clear bb get getlong bb get getlong txn log id txnlogid txn log id txnlogid txn log posit txnlogposit txn log posit txnlogposit io except ioexcept log error problem read from file first time start booki overrid string string tostr string builder stringbuild sb string builder stringbuild sb append last mark lastmark log id logid append txn log id txnlogid append posit append txn log posit txnlogposit sb string tostr filter list journal roll journal roll filter journalrollingfilt journal id filter journalidfilt overrid accept journal id journalid journal id journalid last log mark lastlogmark get last mark getlastmark get txn log id gettxnlogid scanner us scan journal journal scanner journalscann process journal entri param journal version journalvers journal version param offset file offset journal entri param entri journal entri io except ioexcept process journal version journalvers offset buffer bytebuff entri io except ioexcept journal entri record queue entri queueentri queue entri queueentri buffer bytebuff entri ledger id ledgerid entri id entryid write callback writecallback cb object ctx entri entri duplic cb cb ctx ctx ledger id ledgerid ledger id ledgerid entri id entryid entri id entryid buffer bytebuff entri ledger id ledgerid entri id entryid write callback writecallback cb object ctx mb 1024 1024l max journal file size max journal size maxjournals number journal file kept befor mark journal max backup journal maxbackupjourn file journal directori journaldirectori file ledger directori ledgerdirectori server configur serverconfigur conf last log mark lastlogmark last log mark lastlogmark last log mark lastlogmark journal entri queue commit link block queue linkedblockingqueu queue entri queueentri queue link block queue linkedblockingqueu queue entri queueentri run journal server configur serverconfigur conf booki journal bookiejourn conf get booki port getbookieport conf conf journal directori journaldirectori booki get current directori getcurrentdirectori conf get journal dir getjournaldir ledger directori ledgerdirectori booki get current directori getcurrentdirectori conf get ledger dir getledgerdir max journal size maxjournals conf get max journal size getmaxjournals mb max backup journal maxbackupjourn conf get max backup journal getmaxbackupjourn read last log mark last log mark lastlogmark read log readlog log debug enabl isdebugen log debug last log mark last log mark lastlogmark last log mark lastlogmark get last log mark getlastlogmark last log mark lastlogmark record last log mark lastlogmark memori last log mark lastlogmark contain two part first on txn log id txnlogid file id journal second on txn log po txnlogpo offset journal last log mark lastlogmark entri befor persist index entri log file method call befor flush entri log file ledger cach mark log marklog last log mark lastlogmark mark log marklog persist last log mark lastlogmark mark mark log marklog disk action mean entri ad befor last log mark lastlogmark entri data index page persist disk time safe remov journal file creat earlier last log mark lastlogmark txn log id txnlogid booki ha crash befor persist last log mark lastlogmark disk ha journal file contain entri index page persist booki restart inspect journal file restor entri data isn lost method call after flush entri log file ledger cach successfulli ensur last log mark lastlogmark pesist mark log marklog roll log rolllog last log mark lastlogmark roll log rolllog garbag collect older journal gc journal gcjournal list journal mark list log list journal id listjournalid journal directori journaldirectori journal roll filter journalrollingfilt keep max backup journal max_backup_journ journal file befor mark journal log size max backup journal maxbackupjourn max idx maxidx log size max backup journal maxbackupjourn max idx maxidx id log get make journal id smaller mark journal id id last log mark lastlogmark get last mark getlastmark get txn log id gettxnlogid file journal file journalfil file journal directori journaldirectori hex string tohexstr id txn journal file journalfil delet log warn delet old journal file journal file journalfil log info garbag collect journal journal file journalfil get name getnam scan journal param journal id journalid journal log id param journal po journalpo offset start scan param scanner scanner handl entri io except ioexcept scan journal scanjourn journal id journalid journal po journalpo journal scanner journalscann scanner io except ioexcept journal channel journalchannel rec log reclog journal po journalpo rec log reclog journal channel journalchannel journal directori journaldirectori journal id journalid rec log reclog journal channel journalchannel journal directori journaldirectori journal id journalid journal po journalpo journal version journalvers rec log reclog get format version getformatvers buffer bytebuff len buff lenbuff buffer bytebuff alloc buffer bytebuff rec buff recbuff buffer bytebuff alloc 64 1024 entri start offset offset rec log reclog fc posit start read entri len buff lenbuff clear full read fullread rec log reclog len buff lenbuff len buff lenbuff remain len buff lenbuff flip len len buff lenbuff get getint len rec buff recbuff clear rec buff recbuff remain len rec buff recbuff buffer bytebuff alloc len rec buff recbuff limit len full read fullread rec log reclog rec buff recbuff len scari mean left write rec buff recbuff flip scanner process journal version journalvers offset rec buff recbuff rec log reclog close replai journal file param scanner scanner process replai entri io except ioexcept replai journal scanner journalscann scanner io except ioexcept mark log id markedlogid last log mark lastlogmark get txn log id gettxnlogid list log list journal id listjournalid journal directori journaldirectori journal id filter journalidfilt overrid accept journal id journalid journal id journalid mark log id markedlogid last log mark miss sync up befor valid filter log id mark log id markedlogid mark log id markedlogid log size log get mark log id markedlogid io except ioexcept recoveri log mark log id markedlogid miss log debug enabl isdebugen log debug relai journal log log todo read journal log sync us buffer channel bufferedchannel minim amount call done id log log posit logposit 0l id mark log id markedlogid log posit logposit last log mark lastlogmark get txn log posit gettxnlogposit scan journal scanjourn id log posit logposit scanner record add entri oper journal log add entri logaddentri buffer bytebuff entri write callback writecallback cb object ctx ledger id ledgerid entri get getlong entri id entryid entri get getlong entri rewind queue add queue entri queueentri entri ledger id ledgerid entri id entryid cb ctx get length journal entri queue length journal entri queue get journal queue length getjournalqueuelength queue size thread us persist journal entri journal file persist journal entri take respons roll journal file journal file reach journal file size limit journal roll first close write journal gener journal file current timestamp persist logic journal garbag collect sync thread syncthread booki sync thread syncthread overrid run link list linkedlist queue entri queueentri flush toflush link list linkedlist queue entri queueentri buffer bytebuff len buff lenbuff buffer bytebuff alloc journal channel journalchannel log file logfil log id logid buffer channel bufferedchannel bc last flush posit lastflushposit queue entri queueentri qe journal file write log file logfil log id logid current time milli currenttimemilli log file logfil journal channel journalchannel journal directori journaldirectori log id logid bc log file logfil get buffer channel getbufferedchannel last flush posit lastflushposit qe flush toflush empti isempti qe queue qe queue poll qe bc posit last flush posit lastflushposit 512 1024 log file logfil forc bc flush last flush posit lastflushposit bc posit last log mark lastlogmark set last log mark setlastlogmark log id logid last flush posit lastflushposit queue entri queueentri flush toflush cb write complet writecomplet ledger id ledgerid entri id entryid ctx flush toflush clear check journal file file limit bc posit max journal size maxjournals log file logfil close log file logfil run log info journal manag ask shut down quit qe more queue entri len buff lenbuff clear len buff lenbuff put putint qe entri remain len buff lenbuff flip follow run direct buffer log file logfil write buffer bytebuff len buff lenbuff qe entri bc write len buff lenbuff bc write qe entri log file logfil pre alloc need preallocifneed flush toflush add qe qe log file logfil close log file logfil io except ioexcept ioe log error except journal thread ioe interrupt except interruptedexcept log warn journal exit shut down io util ioutil close log log file logfil shut down journal shutdown run run interrupt join interrupt except interruptedexcept log warn interrupt shut down journal full read fullread journal channel journalchannel fc buffer bytebuff bb io except ioexcept total bb remain rc fc read bb rc total total rc total 
sync delet callback syncdeletecallback delet callback deletecallback delet callback implement synchron delet call param rc code param ctx option control object delet complet deletecomplet rc object ctx sync counter synccount counter sync counter synccount ctx counter setrc rc counter dec 
set cmd setcmd command mycommand overrid run cmd runcmd string arg except arg length printwatch equal arg arg length println printwatch print watch printwatch print watch printwatch arg equal 
shutdown cach request shutdowncacherequest cach request cacherequest simpl type cach request cacherequest enqueu pub sub server pubsubserv shut down stop read ahead cach readaheadcach thread perform request performrequest keep run keeprun 
close subscript cmd closesubscriptioncmd command mycommand overrid run cmd runcmd string arg except arg length string bytestr topic string bytestr copi from utf8 copyfromutf8 arg string bytestr sud id sudid string bytestr copi from utf8 copyfromutf8 arg subscrib stop deliveri stopdeliveri topic sud id sudid subscrib close subscript closesubscript topic sud id sudid except err println closesub fail 
ledger open thread ledgeropenthread thread ledger id ledgerid last confirm entri lastconfirmedentri digest type digesttyp digest type digesttyp cyclic barrier cyclicbarri barrier ledger open thread ledgeropenthread digest type digesttyp digest type digesttyp ledger id ledgerid cyclic barrier cyclicbarri barrier except test fenc testfenc ledger open thread ledgeropenthread thread count threadcount ledger id ledgerid ledger id ledgerid digest type digesttyp digest type digesttyp barrier barrier overrid run ledger handl ledgerhandl lh book keeper bookkeep bk barrier await bk book keeper bookkeep client configur clientconfigur base client conf baseclientconf bkc get zk handl getzkhandl lh bk open ledger openledg ledger id ledgerid digest type digesttyp get byte getbyt last confirm entri lastconfirmedentri lh get last add confirm getlastaddconfirm lh close bk except bkexcept zk except zkexcept zke log info content recov bk except bkexcept bk ledger recoveri except bkledgerrecoveryexcept bkre log info content recov lh lh close bk bk close bk except exit test spot bad last add confirm log error except occur log info thread exit last confirm entri lastconfirmedentri last confirm entri lastconfirmedentri get last confirm entri getlastconfirmedentri last confirm entri lastconfirmedentri 
snapshot map snapshot map snapshotmap store recent updat map updat map updat merg updatestomerg map store snapshot data navig map navigablemap snapshot reentrant read write lock reentrantreadwritelock lock reentrant read write lock reentrantreadwritelock snapshot map snapshotmap updat concurr hash map concurrenthashmap updat merg updatestomerg concurr hash map concurrenthashmap snapshot concurr skip list map concurrentskiplistmap creat snapshot current map snapshot current map navig map navigablemap snapshot lock write lock writelock lock updat empti isempti snapshot put updat merg snapshot updat merg updatestomerg updat updat concurr hash map concurrenthashmap lock write lock writelock unlock merg updat snapshot map entri entri updat merg updatestomerg entri set entryset snapshot put entri get kei getkei entri get valu getvalu clear updat merg updatestomerg lock write lock writelock lock updat merg updatestomerg concurr hash map concurrenthashmap lock write lock writelock unlock snapshot associ specifi valu specifi kei map param kei kei specifi valu associ param valu valu associ specifi kei put kei valu lock read lock readlock lock updat put kei valu lock read lock readlock unlock remov map kei from map present param kei kei map remov from map remov kei lock read lock readlock lock first remov updat updat remov kei updat merg updatestomerg remov kei remov snapshot snapshot remov kei lock read lock readlock unlock return map contain map specifi kei param kei kei presenc map test map contain map specifi kei contain kei containskei kei lock read lock readlock lock updat contain kei containskei kei updat merg updatestomerg contain kei containskei kei snapshot contain kei containskei kei lock read lock readlock unlock 
publish runnabl list messag pub msg pubmsg string bytestr topic publish string bytestr topic list messag pub msg pubmsg pub msg pubmsg pub msg pubmsg topic topic run link block queue linkedblockingqueu statu queue statusqueu link block queue linkedblockingqueu messag msg pub msg pubmsg persist manag persistencemanag persist messag persistmessag persist request persistrequest topic msg test callback testcallback statu queue statusqueu wait maximum minut statu queue statusqueu poll 60 time unit timeunit second failur except failureexcept runtim except runtimeexcept scan time interrupt except interruptedexcept failur except failureexcept runtim except runtimeexcept 
client configur clientconfigur us point first hedwig hub server region server host connect region client configur regionclientconfigur client configur clientconfigur region client configur regionclientconfigur server port serverport ssl server port sslserverport server address mydefaultserveraddress hedwig socket address hedwigsocketaddress localhost server port serverport ssl server port sslserverport overrid client configur clientconfigur paramet need 
wrapper object topic subscrib id subscriberid combin subscrib flow us topic subscrib id subscriberid logic entiti ll creat simpl encapsul topic subscrib topicsubscrib string bytestr topic string bytestr subscrib id subscriberid hash code hashcod topic subscrib topicsubscrib string bytestr topic string bytestr subscrib id subscriberid topic topic subscrib id subscriberid subscrib id subscriberid hash code hashcod hash code builder hashcodebuild append topic append subscrib id subscriberid hash code tohashcod overrid equal object topic subscrib topicsubscrib topic subscrib topicsubscrib obj topic subscrib topicsubscrib topic equal obj topic subscrib id subscriberid equal obj subscrib id subscriberid overrid hash code hashcod hash code hashcod overrid string string tostr string builder stringbuild sb string builder stringbuild topic sb append topic topic string utf8 tostringutf8 subscrib id subscriberid sb append pub sub data pubsubdata comma append subscrib id subscriberid subscrib id subscriberid string utf8 tostringutf8 sb string tostr string bytestr get topic gettop topic string bytestr get subscrib id getsubscriberid subscrib id subscriberid 
enumer error condit suppress warn suppresswarn serial abstract bk except bkexcept except code bk except bkexcept code code code creat except from error code param code error code correpond except bk except bkexcept creat code code code read except readexcept bk read except bkreadexcept code quorum except quorumexcept bk quorum except bkquorumexcept code booki avail except nobookieavailableexcept bk booki except bkbookieexcept code digest initi except digestnotinitializedexcept bk digest initi except bkdigestnotinitializedexcept code digest match except digestmatchexcept bk digest match except bkdigestmatchexcept code booki except notenoughbookiesexcept bk booki except bknotenoughbookiesexcept code ledger exist except nosuchledgerexistsexcept bk ledger exist except bknosuchledgerexistsexcept code booki handl avail except bookiehandlenotavailableexcept bk booki handl avail except bkbookiehandlenotavailableexcept code zk except zkexcept zk except zkexcept code ledger recoveri except ledgerrecoveryexcept bk ledger recoveri except bkledgerrecoveryexcept code ledger close except ledgerclosedexcept bk ledger close except bkledgerclosedexcept code write except writeexcept bk write except bkwriteexcept code entri except nosuchentryexcept bk entri except bknosuchentryexcept code incorrect paramet except incorrectparameterexcept bk incorrect paramet except bkincorrectparameterexcept code interrupt except interruptedexcept bk interrupt except bkinterruptedexcept code protocol version except protocolversionexcept bk protocol version except bkprotocolversionexcept code ledger fenc except ledgerfencedexcept bk ledger fenc except bkledgerfencedexcept code unauthor access except unauthorizedaccessexcept bk unauthor access except bkunauthorizedaccessexcept bk illeg op except bkillegalopexcept list code code read except readexcept quorum except quorumexcept booki avail except nobookieavailableexcept digest initi except digestnotinitializedexcept digest match except digestmatchexcept booki except notenoughbookiesexcept ledger exist except nosuchledgerexistsexcept booki handl avail except bookiehandlenotavailableexcept zk except zkexcept ledger recoveri except ledgerrecoveryexcept 10 ledger close except ledgerclosedexcept 11 write except writeexcept 12 entri except nosuchentryexcept 13 incorrect paramet except incorrectparameterexcept 14 interrupt except interruptedexcept 15 protocol version except protocolversionexcept 16 illeg op except illegalopexcept 100 ledger fenc except ledgerfencedexcept 101 unauthor access except unauthorizedaccessexcept 102 set code setcod code code code get code getcod code string get messag getmessag code code code problem code read except readexcept error read ledger code quorum except quorumexcept invalid quorum size ensembl size code booki avail except nobookieavailableexcept invalid quorum size ensembl size code digest initi except digestnotinitializedexcept digest engin initi code digest match except digestmatchexcept entri digest match code booki except notenoughbookiesexcept non faulti booki avail code ledger exist except nosuchledgerexistsexcept ledger exist code booki handl avail except bookiehandlenotavailableexcept booki handl avail code zk except zkexcept error zoo keeper zookeep code ledger recoveri except ledgerrecoveryexcept error recov ledger code ledger close except ledgerclosedexcept attempt write close ledger code write except writeexcept write fail booki code entri except nosuchentryexcept entri code incorrect paramet except incorrectparameterexcept incorrect paramet input code interrupt except interruptedexcept interrupt wait permit code protocol version except protocolversionexcept booki protocol version server incompat client code ledger fenc except ledgerfencedexcept ledger ha fenc client open read code unauthor access except unauthorizedaccessexcept attempt access ledger wrong password invalid oper bk read except bkreadexcept bk except bkexcept bk read except bkreadexcept code read except readexcept bk entri except bknosuchentryexcept bk except bkexcept bk entri except bknosuchentryexcept code entri except nosuchentryexcept bk quorum except bkquorumexcept bk except bkexcept bk quorum except bkquorumexcept code quorum except quorumexcept bk booki except bkbookieexcept bk except bkexcept bk booki except bkbookieexcept code booki avail except nobookieavailableexcept bk digest initi except bkdigestnotinitializedexcept bk except bkexcept bk digest initi except bkdigestnotinitializedexcept code digest initi except digestnotinitializedexcept bk digest match except bkdigestmatchexcept bk except bkexcept bk digest match except bkdigestmatchexcept code digest match except digestmatchexcept bk illeg op except bkillegalopexcept bk except bkexcept bk illeg op except bkillegalopexcept code illeg op except illegalopexcept bk booki except bknotenoughbookiesexcept bk except bkexcept bk booki except bknotenoughbookiesexcept code booki except notenoughbookiesexcept bk write except bkwriteexcept bk except bkexcept bk write except bkwriteexcept code write except writeexcept bk protocol version except bkprotocolversionexcept bk except bkexcept bk protocol version except bkprotocolversionexcept code protocol version except protocolversionexcept bk ledger exist except bknosuchledgerexistsexcept bk except bkexcept bk ledger exist except bknosuchledgerexistsexcept code ledger exist except nosuchledgerexistsexcept bk booki handl avail except bkbookiehandlenotavailableexcept bk except bkexcept bk booki handl avail except bkbookiehandlenotavailableexcept code booki handl avail except bookiehandlenotavailableexcept zk except zkexcept bk except bkexcept zk except zkexcept code zk except zkexcept bk ledger recoveri except bkledgerrecoveryexcept bk except bkexcept bk ledger recoveri except bkledgerrecoveryexcept code ledger recoveri except ledgerrecoveryexcept bk ledger close except bkledgerclosedexcept bk except bkexcept bk ledger close except bkledgerclosedexcept code ledger close except ledgerclosedexcept bk incorrect paramet except bkincorrectparameterexcept bk except bkexcept bk incorrect paramet except bkincorrectparameterexcept code incorrect paramet except incorrectparameterexcept bk interrupt except bkinterruptedexcept bk except bkexcept bk interrupt except bkinterruptedexcept code interrupt except interruptedexcept bk ledger fenc except bkledgerfencedexcept bk except bkexcept bk ledger fenc except bkledgerfencedexcept code ledger fenc except ledgerfencedexcept bk unauthor access except bkunauthorizedaccessexcept bk except bkexcept bk unauthor access except bkunauthorizedaccessexcept code unauthor access except unauthorizedaccessexcept 
abstract abstract configur abstractconfigur composit configur compositeconfigur conf abstract configur abstractconfigur conf composit configur compositeconfigur real configur object configur configur get conf getconf conf load configur preced order first on take preced load param conf url confurl load conf loadconf url conf url confurl configur except configurationexcept configur load conf loadedconf properti configur propertiesconfigur conf url confurl conf add configur addconfigur load conf loadedconf add configur object param conf configur object add conf addconf configur conf otherconf configur except configurationexcept conf add configur addconfigur conf otherconf 
malform request except malformedrequestexcept pub sub except pubsubexcept malform request except malformedrequestexcept string msg statu code statuscod malform request malformed_request msg 
consum op consumeuntilop topic op queuer topicopqueu synchron op synchronousop seq id seqid consum op consumeuntilop string bytestr topic seq id seqid queuer topic seq id seqid seq id seqid overrid run intern runintern topic info topicinfo topic info topicinfo topic info topicinfo get topic topic info topicinfo logger error server respons topic end seq id includ endseqidinclud topic info topicinfo ledger rang ledgerrang kei set keyset end seq id includ endseqidinclud seq id seqid ledger messag entri consum safe delet from book keeper bookkeep ledger id ledgerid topic info topicinfo ledger rang ledgerrang get end seq id includ endseqidinclud rang get ledger id getledgerid bk delet ledger deleteledg ledger id ledgerid callback cb callback oper finish operationfinish object ctx result op async stop op occur topic updat oper fail operationfail object ctx pub sub except pubsubexcept except logger error fail updat ledger znode except queuer push run pushandmayberun topic updat ledger op updateledgerop topic cb ledger id ledgerid except log except error messag futur more complic retri logic delet consum ledger next time ledger garbag collect job run ll delet ledger logger error except delet consum ledger id ledgerid ledger id ledgerid 
set messag bound op setmessageboundop topic op queuer topicopqueu synchron op synchronousop bound set messag bound op setmessageboundop string bytestr topic bound queuer topic bound bound overrid run intern runintern topic info topicinfo topic info topicinfo topic info topicinfo get topic topic info topicinfo topic info topicinfo messag bound messagebound bound 
test ledger delet hierarch ledger manag hierarchicalledgermanag hierarch ledger delet test hierarchicalledgerdeletetest ledger delet test ledgerdeletetest befor overrid set up setup except base conf baseconf set ledger manag type setledgermanagertyp hierarch ledger manag hierarchicalledgermanag name base client conf baseclientconf set ledger manag type setledgermanagertyp hierarch ledger manag hierarchicalledgermanag name set up setup 
test implement callback async client action test callback testcallback callback synchron queue synchronousqueu queue test callback testcallback synchron queue synchronousqueu queue queue queue overrid oper finish operationfinish object ctx result oper resultofoper thread runnabl overrid run logger debug enabl isdebugen logger debug oper finish concurr util concurrencyutil put queue start overrid oper fail operationfail object ctx pub sub except pubsubexcept except thread runnabl overrid run logger error oper fail except concurr util concurrencyutil put queue start 
bench read throughput latenc benchreadthroughputlat logger log logger factori loggerfactori get logger getlogg bench read throughput latenc benchreadthroughputlat pattern ledger pattern ledger_pattern pattern compil compar string zk ledger compar zk_ledger_compar compar string compar string o1 string o2 matcher m1 ledger pattern ledger_pattern matcher o1 matcher m2 ledger pattern ledger_pattern matcher o2 m1 find m2 find integ valu valueof m1 group integ valu valueof m2 group o1 compar compareto o2 throwabl o1 compar compareto o2 read ledger readledg client configur clientconfigur conf ledger id ledgerid passwd log info read ledger ledger id ledgerid book keeper bookkeep bk time entri read entriesread last read lastread nochang absolut limit absolutelimit 5000000 ledger handl ledgerhandl lh bk book keeper bookkeep conf lh bk open ledger recoveri openledgernorecoveri ledger id ledgerid book keeper bookkeep digest type digesttyp crc32 passwd last confirm lastconfirm math min lh get last add confirm getlastaddconfirm absolut limit absolutelimit last confirm lastconfirm last read lastread nochang nochang 10 thread sleep 1000 nochang starttim nano time nanotim last read lastread last confirm lastconfirm next limit nextlimit last read lastread 100000 read readto math min next limit nextlimit last confirm lastconfirm enumer ledger entri ledgerentri entri lh read entri readentri last read lastread read readto last read lastread read readto entri ha more element hasmoreel ledger entri ledgerentri entri next element nextel entri read entriesread entri read entriesread 10000 log info entri read entri read entriesread endtim nano time nanotim time endtim starttim lh close lh thread sleep 1000 interrupt except interruptedexcept ignor except log error except reader log info read ms entri read entriesread time 1000 1000 lh lh close bk bk close except log error except close stuff usag option option help formatt helpformatt formatt help formatt helpformatt formatt print help printhelp bench read throughput latenc benchreadthroughputlat option option main string arg except option option option option add option addopt ledger ledger read empti read ledger avail us listen option add option addopt listen listen creation arg ledger read on fulli option add option addopt password password us access ledger bench passwd benchpasswd option add option addopt zookeep zookeep ensembl localhost 2181 option add option addopt sockettimeout socket timeout bookkeep client second option add option addopt help messag command line parser commandlinepars parser posix parser posixpars command line commandlin cmd parser pars option arg cmd ha option hasopt help usag option exit string server cmd get option valu getoptionvalu zookeep localhost 2181 passwd cmd get option valu getoptionvalu password bench passwd benchpasswd get byte getbyt sock timeout socktimeout integ valu valueof cmd get option valu getoptionvalu sockettimeout cmd ha option hasopt ledger cmd ha option hasopt listen log error us ledger listen usag option exit atom integ atomicinteg ledger atom integ atomicinteg atom integ atomicinteg num ledger numledg atom integ atomicinteg cmd ha option hasopt ledger ledger set integ valu valueof cmd get option valu getoptionvalu ledger cmd ha option hasopt listen num ledger numledg set integ valu valueof cmd get option valu getoptionvalu listen log error us ledger listen usag option exit count down latch countdownlatch shutdown latch shutdownlatch count down latch countdownlatch count down latch countdownlatch connect latch connectedlatch count down latch countdownlatch string nodepath string format ledger 010d ledger get client configur clientconfigur conf client configur clientconfigur conf set read timeout setreadtimeout sock timeout socktimeout set zk server setzkserv server zoo keeper zookeep zk zoo keeper zookeep server 3000 watcher process watch event watchedev event event get state getstat event keeper state keeperst sync connect syncconnect event get type gettyp event event type eventtyp connect latch connectedlatch count down countdown zk watcher process watch event watchedev event event get state getstat event keeper state keeperst sync connect syncconnect event get type gettyp event event type eventtyp connect latch connectedlatch count down countdown event get type gettyp event event type eventtyp node creat nodecr event get path getpath equal nodepath read ledger readledg conf ledger get passwd shutdown latch shutdownlatch count down countdown event get type gettyp event event type eventtyp node children chang nodechildrenchang num ledger numledg get list string children zk get children getchildren ledger list string ledger arrai list arraylist string string child children ledger pattern ledger_pattern matcher child find ledger add child collect sort ledger zk ledger compar zk_ledger_compar string last ledger get ledger size matcher ledger pattern ledger_pattern matcher last find ledger left ledgersleft num ledger numledg decrement get decrementandget thread thread run read ledger readledg conf valu valueof group passwd start ledger left ledgersleft shutdown latch shutdownlatch count down countdown log error file ledger id last log warn unknown event event except log error except watcher connect latch connectedlatch await ledger get zk exist nodepath read ledger readledg conf ledger get passwd shutdown latch shutdownlatch count down countdown log info watch creation nodepath zk get children getchildren ledger shutdown latch shutdownlatch await log info shut down zk close 
region server configur newregionserverconfigur region server configur regionserverconfigur region server configur newregionserverconfigur server port serverport ssl server port sslserverport string region name regionnam server port serverport ssl server port sslserverport region name regionnam overrid get retri remot subscrib thread run interv getretryremotesubscribethreadruninterv test retri remot subscrib interv valu test_retry_remote_subscribe_interval_valu 
file handl ledger index file map entri id locat us ledger cach ledgercach ledger index file made header fix length index page record offset data store entri logger pre lt header gt lt index page gt pre header format pre lt magic byte gt lt len master kei gt lt master kei gt pre ul li magic byte byte bkle version byte li len master kei length master kei mean master kei store header li master kei master kei ul index page fix length page contain server entri point offset data store entri logger file info fileinfo logger log logger factori loggerfactori get logger getlogg file info fileinfo master kei no_master_kei file channel filechannel fc file lf master kei masterkei fingerprint ledger index file signatur buffer bytebuff wrap bkle get byte getbyt get getint header version headervers start data start_of_data 1024 size us count usecount close isclos file info fileinfo file lf master kei masterkei io except ioexcept lf lf master kei masterkei master kei masterkei read header readhead io except ioexcept lf exist fc fc random access file randomaccessfil lf rw get channel getchannel size fc size avoid hang read partial index buffer bytebuff bb buffer bytebuff alloc math min size start data start_of_data bb ha remain hasremain fc read bb bb flip bb get getint signatur io except ioexcept miss ledger signatur version bb get getint version header version headervers io except ioexcept incompat ledger version version length bb get getint length io except ioexcept length length invalid length bb remain buffer underflow except bufferunderflowexcept master kei masterkei length bb get master kei masterkei io except ioexcept ledger index file exist check open checkopen creat io except ioexcept fc exist lf exist master kei masterkei exist io except ioexcept lf found exist creat delai creation parent directori check parent checkpar lf fc random access file randomaccessfil lf rw get channel getchannel size fc size size write header writehead read header readhead buffer underflow except bufferunderflowexcept buf log warn except read header lf buf master kei masterkei log warn attempt write header lf write header writehead io except ioexcept error read header lf write header writehead io except ioexcept buffer bytebuff bb buffer bytebuff alloc start data start_of_data bb put putint signatur bb put putint header version headervers bb put putint master kei masterkei length bb put master kei masterkei bb rewind fc posit fc write bb size io except ioexcept check open checkopen rc size start data start_of_data rc rc rc read buffer bytebuff bb posit io except ioexcept read absolut readabsolut bb posit start data start_of_data read absolut readabsolut buffer bytebuff bb start io except ioexcept check open checkopen total bb remain rc fc read bb start rc io except ioexcept read total rc move read posit start rc total close file info param forc set index forc creat befor close set index forc creat close forc io except ioexcept close isclos check open checkopen forc us count usecount fc fc close write buffer bytebuff buff posit io except ioexcept check open checkopen total fc posit posit start data start_of_data buff buff length remain rc fc write buff rc io except ioexcept write total rc fc forc newsiz posit start data start_of_data total newsiz size size newsiz total get master kei getmasterkei io except ioexcept check open checkopen master kei masterkei us us count usecount releas us count usecount close isclos us count usecount fc fc close io except ioexcept log error error close file channel delet lf delet check parent checkpar file io except ioexcept file parent get parent file getparentfil parent exist parent mkdir io except ioexcept counldn mkdir parent 
booki unauthor access except bookieunauthorizedaccessexcept booki except bookieexcept booki unauthor access except bookieunauthorizedaccessexcept code unauthor access except unauthorizedaccessexcept 
zoo keeper util zookeeperutil logger log logger factori loggerfactori get logger getlogg zoo keeper util zookeeperutil zoo keeper zookeep relat variabl integ zoo keeper port zookeeperdefaultport 2181 inet socket address inetsocketaddress zkaddr zoo keeper server zookeeperserv zk zoo keeper zookeep zkc zookeep client nio server cnxn factori nioservercnxnfactori server factori serverfactori file zk tmp dir zktmpdir string connect string connectstr zoo keeper util zookeeperutil zkaddr inet socket address inetsocketaddress zoo keeper port zookeeperdefaultport connect string connectstr localhost zoo keeper port zookeeperdefaultport zoo keeper zookeep get zoo keeper client getzookeepercli zkc string get zoo keeper connect string getzookeeperconnectstr connect string connectstr start server startserv except creat zoo keeper zookeep server data dir datadir data log dir datalogdir port log debug run zk server server stat serverstat concret registerasconcret client base clientbas setup test env setuptestenv zk tmp dir zktmpdir file creat temp file createtempfil zookeep test zk tmp dir zktmpdir delet zk tmp dir zktmpdir mkdir zk zoo keeper server zookeeperserv zk tmp dir zktmpdir zk tmp dir zktmpdir zoo keeper port zookeeperdefaultport server factori serverfactori nio server cnxn factori nioservercnxnfactori server factori serverfactori configur zkaddr 100 server factori serverfactori startup zk client base clientbas wait server up waitforserverup get zoo keeper connect string getzookeeperconnectstr client base clientbas connect timeout connection_timeout log debug server up creat zookeep client log debug instanti zk client count down latch countdownlatch latch count down latch countdownlatch zkc zoo keeper zookeep get zoo keeper connect string getzookeeperconnectstr 10000 watcher overrid process watch event watchedev event handl session disconnect expir event get state getstat equal watcher event keeper state keeperst sync connect syncconnect latch count down countdown latch await 10000 time unit timeunit millisecond zkc close fail connect zookeep server initi zk client valu zkc creat ledger id open acl unsaf open_acl_unsaf creat mode createmod persist zkc creat ledger avail id open acl unsaf open_acl_unsaf creat mode createmod persist kill server killserv except zkc zkc close shutdown zk server server factori serverfactori server factori serverfactori shutdown asserttru wait server down client base clientbas wait server down waitforserverdown get zoo keeper connect string getzookeeperconnectstr client base clientbas connect timeout connection_timeout zk zk get txn log factori gettxnlogfactori close server stat serverstat unregist file util fileutil delet directori deletedirectori zk tmp dir zktmpdir 
deliveri manag deliverymanag start start serv subscript startservingsubscript string bytestr topic string bytestr subscrib id subscriberid messag seq id messageseqid seq id start from seqidtostartfrom deliveri end point deliveryendpoint end point endpoint messag filter messagefilt filter hub subscrib ishubsubscrib stop serv subscrib stopservingsubscrib string bytestr topic string bytestr subscrib id subscriberid stop deliveri manag stop 
channel tracker channeltrack channel disconnect listen channeldisconnectlisten hash map hashmap topic subscrib topicsubscrib channel topic sub2 channel topicsub2channel hash map hashmap topic subscrib topicsubscrib channel hash map hashmap channel list topic subscrib topicsubscrib channel2 topic sub channel2topicsub hash map hashmap channel list topic subscrib topicsubscrib subscrib subscrib channel tracker channeltrack subscrib subscrib subscrib subscrib callback op callback noopcallback callback oper fail operationfail object ctx pub sub except pubsubexcept except oper finish operationfinish object ctx result oper resultofoper channel disconnect channeldisconnect channel channel list topic subscrib topicsubscrib topic sub topicsub channel2 topic sub channel2topicsub remov channel topic sub topicsub topic subscrib topicsubscrib topic sub topicsub topic sub topicsub topic sub2 channel topicsub2channel remov topic sub topicsub subscrib async close subscript asyncclosesubscript topic sub topicsub get topic gettop topic sub topicsub get subscrib id getsubscriberid op callback noopcallback subscrib succeed subscribesucceed topic subscrib topicsubscrib topic subscrib topicsubscrib channel channel topic busi except topicbusyexcept channel connect isconnect channel disconnect process subscrib request topic sub2 channel topicsub2channel contain kei containskei topic subscrib topicsubscrib topic busi except topicbusyexcept pse pub sub except pubsubexcept topic busi except topicbusyexcept subscript topic subscrib id subscriberid serv differ channel pse topic sub2 channel topicsub2channel put topic subscrib topicsubscrib channel list topic subscrib topicsubscrib topic sub topicsub channel2 topic sub channel2topicsub get channel topic sub topicsub topic sub topicsub link list linkedlist topic subscrib topicsubscrib channel2 topic sub channel2topicsub put channel topic sub topicsub topic sub topicsub add topic subscrib topicsubscrib unsubscrib abouttounsubscrib string bytestr topic string bytestr subscrib id subscriberid topic subscrib topicsubscrib topic sub topicsub topic subscrib topicsubscrib topic subscrib id subscriberid channel channel topic sub2 channel topicsub2channel remov topic sub topicsub channel list topic subscrib topicsubscrib topic sub topicsub channel2 topic sub channel2topicsub get channel topic sub topicsub topic sub topicsub remov topic sub topicsub check channel match checkchannelmatch string bytestr topic string bytestr subscrib id subscriberid channel channel pub sub except pubsubexcept channel subscrib channel subscribedchannel get channel getchannel topic subscrib id subscriberid subscrib channel subscribedchannel pub sub except pubsubexcept client subscrib except clientnotsubscribedexcept start deliveri client subscrib subscrib channel subscribedchannel channel pub sub except pubsubexcept topic busi except topicbusyexcept start deliveri client subscrib differ channel channel get channel getchannel string bytestr topic string bytestr subscrib id subscriberid topic sub2 channel topicsub2channel get topic subscrib topicsubscrib topic subscrib id subscriberid 
wrapper get recov data from request last confirm data callback lastconfirmeddatacallback read last confirm data complet readlastconfirmeddatacomplet rc recoveri data recoverydata data 
close callback closecallback callback definit param rc code param lh ledger handl param ctx context object close complet closecomplet rc ledger handl ledgerhandl lh object ctx 
test path util testpathutil test testcas test test prefix testprefix equal assertequ arrai list aslist string path util pathutil prefix equal assertequ arrai list aslist string path util pathutil prefix test test prefix testisprefix string path string path length asserttru path util pathutil prefix isprefix path path asserttru path util pathutil prefix isprefix path path asserttru path util pathutil prefix isprefix path path asserttru path util pathutil prefix isprefix path path path length assertfals path util pathutil prefix isprefix path path assertfals path util pathutil prefix isprefix path path assertfals path util pathutil prefix isprefix path path assertfals path util pathutil prefix isprefix path path 
zk util zkutil logger logger logger factori loggerfactori get logger getlogg zk util zkutil creat full path optimist createfullpathoptimist zoo keeper zookeep zk string origin path originalpath data list acl acl creat mode createmod creat mode createmod async callback asynccallback string callback stringcallback callback object ctx zk creat origin path originalpath data acl creat mode createmod safe async zk callback safeasynczkcallback string callback stringcallback overrid safe process result safeprocessresult rc string path object ctx string name rc code nonod valu intvalu callback process result processresult rc path ctx name nonod mean parent don exist creat mode persist ephemer node parent zk util zkutil creat full path optimist createfullpathoptimist zk path util pathutil parent origin path originalpath acl creat mode createmod persist safe async zk callback safeasynczkcallback string callback stringcallback overrid safe process result safeprocessresult rc string path object ctx string name rc code valu intvalu rc code nodeexist valu intvalu succeed creat parent creat origin path zk util zkutil creat full path optimist createfullpathoptimist zk origin path originalpath data acl creat mode createmod callback ctx callback process result processresult rc path ctx name ctx ctx keeper except keeperexcept log error creat zk except logerrorandcreatezkexcept string msg string path rc keeper except keeperexcept ke keeper except keeperexcept creat code get rc path logger error msg zk path zkpath path ke ke 
reason finish reasonforfinish more messag no_more_messag size limit exceed size_limit_exceed num messag limit exceed num_messages_limit_exceed 
abstract string callback stringcallback async callback asynccallback string callback stringcallback process result processresult rc string path object ctx string name safe process result safeprocessresult rc path ctx name throwabl invok uncaught except handler invokeuncaughtexceptionhandl abstract safe process result safeprocessresult rc string path object ctx string name 
ledger fenc except ledgerfencedexcept booki except bookieexcept ledger fenc except ledgerfencedexcept code ledger fenc except ledgerfencedexcept 
sync obj syncobj counter valu sync obj syncobj counter valu 
channel pipelin coverag channelpipelinecoverag umbrella handler umbrellahandl simpl channel handler simplechannelhandl logger logger logger factori loggerfactori get logger getlogg umbrella handler umbrellahandl map oper type operationtyp handler handler channel group channelgroup channel allchannel channel disconnect listen channeldisconnectlisten subscrib handler subscribehandl ssl enabl issslen umbrella handler umbrellahandl channel group channelgroup channel allchannel map oper type operationtyp handler handler ssl enabl issslen channel allchannel channel allchannel ssl enabl issslen ssl enabl issslen handler handler subscrib handler subscribehandl channel disconnect listen channeldisconnectlisten handler get oper type operationtyp subscrib overrid except caught exceptioncaught channel handler context channelhandlercontext ctx except event exceptionev except throwabl throwabl get caus getcaus add here more except abl toler io except ioexcept thrown channel forcefulli close end protobuf decod protobufdecod invalid protobuf receiv frame except toolongframeexcept thrown length base decod lengthbaseddecod receiv packet big corrupt fram except corruptedframexcept thrown length base decod lengthbaseddecod length neg throwabl io except ioexcept throwabl frame except toolongframeexcept throwabl corrupt frame except corruptedframeexcept get channel getchannel close logger debug enabl isdebugen logger debug uncaught except throwabl call uncaught except handler decid shutdown thread thread thread current thread currentthread thread get uncaught except handler getuncaughtexceptionhandl uncaught except uncaughtexcept thread throwabl overrid channel open channelopen channel handler context channelhandlercontext ctx channel state event channelstateev except ssl enabl add channel channel group channelgroup done channel connect ssl handshak ha complet successfulli ssl enabl issslen channel allchannel add ctx get channel getchannel overrid channel connect channelconnect channel handler context channelhandlercontext ctx channel state event channelstateev except ssl enabl issslen ctx get pipelin getpipelin get ssl handler sslhandler handshak get channel getchannel add listen addlisten channel futur listen channelfuturelisten oper complet operationcomplet channel futur channelfutur futur except futur success issuccess logger debug enabl isdebugen logger debug ssl handshak ha complet successfulli channel allchannel add futur get channel getchannel futur get channel getchannel close overrid channel disconnect channeldisconnect channel handler context channelhandlercontext ctx channel state event channelstateev except channel channel ctx get channel getchannel subscrib handler channel disconnect subscrib handler subscribehandl channel disconnect channeldisconnect channel channel close send error respons malform request senderrorresponsetomalformedrequest channel channel txn id txnid string msg logger debug enabl isdebugen logger debug malform request from channel get remot address getremoteaddress msg msg malform request except malformedrequestexcept mre malform request except malformedrequestexcept msg pub sub respons pubsubrespons respons pub sub respons util pubsubresponseutil get respons except getresponseforexcept mre txn id txnid channel write respons overrid messag receiv messagereceiv channel handler context channelhandlercontext ctx messag event messageev except get messag getmessag pub sub protocol pubsubprotocol pub sub request pubsubrequest ctx send upstream sendupstream pub sub protocol pubsubprotocol pub sub request pubsubrequest request pub sub protocol pubsubprotocol pub sub request pubsubrequest get messag getmessag handler handler handler get request get type gettyp channel channel ctx get channel getchannel txn id txnid request get txn id gettxnid handler send error respons malform request senderrorresponsetomalformedrequest channel txn id txnid request type request get type gettyp get number getnumb unknown handler handl request handlerequest request channel server stat serverstat get instanc getinst increment request receiv incrementrequestsreceiv 
deliv delivereduntil cach request cacherequest string bytestr topic seq id seqid deliv delivereduntil string bytestr topic seq id seqid topic topic seq id seqid seq id seqid perform request performrequest sort set sortedset order seq id orderedseqid order index seq id orderedindexonseqid get topic order seq id orderedseqid focu set messag seq id on ha deliv sort set sortedset head set headset order seq id orderedseqid head set headset seq id seqid iter iter head set headset iter iter ha next hasnext seq id seqid iter next cach kei cachekei cach kei cachekei cach kei cachekei topic seq id seqid logger debug enabl isdebugen logger debug remov seq id cach kei cachekei get seq id getseqid topic cach kei cachekei get topic gettop string utf8 tostringutf8 from cach subscrib ha move past remov messag from cach removemessagefromcach cach kei cachekei read ahead except instanc readaheadexceptioninst maintain time index maintaintimeindex maintain seq id index maintainseqidindex iter remov order seq id orderedseqid empti isempti order index seq id orderedindexonseqid remov topic 
callback queue callbackqueu callback synchron queue synchronousqueu except synchron queue synchronousqueu except synchron queue synchronousqueu except get queue getqueu except interrupt except interruptedexcept overrid oper fail operationfail object ctx pub sub except pubsubexcept except log error except except thread runnabl overrid run concurr util concurrencyutil put except except start overrid oper finish operationfinish object ctx result oper resultofoper thread runnabl overrid run concurr util concurrencyutil put result oper resultofoper except start 
connect state connectionst disconnect connect connect 
ledger insid booki oper write entri ledger read entri from ledger ledger descriptor impl ledgerdescriptorimpl ledger descriptor ledgerdescriptor logger log logger factori loggerfactori get logger getlogg ledger descriptor ledgerdescriptor ledger storag ledgerstorag ledger storag ledgerstorag ledger id ledgerid fenc master kei masterkei ledger descriptor impl ledgerdescriptorimpl master kei masterkei ledger id ledgerid ledger storag ledgerstorag ledger storag ledgerstorag master kei masterkei master kei masterkei ledger id ledgerid ledger id ledgerid ledger storag ledgerstorag ledger storag ledgerstorag overrid check access checkaccess master kei masterkei booki except bookieexcept io except ioexcept arrai equal master kei masterkei master kei masterkei booki except bookieexcept creat booki except bookieexcept code unauthor access except unauthorizedaccessexcept overrid get ledger id getledgerid ledger id ledgerid overrid set fenc setfenc io except ioexcept fenc overrid fenc isfenc fenc overrid add entri addentri buffer bytebuff entri io except ioexcept ledger id ledgerid entri get getlong ledger id ledgerid ledger id ledgerid io except ioexcept entri ledger ledger id ledgerid sent ledger id ledgerid entri rewind ledger storag ledgerstorag add entri addentri entri overrid buffer bytebuff read entri readentri entri id entryid io except ioexcept ledger storag ledgerstorag get entri getentri ledger id ledgerid entri id entryid 
topolog filter alltoalltopologyfilt messag filter messagefilt string bytestr subscrib region subscriberregion topolog filter alltoalltopologyfilt string bytestr subscrib region subscriberregion subscrib region subscriberregion subscrib region subscriberregion test messag testmessag messag messag messag get src region getsrcregion equal subscrib region subscriberregion 
test condit set ledger metadata znode condit set test conditionalsettest base test basetestcas logger log logger factori loggerfactori get logger getlogg condit set test conditionalsettest entri digest type digesttyp digest type digesttyp book keeper bookkeep bkc reader bkcreader condit set test conditionalsettest digest type digesttyp digest type digesttyp digest type digesttyp digest type digesttyp overrid befor set up setup io except ioexcept except set up setup entri 10 initi entri list bkc reader bkcreader book keeper test client bookkeepertestcli base client conf baseclientconf open ledger befor ledger writer trigger ledger recoveri ledger writer close ledger close oper fail io except ioexcept interrupt except interruptedexcept bk except bkexcept keeper except keeperexcept test test condit set testconditionalset io except ioexcept interrupt except interruptedexcept bk except bkexcept keeper except keeperexcept ledger handl ledgerhandl lh write lhwrite bkc creat ledger createledg digest type digesttyp ledger id ledgerid lh write lhwrite get id getid log debug ledger id lh write lhwrite get id getid 10 log debug ad entri lh write lhwrite add entri addentri entri open ledger read trigger recoveri ledger open log debug instanti bookkeep client ledger handl ledgerhandl lh read lhread bkc reader bkcreader open ledger openledg lh write lhwrite get id getid digest type digesttyp log debug open ledger writer close ledger fail lh write lhwrite close fail receiv except close ledger bk except bkexcept correctli fail close ledger 
add callback addcallback callback declar param rc code param lh ledger handl param entri id entryid entri identifi param ctx context object add complet addcomplet rc ledger handl ledgerhandl lh entri id entryid object ctx 
concurr util concurrencyutil block queue blockingqueu put queue valu queue put valu except ex runtim except runtimeexcept ex block queue blockingqueu queue queue except ex runtim except runtimeexcept ex await cyclic barrier cyclicbarri barrier barrier await except ex runtim except runtimeexcept ex 
creat lm thread createlmthread thread success string type string root cyclic barrier cyclicbarri barrier zoo keeper zookeep zkc creat lm thread createlmthread string root string type cyclic barrier cyclicbarri barrier except type type barrier barrier root root count down latch countdownlatch latch count down latch countdownlatch zkc zoo keeper zookeep 127 10000 watcher process watch event watchedev event latch count down countdown latch await run client configur clientconfigur conf client configur clientconfigur conf set ledger manag type setledgermanagertyp type barrier await ledger manag factori ledgermanagerfactori ledger manag newledgermanag conf zkc success except log error fail creat ledger manag success issuccess success close except zkc close 
unit test test ledger fenc test fenc testfenc base test basetestcas logger log logger factori loggerfactori get logger getlogg test fenc testfenc digest type digesttyp digest type digesttyp test fenc testfenc digest type digesttyp digest type digesttyp 10 digest type digesttyp digest type digesttyp basic fenc test creat ledger write open ledger write fail test test basic fenc testbasicfenc except creat ledger ledger handl ledgerhandl writelh writelh bkc creat ledger createledg digest type digesttyp password get byte getbyt string tmp book keeper bookkeep cool 10 writelh add entri addentri tmp get byte getbyt open ledger ledger handl ledgerhandl readlh bkc open ledger openledg writelh get id getid digest type digesttyp password get byte getbyt trigger recoveri fenc writelh add entri addentri tmp get byte getbyt log error thrown except fail thrown except write bk except bkexcept bk ledger fenc except bkledgerfencedexcept correct behaviour check ha recov properli asserttru ha recov correctli readlh get last add confirm getlastaddconfirm origin writelh get last add confirm getlastaddconfirm readlh get last add confirm getlastaddconfirm writelh get last add confirm getlastaddconfirm thread count threadcount ledger open thread ledgeropenthread thread ledger id ledgerid last confirm entri lastconfirmedentri digest type digesttyp digest type digesttyp cyclic barrier cyclicbarri barrier ledger open thread ledgeropenthread digest type digesttyp digest type digesttyp ledger id ledgerid cyclic barrier cyclicbarri barrier except test fenc testfenc ledger open thread ledgeropenthread thread count threadcount ledger id ledgerid ledger id ledgerid digest type digesttyp digest type digesttyp barrier barrier overrid run ledger handl ledgerhandl lh book keeper bookkeep bk barrier await bk book keeper bookkeep client configur clientconfigur base client conf baseclientconf bkc get zk handl getzkhandl lh bk open ledger openledg ledger id ledgerid digest type digesttyp get byte getbyt last confirm entri lastconfirmedentri lh get last add confirm getlastaddconfirm lh close bk except bkexcept zk except zkexcept zke log info content recov bk except bkexcept bk ledger recoveri except bkledgerrecoveryexcept bkre log info content recov lh lh close bk bk close bk except exit test spot bad last add confirm log error except occur log info thread exit last confirm entri lastconfirmedentri last confirm entri lastconfirmedentri get last confirm entri getlastconfirmedentri last confirm entri lastconfirmedentri open ledger time parallel open result ledger equal number entri test test open parallel testmanyopenparallel except creat ledger ledger handl ledgerhandl writelh bkc creat ledger createledg digest type digesttyp get byte getbyt num recoveri numrecoveri 10 string tmp book keeper bookkeep cool count down latch countdownlatch latch count down latch countdownlatch num recoveri numrecoveri thread writethread thread run writelh add entri addentri tmp get byte getbyt latch count down countdown except log info except ad entri writethread start cyclic barrier cyclicbarri barrier cyclic barrier cyclicbarri num recoveri numrecoveri ledger open thread ledgeropenthread thread ledger open thread ledgeropenthread num recoveri numrecoveri num recoveri numrecoveri thread ledger open thread ledgeropenthread digest type digesttyp writelh get id getid barrier thread start latch await barrier await trigger thread writethread join last confirm lastconfirm writelh get last add confirm getlastaddconfirm num recoveri numrecoveri thread join asserttru ad confirm incorrect last confirm lastconfirm thread get last confirm entri getlastconfirmedentri test open ledger norecoveri mode doesn fenc ledger test test recoveri open testnorecoveryopen except creat ledger ledger handl ledgerhandl writelh writelh bkc creat ledger createledg digest type digesttyp get byte getbyt string tmp book keeper bookkeep cool num entri numentri 10 num entri numentri writelh add entri addentri tmp get byte getbyt open ledger ledger handl ledgerhandl readlh bkc open ledger recoveri openledgernorecoveri writelh get id getid digest type digesttyp get byte getbyt trigger recoveri fenc writelh add entri addentri tmp get byte getbyt num readabl numread readlh get last add confirm getlastaddconfirm log error num read numread num readabl numread enumer ledger entri ledgerentri entri readlh read entri readentri num readabl numread readlh read entri readentri num readabl numread num readabl numread fail shouldn abl read bk except bkexcept bk read except bkreadexcept good writelh add entri addentri tmp get byte getbyt num readable2 numreadable2 readlh get last add confirm getlastaddconfirm equal assertequ number readabl entri hasn chang num readable2 numreadable2 num readabl numread readlh close writelh add entri addentri tmp get byte getbyt writelh close creat ledger write entri kill booki ensembl recov fenc ledger kill booki recov test test fenc interact booki recoveri testfencinginteractionwithbookierecoveri except set properti setproperti digest type digesttyp digest type digesttyp string tostr set properti setproperti passwd test passwd testpasswd book keeper admin bookkeeperadmin admin book keeper admin bookkeeperadmin zk util zkutil get zoo keeper connect string getzookeeperconnectstr ledger handl ledgerhandl writelh bkc creat ledger createledg digest type digesttyp test passwd testpasswd get byte getbyt string tmp foobar num entri numentri 10 num entri numentri writelh add entri addentri tmp get byte getbyt inet socket address inetsocketaddress booki kill bookietokil writelh get ledger metadata getledgermetadata get ensembl getensembl num entri numentri get kill booki killbooki booki kill bookietokil write entri chang ensembl num entri numentri writelh add entri addentri tmp get byte getbyt admin recov booki data recoverbookiedata booki kill bookietokil num entri numentri writelh add entri addentri tmp get byte getbyt ledger handl ledgerhandl readlh bkc open ledger openledg writelh get id getid digest type digesttyp test passwd testpasswd get byte getbyt writelh add entri addentri tmp get byte getbyt log error thrown except fail thrown except write bk except bkexcept bk ledger fenc except bkledgerfencedexcept correct behaviour readlh close writelh close fail fail updat metadata bk except bkexcept zk except zkexcept correct behaviour creat ledger write entri fenc ledger kill booki recov ensur recov doesn reallow ad test test fenc interact booki recovery2 testfencinginteractionwithbookierecovery2 except set properti setproperti digest type digesttyp digest type digesttyp string tostr set properti setproperti passwd test passwd testpasswd book keeper admin bookkeeperadmin admin book keeper admin bookkeeperadmin zk util zkutil get zoo keeper connect string getzookeeperconnectstr ledger handl ledgerhandl writelh bkc creat ledger createledg digest type digesttyp test passwd testpasswd get byte getbyt string tmp foobar num entri numentri 10 num entri numentri writelh add entri addentri tmp get byte getbyt ledger handl ledgerhandl readlh bkc open ledger openledg writelh get id getid digest type digesttyp test passwd testpasswd get byte getbyt fenc inet socket address inetsocketaddress booki kill bookietokil writelh get ledger metadata getledgermetadata get ensembl getensembl num entri numentri get kill booki killbooki booki kill bookietokil admin recov booki data recoverbookiedata booki kill bookietokil writelh add entri addentri tmp get byte getbyt log error thrown except fail thrown except write bk except bkexcept bk ledger fenc except bkledgerfencedexcept correct behaviour readlh close writelh close fail fail updat metadata bk except bkexcept zk except zkexcept correct behaviour test fenc doesn work bad password test test fenc bad password testfencingbadpassword except creat ledger ledger handl ledgerhandl writelh writelh bkc creat ledger createledg digest type digesttyp password1 get byte getbyt string tmp book keeper bookkeep cool 10 writelh add entri addentri tmp get byte getbyt open ledger ledger handl ledgerhandl readlh bkc open ledger openledg writelh get id getid digest type digesttyp bad password badpassword get byte getbyt fail abl open bad password bk except bkexcept bk unauthor access except bkunauthorizedaccessexcept uue correct behaviour trigger recoveri fenc writelh add entri addentri tmp get byte getbyt 
throttl test callback throttletestcallback read callback readcallback throttl throttl test callback throttletestcallback threshold throttl threshold read complet readcomplet rc ledger handl ledgerhandl lh enumer ledger entri ledgerentri seq object ctx rc bk except bkexcept code fail code rc ls seq sync sync counter throttl sync notifi log info current counter sync counter 
crc32 digest manag crc32digestmanag digest manag digestmanag thread local threadloc crc32 crc thread local threadloc crc32 overrid crc32 initi valu initialvalu crc32 crc32 digest manag crc32digestmanag ledger id ledgerid ledger id ledgerid overrid get mac code length getmaccodelength overrid get valu reset getvalueandreset valu buffer bytebuff buf buffer bytebuff wrap valu buf put putlong crc get get valu getvalu crc get reset valu overrid updat data offset length crc get updat data offset length 
proxi publish hander proxypublishhand handler publish publish proxi publish hander proxypublishhand publish publish publish publish overrid handl request handlerequest pub sub request pubsubrequest request channel channel request ha publish request haspublishrequest umbrella handler umbrellahandl send error respons malform request senderrorresponsetomalformedrequest channel request get txn id gettxnid miss publish request data publish request publishrequest publish request publishrequest request get publish request getpublishrequest publish async publish asyncpublish request get topic gettop publish request publishrequest get msg getmsg callback overrid oper fail operationfail object ctx pub sub except pubsubexcept except channel write pub sub respons util pubsubresponseutil get respons except getresponseforexcept except request get txn id gettxnid overrid oper finish operationfinish object ctx result oper resultofoper channel write pub sub respons util pubsubresponseutil get success respons getsuccessrespons request get txn id gettxnid 
bk write except bkwriteexcept bk except bkexcept bk write except bkwriteexcept code write except writeexcept 
defin client handler logic deliv messag subscrib messag handler messagehandl deliv messag ha publish topic param topic topic name messag from param subscrib id subscriberid id subscrib param msg messag object deliv param callback callback invok messag deliveri ha done param context call context callback done asynchron deliv string bytestr topic string bytestr subscrib id subscriberid messag msg callback callback object context 
test concurr topic acquisit testconcurrenttopicacquisit hedwig hub test base hedwighubtestbas client variabl hedwig client hedwigcli client publish publish subscrib subscrib link block queue linkedblockingqueu string bytestr subscrib link block queue linkedblockingqueu string bytestr string bytestr topic string bytestr copi from utf8 copyfromutf8 concurr topic num subscrib numsubscrib 300 atom integ atomicinteg num done numdon atom integ atomicinteg synchron queue synchronousqueu verifi async call synchron queue synchronousqueu queue synchron queue synchronousqueu sub callback subcallback callback string bytestr sub id subid sub callback subcallback string bytestr sub id subid sub id subid sub id subid overrid oper finish operationfinish object ctx result oper resultofoper logger debug enabl isdebugen logger debug subscrib sub id subid string utf8 tostringutf8 succe done num done numdon increment get incrementandget done num subscrib numsubscrib concurr util concurrencyutil put queue overrid oper fail operationfail object ctx pub sub except pubsubexcept except logger debug enabl isdebugen logger debug subscrib sub id subid string utf8 tostringutf8 fail except concurr util concurrencyutil put subscrib sub id subid concurr util concurrencyutil put queue overrid set up setup except set up setup client hedwig client hedwigcli client configur clientconfigur publish client get publish getpublish subscrib client get subscrib getsubscrib overrid tear down teardown except sub interrupt sub join client close tear down teardown test test topic acquist testtopicacquist except logger info start concurr topic acquist test let on booki down caus booki except logger info tear down on booki server bktb tear down on booki server teardownonebookieserv current implement first subscript succe put topic topic manag set tear down booki server zk node time disappear subscript creat ledger successfulli subscript fail race condit topic manag topic persist manag doesn 300 subscrib subscrib topic atom atomicboolean redirect loop inredirectloop atom atomicboolean num done numdon set num subscrib numsubscrib string bytestr sub id subid string bytestr copi from utf8 copyfromutf8 sub logger debug enabl isdebugen logger debug subscrib sub id subid string utf8 tostringutf8 subscrib topic topic string utf8 tostringutf8 subscrib async subscrib asyncsubscrib topic sub id subid creat attach createorattach creat attach create_or_attach callback tick num done numdon increment get incrementandget num subscrib numsubscrib concurr util concurrencyutil put queue overrid oper finish operationfinish object ctx result oper resultofoper tick overrid oper fail operationfail object ctx pub sub except pubsubexcept except except pub sub except pubsubexcept servic down except servicedownexcept string msg except get messag getmessag msg index indexof server redirect loop except serverredirectloopexcept redirect loop inredirectloop set logger debug enabl isdebugen logger debug oper fail except tick queue todo remov comment after fix issu equal assertequ redirect loop inredirectloop get start thread send subscript num done numdon set thread sub thread runnabl overrid run logger info sub thread start 100 subscrib subscrib topic num subscrib numsubscrib string bytestr subscrib id subscriberid string bytestr copi from utf8 copyfromutf8 sub subscrib put subscrib id subscriberid string bytestr sub id subid sub id subid subscrib logger debug enabl isdebugen logger debug subscrib sub id subid string utf8 tostringutf8 subscrib topic topic string utf8 tostringutf8 subscrib async subscrib asyncsubscrib topic sub id subid creat attach createorattach creat attach create_or_attach sub callback subcallback sub id subid subscrib async subscrib asyncsubscrib topic subscrib id subscriberid mode callback context interrupt except interruptedexcept logger warn interrupt sub start thread sleep 2000 start booki server logger info start booki server bktb start up booki server startupnewbookieserv hope subscript queue 
ledger cach ledgercach relat test case ledger cach test ledgercachetest test testcas logger log logger factori loggerfactori get logger getlogg ledger cach test ledgercachetest ledger manag ledgermanag ledger manag ledgermanag ledger cach ledgercach ledger cach ledgercach server configur serverconfigur conf file txn dir txndir ledger dir ledgerdir overrid befor set up setup except txn dir txndir file creat temp file createtempfil ledgercach txn txn dir txndir delet txn dir txndir mkdir ledger dir ledgerdir file creat temp file createtempfil ledgercach ledger ledger dir ledgerdir delet ledger dir ledgerdir mkdir creat current dir file ledger dir ledgerdir booki current dir current_dir mkdir conf server configur serverconfigur conf set zk server setzkserv conf set journal dir name setjournaldirnam txn dir txndir get path getpath conf set ledger dir name setledgerdirnam string ledger dir ledgerdir get path getpath ledger manag ledgermanag ledger manag factori ledgermanagerfactori ledger manag newledgermanag conf overrid after tear down teardown except ledger manag ledgermanag close file util fileutil delet directori deletedirectori txn dir txndir file util fileutil delet directori deletedirectori ledger dir ledgerdir ledger cach newledgercach ledger cach ledgercach ledger cach impl ledgercacheimpl conf ledger manag ledgermanag test test add entri except testaddentryexcept set page limit conf set page limit setpagelimit 10 creat ledger cach ledger cach newledgercach popul ledger cach master kei masterkei blah get byte getbyt 100 ledger cach ledgercach set master kei setmasterkei master kei masterkei ledger cach ledgercach put entri offset putentryoffset io except ioexcept log error io except ioexcept fail fail add entri test test ledger evict testledgerevict except num entri numentri 10 limit open file page conf set open file limit setopenfilelimit set page limit setpagelimit set page size setpages num entri numentri creat ledger cach ledger cach newledgercach num ledger numledg master kei masterkei blah get byte getbyt num ledger numledg ledger cach ledgercach set master kei setmasterkei master kei masterkei num entri numentri ledger cach ledgercach put entri offset putentryoffset num entri numentri except log error except fail fail add entri test test page evict testpageevict except num ledger numledg 10 master kei masterkei blah get byte getbyt limit page count conf set open file limit setopenfilelimit 999999 set page limit setpagelimit creat ledger cach ledger cach newledgercach creat server ledger num ledger numledg ledger cach ledgercach set master kei setmasterkei master kei masterkei ledger cach ledgercach put entri offset putentryoffset ledger cach ledgercach put entri offset putentryoffset flush first clean previou dirti ledger ledger cach ledgercach flush ledger flushledg flush ledger cach ledgercach flush ledger flushledg delet server ledger num ledger numledg ledger cach ledgercach delet ledger deleteledg booki restart ledger cach newledgercach simul replai journal add entri num ledger numledg ledger cach ledgercach put entri offset putentryoffset ledger except noledgerexcept nsle num ledger numledg log error error put entri offset nsle fail reach here except log error except fail fail add entri 
test base handler testbasehandl test testcas base handler mybasehandl handler stub topic manag stubtopicmanag tm pub sub request pubsubrequest request pub sub request pubsubrequest get instanc getdefaultinst write record channel writerecordingchannel channel write record channel writerecordingchannel base handler mybasehandl base handler basehandl base handler mybasehandl topic manag topicmanag tm server configur serverconfigur conf tm conf pub sub request pubsubrequest request pub sub request pubsubrequest get request getrequest request overrid handl request owner handlerequestatown pub sub request pubsubrequest request channel channel request request overrid befor set up setup except server configur serverconfigur conf server configur serverconfigur tm stub topic manag stubtopicmanag conf handler base handler mybasehandl tm conf request pub sub request pubsubrequest get instanc getdefaultinst channel write record channel writerecordingchannel pub sub respons pubsubrespons get pub sub respons getpubsubrespons write record channel writerecordingchannel channel list object messag channel get messag written getmessageswritten equal assertequ messag size object messag messag get equal assertequ messag get getclass pub sub respons pubsubrespons pub sub respons pubsubrespons messag test test handl request redirect testhandlerequestonredirect except tm set topic setshouldowneverynewtop handler handl request handlerequest request channel pub sub respons pubsubrespons respons get pub sub respons getpubsubrespons channel equal assertequ respons get statu code getstatuscod statu code statuscod respons topic not_responsible_for_top equal assertequ request get txn id gettxnid respons get txn id gettxnid assertnul handler get request getrequest test test handl request owner testhandlerequestonown except tm set topic setshouldowneverynewtop handler handl request handlerequest request channel equal assertequ channel get messag written getmessageswritten size equal assertequ handler get request getrequest request test test handl request error testhandlerequestonerror except tm set error setshoulderror handler handl request handlerequest request channel pub sub respons pubsubrespons respons get pub sub respons getpubsubrespons channel equal assertequ respons get statu code getstatuscod statu code statuscod servic down service_down equal assertequ request get txn id gettxnid respons get txn id gettxnid assertnul handler get request getrequest 
interleav ledger storag ledger storag implement store entri singl file maintain index file ledger interleav ledger storag interleavedledgerstorag ledger storag ledgerstorag logger log logger factori loggerfactori get logger getlogg interleav ledger storag interleavedledgerstorag entri logger entrylogg entri logger entrylogg ledger cach ledgercach ledger cach ledgercach thread garbag collect entri log contain activ ledger compact entri log ha lower remain percentag reclaim disk space garbag collector thread garbagecollectorthread gc thread gcthread write ha happen last flush written somethingwritten interleav ledger storag interleavedledgerstorag server configur serverconfigur conf ledger manag ledgermanag ledger manag ledgermanag io except ioexcept entri logger entrylogg entri logger entrylogg conf ledger cach ledgercach ledger cach impl ledgercacheimpl conf ledger manag ledgermanag gc thread gcthread garbag collector thread garbagecollectorthread conf ledger cach ledgercach entri logger entrylogg ledger manag ledgermanag entri log compact scanner entrylogcompactionscann overrid start gc thread gcthread start overrid shutdown interrupt except interruptedexcept shut down gc thread depend zookeep client compact write entri entri log file gc thread gcthread shutdown entri logger entrylogg shutdown ledger cach ledgercach close io except ioexcept log error error close ledger cach overrid set master kei setmasterkei ledger id ledgerid master kei masterkei io except ioexcept ledger cach ledgercach set master kei setmasterkei ledger id ledgerid master kei masterkei overrid read master kei readmasterkei ledger id ledgerid io except ioexcept booki except bookieexcept ledger cach ledgercach read master kei readmasterkei ledger id ledgerid overrid ledger exist ledgerexist ledger id ledgerid io except ioexcept ledger cach ledgercach ledger exist ledgerexist ledger id ledgerid overrid add entri addentri buffer bytebuff entri io except ioexcept ledger id ledgerid entri get getlong entri id entryid entri get getlong entri rewind log entri po entri logger entrylogg add entri addentri ledger id ledgerid entri set offset entri id current ledger posit ledger cach ledgercach put entri offset putentryoffset ledger id ledgerid entri id entryid po written somethingwritten entri id entryid overrid buffer bytebuff get entri getentri ledger id ledgerid entri id entryid io except ioexcept offset entri id entryid booki protocol bookieprotocol last add confirm last_add_confirm last written entri id entryid booki protocol bookieprotocol last add confirm last_add_confirm entri id entryid ledger cach ledgercach get last entri getlastentri ledger id ledgerid offset ledger cach ledgercach get entri offset getentryoffset ledger id ledgerid entri id entryid offset booki entri except noentryexcept ledger id ledgerid entri id entryid buffer bytebuff wrap entri logger entrylogg read entri readentri ledger id ledgerid entri id entryid offset overrid flush requir isflushrequir written somethingwritten overrid flush io except ioexcept written somethingwritten written somethingwritten flush fail flushfail ledger cach ledgercach flush ledger flushledg io except ioexcept ioe log error except flush ledger cach ioe flush fail flushfail entri logger entrylogg flush io except ioexcept ioe log error except flush ledger ioe flush fail flushfail flush fail flushfail io except ioexcept flush storag fail check log overrid bkm bean info bkmbeaninfo get jmx bean getjmxbean ledger cach ledgercach get jmx bean getjmxbean scanner us entri log compact entri log compact scanner entrylogcompactionscann entri logger entrylogg entri log scanner entrylogscann overrid accept ledger id ledgerid booki ha knowledg ledger delet accept ledger overrid process ledger id ledgerid buffer bytebuff buffer io except ioexcept add entri addentri buffer 
provid utilit zookeep access zk util zkutil creat zookeep path recurs param zk zookeep client param origin path originalpath zookeep full path param data zookeep data param acl acl zk path param creat mode createmod creat mode zk path param callback callback param ctx context object creat full path optimist createfullpathoptimist zoo keeper zookeep zk string origin path originalpath data list acl acl creat mode createmod creat mode createmod async callback asynccallback string callback stringcallback callback object ctx zk creat origin path originalpath data acl creat mode createmod string callback stringcallback overrid process result processresult rc string path object ctx string name rc code nonod valu intvalu callback process result processresult rc path ctx name nonod mean parent don exist creat mode persist ephemer node parent creat full path optimist createfullpathoptimist zk file origin path originalpath get parent getpar replac acl creat mode createmod persist string callback stringcallback overrid process result processresult rc string path object ctx string name rc code valu intvalu rc code nodeexist valu intvalu succeed creat parent creat origin path creat full path optimist createfullpathoptimist zk origin path originalpath data acl creat mode createmod callback ctx callback process result processresult rc path ctx name ctx ctx 
deliveri callback deliverycallback send finish sendingfinish error send transienterroronsend perman error send permanenterroronsend 
suppress warn suppresswarn serial read ahead except readaheadexcept except read ahead except readaheadexcept readahead fail 
callback recoveri singl ledger fragment fragment ha entri replic updat ensembl zookeep finish propog callback up ledger fragment mcb ledgerfragmentsmcb multicallback respons fragment singl ledger singl fragment callback singlefragmentcallback async callback asynccallback callback voidcallback async callback asynccallback callback voidcallback ledger fragment mcb ledgerfragmentsmcb ledger handl ledgerhandl lh fragment start id fragmentstartid inet socket address inetsocketaddress old booki oldbooki inet socket address inetsocketaddress booki newbooki singl fragment callback singlefragmentcallback async callback asynccallback callback voidcallback ledger fragment mcb ledgerfragmentsmcb ledger handl ledgerhandl lh fragment start id fragmentstartid inet socket address inetsocketaddress old booki oldbooki inet socket address inetsocketaddress booki newbooki ledger fragment mcb ledgerfragmentsmcb ledger fragment mcb ledgerfragmentsmcb lh lh fragment start id fragmentstartid fragment start id fragmentstartid booki newbooki booki newbooki old booki oldbooki old booki oldbooki overrid process result processresult rc string path object ctx rc code valu intvalu log error bk error replic ledger fragment ledger lh get id getid bk except bkexcept creat rc ledger fragment mcb ledgerfragmentsmcb process result processresult rc write ledger config writeledgerconfig write ledger config writeledgerconfig updat ledger metadata ensembl info point booki arrai list arraylist inet socket address inetsocketaddress ensembl lh get ledger metadata getledgermetadata get ensembl getensembl get fragment start id fragmentstartid dead booki index deadbookieindex ensembl index indexof old booki oldbooki ensembl remov dead booki index deadbookieindex ensembl add dead booki index deadbookieindex booki newbooki lh write ledger config writeledgerconfig write cb writecb write cb writecb async callback asynccallback stat callback statcallback overrid process result processresult rc string path object ctx stat stat rc code badvers valu intvalu log warn two fragment attempt updat ledger id lh get id getid startid fragment start id fragmentstartid previou success ha conflict updat stat oper add ensembl addensembl updat lh reread metadata rereadmetadata gener callback genericcallback ledger metadata ledgermetadata overrid oper complet operationcomplet rc ledger metadata ledgermetadata meta newmeta rc bk except bkexcept code log error error read updat ledger metadata ledger lh get id getid keeper except keeperexcept creat keeper except keeperexcept code get rc path ledger fragment mcb ledgerfragmentsmcb process result processresult rc lh metadata meta newmeta write ledger config writeledgerconfig rc code valu intvalu log error zk error updat ledger config metadata ledger id ledgerid lh get id getid keeper except keeperexcept creat keeper except keeperexcept code get rc path lh get ledger metadata getledgermetadata updat znode statu updateznodestatu stat log info updat zk ledger id ledgerid lh get id getid fragment start id fragmentstartid point ledger fragment from old dead booki old booki oldbooki booki booki newbooki pass code result up chain parent callback ledger fragment mcb ledgerfragmentsmcb process result processresult rc 
packet processor packetprocessor process packet processpacket buffer bytebuff packet cnxn src 
configur set client side client configur clientconfigur abstract configur abstractconfigur zookeep paramet string zk timeout zk_timeout zk timeout zktimeout string zk server zk_server zk server zkserver throttl valu string throttl throttl digest type string digest type digest_typ digest type digesttyp passwd string passwd passwd nio paramet string client tcp nodelai client_tcp_nodelai client tcp delai clienttcpnodelai string read timeout read_timeout read timeout readtimeout number woker thread string num worker thread num_worker_thread num worker thread numworkerthread construct client side configur client configur clientconfigur construct client side configur base configur param conf base configur client configur clientconfigur abstract configur abstractconfigur conf load conf loadconf conf get throttl valu throttl valu set throttl valu setthrottlevalu get throttl valu getthrottlevalu get getint throttl 5000 set throttl valu book keeper bookkeep process request asynchr hold pend request queue easili run memori produc request capabl booki server handl prevent from happed set throttl valu here param throttl throttl valu client configur client configur clientconfigur set throttl valu setthrottlevalu throttl set properti setproperti throttl integ string tostr throttl get digest type us bookkeep admin digest type set booki recoveri digest type setbookierecoverydigesttyp digest type digesttyp get booki recoveri digest type getbookierecoverydigesttyp digest type digesttyp valu valueof get string getstr digest type digest_typ digest type digesttyp crc32 string tostr set digest type us bookkeep admin digest type passwd us open ledger admin tool assum ledger creat digest type digesttyp password futur admin tool ledger digest type digesttyp password us creat befor open valu from properti fix default defin here param digest type digesttyp digest type client configur client configur clientconfigur set booki recoveri digest type setbookierecoverydigesttyp digest type digesttyp digest type digesttyp set properti setproperti digest type digest_typ digest type digesttyp string tostr get passwd us bookkeep admin password set booki recoveri passwd setbookierecoverypasswd get booki recoveri passwd getbookierecoverypasswd get string getstr passwd get byte getbyt set passwd us bookkeep admin digest type passwd us open ledger admin tool assum ledger creat digest type digesttyp password futur admin tool ledger digest type digesttyp password us creat befor open valu from properti fix default defin here param passwd password client configur client configur clientconfigur set booki recoveri passwd setbookierecoverypasswd passwd set properti setproperti passwd string passwd tcp connect delai tcp socket nodelai set set client tcp delai setclienttcpnodelai get client tcp delai getclienttcpnodelai get getboolean client tcp nodelai client_tcp_nodelai set socket nodelai set set us enabl disabl nagl algorithm mean improv effici tcp ip network reduc number packet sent network send small messag more on fit singl ip packet set client tcpnodelai enabl nagl algorithm provid better perform br valu param delai nodelai delai nodelai set client configur client configur clientconfigur set client tcp delai setclienttcpnodelai delai nodelai set properti setproperti client tcp nodelai client_tcp_nodelai string tostr delai nodelai get zookeep server connect zookeep server string get zk server getzkserv list object server get list getlist zk server zk_server server server size localhost string util stringutil join server set zookeep server connect param zk server zkserver zoo keeper zookeep server connect client configur clientconfigur set zk server setzkserv string zk server zkserver set properti setproperti zk server zk_server zk server zkserver get zookeep timeout zookeep client timeout get zk timeout getzktimeout get getint zk timeout zk_timeout 10000 set zookeep timeout param zk timeout zktimeout zoo keeper zookeep client timeout client configur client configur clientconfigur set zk timeout setzktimeout zk timeout zktimeout set properti setproperti zk timeout zk_timeout integ string tostr zk timeout zktimeout get socket read timeout number second wait hear respons from booki befor fail current read timeout second get read timeout getreadtimeout get getint read timeout read_timeout set socket read timeout get read timeout getreadtimeout param timeout read timeout second client configur client configur clientconfigur set read timeout setreadtimeout timeout set properti setproperti read timeout read_timeout integ string tostr timeout get number worker thread number worker thread us bookkeep client submit oper number worker thread get num worker thread getnumworkerthread get getint num worker thread num_worker_thread runtim get runtim getruntim avail processor availableprocessor set number worker thread note set number worker thread after book keeper bookkeep object construct effect number thread pool get num worker thread getnumworkerthread param num thread numthread number worker thread us bookkeep client configur client configur clientconfigur set num worker thread setnumworkerthread num thread numthread set properti setproperti num worker thread num_worker_thread num thread numthread 
builder com googl protobuf gener messag generatedmessag builder builder org apach hedwig protocol pub sub protocol pubsubprotocol messag seq id messageseqid result construct org apach hedwig protocol pub sub protocol pubsubprotocol messag seq id messageseqid builder newbuild builder builder creat builder builder builder builder result org apach hedwig protocol pub sub protocol pubsubprotocol messag seq id messageseqid builder org apach hedwig protocol pub sub protocol pubsubprotocol messag seq id messageseqid intern get result internalgetresult result builder clear result illeg state except illegalstateexcept call clear after build result org apach hedwig protocol pub sub protocol pubsubprotocol messag seq id messageseqid builder clone creat merg from mergefrom result com googl protobuf descriptor descriptor get descriptor type getdescriptorfortyp org apach hedwig protocol pub sub protocol pubsubprotocol messag seq id messageseqid get descriptor getdescriptor org apach hedwig protocol pub sub protocol pubsubprotocol messag seq id messageseqid get instanc type getdefaultinstancefortyp org apach hedwig protocol pub sub protocol pubsubprotocol messag seq id messageseqid get instanc getdefaultinst initi isiniti result initi isiniti org apach hedwig protocol pub sub protocol pubsubprotocol messag seq id messageseqid build result initi isiniti uniniti messag except newuninitializedmessageexcept result build partial buildparti org apach hedwig protocol pub sub protocol pubsubprotocol messag seq id messageseqid build pars buildpars com googl protobuf invalid protocol buffer except invalidprotocolbufferexcept initi isiniti uniniti messag except newuninitializedmessageexcept result invalid protocol buffer except asinvalidprotocolbufferexcept build partial buildparti org apach hedwig protocol pub sub protocol pubsubprotocol messag seq id messageseqid build partial buildparti result illeg state except illegalstateexcept build ha call builder result remot compon remotecomponents_ java util collect empti list empty_list result remot compon remotecomponents_ java util collect unmodifi list unmodifiablelist result remot compon remotecomponents_ org apach hedwig protocol pub sub protocol pubsubprotocol messag seq id messageseqid returnm result result returnm builder merg from mergefrom com googl protobuf messag org apach hedwig protocol pub sub protocol pubsubprotocol messag seq id messageseqid merg from mergefrom org apach hedwig protocol pub sub protocol pubsubprotocol messag seq id messageseqid merg from mergefrom builder merg from mergefrom org apach hedwig protocol pub sub protocol pubsubprotocol messag seq id messageseqid org apach hedwig protocol pub sub protocol pubsubprotocol messag seq id messageseqid get instanc getdefaultinst ha local compon haslocalcompon set local compon setlocalcompon get local compon getlocalcompon remot compon remotecomponents_ empti isempti result remot compon remotecomponents_ empti isempti result remot compon remotecomponents_ java util arrai list arraylist org apach hedwig protocol pub sub protocol pubsubprotocol region specif seq id regionspecificseqid result remot compon remotecomponents_ add addal remot compon remotecomponents_ merg unknown field mergeunknownfield get unknown field getunknownfield builder merg from mergefrom com googl protobuf code input stream codedinputstream input com googl protobuf extens registri lite extensionregistrylit extens registri extensionregistri java io io except ioexcept com googl protobuf unknown field set unknownfieldset builder unknown field unknownfield com googl protobuf unknown field set unknownfieldset builder newbuild get unknown field getunknownfield tag input read tag readtag tag set unknown field setunknownfield unknown field unknownfield build pars unknown field parseunknownfield input unknown field unknownfield extens registri extensionregistri tag set unknown field setunknownfield unknown field unknownfield build set local compon setlocalcompon input read int64 readuint64 18 org apach hedwig protocol pub sub protocol pubsubprotocol region specif seq id regionspecificseqid builder sub builder subbuild org apach hedwig protocol pub sub protocol pubsubprotocol region specif seq id regionspecificseqid builder newbuild input read messag readmessag sub builder subbuild extens registri extensionregistri add remot compon addremotecompon sub builder subbuild build partial buildparti option uint64 local compon localcompon ha local compon haslocalcompon result ha local compon haslocalcompon get local compon getlocalcompon result get local compon getlocalcompon builder set local compon setlocalcompon valu result ha local compon haslocalcompon result local compon localcomponent_ valu builder clear local compon clearlocalcompon result ha local compon haslocalcompon result local compon localcomponent_ 0l repeat hedwig region specif seq id regionspecificseqid remot compon remotecompon java util list org apach hedwig protocol pub sub protocol pubsubprotocol region specif seq id regionspecificseqid get remot compon list getremotecomponentslist java util collect unmodifi list unmodifiablelist result remot compon remotecomponents_ get remot compon count getremotecomponentscount result get remot compon count getremotecomponentscount org apach hedwig protocol pub sub protocol pubsubprotocol region specif seq id regionspecificseqid get remot compon getremotecompon index result get remot compon getremotecompon index builder set remot compon setremotecompon index org apach hedwig protocol pub sub protocol pubsubprotocol region specif seq id regionspecificseqid valu valu pointer except nullpointerexcept result remot compon remotecomponents_ set index valu builder set remot compon setremotecompon index org apach hedwig protocol pub sub protocol pubsubprotocol region specif seq id regionspecificseqid builder builder valu builderforvalu result remot compon remotecomponents_ set index builder valu builderforvalu build builder add remot compon addremotecompon org apach hedwig protocol pub sub protocol pubsubprotocol region specif seq id regionspecificseqid valu valu pointer except nullpointerexcept result remot compon remotecomponents_ empti isempti result remot compon remotecomponents_ java util arrai list arraylist org apach hedwig protocol pub sub protocol pubsubprotocol region specif seq id regionspecificseqid result remot compon remotecomponents_ add valu builder add remot compon addremotecompon org apach hedwig protocol pub sub protocol pubsubprotocol region specif seq id regionspecificseqid builder builder valu builderforvalu result remot compon remotecomponents_ empti isempti result remot compon remotecomponents_ java util arrai list arraylist org apach hedwig protocol pub sub protocol pubsubprotocol region specif seq id regionspecificseqid result remot compon remotecomponents_ add builder valu builderforvalu build builder add remot compon addallremotecompon java lang iter org apach hedwig protocol pub sub protocol pubsubprotocol region specif seq id regionspecificseqid valu result remot compon remotecomponents_ empti isempti result remot compon remotecomponents_ java util arrai list arraylist org apach hedwig protocol pub sub protocol pubsubprotocol region specif seq id regionspecificseqid add addal valu result remot compon remotecomponents_ builder clear remot compon clearremotecompon result remot compon remotecomponents_ java util collect empti list emptylist protoc insert point protoc_insertion_point builder scope builder_scop hedwig messag seq id messageseqid 
get ledger ctx getledgersctx rc done hash set hashset ledger 
stub us collect file channel filechannel marker file channel markerfilechannel file channel filechannel overrid forc meta data metadata io except ioexcept todo gener method stub overrid file lock filelock lock posit size share io except ioexcept todo gener method stub overrid map buffer mappedbytebuff map map mode mapmod mode posit size io except ioexcept todo gener method stub overrid posit io except ioexcept todo gener method stub overrid file channel filechannel posit posit newposit io except ioexcept todo gener method stub overrid read buffer bytebuff dst io except ioexcept todo gener method stub overrid read buffer bytebuff dst posit io except ioexcept todo gener method stub overrid read buffer bytebuff dst offset length io except ioexcept todo gener method stub overrid size io except ioexcept todo gener method stub overrid transfer from transferfrom readabl channel readablebytechannel src posit count io except ioexcept todo gener method stub overrid transfer transferto posit count writabl channel writablebytechannel target io except ioexcept todo gener method stub overrid file channel filechannel truncat size io except ioexcept todo gener method stub overrid file lock filelock lock trylock posit size share io except ioexcept todo gener method stub overrid write buffer bytebuff src io except ioexcept todo gener method stub overrid write buffer bytebuff src posit io except ioexcept todo gener method stub overrid write buffer bytebuff src offset length io except ioexcept todo gener method stub overrid impl close channel implclosechannel io except ioexcept todo gener method stub 
noop close callback noopclosecallback close callback closecallback noop close callback noopclosecallback instanc noop close callback noopclosecallback overrid close complet closecomplet rc ledger handl ledgerhandl lh object ctx rc keeper except keeperexcept code valu intvalu log warn close fail bk except bkexcept get messag getmessag rc noop 
us callback asynchron oper callback method call asynchron oper finish param ctx param result oper resultofoper abstract oper finish operationfinish object ctx result oper resultofoper method call oper fail reason reason failur pass param ctx context callback param except reason failur scan abstract oper fail operationfail object ctx pub sub except pubsubexcept except 
subscript state subscriptionst com googl protobuf gener messag generatedmessag us subscript state subscriptionst builder newbuild construct subscript state subscriptionst init field initfield subscript state subscriptionst init noinit subscript state subscriptionst instanc defaultinst subscript state subscriptionst get instanc getdefaultinst instanc defaultinst subscript state subscriptionst get instanc type getdefaultinstancefortyp instanc defaultinst com googl protobuf descriptor descriptor get descriptor getdescriptor org apach hedwig protocol pub sub protocol pubsubprotocol intern hedwig subscript state descriptor internal_static_hedwig_subscriptionstate_descriptor com googl protobuf gener messag generatedmessag field accessor tabl fieldaccessort intern get field accessor tabl internalgetfieldaccessort org apach hedwig protocol pub sub protocol pubsubprotocol intern hedwig subscript state field accessor tabl internal_static_hedwig_subscriptionstate_fieldaccessort requir hedwig messag seq id messageseqid msg id msgid msgid field number msgid_field_numb ha msg id hasmsgid org apach hedwig protocol pub sub protocol pubsubprotocol messag seq id messageseqid msg id msgid_ ha msg id hasmsgid ha msg id hasmsgid org apach hedwig protocol pub sub protocol pubsubprotocol messag seq id messageseqid get msg id getmsgid msg id msgid_ option uint32 messag bound messagebound messagebound field number messagebound_field_numb ha messag bound hasmessagebound messag bound messagebound_ ha messag bound hasmessagebound ha messag bound hasmessagebound get messag bound getmessagebound messag bound messagebound_ init field initfield msg id msgid_ org apach hedwig protocol pub sub protocol pubsubprotocol messag seq id messageseqid get instanc getdefaultinst initi isiniti ha msg id hasmsgid get msg id getmsgid initi isiniti write writeto com googl protobuf code output stream codedoutputstream output java io io except ioexcept get serial size getserializeds ha msg id hasmsgid output write messag writemessag get msg id getmsgid ha messag bound hasmessagebound output write int32 writeuint32 get messag bound getmessagebound get unknown field getunknownfield write writeto output memoiz serial size memoizedserializeds get serial size getserializeds size memoiz serial size memoizedserializeds size size size ha msg id hasmsgid size com googl protobuf code output stream codedoutputstream comput messag size computemessages get msg id getmsgid ha messag bound hasmessagebound size com googl protobuf code output stream codedoutputstream comput int32 size computeuint32s get messag bound getmessagebound size get unknown field getunknownfield get serial size getserializeds memoiz serial size memoizedserializeds size size org apach hedwig protocol pub sub protocol pubsubprotocol subscript state subscriptionst pars from parsefrom com googl protobuf string bytestr data com googl protobuf invalid protocol buffer except invalidprotocolbufferexcept builder newbuild merg from mergefrom data build pars buildpars org apach hedwig protocol pub sub protocol pubsubprotocol subscript state subscriptionst pars from parsefrom com googl protobuf string bytestr data com googl protobuf extens registri lite extensionregistrylit extens registri extensionregistri com googl protobuf invalid protocol buffer except invalidprotocolbufferexcept builder newbuild merg from mergefrom data extens registri extensionregistri build pars buildpars org apach hedwig protocol pub sub protocol pubsubprotocol subscript state subscriptionst pars from parsefrom data com googl protobuf invalid protocol buffer except invalidprotocolbufferexcept builder newbuild merg from mergefrom data build pars buildpars org apach hedwig protocol pub sub protocol pubsubprotocol subscript state subscriptionst pars from parsefrom data com googl protobuf extens registri lite extensionregistrylit extens registri extensionregistri com googl protobuf invalid protocol buffer except invalidprotocolbufferexcept builder newbuild merg from mergefrom data extens registri extensionregistri build pars buildpars org apach hedwig protocol pub sub protocol pubsubprotocol subscript state subscriptionst pars from parsefrom java io input stream inputstream input java io io except ioexcept builder newbuild merg from mergefrom input build pars buildpars org apach hedwig protocol pub sub protocol pubsubprotocol subscript state subscriptionst pars from parsefrom java io input stream inputstream input com googl protobuf extens registri lite extensionregistrylit extens registri extensionregistri java io io except ioexcept builder newbuild merg from mergefrom input extens registri extensionregistri build pars buildpars org apach hedwig protocol pub sub protocol pubsubprotocol subscript state subscriptionst pars delimit from parsedelimitedfrom java io input stream inputstream input java io io except ioexcept builder builder builder newbuild builder merg delimit from mergedelimitedfrom input builder build pars buildpars org apach hedwig protocol pub sub protocol pubsubprotocol subscript state subscriptionst pars delimit from parsedelimitedfrom java io input stream inputstream input com googl protobuf extens registri lite extensionregistrylit extens registri extensionregistri java io io except ioexcept builder builder builder newbuild builder merg delimit from mergedelimitedfrom input extens registri extensionregistri builder build pars buildpars org apach hedwig protocol pub sub protocol pubsubprotocol subscript state subscriptionst pars from parsefrom com googl protobuf code input stream codedinputstream input java io io except ioexcept builder newbuild merg from mergefrom input build pars buildpars org apach hedwig protocol pub sub protocol pubsubprotocol subscript state subscriptionst pars from parsefrom com googl protobuf code input stream codedinputstream input com googl protobuf extens registri lite extensionregistrylit extens registri extensionregistri java io io except ioexcept builder newbuild merg from mergefrom input extens registri extensionregistri build pars buildpars builder builder newbuild builder creat builder builder type newbuilderfortyp builder newbuild builder builder newbuild org apach hedwig protocol pub sub protocol pubsubprotocol subscript state subscriptionst prototyp builder newbuild merg from mergefrom prototyp builder builder tobuild builder newbuild builder com googl protobuf gener messag generatedmessag builder builder org apach hedwig protocol pub sub protocol pubsubprotocol subscript state subscriptionst result construct org apach hedwig protocol pub sub protocol pubsubprotocol subscript state subscriptionst builder newbuild builder builder creat builder builder builder builder result org apach hedwig protocol pub sub protocol pubsubprotocol subscript state subscriptionst builder org apach hedwig protocol pub sub protocol pubsubprotocol subscript state subscriptionst intern get result internalgetresult result builder clear result illeg state except illegalstateexcept call clear after build result org apach hedwig protocol pub sub protocol pubsubprotocol subscript state subscriptionst builder clone creat merg from mergefrom result com googl protobuf descriptor descriptor get descriptor type getdescriptorfortyp org apach hedwig protocol pub sub protocol pubsubprotocol subscript state subscriptionst get descriptor getdescriptor org apach hedwig protocol pub sub protocol pubsubprotocol subscript state subscriptionst get instanc type getdefaultinstancefortyp org apach hedwig protocol pub sub protocol pubsubprotocol subscript state subscriptionst get instanc getdefaultinst initi isiniti result initi isiniti org apach hedwig protocol pub sub protocol pubsubprotocol subscript state subscriptionst build result initi isiniti uniniti messag except newuninitializedmessageexcept result build partial buildparti org apach hedwig protocol pub sub protocol pubsubprotocol subscript state subscriptionst build pars buildpars com googl protobuf invalid protocol buffer except invalidprotocolbufferexcept initi isiniti uniniti messag except newuninitializedmessageexcept result invalid protocol buffer except asinvalidprotocolbufferexcept build partial buildparti org apach hedwig protocol pub sub protocol pubsubprotocol subscript state subscriptionst build partial buildparti result illeg state except illegalstateexcept build ha call builder org apach hedwig protocol pub sub protocol pubsubprotocol subscript state subscriptionst returnm result result returnm builder merg from mergefrom com googl protobuf messag org apach hedwig protocol pub sub protocol pubsubprotocol subscript state subscriptionst merg from mergefrom org apach hedwig protocol pub sub protocol pubsubprotocol subscript state subscriptionst merg from mergefrom builder merg from mergefrom org apach hedwig protocol pub sub protocol pubsubprotocol subscript state subscriptionst org apach hedwig protocol pub sub protocol pubsubprotocol subscript state subscriptionst get instanc getdefaultinst ha msg id hasmsgid merg msg id mergemsgid get msg id getmsgid ha messag bound hasmessagebound set messag bound setmessagebound get messag bound getmessagebound merg unknown field mergeunknownfield get unknown field getunknownfield builder merg from mergefrom com googl protobuf code input stream codedinputstream input com googl protobuf extens registri lite extensionregistrylit extens registri extensionregistri java io io except ioexcept com googl protobuf unknown field set unknownfieldset builder unknown field unknownfield com googl protobuf unknown field set unknownfieldset builder newbuild get unknown field getunknownfield tag input read tag readtag tag set unknown field setunknownfield unknown field unknownfield build pars unknown field parseunknownfield input unknown field unknownfield extens registri extensionregistri tag set unknown field setunknownfield unknown field unknownfield build 10 org apach hedwig protocol pub sub protocol pubsubprotocol messag seq id messageseqid builder sub builder subbuild org apach hedwig protocol pub sub protocol pubsubprotocol messag seq id messageseqid builder newbuild ha msg id hasmsgid sub builder subbuild merg from mergefrom get msg id getmsgid input read messag readmessag sub builder subbuild extens registri extensionregistri set msg id setmsgid sub builder subbuild build partial buildparti 16 set messag bound setmessagebound input read int32 readuint32 requir hedwig messag seq id messageseqid msg id msgid ha msg id hasmsgid result ha msg id hasmsgid org apach hedwig protocol pub sub protocol pubsubprotocol messag seq id messageseqid get msg id getmsgid result get msg id getmsgid builder set msg id setmsgid org apach hedwig protocol pub sub protocol pubsubprotocol messag seq id messageseqid valu valu pointer except nullpointerexcept result ha msg id hasmsgid result msg id msgid_ valu builder set msg id setmsgid org apach hedwig protocol pub sub protocol pubsubprotocol messag seq id messageseqid builder builder valu builderforvalu result ha msg id hasmsgid result msg id msgid_ builder valu builderforvalu build builder merg msg id mergemsgid org apach hedwig protocol pub sub protocol pubsubprotocol messag seq id messageseqid valu result ha msg id hasmsgid result msg id msgid_ org apach hedwig protocol pub sub protocol pubsubprotocol messag seq id messageseqid get instanc getdefaultinst result msg id msgid_ org apach hedwig protocol pub sub protocol pubsubprotocol messag seq id messageseqid builder newbuild result msg id msgid_ merg from mergefrom valu build partial buildparti result msg id msgid_ valu result ha msg id hasmsgid builder clear msg id clearmsgid result ha msg id hasmsgid result msg id msgid_ org apach hedwig protocol pub sub protocol pubsubprotocol messag seq id messageseqid get instanc getdefaultinst option uint32 messag bound messagebound ha messag bound hasmessagebound result ha messag bound hasmessagebound get messag bound getmessagebound result get messag bound getmessagebound builder set messag bound setmessagebound valu result ha messag bound hasmessagebound result messag bound messagebound_ valu builder clear messag bound clearmessagebound result ha messag bound hasmessagebound result messag bound messagebound_ protoc insert point protoc_insertion_point builder scope builder_scop hedwig subscript state subscriptionst instanc defaultinst subscript state subscriptionst org apach hedwig protocol pub sub protocol pubsubprotocol intern forc init internalforceinit instanc defaultinst init field initfield protoc insert point protoc_insertion_point scope class_scop hedwig subscript state subscriptionst 
processor process specif element processor process specif element param data data process param iter callback iterationcallback callback invok process ha done process data async callback asynccallback callback voidcallback cb 
user test purpos empti watcher emptywatch watcher process watch event watchedev event 
dumb factori map method tree map set subscrib factori treemaplongtosetsubscriberfactori factori sort map sortedmap set activ subscrib state activesubscriberst tree map set subscrib factori treemaplongtosetsubscriberfactori instanc tree map set subscrib factori treemaplongtosetsubscriberfactori overrid sort map sortedmap set activ subscrib state activesubscriberst instanc newinst tree map treemap set activ subscrib state activesubscriberst 
hdf client hdfsclient callabl list fs data output stream fsdataoutputstream stream data time random hdf client hdfsclient list fs data output stream fsdataoutputstream stream data time stream stream data data time time random ident hash code identityhashcod call count start current time milli currenttimemilli stopat start time current time milli currenttimemilli stopat fs data output stream fsdataoutputstream stream stream get next nextint stream size stream stream write data stream flush stream hflush count time current time milli currenttimemilli start log info worker finish process write ms tpt op time count time 1000 count io except ioexcept ioe log error except worker thread ioe 0l 
scan callback context scancallbackwithcontext scan callback scancallback scan callback scancallback object ctx scan callback context scancallbackwithcontext scan callback scancallback callback object ctx scan callback scancallback callback ctx ctx scan callback scancallback get scan callback getscancallback scan callback scancallback object get ctx getctx ctx 
abstract ssl context factori sslcontextfactori ssl context sslcontext ctx ssl context sslcontext get context getcontext ctx abstract client isclient ssl engin sslengin get engin getengin ssl engin sslengin engin ctx creat ssl engin createsslengin engin set us client mode setuseclientmod client isclient engin trust manag trustmanag get trust manag gettrustmanag trust manag trustmanag x509 trust manag x509trustmanag trust even invalid overrid x509 certif x509certif get accept issuer getacceptedissu x509 certif x509certif overrid check server trust checkservertrust x509 certif x509certif chain string auth type authtyp certif except certificateexcept trust overrid check client trust checkclienttrust x509 certif x509certif chain string auth type authtyp certif except certificateexcept trust 
unsubscrib handler unsubscribehandl base handler basehandl subscript manag subscriptionmanag sub mgr submgr deliveri manag deliverymanag deliveri mgr deliverymgr op stat op stat opstat unsub stat unsubstat unsubscrib handler unsubscribehandl topic manag topicmanag tm server configur serverconfigur cfg subscript manag subscriptionmanag sub mgr submgr deliveri manag deliverymanag deliveri mgr deliverymgr tm cfg sub mgr submgr sub mgr submgr deliveri mgr deliverymgr deliveri mgr deliverymgr unsub stat unsubstat server stat serverstat get instanc getinst get op stat getopstat oper type operationtyp unsubscrib overrid handl request owner handlerequestatown pub sub request pubsubrequest request channel channel request ha unsubscrib request hasunsubscriberequest umbrella handler umbrellahandl send error respons malform request senderrorresponsetomalformedrequest channel request get txn id gettxnid miss unsubscrib request data unsub stat unsubstat increment fail op incrementfailedop unsubscrib request unsubscriberequest unsub request unsubrequest request get unsubscrib request getunsubscriberequest string bytestr topic request get topic gettop string bytestr subscrib id subscriberid unsub request unsubrequest get subscrib id getsubscriberid request time requesttim current time milli currenttimemilli sub mgr submgr unsubscrib topic subscrib id subscriberid callback overrid oper fail operationfail object ctx pub sub except pubsubexcept except channel write pub sub respons util pubsubresponseutil get respons except getresponseforexcept except request get txn id gettxnid unsub stat unsubstat increment fail op incrementfailedop overrid oper finish operationfinish object ctx result oper resultofoper deliveri mgr deliverymgr stop serv subscrib stopservingsubscrib topic subscrib id subscriberid channel write pub sub respons util pubsubresponseutil get success respons getsuccessrespons request get txn id gettxnid unsub stat unsubstat updat latenc updatelat current time milli currenttimemilli request time requesttim 
pub sub respons util pubsubresponseutil chang here bump up version number server send back protocol version protocolvers server version serververs protocol version protocolvers version on version_on pub sub respons pubsubrespons builder get basic builder getbasicbuild statu code statuscod statu pub sub respons pubsubrespons builder newbuild set protocol version setprotocolvers server version serververs set statu code setstatuscod statu pub sub respons pubsubrespons get success respons getsuccessrespons txn id txnid get basic builder getbasicbuild statu code statuscod success set txn id settxnid txn id txnid build pub sub respons pubsubrespons get respons except getresponseforexcept pub sub except pubsubexcept txn id txnid get basic builder getbasicbuild get code getcod set statu msg setstatusmsg get messag getmessag set txn id settxnid txn id txnid build 
abstract configur abstract abstract configur abstractconfigur composit configur compositeconfigur ledger manag string ledger manag type ledger_manager_typ ledger manag type ledgermanagertyp string zk ledger root path zk_ledgers_root_path zk ledger root path zkledgersrootpath string avail node available_nod avail abstract configur abstractconfigur add configur properti add configur addconfigur configur systemconfigur load configur preced order first on take preced load param conf url confurl configur url load conf loadconf url conf url confurl configur except configurationexcept configur load conf loadedconf properti configur propertiesconfigur conf url confurl add configur addconfigur load conf loadedconf load configur from configur param base conf baseconf configur load conf loadconf abstract configur abstractconfigur base conf baseconf add configur addconfigur base conf baseconf set ledger manag type param lm type lmtype ledger manag type set ledger manag type setledgermanagertyp string lm type lmtype set properti setproperti ledger manag type ledger_manager_typ lm type lmtype get ledger manag type ledger manag type configur except configurationexcept string get ledger manag type getledgermanagertyp get string getstr ledger manag type ledger_manager_typ set zk ledger root path param zk ledger path zkledgerspath zk ledger root path set zk ledger root path setzkledgersrootpath string zk ledger path zkledgerspath set properti setproperti zk ledger root path zk_ledgers_root_path zk ledger path zkledgerspath get zk ledger root path zk ledger root path string get zk ledger root path getzkledgersrootpath get string getstr zk ledger root path zk_ledgers_root_path ledger get node avail booki store node avail booki store string get zk avail booki path getzkavailablebookiespath get zk ledger root path getzkledgersrootpath avail node available_nod 
builder com googl protobuf gener messag generatedmessag builder builder org apach hedwig protocol pub sub protocol pubsubprotocol ledger rang ledgerrang result construct org apach hedwig protocol pub sub protocol pubsubprotocol ledger rang ledgerrang builder newbuild builder builder creat builder builder builder builder result org apach hedwig protocol pub sub protocol pubsubprotocol ledger rang ledgerrang builder org apach hedwig protocol pub sub protocol pubsubprotocol ledger rang ledgerrang intern get result internalgetresult result builder clear result illeg state except illegalstateexcept call clear after build result org apach hedwig protocol pub sub protocol pubsubprotocol ledger rang ledgerrang builder clone creat merg from mergefrom result com googl protobuf descriptor descriptor get descriptor type getdescriptorfortyp org apach hedwig protocol pub sub protocol pubsubprotocol ledger rang ledgerrang get descriptor getdescriptor org apach hedwig protocol pub sub protocol pubsubprotocol ledger rang ledgerrang get instanc type getdefaultinstancefortyp org apach hedwig protocol pub sub protocol pubsubprotocol ledger rang ledgerrang get instanc getdefaultinst initi isiniti result initi isiniti org apach hedwig protocol pub sub protocol pubsubprotocol ledger rang ledgerrang build result initi isiniti uniniti messag except newuninitializedmessageexcept result build partial buildparti org apach hedwig protocol pub sub protocol pubsubprotocol ledger rang ledgerrang build pars buildpars com googl protobuf invalid protocol buffer except invalidprotocolbufferexcept initi isiniti uniniti messag except newuninitializedmessageexcept result invalid protocol buffer except asinvalidprotocolbufferexcept build partial buildparti org apach hedwig protocol pub sub protocol pubsubprotocol ledger rang ledgerrang build partial buildparti result illeg state except illegalstateexcept build ha call builder org apach hedwig protocol pub sub protocol pubsubprotocol ledger rang ledgerrang returnm result result returnm builder merg from mergefrom com googl protobuf messag org apach hedwig protocol pub sub protocol pubsubprotocol ledger rang ledgerrang merg from mergefrom org apach hedwig protocol pub sub protocol pubsubprotocol ledger rang ledgerrang merg from mergefrom builder merg from mergefrom org apach hedwig protocol pub sub protocol pubsubprotocol ledger rang ledgerrang org apach hedwig protocol pub sub protocol pubsubprotocol ledger rang ledgerrang get instanc getdefaultinst ha ledger id hasledgerid set ledger id setledgerid get ledger id getledgerid ha end seq id includ hasendseqidinclud merg end seq id includ mergeendseqidinclud get end seq id includ getendseqidinclud merg unknown field mergeunknownfield get unknown field getunknownfield builder merg from mergefrom com googl protobuf code input stream codedinputstream input com googl protobuf extens registri lite extensionregistrylit extens registri extensionregistri java io io except ioexcept com googl protobuf unknown field set unknownfieldset builder unknown field unknownfield com googl protobuf unknown field set unknownfieldset builder newbuild get unknown field getunknownfield tag input read tag readtag tag set unknown field setunknownfield unknown field unknownfield build pars unknown field parseunknownfield input unknown field unknownfield extens registri extensionregistri tag set unknown field setunknownfield unknown field unknownfield build set ledger id setledgerid input read int64 readuint64 18 org apach hedwig protocol pub sub protocol pubsubprotocol messag seq id messageseqid builder sub builder subbuild org apach hedwig protocol pub sub protocol pubsubprotocol messag seq id messageseqid builder newbuild ha end seq id includ hasendseqidinclud sub builder subbuild merg from mergefrom get end seq id includ getendseqidinclud input read messag readmessag sub builder subbuild extens registri extensionregistri set end seq id includ setendseqidinclud sub builder subbuild build partial buildparti requir uint64 ledger id ledgerid ha ledger id hasledgerid result ha ledger id hasledgerid get ledger id getledgerid result get ledger id getledgerid builder set ledger id setledgerid valu result ha ledger id hasledgerid result ledger id ledgerid_ valu builder clear ledger id clearledgerid result ha ledger id hasledgerid result ledger id ledgerid_ 0l option hedwig messag seq id messageseqid end seq id includ endseqidinclud ha end seq id includ hasendseqidinclud result ha end seq id includ hasendseqidinclud org apach hedwig protocol pub sub protocol pubsubprotocol messag seq id messageseqid get end seq id includ getendseqidinclud result get end seq id includ getendseqidinclud builder set end seq id includ setendseqidinclud org apach hedwig protocol pub sub protocol pubsubprotocol messag seq id messageseqid valu valu pointer except nullpointerexcept result ha end seq id includ hasendseqidinclud result end seq id includ endseqidincluded_ valu builder set end seq id includ setendseqidinclud org apach hedwig protocol pub sub protocol pubsubprotocol messag seq id messageseqid builder builder valu builderforvalu result ha end seq id includ hasendseqidinclud result end seq id includ endseqidincluded_ builder valu builderforvalu build builder merg end seq id includ mergeendseqidinclud org apach hedwig protocol pub sub protocol pubsubprotocol messag seq id messageseqid valu result ha end seq id includ hasendseqidinclud result end seq id includ endseqidincluded_ org apach hedwig protocol pub sub protocol pubsubprotocol messag seq id messageseqid get instanc getdefaultinst result end seq id includ endseqidincluded_ org apach hedwig protocol pub sub protocol pubsubprotocol messag seq id messageseqid builder newbuild result end seq id includ endseqidincluded_ merg from mergefrom valu build partial buildparti result end seq id includ endseqidincluded_ valu result ha end seq id includ hasendseqidinclud builder clear end seq id includ clearendseqidinclud result ha end seq id includ hasendseqidinclud result end seq id includ endseqidincluded_ org apach hedwig protocol pub sub protocol pubsubprotocol messag seq id messageseqid get instanc getdefaultinst protoc insert point protoc_insertion_point builder scope builder_scop hedwig ledger rang ledgerrang 
test booki failur hierarch ledger manag hierarchicalledgermanag hierarch booki failur test hierarchicalbookiefailuretest booki failur test bookiefailuretest hierarch booki failur test hierarchicalbookiefailuretest digest type digesttyp digest type digesttyp digest type digesttyp befor overrid set up setup except base conf baseconf set ledger manag type setledgermanagertyp hierarch ledger manag hierarchicalledgermanag name base client conf baseclientconf set ledger manag type setledgermanagertyp hierarch ledger manag hierarchicalledgermanag name set up setup 
filter truefilt messag filter messagefilt filter truefilt instanc filter truefilt filter truefilt instanc instanc test messag testmessag messag messag 
thing java link schedul executor servic scheduledexecutorservic take link safe runnabl saferunn object plain runnabl object mean except schedul task wont unnot log support submit task order kei task submit kei execut order task differ kei unord retain parallel retain basic amount order ledger handl order achiev hash kei object thread link hash code hashcod method order safe executor orderedsafeexecutor executor servic executorservic thread random rand random order safe executor orderedsafeexecutor num thread numthread num thread numthread illeg argument except illegalargumentexcept thread executor servic executorservic num thread numthread num thread numthread thread executor singl thread executor newsinglethreadexecutor executor servic executorservic choos thread choosethread skip random gener special thread length thread thread rand next nextint thread length executor servic executorservic choos thread choosethread object order kei orderingkei skip hashcod gener special thread length thread thread math util mathutil sign safe mod signsafemod order kei orderingkei hash code hashcod thread length schedul on time action execut submit safe runnabl saferunn choos thread choosethread submit schedul on time action execut order guarante kei param order kei orderingkei param submit order submitord object order kei orderingkei safe runnabl saferunn choos thread choosethread order kei orderingkei submit shutdown thread length thread shutdown 
unexpect error unexpectederror error serial version uid serialversionuid 1l unexpect error unexpectederror string msg msg unexpect error unexpectederror throwabl caus caus 
subscrib request subscriberequest com googl protobuf gener messag generatedmessag us subscrib request subscriberequest builder newbuild construct subscrib request subscriberequest init field initfield subscrib request subscriberequest init noinit subscrib request subscriberequest instanc defaultinst subscrib request subscriberequest get instanc getdefaultinst instanc defaultinst subscrib request subscriberequest get instanc type getdefaultinstancefortyp instanc defaultinst com googl protobuf descriptor descriptor get descriptor getdescriptor org apach hedwig protocol pub sub protocol pubsubprotocol intern hedwig subscrib request descriptor internal_static_hedwig_subscriberequest_descriptor com googl protobuf gener messag generatedmessag field accessor tabl fieldaccessort intern get field accessor tabl internalgetfieldaccessort org apach hedwig protocol pub sub protocol pubsubprotocol intern hedwig subscrib request field accessor tabl internal_static_hedwig_subscriberequest_fieldaccessort creat attach createorattach com googl protobuf protocol messag protocolmessageenum creat attach creat attach create_or_attach get number getnumb valu creat attach createorattach valu valueof valu valu creat attach creat attach create_or_attach com googl protobuf intern lite map enumlitemap creat attach createorattach intern get valu map internalgetvaluemap intern valu map internalvaluemap com googl protobuf intern lite map enumlitemap creat attach createorattach intern valu map internalvaluemap com googl protobuf intern lite map enumlitemap creat attach createorattach creat attach createorattach find valu number findvaluebynumb number creat attach createorattach valu valueof number com googl protobuf descriptor valu descriptor enumvaluedescriptor get valu descriptor getvaluedescriptor get descriptor getdescriptor get valu getvalu get index com googl protobuf descriptor descriptor enumdescriptor get descriptor type getdescriptorfortyp get descriptor getdescriptor com googl protobuf descriptor descriptor enumdescriptor get descriptor getdescriptor org apach hedwig protocol pub sub protocol pubsubprotocol subscrib request subscriberequest get descriptor getdescriptor get type getenumtyp get creat attach createorattach valu creat attach creat attach create_or_attach creat attach createorattach valu valueof com googl protobuf descriptor valu descriptor enumvaluedescriptor desc desc get type gettyp get descriptor getdescriptor java lang illeg argument except illegalargumentexcept valu descriptor enumvaluedescriptor type valu desc get index getindex index valu creat attach createorattach index valu index index valu valu org apach hedwig protocol pub sub protocol pubsubprotocol get descriptor getdescriptor protoc insert point protoc_insertion_point scope enum_scop hedwig subscrib request subscriberequest creat attach createorattach requir byte subscrib id subscriberid subscriberid field number subscriberid_field_numb ha subscrib id hassubscriberid com googl protobuf string bytestr subscrib id subscriberid_ com googl protobuf string bytestr empti ha subscrib id hassubscriberid ha subscrib id hassubscriberid com googl protobuf string bytestr get subscrib id getsubscriberid subscrib id subscriberid_ option hedwig subscrib request subscriberequest creat attach createorattach creat attach createorattach creat attach create_or_attach createorattach field number createorattach_field_numb ha creat attach hascreateorattach org apach hedwig protocol pub sub protocol pubsubprotocol subscrib request subscriberequest creat attach createorattach creat attach createorattach_ ha creat attach hascreateorattach ha creat attach hascreateorattach org apach hedwig protocol pub sub protocol pubsubprotocol subscrib request subscriberequest creat attach createorattach get creat attach getcreateorattach creat attach createorattach_ option synchron synchron field number synchronous_field_numb ha synchron hassynchron synchron synchronous_ ha synchron hassynchron ha synchron hassynchron get synchron getsynchron synchron synchronous_ option uint32 messag bound messagebound messagebound field number messagebound_field_numb ha messag bound hasmessagebound messag bound messagebound_ ha messag bound hasmessagebound ha messag bound hasmessagebound get messag bound getmessagebound messag bound messagebound_ init field initfield creat attach createorattach_ org apach hedwig protocol pub sub protocol pubsubprotocol subscrib request subscriberequest creat attach createorattach creat attach create_or_attach initi isiniti ha subscrib id hassubscriberid write writeto com googl protobuf code output stream codedoutputstream output java io io except ioexcept get serial size getserializeds ha subscrib id hassubscriberid output write byte writebyt get subscrib id getsubscriberid ha creat attach hascreateorattach output write writeenum get creat attach getcreateorattach get number getnumb ha synchron hassynchron output write writebool get synchron getsynchron ha messag bound hasmessagebound output write int32 writeuint32 get messag bound getmessagebound get unknown field getunknownfield write writeto output memoiz serial size memoizedserializeds get serial size getserializeds size memoiz serial size memoizedserializeds size size size ha subscrib id hassubscriberid size com googl protobuf code output stream codedoutputstream comput byte size computebytess get subscrib id getsubscriberid ha creat attach hascreateorattach size com googl protobuf code output stream codedoutputstream comput size computeenums get creat attach getcreateorattach get number getnumb ha synchron hassynchron size com googl protobuf code output stream codedoutputstream comput size computebools get synchron getsynchron ha messag bound hasmessagebound size com googl protobuf code output stream codedoutputstream comput int32 size computeuint32s get messag bound getmessagebound size get unknown field getunknownfield get serial size getserializeds memoiz serial size memoizedserializeds size size org apach hedwig protocol pub sub protocol pubsubprotocol subscrib request subscriberequest pars from parsefrom com googl protobuf string bytestr data com googl protobuf invalid protocol buffer except invalidprotocolbufferexcept builder newbuild merg from mergefrom data build pars buildpars org apach hedwig protocol pub sub protocol pubsubprotocol subscrib request subscriberequest pars from parsefrom com googl protobuf string bytestr data com googl protobuf extens registri lite extensionregistrylit extens registri extensionregistri com googl protobuf invalid protocol buffer except invalidprotocolbufferexcept builder newbuild merg from mergefrom data extens registri extensionregistri build pars buildpars org apach hedwig protocol pub sub protocol pubsubprotocol subscrib request subscriberequest pars from parsefrom data com googl protobuf invalid protocol buffer except invalidprotocolbufferexcept builder newbuild merg from mergefrom data build pars buildpars org apach hedwig protocol pub sub protocol pubsubprotocol subscrib request subscriberequest pars from parsefrom data com googl protobuf extens registri lite extensionregistrylit extens registri extensionregistri com googl protobuf invalid protocol buffer except invalidprotocolbufferexcept builder newbuild merg from mergefrom data extens registri extensionregistri build pars buildpars org apach hedwig protocol pub sub protocol pubsubprotocol subscrib request subscriberequest pars from parsefrom java io input stream inputstream input java io io except ioexcept builder newbuild merg from mergefrom input build pars buildpars org apach hedwig protocol pub sub protocol pubsubprotocol subscrib request subscriberequest pars from parsefrom java io input stream inputstream input com googl protobuf extens registri lite extensionregistrylit extens registri extensionregistri java io io except ioexcept builder newbuild merg from mergefrom input extens registri extensionregistri build pars buildpars org apach hedwig protocol pub sub protocol pubsubprotocol subscrib request subscriberequest pars delimit from parsedelimitedfrom java io input stream inputstream input java io io except ioexcept builder builder builder newbuild builder merg delimit from mergedelimitedfrom input builder build pars buildpars org apach hedwig protocol pub sub protocol pubsubprotocol subscrib request subscriberequest pars delimit from parsedelimitedfrom java io input stream inputstream input com googl protobuf extens registri lite extensionregistrylit extens registri extensionregistri java io io except ioexcept builder builder builder newbuild builder merg delimit from mergedelimitedfrom input extens registri extensionregistri builder build pars buildpars org apach hedwig protocol pub sub protocol pubsubprotocol subscrib request subscriberequest pars from parsefrom com googl protobuf code input stream codedinputstream input java io io except ioexcept builder newbuild merg from mergefrom input build pars buildpars org apach hedwig protocol pub sub protocol pubsubprotocol subscrib request subscriberequest pars from parsefrom com googl protobuf code input stream codedinputstream input com googl protobuf extens registri lite extensionregistrylit extens registri extensionregistri java io io except ioexcept builder newbuild merg from mergefrom input extens registri extensionregistri build pars buildpars builder builder newbuild builder creat builder builder type newbuilderfortyp builder newbuild builder builder newbuild org apach hedwig protocol pub sub protocol pubsubprotocol subscrib request subscriberequest prototyp builder newbuild merg from mergefrom prototyp builder builder tobuild builder newbuild builder com googl protobuf gener messag generatedmessag builder builder org apach hedwig protocol pub sub protocol pubsubprotocol subscrib request subscriberequest result construct org apach hedwig protocol pub sub protocol pubsubprotocol subscrib request subscriberequest builder newbuild builder builder creat builder builder builder builder result org apach hedwig protocol pub sub protocol pubsubprotocol subscrib request subscriberequest builder org apach hedwig protocol pub sub protocol pubsubprotocol subscrib request subscriberequest intern get result internalgetresult result builder clear result illeg state except illegalstateexcept call clear after build result org apach hedwig protocol pub sub protocol pubsubprotocol subscrib request subscriberequest builder clone creat merg from mergefrom result com googl protobuf descriptor descriptor get descriptor type getdescriptorfortyp org apach hedwig protocol pub sub protocol pubsubprotocol subscrib request subscriberequest get descriptor getdescriptor org apach hedwig protocol pub sub protocol pubsubprotocol subscrib request subscriberequest get instanc type getdefaultinstancefortyp org apach hedwig protocol pub sub protocol pubsubprotocol subscrib request subscriberequest get instanc getdefaultinst initi isiniti result initi isiniti org apach hedwig protocol pub sub protocol pubsubprotocol subscrib request subscriberequest build result initi isiniti uniniti messag except newuninitializedmessageexcept result build partial buildparti org apach hedwig protocol pub sub protocol pubsubprotocol subscrib request subscriberequest build pars buildpars com googl protobuf invalid protocol buffer except invalidprotocolbufferexcept initi isiniti uniniti messag except newuninitializedmessageexcept result invalid protocol buffer except asinvalidprotocolbufferexcept build partial buildparti org apach hedwig protocol pub sub protocol pubsubprotocol subscrib request subscriberequest build partial buildparti result illeg state except illegalstateexcept build ha call builder org apach hedwig protocol pub sub protocol pubsubprotocol subscrib request subscriberequest returnm result result returnm builder merg from mergefrom com googl protobuf messag org apach hedwig protocol pub sub protocol pubsubprotocol subscrib request subscriberequest merg from mergefrom org apach hedwig protocol pub sub protocol pubsubprotocol subscrib request subscriberequest merg from mergefrom builder merg from mergefrom org apach hedwig protocol pub sub protocol pubsubprotocol subscrib request subscriberequest org apach hedwig protocol pub sub protocol pubsubprotocol subscrib request subscriberequest get instanc getdefaultinst ha subscrib id hassubscriberid set subscrib id setsubscriberid get subscrib id getsubscriberid ha creat attach hascreateorattach set creat attach setcreateorattach get creat attach getcreateorattach ha synchron hassynchron set synchron setsynchron get synchron getsynchron ha messag bound hasmessagebound set messag bound setmessagebound get messag bound getmessagebound merg unknown field mergeunknownfield get unknown field getunknownfield builder merg from mergefrom com googl protobuf code input stream codedinputstream input com googl protobuf extens registri lite extensionregistrylit extens registri extensionregistri java io io except ioexcept com googl protobuf unknown field set unknownfieldset builder unknown field unknownfield com googl protobuf unknown field set unknownfieldset builder newbuild get unknown field getunknownfield tag input read tag readtag tag set unknown field setunknownfield unknown field unknownfield build pars unknown field parseunknownfield input unknown field unknownfield extens registri extensionregistri tag set unknown field setunknownfield unknown field unknownfield build 18 set subscrib id setsubscriberid input read byte readbyt 24 raw valu rawvalu input read readenum org apach hedwig protocol pub sub protocol pubsubprotocol subscrib request subscriberequest creat attach createorattach valu org apach hedwig protocol pub sub protocol pubsubprotocol subscrib request subscriberequest creat attach createorattach valu valueof raw valu rawvalu valu unknown field unknownfield merg varint field mergevarintfield raw valu rawvalu set creat attach setcreateorattach valu 32 set synchron setsynchron input read readbool 40 set messag bound setmessagebound input read int32 readuint32 requir byte subscrib id subscriberid ha subscrib id hassubscriberid result ha subscrib id hassubscriberid com googl protobuf string bytestr get subscrib id getsubscriberid result get subscrib id getsubscriberid builder set subscrib id setsubscriberid com googl protobuf string bytestr valu valu pointer except nullpointerexcept result ha subscrib id hassubscriberid result subscrib id subscriberid_ valu builder clear subscrib id clearsubscriberid result ha subscrib id hassubscriberid result subscrib id subscriberid_ get instanc getdefaultinst get subscrib id getsubscriberid option hedwig subscrib request subscriberequest creat attach createorattach creat attach createorattach creat attach create_or_attach ha creat attach hascreateorattach result ha creat attach hascreateorattach org apach hedwig protocol pub sub protocol pubsubprotocol subscrib request subscriberequest creat attach createorattach get creat attach getcreateorattach result get creat attach getcreateorattach builder set creat attach setcreateorattach org apach hedwig protocol pub sub protocol pubsubprotocol subscrib request subscriberequest creat attach createorattach valu valu pointer except nullpointerexcept result ha creat attach hascreateorattach result creat attach createorattach_ valu builder clear creat attach clearcreateorattach result ha creat attach hascreateorattach result creat attach createorattach_ org apach hedwig protocol pub sub protocol pubsubprotocol subscrib request subscriberequest creat attach createorattach creat attach create_or_attach option synchron ha synchron hassynchron result ha synchron hassynchron get synchron getsynchron result get synchron getsynchron builder set synchron setsynchron valu result ha synchron hassynchron result synchron synchronous_ valu builder clear synchron clearsynchron result ha synchron hassynchron result synchron synchronous_ option uint32 messag bound messagebound ha messag bound hasmessagebound result ha messag bound hasmessagebound get messag bound getmessagebound result get messag bound getmessagebound builder set messag bound setmessagebound valu result ha messag bound hasmessagebound result messag bound messagebound_ valu builder clear messag bound clearmessagebound result ha messag bound hasmessagebound result messag bound messagebound_ protoc insert point protoc_insertion_point builder scope builder_scop hedwig subscrib request subscriberequest instanc defaultinst subscrib request subscriberequest org apach hedwig protocol pub sub protocol pubsubprotocol intern forc init internalforceinit instanc defaultinst init field initfield protoc insert point protoc_insertion_point scope class_scop hedwig subscrib request subscriberequest 
cach kei cachekei string bytestr topic seq id seqid cach kei cachekei string bytestr topic seq id seqid topic string intern bytestringintern intern topic seq id seqid seq id seqid string bytestr get topic gettop topic get seq id getseqid seq id seqid overrid hash code hashcod prime 31 result result prime result seq id seqid seq id seqid 32 result prime result topic topic hash code hashcod result overrid equal object obj obj obj get getclass obj get getclass cach kei cachekei cach kei cachekei obj seq id seqid seq id seqid topic topic topic equal topic overrid string string tostr topic string utf8 tostringutf8 seq id seqid 
suppress warn suppresswarn serial abstract booki except bookieexcept except code booki except bookieexcept code code code booki except bookieexcept code throwabl booki except bookieexcept code string reason reason booki except bookieexcept creat code code code unauthor access except unauthorizedaccessexcept booki unauthor access except bookieunauthorizedaccessexcept code ledger fenc except ledgerfencedexcept ledger fenc except ledgerfencedexcept code invalid cooki except invalidcookieexcept invalid cooki except invalidcookieexcept code upgrad except upgradeexcept upgrad except upgradeexcept booki illeg op except bookieillegalopexcept code unauthor access except unauthorizedaccessexcept illeg op except illegalopexcept 100 ledger fenc except ledgerfencedexcept 101 invalid cooki except invalidcookieexcept 102 upgrad except upgradeexcept 103 set code setcod code code code get code getcod code string get messag getmessag code string err invalid oper code code err problem code unauthor access except unauthorizedaccessexcept err error read ledger code ledger fenc except ledgerfencedexcept err ledger ha fenc more entri ad code invalid cooki except invalidcookieexcept err invalid environ cooki found code upgrad except upgradeexcept err error perform upgrad oper string reason get messag getmessag reason get caus getcaus reason get caus getcaus get messag getmessag reason err string format err reason booki unauthor access except bookieunauthorizedaccessexcept booki except bookieexcept booki unauthor access except bookieunauthorizedaccessexcept code unauthor access except unauthorizedaccessexcept booki illeg op except bookieillegalopexcept booki except bookieexcept booki illeg op except bookieillegalopexcept code unauthor access except unauthorizedaccessexcept ledger fenc except ledgerfencedexcept booki except bookieexcept ledger fenc except ledgerfencedexcept code ledger fenc except ledgerfencedexcept invalid cooki except invalidcookieexcept booki except bookieexcept invalid cooki except invalidcookieexcept invalid cooki except invalidcookieexcept throwabl caus code invalid cooki except invalidcookieexcept caus upgrad except upgradeexcept booki except bookieexcept upgrad except upgradeexcept code upgrad except upgradeexcept upgrad except upgradeexcept throwabl caus code upgrad except upgradeexcept caus upgrad except upgradeexcept string reason code upgrad except upgradeexcept reason 
test ledger delet function from book keeper bookkeep client server side ledger delet test ledgerdeletetest book keeper cluster test bookkeeperclustertestcas logger log logger factori loggerfactori get logger getlogg ledger delet test ledgerdeletetest digest type digesttyp digest type digesttyp ledger delet test ledgerdeletetest digest type digesttyp digest type digesttyp crc32 befor overrid set up setup except set up configur properti need base conf baseconf set entri log size limit setentrylogsizelimit 1024 1024l base conf baseconf set gc wait time setgcwaittim 1000 set up setup common method creat ledger write entri ledger handl ledgerhandl write ledger entri writeledgerentri num ledger numledg msg size msgsize num msg nummsg except creat ledger ledger handl ledgerhandl lh ledger handl ledgerhandl num ledger numledg num ledger numledg lh bkc creat ledger createledg digest type digesttyp get byte getbyt creat dummi messag string write ledger entri string builder stringbuild msg sb msgsb string builder stringbuild msg size msgsize msg sb msgsb append string msg msg sb msgsb string tostr write entri ledger num msg nummsg num ledger numledg lh add entri addentri msg get byte getbyt ledger handl insert ledger entri lh test write ledger entri roll entri log file delet ledger from client let server entri logger entrylogg garbag collector thread delet initi entri log file except test test ledger delet testledgerdelet except write ledger entri roll initi entri log entrylog log ledger handl ledgerhandl lh write ledger entri writeledgerentri 1024 1024 delet ledger from book keeper bookkeep client ledger handl ledgerhandl lh lh bkc delet ledger deleteledg lh get id getid log info finish delet ledger wait gc thread clean up entri log entrylog thread sleep 2000 verifi first entri log log ha delet from booki server file ledger directori ledgerdirectori tmp dir tmpdir file ledger directori ledgerdirectori list file listfil assertfals found entri log file log delet ledger directori ledgerdirectori ledger directori ledgerdirectori file isfil get name getnam equal log test similar test ledger delet testledgerdelet stop restart booki server after ha written ledger entri restart exist entri log ledger index file entri logger entrylogg ledger cach ledgercach read store memori except test test ledger delet exist entri log testledgerdeletewithexistingentrylog except write ledger entri roll initi entri log entrylog log ledger handl ledgerhandl lh write ledger entri writeledgerentri 1024 1024 shutdown booki server restart ledger directori test read pre exist ledger index file ledger cach ledgercach startup booki server restart booki restartbooki delet ledger from book keeper bookkeep client ledger handl ledgerhandl lh lh bkc delet ledger deleteledg lh get id getid log info finish delet ledger wait gc thread clean up entri log entrylog thread sleep 2000 verifi first two entri log log delet from booki server restart server test entri log creat first two entri log delet file ledger directori ledgerdirectori tmp dir tmpdir file ledger directori ledgerdirectori list file listfil assertfals found entri log file log delet ledger directori ledgerdirectori ledger directori ledgerdirectori file isfil get name getnam equal log get name getnam equal log 
memori ledger rang inmemoryledgerrang ledger rang ledgerrang rang start seq id includ startseqidinclud includ first ledger valu ledger handl ledgerhandl handl memori ledger rang inmemoryledgerrang ledger rang ledgerrang rang start seq id startseqid ledger handl ledgerhandl handl rang rang start seq id includ startseqidinclud start seq id startseqid handl handl memori ledger rang inmemoryledgerrang ledger rang ledgerrang rang start seq id startseqid rang start seq id startseqid 
visibl test add complet addcomplet write callback writecallback cb size object ctx add complet addcomplet write callback writecallback cb size object ctx cb cb size size ctx ctx 
tool read topic messag tool read persist info from zookeep ledger rang read subscript infor from zookeep least messag id ledger id us bk client read messag start from least messag id read topic readtop hedwig admin hedwigadmin admin string bytestr topic start seq id startseqid least consum seq id leastconsumedseqid max valu max_valu consol inconsol rc rc_ok rc error rc_error rc notop rc_notop rc noledg rc_noledg rc nosubscrib rc_nosubscrib num messag print num_messages_to_print 15 sort map sortedmap memori ledger rang inmemoryledgerrang ledger tree map treemap memori ledger rang inmemoryledgerrang memori ledger rang inmemoryledgerrang ledger rang ledgerrang rang start seq id includ startseqidinclud memori ledger rang inmemoryledgerrang ledger rang ledgerrang rang start seq id startseqid rang rang start seq id includ startseqidinclud start seq id startseqid constructor read topic readtop hedwig admin hedwigadmin admin string bytestr topic consol inconsol admin topic consol inconsol constructor read topic readtop hedwig admin hedwigadmin admin string bytestr topic msg seq id msgseqid consol inconsol admin admin topic topic start seq id startseqid msg seq id msgseqid consol inconsol consol inconsol check topic exist rc rc_ok topic exist rc notop rc_notop except check topic checktop except admin ha topic hastop topic rc rc_ok rc notop rc_notop get ledger us topic store messag rc rc_ok topic ha messag rc noledg rc_noledg except get topic ledger gettopicledg except list ledger rang ledgerrang rang admin get topic ledger gettopicledg topic rang rang empti isempti rc noledg rc_noledg iter ledger rang ledgerrang lr iter lriter rang iter start ledger startofledg lr iter lriter ha next hasnext ledger rang ledgerrang rang lr iter lriter next rang ha end seq id includ hasendseqidinclud end ledger endofledg rang get end seq id includ getendseqidinclud get local compon getlocalcompon ledger put end ledger endofledg memori ledger rang inmemoryledgerrang rang start ledger startofledg start ledger startofledg end ledger endofledg lr iter lriter ha next hasnext io except ioexcept ledger id rang get ledger id getledgerid topic topic last on end seq id admin ha read last confirm entri last ledger don handl here rc rc_ok get least subscript getleastsubscript except map string bytestr subscript state subscriptionst state admin get topic subscript gettopicsubscript topic state empti isempti rc nosubscrib rc_nosubscrib map entri string bytestr subscript state subscriptionst entri state entri set entryset subscript state subscriptionst state entri get valu getvalu local msg id localmsgid state get msg id getmsgid get local compon getlocalcompon local msg id localmsgid least consum seq id leastconsumedseqid least consum seq id leastconsumedseqid local msg id localmsgid least consum seq id leastconsumedseqid max valu max_valu least consum seq id leastconsumedseqid rc rc_ok read topic readtop rc read topic _readtop rc rc notop rc_notop err println topic topic found rc noledg rc_noledg err println messag publish topic topic except err println error read messag topic topic fail print stack trace printstacktrac read topic _readtop except rc check topic rc check topic checktop rc rc_ok rc rc get topic ledger rc get topic ledger gettopicledg rc rc_ok rc rc get topic subscript find least on rc get least subscript getleastsubscript rc nosubscrib rc_nosubscrib rc start seq id startseqid rc rc_ok rc least consum seq id leastconsumedseqid start seq id startseqid start seq id startseqid least consum seq id leastconsumedseqid rc map entri memori ledger rang inmemoryledgerrang entri ledger entri set entryset end seq id endseqid entri get kei getkei end seq id endseqid start seq id startseqid tocontinu read ledger readledg entri get valu getvalu end seq id endseqid start seq id startseqid end seq id endseqid tocontinu rc rc_ok read specif ledger param ledger memori ledger rang param end seq id endseqid end seq id bk except bkexcept io except ioexcept interrupt except interruptedexcept read ledger readledg memori ledger rang inmemoryledgerrang ledger end seq id endseqid bk except bkexcept io except ioexcept interrupt except interruptedexcept end seq id tendseqid end seq id endseqid end seq id tendseqid start seq id startseqid open ledger handl ledger id ledgerid ledger rang get ledger id getledgerid println ledger ledger id ledgerid ledger start seq id includ startseqidinclud end seq id endseqid max valu max_valu end seq id endseqid ledger handl ledgerhandl lh lh admin get bk handl getbkhandl open ledger recoveri openledgernorecoveri ledger id ledgerid admin get bk digest type getbkdigesttyp admin get bk passwd getbkpasswd bk except bkexcept err println error ledger ledger id ledgerid found garbag collect messag consum lh expect entri id expectedentryid start seq id startseqid ledger start seq id includ startseqidinclud correct end seq id correctedendseqid end seq id tendseqid start seq id startseqid end seq id tendseqid correct end seq id correctedendseqid math min start seq id startseqid num messag print num_messages_to_print end seq id tendseqid enumer ledger entri ledgerentri seq lh read entri readentri start seq id startseqid ledger start seq id includ startseqidinclud correct end seq id correctedendseqid ledger start seq id includ startseqidinclud ledger entri ledgerentri entri seq ha more element hasmoreel entri seq next element nextel messag messag messag messag pars from parsefrom entri get entri input stream getentryinputstream io except ioexcept println warn unread messag found expect entri id expectedentryid expect entri id expectedentryid entri get entri id getentryid messag get msg id getmsgid get local compon getlocalcompon ledger start seq id includ startseqidinclud expect entri id expectedentryid io except ioexcept error messag id order expect entri id expect entri id expectedentryid current entri id entri get entri id getentryid msg seq id messag get msg id getmsgid get local compon getlocalcompon expect entri id expectedentryid format messag formatmessag messag start seq id startseqid correct end seq id correctedendseqid consol inconsol press kei presskeytocontinu bk except bkexcept bk read except bkreadexcept bk except bkexcept bke end seq id tendseqid max valu max_valu err println error ledger ledger id ledgerid corrupt read messag start seq id startseqid correct end seq id correctedendseqid fail bke println format messag formatmessag messag messag print msg id string msg id msgid messag ha msg id hasmsgid msg id msgid messag seq id messageseqid seq id seqid messag get msg id getmsgid string builder stringbuild id builder idbuild string builder stringbuild seq id seqid ha local compon haslocalcompon id builder idbuild append local append seq id seqid get local compon getlocalcompon append list region specif seq id regionspecificseqid remot id remoteid seq id seqid get remot compon list getremotecomponentslist num region numregion remot id remoteid size id builder idbuild append remot region specif seq id regionspecificseqid rssid remot id remoteid id builder idbuild append rssid get region getregion string utf8 tostringutf8 id builder idbuild append id builder idbuild append rssid get seq id getseqid id builder idbuild append num region numregion id builder idbuild append id builder idbuild append msg id msgid id builder idbuild string tostr println msgid msg id msgid println msg id msgid msg id msgid print sourc region messag ha src region hassrcregion println src region srcregion messag get src region getsrcregion string utf8 tostringutf8 println src region srcregion print messag bodi println messag println messag ha bodi hasbodi println messag get bodi getbodi string utf8 tostringutf8 println println press kei presskeytocontinu io except ioexcept println press buffer reader bufferedread stdin buffer reader bufferedread input stream reader inputstreamread ch stdin read ch ch 
invalid cooki except invalidcookieexcept booki except bookieexcept invalid cooki except invalidcookieexcept invalid cooki except invalidcookieexcept throwabl caus code invalid cooki except invalidcookieexcept caus 
ledger rang ledgerrang com googl protobuf gener messag generatedmessag us ledger rang ledgerrang builder newbuild construct ledger rang ledgerrang init field initfield ledger rang ledgerrang init noinit ledger rang ledgerrang instanc defaultinst ledger rang ledgerrang get instanc getdefaultinst instanc defaultinst ledger rang ledgerrang get instanc type getdefaultinstancefortyp instanc defaultinst com googl protobuf descriptor descriptor get descriptor getdescriptor org apach hedwig protocol pub sub protocol pubsubprotocol intern hedwig ledger rang descriptor internal_static_hedwig_ledgerranges_descriptor com googl protobuf gener messag generatedmessag field accessor tabl fieldaccessort intern get field accessor tabl internalgetfieldaccessort org apach hedwig protocol pub sub protocol pubsubprotocol intern hedwig ledger rang field accessor tabl internal_static_hedwig_ledgerranges_fieldaccessort repeat hedwig ledger rang ledgerrang rang rang field number ranges_field_numb java util list org apach hedwig protocol pub sub protocol pubsubprotocol ledger rang ledgerrang rang ranges_ java util collect empti list emptylist java util list org apach hedwig protocol pub sub protocol pubsubprotocol ledger rang ledgerrang get rang list getrangeslist rang ranges_ get rang count getrangescount rang ranges_ size org apach hedwig protocol pub sub protocol pubsubprotocol ledger rang ledgerrang get rang getrang index rang ranges_ get index init field initfield initi isiniti org apach hedwig protocol pub sub protocol pubsubprotocol ledger rang ledgerrang element get rang list getrangeslist element initi isiniti write writeto com googl protobuf code output stream codedoutputstream output java io io except ioexcept get serial size getserializeds org apach hedwig protocol pub sub protocol pubsubprotocol ledger rang ledgerrang element get rang list getrangeslist output write messag writemessag element get unknown field getunknownfield write writeto output memoiz serial size memoizedserializeds get serial size getserializeds size memoiz serial size memoizedserializeds size size size org apach hedwig protocol pub sub protocol pubsubprotocol ledger rang ledgerrang element get rang list getrangeslist size com googl protobuf code output stream codedoutputstream comput messag size computemessages element size get unknown field getunknownfield get serial size getserializeds memoiz serial size memoizedserializeds size size org apach hedwig protocol pub sub protocol pubsubprotocol ledger rang ledgerrang pars from parsefrom com googl protobuf string bytestr data com googl protobuf invalid protocol buffer except invalidprotocolbufferexcept builder newbuild merg from mergefrom data build pars buildpars org apach hedwig protocol pub sub protocol pubsubprotocol ledger rang ledgerrang pars from parsefrom com googl protobuf string bytestr data com googl protobuf extens registri lite extensionregistrylit extens registri extensionregistri com googl protobuf invalid protocol buffer except invalidprotocolbufferexcept builder newbuild merg from mergefrom data extens registri extensionregistri build pars buildpars org apach hedwig protocol pub sub protocol pubsubprotocol ledger rang ledgerrang pars from parsefrom data com googl protobuf invalid protocol buffer except invalidprotocolbufferexcept builder newbuild merg from mergefrom data build pars buildpars org apach hedwig protocol pub sub protocol pubsubprotocol ledger rang ledgerrang pars from parsefrom data com googl protobuf extens registri lite extensionregistrylit extens registri extensionregistri com googl protobuf invalid protocol buffer except invalidprotocolbufferexcept builder newbuild merg from mergefrom data extens registri extensionregistri build pars buildpars org apach hedwig protocol pub sub protocol pubsubprotocol ledger rang ledgerrang pars from parsefrom java io input stream inputstream input java io io except ioexcept builder newbuild merg from mergefrom input build pars buildpars org apach hedwig protocol pub sub protocol pubsubprotocol ledger rang ledgerrang pars from parsefrom java io input stream inputstream input com googl protobuf extens registri lite extensionregistrylit extens registri extensionregistri java io io except ioexcept builder newbuild merg from mergefrom input extens registri extensionregistri build pars buildpars org apach hedwig protocol pub sub protocol pubsubprotocol ledger rang ledgerrang pars delimit from parsedelimitedfrom java io input stream inputstream input java io io except ioexcept builder builder builder newbuild builder merg delimit from mergedelimitedfrom input builder build pars buildpars org apach hedwig protocol pub sub protocol pubsubprotocol ledger rang ledgerrang pars delimit from parsedelimitedfrom java io input stream inputstream input com googl protobuf extens registri lite extensionregistrylit extens registri extensionregistri java io io except ioexcept builder builder builder newbuild builder merg delimit from mergedelimitedfrom input extens registri extensionregistri builder build pars buildpars org apach hedwig protocol pub sub protocol pubsubprotocol ledger rang ledgerrang pars from parsefrom com googl protobuf code input stream codedinputstream input java io io except ioexcept builder newbuild merg from mergefrom input build pars buildpars org apach hedwig protocol pub sub protocol pubsubprotocol ledger rang ledgerrang pars from parsefrom com googl protobuf code input stream codedinputstream input com googl protobuf extens registri lite extensionregistrylit extens registri extensionregistri java io io except ioexcept builder newbuild merg from mergefrom input extens registri extensionregistri build pars buildpars builder builder newbuild builder creat builder builder type newbuilderfortyp builder newbuild builder builder newbuild org apach hedwig protocol pub sub protocol pubsubprotocol ledger rang ledgerrang prototyp builder newbuild merg from mergefrom prototyp builder builder tobuild builder newbuild builder com googl protobuf gener messag generatedmessag builder builder org apach hedwig protocol pub sub protocol pubsubprotocol ledger rang ledgerrang result construct org apach hedwig protocol pub sub protocol pubsubprotocol ledger rang ledgerrang builder newbuild builder builder creat builder builder builder builder result org apach hedwig protocol pub sub protocol pubsubprotocol ledger rang ledgerrang builder org apach hedwig protocol pub sub protocol pubsubprotocol ledger rang ledgerrang intern get result internalgetresult result builder clear result illeg state except illegalstateexcept call clear after build result org apach hedwig protocol pub sub protocol pubsubprotocol ledger rang ledgerrang builder clone creat merg from mergefrom result com googl protobuf descriptor descriptor get descriptor type getdescriptorfortyp org apach hedwig protocol pub sub protocol pubsubprotocol ledger rang ledgerrang get descriptor getdescriptor org apach hedwig protocol pub sub protocol pubsubprotocol ledger rang ledgerrang get instanc type getdefaultinstancefortyp org apach hedwig protocol pub sub protocol pubsubprotocol ledger rang ledgerrang get instanc getdefaultinst initi isiniti result initi isiniti org apach hedwig protocol pub sub protocol pubsubprotocol ledger rang ledgerrang build result initi isiniti uniniti messag except newuninitializedmessageexcept result build partial buildparti org apach hedwig protocol pub sub protocol pubsubprotocol ledger rang ledgerrang build pars buildpars com googl protobuf invalid protocol buffer except invalidprotocolbufferexcept initi isiniti uniniti messag except newuninitializedmessageexcept result invalid protocol buffer except asinvalidprotocolbufferexcept build partial buildparti org apach hedwig protocol pub sub protocol pubsubprotocol ledger rang ledgerrang build partial buildparti result illeg state except illegalstateexcept build ha call builder result rang ranges_ java util collect empti list empty_list result rang ranges_ java util collect unmodifi list unmodifiablelist result rang ranges_ org apach hedwig protocol pub sub protocol pubsubprotocol ledger rang ledgerrang returnm result result returnm builder merg from mergefrom com googl protobuf messag org apach hedwig protocol pub sub protocol pubsubprotocol ledger rang ledgerrang merg from mergefrom org apach hedwig protocol pub sub protocol pubsubprotocol ledger rang ledgerrang merg from mergefrom builder merg from mergefrom org apach hedwig protocol pub sub protocol pubsubprotocol ledger rang ledgerrang org apach hedwig protocol pub sub protocol pubsubprotocol ledger rang ledgerrang get instanc getdefaultinst rang ranges_ empti isempti result rang ranges_ empti isempti result rang ranges_ java util arrai list arraylist org apach hedwig protocol pub sub protocol pubsubprotocol ledger rang ledgerrang result rang ranges_ add addal rang ranges_ merg unknown field mergeunknownfield get unknown field getunknownfield builder merg from mergefrom com googl protobuf code input stream codedinputstream input com googl protobuf extens registri lite extensionregistrylit extens registri extensionregistri java io io except ioexcept com googl protobuf unknown field set unknownfieldset builder unknown field unknownfield com googl protobuf unknown field set unknownfieldset builder newbuild get unknown field getunknownfield tag input read tag readtag tag set unknown field setunknownfield unknown field unknownfield build pars unknown field parseunknownfield input unknown field unknownfield extens registri extensionregistri tag set unknown field setunknownfield unknown field unknownfield build 10 org apach hedwig protocol pub sub protocol pubsubprotocol ledger rang ledgerrang builder sub builder subbuild org apach hedwig protocol pub sub protocol pubsubprotocol ledger rang ledgerrang builder newbuild input read messag readmessag sub builder subbuild extens registri extensionregistri add rang addrang sub builder subbuild build partial buildparti repeat hedwig ledger rang ledgerrang rang java util list org apach hedwig protocol pub sub protocol pubsubprotocol ledger rang ledgerrang get rang list getrangeslist java util collect unmodifi list unmodifiablelist result rang ranges_ get rang count getrangescount result get rang count getrangescount org apach hedwig protocol pub sub protocol pubsubprotocol ledger rang ledgerrang get rang getrang index result get rang getrang index builder set rang setrang index org apach hedwig protocol pub sub protocol pubsubprotocol ledger rang ledgerrang valu valu pointer except nullpointerexcept result rang ranges_ set index valu builder set rang setrang index org apach hedwig protocol pub sub protocol pubsubprotocol ledger rang ledgerrang builder builder valu builderforvalu result rang ranges_ set index builder valu builderforvalu build builder add rang addrang org apach hedwig protocol pub sub protocol pubsubprotocol ledger rang ledgerrang valu valu pointer except nullpointerexcept result rang ranges_ empti isempti result rang ranges_ java util arrai list arraylist org apach hedwig protocol pub sub protocol pubsubprotocol ledger rang ledgerrang result rang ranges_ add valu builder add rang addrang org apach hedwig protocol pub sub protocol pubsubprotocol ledger rang ledgerrang builder builder valu builderforvalu result rang ranges_ empti isempti result rang ranges_ java util arrai list arraylist org apach hedwig protocol pub sub protocol pubsubprotocol ledger rang ledgerrang result rang ranges_ add builder valu builderforvalu build builder add rang addallrang java lang iter org apach hedwig protocol pub sub protocol pubsubprotocol ledger rang ledgerrang valu result rang ranges_ empti isempti result rang ranges_ java util arrai list arraylist org apach hedwig protocol pub sub protocol pubsubprotocol ledger rang ledgerrang add addal valu result rang ranges_ builder clear rang clearrang result rang ranges_ java util collect empti list emptylist protoc insert point protoc_insertion_point builder scope builder_scop hedwig ledger rang ledgerrang instanc defaultinst ledger rang ledgerrang org apach hedwig protocol pub sub protocol pubsubprotocol intern forc init internalforceinit instanc defaultinst init field initfield protoc insert point protoc_insertion_point scope class_scop hedwig ledger rang ledgerrang 
builder com googl protobuf gener messag generatedmessag builder builder org apach hedwig protocol pub sub protocol pubsubprotocol stop deliveri request stopdeliveryrequest result construct org apach hedwig protocol pub sub protocol pubsubprotocol stop deliveri request stopdeliveryrequest builder newbuild builder builder creat builder builder builder builder result org apach hedwig protocol pub sub protocol pubsubprotocol stop deliveri request stopdeliveryrequest builder org apach hedwig protocol pub sub protocol pubsubprotocol stop deliveri request stopdeliveryrequest intern get result internalgetresult result builder clear result illeg state except illegalstateexcept call clear after build result org apach hedwig protocol pub sub protocol pubsubprotocol stop deliveri request stopdeliveryrequest builder clone creat merg from mergefrom result com googl protobuf descriptor descriptor get descriptor type getdescriptorfortyp org apach hedwig protocol pub sub protocol pubsubprotocol stop deliveri request stopdeliveryrequest get descriptor getdescriptor org apach hedwig protocol pub sub protocol pubsubprotocol stop deliveri request stopdeliveryrequest get instanc type getdefaultinstancefortyp org apach hedwig protocol pub sub protocol pubsubprotocol stop deliveri request stopdeliveryrequest get instanc getdefaultinst initi isiniti result initi isiniti org apach hedwig protocol pub sub protocol pubsubprotocol stop deliveri request stopdeliveryrequest build result initi isiniti uniniti messag except newuninitializedmessageexcept result build partial buildparti org apach hedwig protocol pub sub protocol pubsubprotocol stop deliveri request stopdeliveryrequest build pars buildpars com googl protobuf invalid protocol buffer except invalidprotocolbufferexcept initi isiniti uniniti messag except newuninitializedmessageexcept result invalid protocol buffer except asinvalidprotocolbufferexcept build partial buildparti org apach hedwig protocol pub sub protocol pubsubprotocol stop deliveri request stopdeliveryrequest build partial buildparti result illeg state except illegalstateexcept build ha call builder org apach hedwig protocol pub sub protocol pubsubprotocol stop deliveri request stopdeliveryrequest returnm result result returnm builder merg from mergefrom com googl protobuf messag org apach hedwig protocol pub sub protocol pubsubprotocol stop deliveri request stopdeliveryrequest merg from mergefrom org apach hedwig protocol pub sub protocol pubsubprotocol stop deliveri request stopdeliveryrequest merg from mergefrom builder merg from mergefrom org apach hedwig protocol pub sub protocol pubsubprotocol stop deliveri request stopdeliveryrequest org apach hedwig protocol pub sub protocol pubsubprotocol stop deliveri request stopdeliveryrequest get instanc getdefaultinst ha subscrib id hassubscriberid set subscrib id setsubscriberid get subscrib id getsubscriberid merg unknown field mergeunknownfield get unknown field getunknownfield builder merg from mergefrom com googl protobuf code input stream codedinputstream input com googl protobuf extens registri lite extensionregistrylit extens registri extensionregistri java io io except ioexcept com googl protobuf unknown field set unknownfieldset builder unknown field unknownfield com googl protobuf unknown field set unknownfieldset builder newbuild get unknown field getunknownfield tag input read tag readtag tag set unknown field setunknownfield unknown field unknownfield build pars unknown field parseunknownfield input unknown field unknownfield extens registri extensionregistri tag set unknown field setunknownfield unknown field unknownfield build 18 set subscrib id setsubscriberid input read byte readbyt requir byte subscrib id subscriberid ha subscrib id hassubscriberid result ha subscrib id hassubscriberid com googl protobuf string bytestr get subscrib id getsubscriberid result get subscrib id getsubscriberid builder set subscrib id setsubscriberid com googl protobuf string bytestr valu valu pointer except nullpointerexcept result ha subscrib id hassubscriberid result subscrib id subscriberid_ valu builder clear subscrib id clearsubscriberid result ha subscrib id hassubscriberid result subscrib id subscriberid_ get instanc getdefaultinst get subscrib id getsubscriberid protoc insert point protoc_insertion_point builder scope builder_scop hedwig stop deliveri request stopdeliveryrequest 
test booki roll journal booki journal roll test bookiejournalrollingtest book keeper cluster test bookkeeperclustertestcas logger log logger factori loggerfactori get logger getlogg booki journal roll test bookiejournalrollingtest digest type digesttyp digest type digesttyp booki journal roll test bookiejournalrollingtest digest type digesttyp digest type digesttyp crc32 befor overrid set up setup except set up configur properti need base conf baseconf set max journal size setmaxjournals base conf baseconf set max backup journal setmaxbackupjourn set up setup after overrid tear down teardown except tear down teardown common method creat ledger write entri ledger handl ledgerhandl write ledger entri writeledgerentri num ledger numledg msg size msgsize num msg nummsg except creat ledger ledger handl ledgerhandl lh ledger handl ledgerhandl num ledger numledg ledger id ledgerid num ledger numledg num ledger numledg lh bkc creat ledger createledg digest type digesttyp get byte getbyt ledger id ledgerid lh get id getid write ledger entri writeledgerentri lh msg size msgsize num msg nummsg ledger handl insert ledger entri lh write ledger entri writeledgerentri ledger handl ledgerhandl lh msg size msgsize num msg nummsg except creat dummi messag string write ledger entri string builder stringbuild msg sb msgsb string builder stringbuild msg size msgsize msg sb msgsb append string msg msg sb msgsb string tostr write entri ledger num msg nummsg lh length string builder stringbuild sb string builder stringbuild sb append lh get id getid append append append append msg lh add entri addentri sb string tostr get byte getbyt valid ledger entri validledgerentri ledger id ledgerid msg size msgsize num msg nummsg except open ledger ledger handl ledgerhandl lh ledger handl ledgerhandl ledger id ledgerid length lh length lh bkc open ledger openledg ledger id ledgerid digest type digesttyp get byte getbyt string builder stringbuild msg sb msgsb string builder stringbuild msg size msgsize msg sb msgsb append string msg msg sb msgsb string tostr num read numtoread 10 read entri ledger lh length start read math min num read numtoread num msg nummsg start end start read entri id entryid log debug enabl isdebugen log debug valid entri ledger ledger id ledgerid start num msg nummsg enumer ledger entri ledgerentri seq lh read entri readentri start end asserttru enumer ledger entri ha element seq ha more element hasmoreel seq ha more element hasmoreel ledger entri ledgerentri seq next element nextel equal assertequ entri id entryid get entri id getentryid string builder stringbuild sb string builder stringbuild sb append ledger id ledgerid append append entri id entryid append append msg arrai equal assertarrayequ sb string tostr get byte getbyt get entri getentri entri id entryid equal assertequ entri id entryid end start end read math min num read numtoread num msg nummsg start end start read test write ledger entri roll journal keep journal file befor last mark journal except test test journal roll testjournalrol except log debug enabl isdebugen log debug test journal roll write ledger entri roll journal ledger handl ledgerhandl lh write ledger entri writeledgerentri 1024 1024 ledger id ledgerid lh length lh length ledger id ledgerid lh get id getid sleep ensur data flush thread sleep 2000 verifi keep most journal file file journal dir journaldir tmp dir tmpdir file journal journal dir journaldir list file listfil num journal numjourn file journal get name getnam end endswith txn num journal numjourn asserttru num journal numjourn restart booki ensur after restart read entri journal roll restart booki restartbooki valid ledger entri validledgerentri ledger id ledgerid 1024 1024 test write ledger entri roll journal sync up except test test journal roll syncup testjournalrollingwithoutsyncup except log debug enabl isdebugen log debug test journal roll sync up set flush interv larg valu server configur serverconfigur conf newconf server configur serverconfigur conf newconf set flush interv setflushinterv 999999999 restart booki restart booki restartbooki conf newconf write ledger entri roll journal ledger handl ledgerhandl lh write ledger entri writeledgerentri 1024 1024 ledger id ledgerid lh length lh length ledger id ledgerid lh get id getid ledger index flush after booki restart journal relai ensur read entri restart booki restartbooki conf newconf valid ledger entri validledgerentri ledger id ledgerid 1024 1024 test write ledger entri roll journal sync up except test test replai delet ledger journal entri testreplaydeletedledgerjournalentri except log debug enabl isdebugen log debug test replai journal entri ledger ha remov write entri ledger handl ledgerhandl lh write ledger entri writeledgerentri 1024 10 wait entri flush last mark roll thread sleep base conf baseconf get flush interv getflushinterv restart booki flush interv set larg valu server configur serverconfigur conf newconf server configur serverconfigur conf newconf set flush interv setflushinterv 999999999 restart booki restart booki restartbooki conf newconf write entri let exist journal write ledger entri writeledgerentri lh 1024 10 delet ledger handl ledgerhandl lh lh bkc delet ledger deleteledg lh get id getid wait gc thread sleep conf newconf get gc wait time getgcwaittim restart booki trigger replai journal restart booki restartbooki conf newconf 
builder com googl protobuf gener messag generatedmessag builder builder org apach hedwig protocol pub sub protocol pubsubprotocol publish request publishrequest result construct org apach hedwig protocol pub sub protocol pubsubprotocol publish request publishrequest builder newbuild builder builder creat builder builder builder builder result org apach hedwig protocol pub sub protocol pubsubprotocol publish request publishrequest builder org apach hedwig protocol pub sub protocol pubsubprotocol publish request publishrequest intern get result internalgetresult result builder clear result illeg state except illegalstateexcept call clear after build result org apach hedwig protocol pub sub protocol pubsubprotocol publish request publishrequest builder clone creat merg from mergefrom result com googl protobuf descriptor descriptor get descriptor type getdescriptorfortyp org apach hedwig protocol pub sub protocol pubsubprotocol publish request publishrequest get descriptor getdescriptor org apach hedwig protocol pub sub protocol pubsubprotocol publish request publishrequest get instanc type getdefaultinstancefortyp org apach hedwig protocol pub sub protocol pubsubprotocol publish request publishrequest get instanc getdefaultinst initi isiniti result initi isiniti org apach hedwig protocol pub sub protocol pubsubprotocol publish request publishrequest build result initi isiniti uniniti messag except newuninitializedmessageexcept result build partial buildparti org apach hedwig protocol pub sub protocol pubsubprotocol publish request publishrequest build pars buildpars com googl protobuf invalid protocol buffer except invalidprotocolbufferexcept initi isiniti uniniti messag except newuninitializedmessageexcept result invalid protocol buffer except asinvalidprotocolbufferexcept build partial buildparti org apach hedwig protocol pub sub protocol pubsubprotocol publish request publishrequest build partial buildparti result illeg state except illegalstateexcept build ha call builder org apach hedwig protocol pub sub protocol pubsubprotocol publish request publishrequest returnm result result returnm builder merg from mergefrom com googl protobuf messag org apach hedwig protocol pub sub protocol pubsubprotocol publish request publishrequest merg from mergefrom org apach hedwig protocol pub sub protocol pubsubprotocol publish request publishrequest merg from mergefrom builder merg from mergefrom org apach hedwig protocol pub sub protocol pubsubprotocol publish request publishrequest org apach hedwig protocol pub sub protocol pubsubprotocol publish request publishrequest get instanc getdefaultinst ha msg hasmsg merg msg mergemsg get msg getmsg merg unknown field mergeunknownfield get unknown field getunknownfield builder merg from mergefrom com googl protobuf code input stream codedinputstream input com googl protobuf extens registri lite extensionregistrylit extens registri extensionregistri java io io except ioexcept com googl protobuf unknown field set unknownfieldset builder unknown field unknownfield com googl protobuf unknown field set unknownfieldset builder newbuild get unknown field getunknownfield tag input read tag readtag tag set unknown field setunknownfield unknown field unknownfield build pars unknown field parseunknownfield input unknown field unknownfield extens registri extensionregistri tag set unknown field setunknownfield unknown field unknownfield build 18 org apach hedwig protocol pub sub protocol pubsubprotocol messag builder sub builder subbuild org apach hedwig protocol pub sub protocol pubsubprotocol messag builder newbuild ha msg hasmsg sub builder subbuild merg from mergefrom get msg getmsg input read messag readmessag sub builder subbuild extens registri extensionregistri set msg setmsg sub builder subbuild build partial buildparti requir hedwig messag msg ha msg hasmsg result ha msg hasmsg org apach hedwig protocol pub sub protocol pubsubprotocol messag get msg getmsg result get msg getmsg builder set msg setmsg org apach hedwig protocol pub sub protocol pubsubprotocol messag valu valu pointer except nullpointerexcept result ha msg hasmsg result msg msg_ valu builder set msg setmsg org apach hedwig protocol pub sub protocol pubsubprotocol messag builder builder valu builderforvalu result ha msg hasmsg result msg msg_ builder valu builderforvalu build builder merg msg mergemsg org apach hedwig protocol pub sub protocol pubsubprotocol messag valu result ha msg hasmsg result msg msg_ org apach hedwig protocol pub sub protocol pubsubprotocol messag get instanc getdefaultinst result msg msg_ org apach hedwig protocol pub sub protocol pubsubprotocol messag builder newbuild result msg msg_ merg from mergefrom valu build partial buildparti result msg msg_ valu result ha msg hasmsg builder clear msg clearmsg result ha msg hasmsg result msg msg_ org apach hedwig protocol pub sub protocol pubsubprotocol messag get instanc getdefaultinst protoc insert point protoc_insertion_point builder scope builder_scop hedwig publish request publishrequest 
mac digest manag macdigestmanag digest manag digestmanag logger log logger factori loggerfactori get logger getlogg mac digest manag macdigestmanag string digest algorithm digest_algorithm sha string kei algorithm key_algorithm hmac sha1 hmacsha1 passwd thread local threadloc mac mac thread local threadloc mac overrid mac initi valu initialvalu mac kei mackei gen digest gendigest mac passwd secret kei spec secretkeyspec kei spec keyspec secret kei spec secretkeyspec mac kei mackei kei algorithm key_algorithm mac mac mac get instanc getinst kei algorithm key_algorithm mac init kei spec keyspec mac gener secur except generalsecurityexcept gse log error couldn get mac instanc gse mac digest manag macdigestmanag ledger id ledgerid passwd gener secur except generalsecurityexcept ledger id ledgerid passwd passwd gen digest gendigest string pad passwd algorithm except nosuchalgorithmexcept messag digest messagedigest digest messag digest messagedigest get instanc getinst digest algorithm digest_algorithm digest updat pad get byte getbyt digest updat passwd digest digest overrid get mac code length getmaccodelength 20 overrid get valu reset getvalueandreset mac get dofin overrid updat data offset length mac get updat data offset length 
helper method helpermethod random rand random list messag get random publish messag getrandompublishedmessag num messag nummessag size string bytestr region string bytestr copi from utf8 copyfromutf8 sp1 string bytestr copi from utf8 copyfromutf8 re1 string bytestr copi from utf8 copyfromutf8 sg get random publish messag getrandompublishedmessag num messag nummessag size region list messag get random publish messag getrandompublishedmessag num messag nummessag size string bytestr region list messag msg arrai list arraylist messag num messag nummessag bodi size rand next byte nextbyt bodi msg add messag builder newbuild set bodi setbodi string bytestr copi from copyfrom bodi set src region setsrcregion region rand next nextint region length build msg equal areequ messag m1 messag m2 m1 ha src region hassrcregion m2 ha src region hassrcregion m1 ha src region hassrcregion m1 get src region getsrcregion equal m2 get src region getsrcregion m1 get bodi getbodi equal m2 get bodi getbodi 
test deadlock testdeadlock hedwig hub test base hedwighubtestbas logger logger logger factori loggerfactori get logger getlogg test deadlock testdeadlock client side variabl hedwig client hedwigcli client publish publish subscrib subscrib string bytestr topic string bytestr copi from utf8 copyfromutf8 dead lock topic deadlocktop string bytestr subscrib id subscriberid string bytestr copi from utf8 copyfromutf8 dl overrid befor set up setup except num server numserv num booki numbooki read delai readdelai 1000l 1s set up setup client hedwig client hedwigcli client configur clientconfigur publish client get publish getpublish subscrib client get subscrib getsubscrib overrid after tear down teardown except client close tear down teardown test implement callback async client action test callback testcallback callback synchron queue synchronousqueu queue test callback testcallback synchron queue synchronousqueu queue queue queue overrid oper finish operationfinish object ctx result oper resultofoper thread runnabl overrid run logger debug enabl isdebugen logger debug oper finish concurr util concurrencyutil put queue start overrid oper fail operationfail object ctx pub sub except pubsubexcept except thread runnabl overrid run logger error oper fail except concurr util concurrencyutil put queue start test implement subscrib messag handler test messag handler testmessagehandl messag handler messagehandl synchron queue synchronousqueu consum queue consumequeu add doadd test messag handler testmessagehandl synchron queue synchronousqueu consum queue consumequeu consum queue consumequeu consum queue consumequeu deliv string bytestr string bytestr sub messag msg callback callback object context add doadd after receiv first messag send publish obtain permit second ledger add doadd thread runnabl overrid run publish messag obtain permit logger info start publish messag obtain permit obtain permit wait respons respons delai read entri readentri call read complet readcomplet callback read entri ledger permit block count down latch countdownlatch latch count down latch countdownlatch sleep booki sleepbooki latch latch await synchron queue synchronousqueu queue synchron queue synchronousqueu publish async publish asyncpublish topic get msg getmsg 9999 test callback testcallback queue asserttru queue except logger error fail publish messag obtain permit start thread runnabl overrid run concurr util concurrencyutil put consum queue consumequeu start callback oper finish operationfinish context helper function gener messag messag get msg getmsg msg num msgnum messag builder newbuild set bodi setbodi string bytestr copi from utf8 copyfromutf8 messag msg num msgnum build helper function gener topic string bytestr get topic gettop topic num topicnum string bytestr copi from utf8 copyfromutf8 dead lock topic deadlocktop topic num topicnum test server configur testserverconfigur hub server configur hubserverconfigur test server configur testserverconfigur server port serverport ssl server port sslserverport server port serverport ssl server port sslserverport overrid get bk ensembl size getbkensembles overrid get bk quorum size getbkquorums overrid get read ahead count getreadaheadcount overrid get maximum cach size getmaximumcaches 32 overrid server configur serverconfigur get server configur getserverconfigur server port serverport ssl server port sslserverport server configur serverconfigur server conf serverconf test server configur testserverconfigur server port serverport ssl server port sslserverport org apach bookkeep conf client configur clientconfigur bk client conf bkclientconf org apach bookkeep conf client configur clientconfigur bk client conf bkclientconf set num worker thread setnumworkerthread set read timeout setreadtimeout 9999 set throttl valu setthrottlevalu server conf serverconf add conf addconf bk client conf bkclientconf except server conf serverconf test test deadlock testdeadlock except num messag nummessag synchron queue synchronousqueu consum queue consumequeu synchron queue synchronousqueu subscrib topic logger info setup subscript subscrib subscrib topic subscrib id subscriberid creat attach createorattach creat attach create_or_attach subscrib close subscript closesubscript topic subscrib id subscriberid publish messag form first ledger num messag nummessag logger info start publish messag publish publish topic get msg getmsg stop hub server stophubserv thread sleep 1000 start hub server starthubserv logger info start publish messag publish messag second ledger scan request scan two ledger caus read entri readentri execut previou read entri readentri num messag nummessag logger info start publish messag publish publish topic get msg getmsg logger info start subscrib topic receiv messag subscrib topic subscrib subscrib topic subscrib id subscriberid creat attach createorattach creat attach create_or_attach subscrib start deliveri startdeliveri topic subscrib id subscriberid test messag handler testmessagehandl consum queue consumequeu num messag nummessag asserttru consum queue consumequeu sleep booki sleepbooki second count down latch countdownlatch interrupt except interruptedexcept io except ioexcept string prefix booki thread thread allthread thread thread activ count activecount thread enumer thread allthread thread thread allthread get name getnam start startswith prefix thread sleeper thread run suspend count down countdown thread sleep second 1000 resum except logger error error suspend thread sleeper start io except ioexcept booki thread found 
abstract data callback datacallback async callback asynccallback data callback datacallback process result processresult rc string path object ctx data stat stat safe process result safeprocessresult rc path ctx data stat throwabl invok uncaught except handler invokeuncaughtexceptionhandl abstract safe process result safeprocessresult rc string path object ctx data stat stat 
sync open callback syncopencallback open callback opencallback callback method synchron open oper param rc code param lh ledger handl param ctx option control object open complet opencomplet rc ledger handl ledgerhandl lh object ctx sync counter synccount counter sync counter synccount ctx counter set lh setlh lh log debug open complet rc counter setrc rc counter dec 
timer task retri subscrib remot region retri subscrib task retrysubscribetask timer task timertask overrid run set hedwig hub client hedwighubcli hub client hubclient hash set hashset hedwig hub client hedwighubcli retri map retrymap hub client hubclient add addal retri map retrymap kei set keyset hub client hubclient empti isempti logger debug enabl isdebugen logger debug region myregion string utf8 tostringutf8 hub client retri subscript hedwig hub client hedwighubcli client hub client hubclient set string bytestr topic retri map retrymap topic retri map retrymap remov client topic topic empti isempti count down latch countdownlatch done count down latch countdownlatch callback post cb postcb callback overrid oper finish operationfinish object ctx result oper resultofoper finish overrid oper fail operationfail object ctx pub sub except pubsubexcept except finish finish done count down countdown callback mcb callback util callbackutil multi callback multicallback topic size post cb postcb string bytestr topic topic remot subscrib doremotesubscrib topic status topicstatus get topic topic ha remov retri remot subscrib doremotesubscrib mcb oper finish operationfinish retri subscrib retrysubscrib client topic mcb done await interrupt except interruptedexcept logger warn except retri remot subscript 
sync add callback syncaddcallback add callback addcallback implement callback synchron read method param rc code param leder ledger identifi param entri entri identifi param ctx control object add complet addcomplet rc ledger handl ledgerhandl lh entri object ctx sync counter synccount counter sync counter synccount ctx counter setrc rc counter dec 
consol messag handler consolemessagehandl messag handler messagehandl overrid deliv string bytestr topic string bytestr subscrib id subscriberid messag msg callback callback object context println receiv messag from topic topic string utf8 tostringutf8 subscrib subscrib id subscriberid string utf8 tostringutf8 msg get bodi getbodi string utf8 tostringutf8 callback oper finish operationfinish context 
builder com googl protobuf gener messag generatedmessag builder builder org apach hedwig protocol pub sub protocol pubsubprotocol subscript option subscriptionopt result construct org apach hedwig protocol pub sub protocol pubsubprotocol subscript option subscriptionopt builder newbuild builder builder creat builder builder builder builder result org apach hedwig protocol pub sub protocol pubsubprotocol subscript option subscriptionopt builder org apach hedwig protocol pub sub protocol pubsubprotocol subscript option subscriptionopt intern get result internalgetresult result builder clear result illeg state except illegalstateexcept call clear after build result org apach hedwig protocol pub sub protocol pubsubprotocol subscript option subscriptionopt builder clone creat merg from mergefrom result com googl protobuf descriptor descriptor get descriptor type getdescriptorfortyp org apach hedwig protocol pub sub protocol pubsubprotocol subscript option subscriptionopt get descriptor getdescriptor org apach hedwig protocol pub sub protocol pubsubprotocol subscript option subscriptionopt get instanc type getdefaultinstancefortyp org apach hedwig protocol pub sub protocol pubsubprotocol subscript option subscriptionopt get instanc getdefaultinst initi isiniti result initi isiniti org apach hedwig protocol pub sub protocol pubsubprotocol subscript option subscriptionopt build result initi isiniti uniniti messag except newuninitializedmessageexcept result build partial buildparti org apach hedwig protocol pub sub protocol pubsubprotocol subscript option subscriptionopt build pars buildpars com googl protobuf invalid protocol buffer except invalidprotocolbufferexcept initi isiniti uniniti messag except newuninitializedmessageexcept result invalid protocol buffer except asinvalidprotocolbufferexcept build partial buildparti org apach hedwig protocol pub sub protocol pubsubprotocol subscript option subscriptionopt build partial buildparti result illeg state except illegalstateexcept build ha call builder org apach hedwig protocol pub sub protocol pubsubprotocol subscript option subscriptionopt returnm result result returnm builder merg from mergefrom com googl protobuf messag org apach hedwig protocol pub sub protocol pubsubprotocol subscript option subscriptionopt merg from mergefrom org apach hedwig protocol pub sub protocol pubsubprotocol subscript option subscriptionopt merg from mergefrom builder merg from mergefrom org apach hedwig protocol pub sub protocol pubsubprotocol subscript option subscriptionopt org apach hedwig protocol pub sub protocol pubsubprotocol subscript option subscriptionopt get instanc getdefaultinst ha creat attach hascreateorattach set creat attach setcreateorattach get creat attach getcreateorattach ha messag bound hasmessagebound set messag bound setmessagebound get messag bound getmessagebound merg unknown field mergeunknownfield get unknown field getunknownfield builder merg from mergefrom com googl protobuf code input stream codedinputstream input com googl protobuf extens registri lite extensionregistrylit extens registri extensionregistri java io io except ioexcept com googl protobuf unknown field set unknownfieldset builder unknown field unknownfield com googl protobuf unknown field set unknownfieldset builder newbuild get unknown field getunknownfield tag input read tag readtag tag set unknown field setunknownfield unknown field unknownfield build pars unknown field parseunknownfield input unknown field unknownfield extens registri extensionregistri tag set unknown field setunknownfield unknown field unknownfield build 16 raw valu rawvalu input read readenum org apach hedwig protocol pub sub protocol pubsubprotocol subscrib request subscriberequest creat attach createorattach valu org apach hedwig protocol pub sub protocol pubsubprotocol subscrib request subscriberequest creat attach createorattach valu valueof raw valu rawvalu valu unknown field unknownfield merg varint field mergevarintfield raw valu rawvalu set creat attach setcreateorattach valu 24 set messag bound setmessagebound input read int32 readuint32 option hedwig subscrib request subscriberequest creat attach createorattach creat attach createorattach creat attach create_or_attach ha creat attach hascreateorattach result ha creat attach hascreateorattach org apach hedwig protocol pub sub protocol pubsubprotocol subscrib request subscriberequest creat attach createorattach get creat attach getcreateorattach result get creat attach getcreateorattach builder set creat attach setcreateorattach org apach hedwig protocol pub sub protocol pubsubprotocol subscrib request subscriberequest creat attach createorattach valu valu pointer except nullpointerexcept result ha creat attach hascreateorattach result creat attach createorattach_ valu builder clear creat attach clearcreateorattach result ha creat attach hascreateorattach result creat attach createorattach_ org apach hedwig protocol pub sub protocol pubsubprotocol subscrib request subscriberequest creat attach createorattach creat attach create_or_attach option uint32 messag bound messagebound ha messag bound hasmessagebound result ha messag bound hasmessagebound get messag bound getmessagebound result get messag bound getmessagebound builder set messag bound setmessagebound valu result ha messag bound hasmessagebound result messag bound messagebound_ valu builder clear messag bound clearmessagebound result ha messag bound hasmessagebound result messag bound messagebound_ protoc insert point protoc_insertion_point builder scope builder_scop hedwig subscript option subscriptionopt 
shutdown deliveri manag request shutdowndeliverymanagerrequest deliveri manag request deliverymanagerrequest simpl type request enqueu pub sub server pubsubserv shut down stop deliveri manag deliverymanag thread perform request performrequest keep run keeprun 
rmsub cmd rmsubcmd command mycommand overrid run cmd runcmd string arg except arg length string topic prefix topicprefix arg start topic starttop integ pars parseint arg end topic endtop integ pars parseint arg string sub prefix subprefix arg start sub startsub integ pars parseint arg end sub endsub integ pars parseint arg start topic starttop end topic endtop end sub endsub start sub startsub start topic starttop end topic endtop string bytestr topic string bytestr copi from utf8 copyfromutf8 topic prefix topicprefix start sub startsub end sub endsub string bytestr sub string bytestr copi from utf8 copyfromutf8 sub prefix subprefix subscrib subscrib topic sub creat attach createorattach creat attach create_or_attach subscrib unsubscrib topic sub println rmsub topic string utf8 tostringutf8 done except err println rmsub topic string utf8 tostringutf8 fail print stack trace printstacktrac 
test pub sub client testpubsubcli pub sub server stand test base pubsubserverstandalonetestbas client side variabl hedwig client hedwigcli client publish publish subscrib subscrib synchron queue synchronousqueu verifi async call synchron queue synchronousqueu queue synchron queue synchronousqueu synchron queue synchronousqueu consum queue consumequeu synchron queue synchronousqueu test implement callback async client action test callback testcallback callback overrid oper finish operationfinish object ctx result oper resultofoper thread runnabl overrid run logger debug enabl isdebugen logger debug oper finish concurr util concurrencyutil put queue start overrid oper fail operationfail object ctx pub sub except pubsubexcept except thread runnabl overrid run logger error oper fail except concurr util concurrencyutil put queue start test implement subscrib messag handler test messag handler testmessagehandl messag handler messagehandl deliv string bytestr topic string bytestr subscrib id subscriberid messag msg callback callback object context thread runnabl overrid run logger debug enabl isdebugen logger debug consum oper finish successfulli concurr util concurrencyutil put consum queue consumequeu start callback oper finish operationfinish context overrid befor set up setup except set up setup client hedwig client hedwigcli client configur clientconfigur publish client get publish getpublish subscrib client get subscrib getsubscrib overrid after tear down teardown except client close tear down teardown test test sync publish testsyncpublish except publish success publishsuccess publish publish string bytestr copi from utf8 copyfromutf8 sync topic mysynctop messag builder newbuild set bodi setbodi string bytestr copi from utf8 copyfromutf8 hello sync world build except publish success publishsuccess asserttru publish success publishsuccess test test async publish testasyncpublish except publish async publish asyncpublish string bytestr copi from utf8 copyfromutf8 async topic myasynctop messag builder newbuild set bodi setbodi string bytestr copi from utf8 copyfromutf8 hello async world build test callback testcallback asserttru queue test test multipl async publish testmultipleasyncpublish except string bytestr topic1 string bytestr copi from utf8 copyfromutf8 first topic myfirsttop string bytestr topic2 string bytestr copi from utf8 copyfromutf8 topic mynewtop publish async publish asyncpublish topic1 messag builder newbuild set bodi setbodi string bytestr copi from utf8 copyfromutf8 hello world build test callback testcallback asserttru queue publish async publish asyncpublish topic2 messag builder newbuild set bodi setbodi string bytestr copi from utf8 copyfromutf8 hello topic build test callback testcallback asserttru queue publish async publish asyncpublish topic1 messag builder newbuild set bodi setbodi string bytestr copi from utf8 copyfromutf8 hello old topic build test callback testcallback asserttru queue test test sync subscrib testsyncsubscrib except subscrib success subscribesuccess subscrib subscrib string bytestr copi from utf8 copyfromutf8 sync subscrib topic mysyncsubscribetop string bytestr copi from utf8 copyfromutf8 creat attach createorattach creat attach create_or_attach except subscrib success subscribesuccess asserttru subscrib success subscribesuccess test test async subscrib testasyncsubscrib except subscrib async subscrib asyncsubscrib string bytestr copi from utf8 copyfromutf8 async subscrib topic myasyncsubscribetop string bytestr copi from utf8 copyfromutf8 creat attach createorattach creat attach create_or_attach test callback testcallback asserttru queue test test subscrib consum testsubscribeandconsum except string bytestr topic string bytestr copi from utf8 copyfromutf8 consum topic myconsumetop string bytestr subscrib id subscriberid string bytestr copi from utf8 copyfromutf8 subscrib async subscrib asyncsubscrib topic subscrib id subscriberid creat attach createorattach creat attach create_or_attach test callback testcallback asserttru queue start deliveri subscrib subscrib start deliveri startdeliveri topic subscrib id subscriberid test messag handler testmessagehandl publish messag topic consum subscrib publish async publish asyncpublish topic messag builder newbuild set bodi setbodi string bytestr copi from utf8 copyfromutf8 messag build test callback testcallback asserttru queue asserttru consum queue consumequeu publish async publish asyncpublish topic messag builder newbuild set bodi setbodi string bytestr copi from utf8 copyfromutf8 messag build test callback testcallback asserttru queue asserttru consum queue consumequeu publish async publish asyncpublish topic messag builder newbuild set bodi setbodi string bytestr copi from utf8 copyfromutf8 messag build test callback testcallback asserttru queue asserttru consum queue consumequeu publish async publish asyncpublish topic messag builder newbuild set bodi setbodi string bytestr copi from utf8 copyfromutf8 messag build test callback testcallback asserttru queue asserttru consum queue consumequeu publish async publish asyncpublish topic messag builder newbuild set bodi setbodi string bytestr copi from utf8 copyfromutf8 messag build test callback testcallback asserttru queue asserttru consum queue consumequeu test test async subscrib unsubscrib testasyncsubscribeandunsubscrib except string bytestr topic string bytestr copi from utf8 copyfromutf8 async unsub topic myasyncunsubtop string bytestr subscrib id subscriberid string bytestr copi from utf8 copyfromutf8 subscrib async subscrib asyncsubscrib topic subscrib id subscriberid creat attach createorattach creat attach create_or_attach test callback testcallback asserttru queue subscrib async unsubscrib asyncunsubscrib topic subscrib id subscriberid test callback testcallback asserttru queue test test sync unsubscrib subscript testsyncunsubscribewithoutsubscript except unsubscrib success unsubscribesuccess subscrib unsubscrib string bytestr copi from utf8 copyfromutf8 sync unsub topic mysyncunsubtop string bytestr copi from utf8 copyfromutf8 client subscrib except clientnotsubscribedexcept unsubscrib success unsubscribesuccess except ex unsubscrib success unsubscribesuccess asserttru unsubscrib success unsubscribesuccess test test async subscrib close subscript testasyncsubscribeandclosesubscript except string bytestr topic string bytestr copi from utf8 copyfromutf8 async sub close sub topic myasyncsubandclosesubtop string bytestr subscrib id subscriberid string bytestr copi from utf8 copyfromutf8 subscrib async subscrib asyncsubscrib topic subscrib id subscriberid creat attach createorattach creat attach create_or_attach test callback testcallback asserttru queue subscrib close subscript closesubscript topic subscrib id subscriberid asserttru 
arrai list messag factori arraylistmessagefactori factori list messag arrai list messag factori arraylistmessagefactori instanc arrai list messag factori arraylistmessagefactori list messag instanc newinst arrai list arraylist messag 
pub sub server pubsubserv logger logger logger factori loggerfactori get logger getlogg pub sub server pubsubserv netti relat variabl server socket channel factori serversocketchannelfactori server channel factori serverchannelfactori client socket channel factori clientsocketchannelfactori client channel factori clientchannelfactori server configur serverconfigur conf channel group channelgroup channel allchannel manag compon make up pub sub server pubsubserv persist manag persistencemanag pm deliveri manag deliverymanag dm topic manag topicmanag tm subscript manag subscriptionmanag sm region manag regionmanag rm zoo keeper zookeep zk standalon mode book keeper bookkeep bk standalon mode us prevent stack chain from build up callback schedul executor servic scheduledexecutorservic schedul jmx bean netti handler bean nettyhandlerbean jmx netti bean jmxnettybean pub sub server bean pubsubserverbean jmx server bean jmxserverbean thread group threadgroup tg persist manag persistencemanag instanti persist manag instantiatepersistencemanag topic manag topicmanag topic mgr topicmgr io except ioexcept interrupt except interruptedexcept persist manag rang scan persistencemanagerwithrangescan underli pm underlyingpm conf standalon isstandalon underli pm underlyingpm local db persist manag localdbpersistencemanag instanc client configur clientconfigur bk conf bkconf client configur clientconfigur bk conf bkconf add configur addconfigur conf get conf getconf bk book keeper bookkeep bk conf bkconf zk client channel factori clientchannelfactori keeper except keeperexcept logger error instanti bookkeep client io except ioexcept underli pm underlyingpm bookkeep persist manag bookkeeperpersistencemanag bk zk topic mgr topicmgr conf schedul persist manag persistencemanag pm underli pm underlyingpm conf get read ahead enabl getreadaheaden pm read ahead cach readaheadcach underli pm underlyingpm conf start pm subscript manag subscriptionmanag instanti subscript manag instantiatesubscriptionmanag topic manag topicmanag tm persist manag persistencemanag pm conf standalon isstandalon memori subscript manag inmemorysubscriptionmanag tm pm conf schedul zk subscript manag zksubscriptionmanag zk tm pm conf schedul region manag regionmanag instanti region manag instantiateregionmanag persist manag persistencemanag pm schedul executor servic scheduledexecutorservic schedul region manag regionmanag pm conf zk schedul hedwig hub client factori hedwighubclientfactori conf client channel factori clientchannelfactori instanti zookeep client instantiatezookeepercli except conf standalon isstandalon count down latch countdownlatch signal zk readi signalzkreadi count down latch countdownlatch zk zoo keeper zookeep conf get zk host getzkhost conf get zk timeout getzktimeout watcher overrid process watch event watchedev event event keeper state keeperst sync connect syncconnect equal event get state getstat signal zk readi signalzkreadi count down countdown wait connect effect signal zk readi signalzkreadi await conf get zk timeout getzktimeout time unit timeunit millisecond logger error establish connect zoo keeper zookeep after zk timeout zk_timeout conf get zk timeout getzktimeout ms valu zk timeout zk_timeout 2000 except establish connect zoo keeper zookeep after zk timeout zk_timeout conf get zk timeout getzktimeout ms valu zk timeout zk_timeout 2000 topic manag topicmanag instanti topic manag instantiatetopicmanag io except ioexcept topic manag topicmanag tm conf standalon isstandalon tm trivial topic manag trivialownalltopicmanag conf schedul tm zk topic manag zktopicmanag zk conf schedul pub sub except pubsubexcept logger error instanti zk topic manag io except ioexcept tm map oper type operationtyp handler initi netti handler initializenettyhandl topic manag topicmanag tm deliveri manag deliverymanag dm persist manag persistencemanag pm subscript manag subscriptionmanag sm map oper type operationtyp handler handler hash map hashmap oper type operationtyp handler handler put oper type operationtyp publish publish handler publishhandl tm pm conf handler put oper type operationtyp subscrib subscrib handler subscribehandl tm dm pm sm conf handler put oper type operationtyp unsubscrib unsubscrib handler unsubscribehandl tm conf sm dm handler put oper type operationtyp consum consum handler consumehandl tm sm conf handler collect unmodifi map unmodifiablemap handler handler initi netti initializenetti ssl server context factori sslservercontextfactori ssl factori sslfactori map oper type operationtyp handler handler ssl enabl issslen ssl factori sslfactori intern logger factori internalloggerfactori set factori setdefaultfactori log4 logger factori log4jloggerfactori server bootstrap serverbootstrap bootstrap server bootstrap serverbootstrap server channel factori serverchannelfactori umbrella handler umbrellahandl umbrella handler umbrellahandl umbrella handler umbrellahandl channel allchannel handler ssl enabl issslen pub sub server pipelin factori pubsubserverpipelinefactori pipelin pub sub server pipelin factori pubsubserverpipelinefactori umbrella handler umbrellahandl ssl factori sslfactori conf get maximum messag size getmaximummessages bootstrap set pipelin factori setpipelinefactori pipelin bootstrap set option setopt child tcp delai tcpnodelai bootstrap set option setopt child keep aliv keepal bootstrap set option setopt reus address reuseaddress bind start accept incom connect channel allchannel add bootstrap bind ssl enabl issslen inet socket address inetsocketaddress conf get ssl server port getsslserverport inet socket address inetsocketaddress conf get server port getserverport logger info receiv loop shutdown todo bk close log stop topic manag first core hub server tm stop stop region manag regionmanag rm stop stop deliveri manag deliverymanag read ahead cach readaheadcach thread applic dm stop stop subscript manag subscriptionmanag need sm stop shutdown zoo keeper zookeep book keeper bookkeep client stand mode bk bk close zk zk close interrupt except interruptedexcept logger error error close zoo keeper zookeep client bk except bkexcept bke logger error error close book keeper bookkeep client close releas netti channel resourc channel allchannel close await uninterrupt awaituninterrupt server channel factori serverchannelfactori releas extern resourc releaseexternalresourc client channel factori clientchannelfactori releas extern resourc releaseexternalresourc schedul shutdown unregist jmx unregist jmx unregisterjmx jmx registerjmx map oper type operationtyp handler handler jmx server bean jmxserverbean pub sub server bean pubsubserverbean hedwig bean registri hedwigmbeanregistri get instanc getinst jmx server bean jmxserverbean jmx netti bean jmxnettybean netti handler bean nettyhandlerbean handler hedwig bean registri hedwigmbeanregistri get instanc getinst jmx netti bean jmxnettybean jmx server bean jmxserverbean except logger warn fail jmx jmx netti bean jmxnettybean except logger warn fail jmx jmx server bean jmxserverbean pm read ahead cach readaheadcach read ahead cach readaheadcach pm jmx registerjmx jmx server bean jmxserverbean unregist jmx unregisterjmx pm pm read ahead cach readaheadcach read ahead cach readaheadcach pm unregist jmx unregisterjmx jmx netti bean jmxnettybean hedwig bean registri hedwigmbeanregistri get instanc getinst unregist jmx netti bean jmxnettybean except logger warn fail unregist jmx jmx server bean jmxserverbean hedwig bean registri hedwigmbeanregistri get instanc getinst unregist jmx server bean jmxserverbean except logger warn fail unregist jmx jmx netti bean jmxnettybean jmx server bean jmxserverbean start hedwig server port param port configur except configurationexcept wrong configur io except ioexcept interrupt except interruptedexcept configur except configurationexcept pub sub server pubsubserv server configur serverconfigur conf thread uncaught except handler uncaughtexceptionhandl except handler exceptionhandl configur except configurationexcept first valid conf conf conf conf valid custom thread group overrid uncaught except method tg thread group threadgroup hedwig overrid uncaught except uncaughtexcept thread throwabl except handler exceptionhandl uncaught except uncaughtexcept zoo keeper zookeep thread handler work zk thread except handler call safe async callback safeasynccallback set uncaught except handler setuncaughtexceptionhandl except handler exceptionhandl start except synchron queue synchronousqueu object except queue synchron queue synchronousqueu object except thread tg runnabl overrid run zk need first schedul executor singl thread schedul executor newsinglethreadscheduledexecutor server channel factori serverchannelfactori nio server socket channel factori nioserversocketchannelfactori executor cach thread pool newcachedthreadpool executor cach thread pool newcachedthreadpool client channel factori clientchannelfactori nio client socket channel factori nioclientsocketchannelfactori executor cach thread pool newcachedthreadpool executor cach thread pool newcachedthreadpool instanti zookeep client instantiatezookeepercli tm instanti topic manag instantiatetopicmanag pm instanti persist manag instantiatepersistencemanag tm dm fifo deliveri manag fifodeliverymanag pm conf dm start sm instanti subscript manag instantiatesubscriptionmanag tm pm rm instanti region manag instantiateregionmanag pm schedul sm add listen addlisten rm channel allchannel channel group defaultchannelgroup hedwig initi netti handler us umbrella handler umbrellahandl share ssl non ssl channel map oper type operationtyp handler handler initi netti handler initializenettyhandl tm dm pm sm initi netti regular non ssl channel initi netti initializenetti handler conf ssl enabl issslen initi netti initializenetti ssl server context factori sslservercontextfactori conf handler jmx jmx registerjmx handler except concurr util concurrencyutil put queue right concurr util concurrencyutil put queue object except start object except concurr util concurrencyutil queue left right pub sub server pubsubserv server configur serverconfigur conf except conf termin jvm except handler terminatejvmexceptionhandl param msg param rc code exit error msg exit errormsgandexit string msg throwabl rc logger error msg err println msg exit rc rc invalid conf file rc_invalid_conf_fil rc misconfigur rc_misconfigur rc rc_other param arg main string arg logger info attempt start hedwig server configur serverconfigur conf server configur serverconfigur arg length string conf file conffil arg conf load conf loadconf file conf file conffil uri touri url tourl malform url except malformedurlexcept string msg open configur file conf file conffil error msg exit errormsgandexit msg rc invalid conf file rc_invalid_conf_fil configur except configurationexcept string msg malform configur file conf file conffil error msg exit errormsgandexit msg rc misconfigur rc_misconfigur logger info configur file conf file conffil pub sub server pubsubserv conf start throwabl error msg exit errormsgandexit error startup rc rc_other 
builder com googl protobuf gener messag generatedmessag builder builder org apach hedwig protocol pub sub protocol pubsubprotocol unsubscrib request unsubscriberequest result construct org apach hedwig protocol pub sub protocol pubsubprotocol unsubscrib request unsubscriberequest builder newbuild builder builder creat builder builder builder builder result org apach hedwig protocol pub sub protocol pubsubprotocol unsubscrib request unsubscriberequest builder org apach hedwig protocol pub sub protocol pubsubprotocol unsubscrib request unsubscriberequest intern get result internalgetresult result builder clear result illeg state except illegalstateexcept call clear after build result org apach hedwig protocol pub sub protocol pubsubprotocol unsubscrib request unsubscriberequest builder clone creat merg from mergefrom result com googl protobuf descriptor descriptor get descriptor type getdescriptorfortyp org apach hedwig protocol pub sub protocol pubsubprotocol unsubscrib request unsubscriberequest get descriptor getdescriptor org apach hedwig protocol pub sub protocol pubsubprotocol unsubscrib request unsubscriberequest get instanc type getdefaultinstancefortyp org apach hedwig protocol pub sub protocol pubsubprotocol unsubscrib request unsubscriberequest get instanc getdefaultinst initi isiniti result initi isiniti org apach hedwig protocol pub sub protocol pubsubprotocol unsubscrib request unsubscriberequest build result initi isiniti uniniti messag except newuninitializedmessageexcept result build partial buildparti org apach hedwig protocol pub sub protocol pubsubprotocol unsubscrib request unsubscriberequest build pars buildpars com googl protobuf invalid protocol buffer except invalidprotocolbufferexcept initi isiniti uniniti messag except newuninitializedmessageexcept result invalid protocol buffer except asinvalidprotocolbufferexcept build partial buildparti org apach hedwig protocol pub sub protocol pubsubprotocol unsubscrib request unsubscriberequest build partial buildparti result illeg state except illegalstateexcept build ha call builder org apach hedwig protocol pub sub protocol pubsubprotocol unsubscrib request unsubscriberequest returnm result result returnm builder merg from mergefrom com googl protobuf messag org apach hedwig protocol pub sub protocol pubsubprotocol unsubscrib request unsubscriberequest merg from mergefrom org apach hedwig protocol pub sub protocol pubsubprotocol unsubscrib request unsubscriberequest merg from mergefrom builder merg from mergefrom org apach hedwig protocol pub sub protocol pubsubprotocol unsubscrib request unsubscriberequest org apach hedwig protocol pub sub protocol pubsubprotocol unsubscrib request unsubscriberequest get instanc getdefaultinst ha subscrib id hassubscriberid set subscrib id setsubscriberid get subscrib id getsubscriberid merg unknown field mergeunknownfield get unknown field getunknownfield builder merg from mergefrom com googl protobuf code input stream codedinputstream input com googl protobuf extens registri lite extensionregistrylit extens registri extensionregistri java io io except ioexcept com googl protobuf unknown field set unknownfieldset builder unknown field unknownfield com googl protobuf unknown field set unknownfieldset builder newbuild get unknown field getunknownfield tag input read tag readtag tag set unknown field setunknownfield unknown field unknownfield build pars unknown field parseunknownfield input unknown field unknownfield extens registri extensionregistri tag set unknown field setunknownfield unknown field unknownfield build 18 set subscrib id setsubscriberid input read byte readbyt requir byte subscrib id subscriberid ha subscrib id hassubscriberid result ha subscrib id hassubscriberid com googl protobuf string bytestr get subscrib id getsubscriberid result get subscrib id getsubscriberid builder set subscrib id setsubscriberid com googl protobuf string bytestr valu valu pointer except nullpointerexcept result ha subscrib id hassubscriberid result subscrib id subscriberid_ valu builder clear subscrib id clearsubscriberid result ha subscrib id hassubscriberid result subscrib id subscriberid_ get instanc getdefaultinst get subscrib id getsubscriberid protoc insert point protoc_insertion_point builder scope builder_scop hedwig unsubscrib request unsubscriberequest 
abstract safe runnabl saferunn runnabl logger logger logger factori loggerfactori get logger getlogg safe runnabl saferunn overrid run safe run saferun throwabl logger error unexpect throwabl caught abstract safe run saferun 
client configur clientconfigur abstract configur abstractconfigur logger logger logger factori loggerfactori get logger getlogg client configur clientconfigur member variabl configur paramet name string server host default_server_host server host default_server_host string max messag size max_message_s max messag size max_message_s string max server redirect max_server_redirect max server redirect max_server_redirect string send consum messag enabl auto_send_consume_message_en send consum messag enabl auto_send_consume_message_en string consum messag buffer size consumed_messages_buffer_s consum messag buffer size consumed_messages_buffer_s string messag consum retri wait time message_consume_retry_wait_tim messag consum retri wait time message_consume_retry_wait_tim string subscrib reconnect retri wait time subscribe_reconnect_retry_wait_tim subscrib reconnect retri wait time subscribe_reconnect_retry_wait_tim string max outstand messag max_outstanding_messag max outstand messag max_outstanding_messag string server ack respons timeout server_ack_response_timeout server ack respons timeout server_ack_response_timeout string timeout thread run interv timeout_thread_run_interv timeout thread run interv timeout_thread_run_interv string ssl enabl ssl_enabl ssl enabl ssl_enabl string subscript messag bound subscription_message_bound subscript messag bound subscription_message_bound singleton instanti client configur clientconfigur hedwig socket address hedwigsocketaddress server address mydefaultserveraddress getter client configur paramet point server host vip front server hub hedwig socket address hedwigsocketaddress encapsul regular ssl port connect server host hedwig socket address hedwigsocketaddress get server hedwig socket address getdefaultserverhedwigsocketaddress server address mydefaultserveraddress server address mydefaultserveraddress hedwig socket address hedwigsocketaddress conf get string getstr server host default_server_host localhost 4080 9876 server address mydefaultserveraddress get server inet socket address inetsocketaddress base ssl enabl inet socket address inetsocketaddress get server host getdefaultserverhost ssl enabl issslen get server hedwig socket address getdefaultserverhedwigsocketaddress get ssl socket address getsslsocketaddress get server hedwig socket address getdefaultserverhedwigsocketaddress get socket address getsocketaddress get maximum messag size getmaximummessages conf get getint max messag size max_message_s 1024 1024 paramet set maximum number server redirect allow befor error condit stop infinit redirect loop problem hub server topic mastership get maximum server redirect getmaximumserverredirect conf get getint max server redirect max_server_redirect paramet flag indic client librari automat send consum messag server base configur amount messag consum client app client app choos overrid behavior manual send consum messag server client librari logic polici send consum messag enabl isautosendconsumemessageen conf get getboolean send consum messag enabl auto_send_consume_message_en paramet set consum messag ll buffer up befor send consum messag server indic messag up point successfulli consum client get consum messag buffer size getconsumedmessagesbuffers conf get getint consum messag buffer size consumed_messages_buffer_s paramet us determin wait befor retri client app messag handler messagehandl consum subscrib messag sent from server time wait millisecond get messag consum retri wait time getmessageconsumeretrywaittim conf get getlong messag consum retri wait time message_consume_retry_wait_tim 10000 paramet us determin wait befor retri subscrib reconnect request done connect server disconnect attempt connect ll keep server down longer time throttl subscrib reconnect request time wait millisecond get subscrib reconnect retri wait time getsubscribereconnectretrywaittim conf get getlong subscrib reconnect retri wait time subscribe_reconnect_retry_wait_tim 10000 paramet set maximum number outstand messag client app consum time topic subscript befor throttl thing stop read from netti channel get maximum outstand messag getmaximumoutstandingmessag conf get getint max outstand messag max_outstanding_messag 10 paramet us determin wait millisecond befor time outstand pub sub request pubsubrequest written server successfulli haven receiv ack respons get server ack respons timeout getserverackresponsetimeout conf get getlong server ack respons timeout server_ack_response_timeout 30000 paramet us determin run server ack respons timeout cleaner thread millisecond get timeout thread run interv gettimeoutthreadruninterv conf get getlong timeout thread run interv timeout_thread_run_interv 60000 paramet flag indic commun server done ssl encrypt need cross colo hub client listen non local server ssl enabl issslen conf get getboolean ssl enabl ssl_enabl maximum number messag hub queue subscript creat configur hub queue most recent messag publish topic hit bound oldest messag drop from queue bound disabl bound complet get subscript messag bound getsubscriptionmessagebound conf get getint subscript messag bound subscription_message_bound valid configur properti valid valid configur except configurationexcept ssl enabl issslen get server hedwig socket address getdefaultserverhedwigsocketaddress get ssl socket address getsslsocketaddress configur except configurationexcept ssl enabl server ssl port add valid check here 
booki server bean mbean booki server mx bean bookieservermxbean packet receiv get num packet receiv getnumpacketsreceiv packet sent get num packet sent getnumpacketss add stat op stat data opstatdata get add stat getaddstat read stat op stat data opstatdata get read stat getreadstat server state string get server state getserverst server port string get server port getserverport 
ledger handl contain ledger metadata us access read write oper ledger ledger handl ledgerhandl logger log logger factori loggerfactori get logger getlogg ledger handl ledgerhandl ledger kei ledgerkei ledger metadata ledgermetadata metadata book keeper bookkeep bk ledger id ledgerid last add push lastaddpush last add confirm lastaddconfirm length digest manag digestmanag mac manag macmanag distribut schedul distributionschedul distribut schedul distributionschedul semaphor op counter sem opcountersem integ throttl invalid entri id valu return from method entri id valid entri avail invalid entri id invalid_entry_id booki protocol bookieprotocol invalid entri id invalid_entry_id queue pend add op pendingaddop pend add op pendingaddop concurr link queue concurrentlinkedqueu pend add op pendingaddop ledger handl ledgerhandl book keeper bookkeep bk ledger id ledgerid ledger metadata ledgermetadata metadata digest type digesttyp digest type digesttyp password gener secur except generalsecurityexcept number format except numberformatexcept bk bk metadata metadata metadata close isclos last add confirm lastaddconfirm last add push lastaddpush metadata close length metadata length last add confirm lastaddconfirm last add push lastaddpush invalid entri id invalid_entry_id length ledger id ledgerid ledger id ledgerid throttl bk get conf getconf get throttl valu getthrottlevalu op counter sem opcountersem semaphor throttl mac manag macmanag digest manag digestmanag instanti ledger id ledgerid password digest type digesttyp ledger kei ledgerkei mac digest manag macdigestmanag gen digest gendigest ledger password distribut schedul distributionschedul round robin distribut schedul roundrobindistributionschedul metadata quorum size quorums metadata ensembl size ensembles get id current ledger id ledger get id getid ledger id ledgerid get last confirm entri id ledger read local state ledger handl differ from read last confirm readlastconfirm call ledger close client reader necessari call read last confirm readlastconfirm obtain estim last add oper ha confirm read last confirm readlastconfirm last confirm entri id link invalid entri id invalid_entry_id invalid entri id invalid_entry_id entri ha confirm get last add confirm getlastaddconfirm last add confirm lastaddconfirm get entri id last entri ha enqueu addit possibl persit ledger id last entri push link invalid entri id invalid_entry_id invalid entri id invalid_entry_id entri ha push get last add push getlastaddpush last add push lastaddpush get ledger kei password arrai ledger kei password get ledger kei getledgerkei arrai copi copyof ledger kei ledgerkei ledger kei ledgerkei length get ledger metadata ledgermetadata ledger metadata ledgermetadata ledger handl ledgerhandl ledger metadata ledgermetadata get ledger metadata getledgermetadata metadata get digest manag digestmanag digest manag digestmanag ledger handl ledgerhandl digest manag digestmanag get digest manag getdigestmanag mac manag macmanag total number avail slot avail slot semaphor get avail permit getavailablepermit op counter sem opcountersem add length ledger byte param delta add length addtolength delta length delta length return length ledger byte length ledger byte get length getlength length get distribut schedul distribut schedul distributionschedul ledger handl ledgerhandl distribut schedul distributionschedul get distribut schedul getdistributionschedul distribut schedul distributionschedul write ledger config writeledgerconfig stat callback statcallback callback object ctx log debug enabl isdebugen log debug write metadata zoo keeper zookeep ledger id ledgerid metadata get znode version getznodevers bk get zk handl getzkhandl set data setdata bk get ledger manag getledgermanag get ledger path getledgerpath ledger id ledgerid metadata serial metadata get znode version getznodevers callback ctx close ledger synchron async close asyncclos close interrupt except interruptedexcept bk except bkexcept sync counter synccount counter sync counter synccount counter async close asyncclos sync close callback syncclosecallback counter counter block counter getrc bk except bkexcept code bk except bkexcept creat counter getrc asynchron close add flight error close ledger ensur client agre last entri ledger ensur ledger ha close read from ledger set entri param cb callback implement param ctx control object interrupt except interruptedexcept async close asyncclos close callback closecallback cb object ctx async close intern asynccloseintern cb ctx bk except bkexcept code ledger close except ledgerclosedexcept version async close asyncclos on take addit paramet code hand pend add op param cb param ctx param rc async close intern asynccloseintern close callback closecallback cb object ctx rc bk main worker pool mainworkerpool submit order submitord ledger id ledgerid safe runnabl saferunn overrid safe run saferun prev close prevclos prev length prevlength ledger handl ledgerhandl prev close prevclos metadata close prev length prevlength metadata length ledger handl ledgerhandl ensur last add push lastaddpush updat after metadata close metadata length length close oper idempot check close metadata close last add confirm lastaddconfirm error pend add erroroutpendingadd rc last add push lastaddpush last add confirm lastaddconfirm log debug enabl isdebugen log debug close ledger ledger id ledgerid entri id entryid metadata close byte metadata length close cb closecb stat callback statcallback overrid process result processresult rc string path object subctx stat stat rc keeper except keeperexcept code bad version badvers reread metadata rereadmetadata gener callback genericcallback ledger metadata ledgermetadata overrid oper complet operationcomplet newrc ledger metadata ledgermetadata meta newmeta newrc bk except bkexcept code log error error read metadata from ledger ledger id ledgerid close code newrc cb close complet closecomplet bk except bkexcept code zk except zkexcept ledger handl ledgerhandl ctx metadata close prev close prevclos metadata length prev length prevlength metadata resolv conflict resolveconflict meta newmeta metadata length length metadata close last add confirm lastaddconfirm write ledger config writeledgerconfig close cb closecb metadata length length metadata close last add confirm lastaddconfirm log warn condit write fail keeper except keeperexcept code get keeper except keeperexcept code bad version badvers cb close complet closecomplet bk except bkexcept code zk except zkexcept ledger handl ledgerhandl ctx rc keeper except keeperexcept code valu intvalu log warn condit write fail keeper except keeperexcept code get rc cb close complet closecomplet bk except bkexcept code zk except zkexcept ledger handl ledgerhandl ctx metadata updat znode statu updateznodestatu stat cb close complet closecomplet bk except bkexcept code ledger handl ledgerhandl ctx write ledger config writeledgerconfig close cb closecb read sequenc entri synchron param first entri firstentri id first entri sequenc includ param last entri lastentri id last entri sequenc includ enumer ledger entri ledgerentri read entri readentri first entri firstentri last entri lastentri interrupt except interruptedexcept bk except bkexcept sync counter synccount counter sync counter synccount counter async read entri asyncreadentri first entri firstentri last entri lastentri sync read callback syncreadcallback counter counter block counter getrc bk except bkexcept code bk except bkexcept creat counter getrc counter get sequenc getsequ read sequenc entri asynchron param first entri firstentri id first entri sequenc param last entri lastentri id last entri sequenc param cb object implement read callback param ctx control object async read entri asyncreadentri first entri firstentri last entri lastentri read callback readcallback cb object ctx littl saniti check first entri firstentri last entri lastentri last add confirm lastaddconfirm first entri firstentri last entri lastentri cb read complet readcomplet bk except bkexcept code read except readexcept ctx pend read op pendingreadop first entri firstentri last entri lastentri cb ctx initi interrupt except interruptedexcept cb read complet readcomplet bk except bkexcept code interrupt except interruptedexcept ctx add entri synchron open ledger param data arrai byte written ledger add entri addentri data interrupt except interruptedexcept bk except bkexcept add entri addentri data data length add entri synchron open ledger param data arrai byte written ledger param offset offset from byte from data param length number byte from data add entri addentri data offset length interrupt except interruptedexcept bk except bkexcept log debug ad entri data sync counter synccount counter sync counter synccount counter async add entri asyncaddentri data offset length sync add callback syncaddcallback counter counter block counter getrc bk except bkexcept code bk except bkexcept creat counter getrc counter getrc bk except bkexcept code bk except bkexcept creat counter getrc add entri asynchron open ledger param data arrai byte written param cb object implement callbackinterfac param ctx control object async add entri asyncaddentri data add callback addcallback cb object ctx async add entri asyncaddentri data data length cb ctx add entri asynchron open ledger offset rang param data arrai byte written param offset offset from byte from data param length number byte from data param cb object implement callbackinterfac param ctx control object arrai index bound except arrayindexoutofboundsexcept offset length neg offset length sum valu higher length data async add entri asyncaddentri data offset length add callback addcallback cb object ctx pend add op pendingaddop op pend add op pendingaddop ledger handl ledgerhandl cb ctx async add entri doasyncaddentri op data offset length cb ctx make recoveri add entri request recoveri add add ledger even ha fenc valid booki ledger recoveri replic entri quorum booki ensur data safeti normal client call method async recoveri add entri asyncrecoveryaddentri data offset length add callback addcallback cb object ctx pend add op pendingaddop op pend add op pendingaddop ledger handl ledgerhandl cb ctx enabl recoveri add enablerecoveryadd async add entri doasyncaddentri op data offset length cb ctx async add entri doasyncaddentri pend add op pendingaddop op data offset length add callback addcallback cb object ctx offset length offset length data length arrai index bound except arrayindexoutofboundsexcept invalid valu offset offset length length op counter sem opcountersem acquir interrupt except interruptedexcept cb add complet addcomplet bk except bkexcept code interrupt except interruptedexcept ledger handl ledgerhandl invalid entri id invalid_entry_id ctx entri id entryid current length currentlength ensur ledger isn close check updat last add push lastaddpush metadata close isclos log warn attempt add close ledger ledger id ledgerid ledger handl ledgerhandl op counter sem opcountersem releas cb add complet addcomplet bk except bkexcept code ledger close except ledgerclosedexcept ledger handl ledgerhandl invalid entri id invalid_entry_id ctx entri id entryid last add push lastaddpush current length currentlength add length addtolength length op set entri id setentryid entri id entryid pend add op pendingaddop add op bk main worker pool mainworkerpool submit safe runnabl saferunn overrid safe run saferun channel buffer channelbuff send tosend mac manag macmanag comput digest send computedigestandpackageforsend entri id entryid last add confirm lastaddconfirm current length currentlength data offset length op initi send tosend runtim except runtimeexcept op counter sem opcountersem releas obtain asynchron last confirm write from quorum booki call obtain last add confirm booki ha receiv ledger return maximum ledger ha close valu return call correspond id last entri ledger read hint booki ledger ha close differ valu get last add confirm getlastaddconfirm return local valu ledger handl get last add confirm getlastaddconfirm param cb param ctx async read last confirm asyncreadlastconfirm read last confirm callback readlastconfirmedcallback cb object ctx read last confirm op readlastconfirmedop last confirm data callback lastconfirmeddatacallback innercb read last confirm op readlastconfirmedop last confirm data callback lastconfirmeddatacallback read last confirm data complet readlastconfirmeddatacomplet rc digest manag digestmanag recoveri data recoverydata data rc bk except bkexcept code last add confirm lastaddconfirm math max last add confirm lastaddconfirm data last add confirm lastaddconfirm last add push lastaddpush math max last add push lastaddpush data last add confirm lastaddconfirm length math max length data length cb read last confirm complet readlastconfirmedcomplet rc data last add confirm lastaddconfirm ctx cb read last confirm complet readlastconfirmedcomplet rc invalid entri id invalid_entry_id ctx read last confirm op readlastconfirmedop innercb initi context object synchron call read last confirm last confirm ctx lastconfirmedctx entri id pend entry_id_pend 10 respons rc last confirm ctx lastconfirmedctx respons entri id pend entry_id_pend set last confirm setlastconfirm last confirm lastconfirm respons last confirm lastconfirm getlast confirm getlastconfirm respons set rc setrc rc rc rc get rc getrc rc readi respons entri id pend entry_id_pend obtain synchron last confirm write from quorum booki call obtain last add confirm booki ha receiv ledger return maximum ledger ha close valu return call correspond id last entri ledger read hint booki ledger ha close differ valu get last add confirm getlastaddconfirm return local valu ledger handl get last add confirm getlastaddconfirm entri id last confirm write link invalid entri id invalid_entry_id invalid entri id invalid_entry_id entri ha confirm interrupt except interruptedexcept bk except bkexcept read last confirm readlastconfirm interrupt except interruptedexcept bk except bkexcept last confirm ctx lastconfirmedctx ctx last confirm ctx lastconfirmedctx async read last confirm asyncreadlastconfirm sync read last confirm callback syncreadlastconfirmedcallback ctx ctx ctx readi ctx wait ctx get rc getrc bk except bkexcept code bk except bkexcept creat ctx get rc getrc ctx getlast confirm getlastconfirm close ledger send fail add pipelin handl unrecover error add handleunrecoverableerrorduringadd rc metadata recoveri isinrecoveri close ledger ledger recoveri mode lose entri error pend add erroroutpendingadd rc async close intern asynccloseintern noop close callback noopclosecallback instanc rc error pend add erroroutpendingadd rc pend add op pendingaddop pend add op pendingaddop pend add op pendingaddop pend add op pendingaddop poll pend add op pendingaddop submit callback submitcallback rc send add success callback sendaddsuccesscallback start from head queue proce entri respons back pend add op pendingaddop pend add op pendingaddop pend add op pendingaddop pend add op pendingaddop peek pend add op pendingaddop num respons pend numresponsespend pend add op pendingaddop remov last add confirm lastaddconfirm pend add op pendingaddop entri id entryid pend add op pendingaddop submit callback submitcallback bk except bkexcept code handl booki failur handlebookiefailur inet socket address inetsocketaddress addr booki index bookieindex inet socket address inetsocketaddress booki newbooki log debug enabl isdebugen log debug handl failur booki addr index booki index bookieindex booki newbooki bk booki watcher bookiewatch get addit booki getadditionalbooki metadata current ensembl currentensembl bk booki except bknotenoughbookiesexcept log error get addit booki remak ensembl close ledger ledger id ledgerid handl unrecover error add handleunrecoverableerrorduringadd get code getcod arrai list arraylist inet socket address inetsocketaddress ensembl newensembl arrai list arraylist inet socket address inetsocketaddress metadata current ensembl currentensembl ensembl newensembl set booki index bookieindex booki newbooki log debug enabl isdebugen log debug chang ensembl from metadata current ensembl currentensembl ensembl newensembl ledger ledger id ledgerid start entri last add confirm lastaddconfirm ensembl start entri newensemblestartentri last add confirm lastaddconfirm metadata add ensembl addensembl ensembl start entri newensemblestartentri ensembl newensembl chang ensembl cb changeensemblecb stat callback statcallback overrid process result processresult rc string path object ctx stat stat bk main worker pool mainworkerpool submit order submitord ledger id ledgerid safe runnabl saferunn overrid safe run saferun rc keeper except keeperexcept code bad version badvers reread metadata rereadmetadata gener callback genericcallback ledger metadata ledgermetadata overrid oper complet operationcomplet newrc ledger metadata ledgermetadata meta newmeta newrc bk except bkexcept code log error error read metadata from ledger after chang ensembl code newrc handl unrecover error add handleunrecoverableerrorduringadd bk except bkexcept code zk except zkexcept ensembl ad start entri larger zero ensembl start entri newensemblestartentri metadata get ensembl getensembl remov ensembl start entri newensemblestartentri metadata resolv conflict resolveconflict meta newmeta metadata add ensembl addensembl ensembl start entri newensemblestartentri ensembl newensembl write ledger config writeledgerconfig chang ensembl cb changeensemblecb log error resolv ledger metadata conflict chang ensembl ensembl newensembl old meta data string metadata serial meta data string meta newmeta serial close ledger handl unrecover error add handleunrecoverableerrorduringadd bk except bkexcept code zk except zkexcept rc keeper except keeperexcept code valu intvalu log error persist ledger metadata chang ensembl ensembl newensembl close ledger handl unrecover error add handleunrecoverableerrorduringadd bk except bkexcept code zk except zkexcept metadata updat znode statu updateznodestatu stat pend add op pendingaddop pend add op pendingaddop pend add op pendingaddop pend add op pendingaddop unset success send write request unsetsuccessandsendwriterequest booki index bookieindex write ledger config writeledgerconfig chang ensembl cb changeensemblecb reread metadata rereadmetadata gener callback genericcallback ledger metadata ledgermetadata cb bk get zk handl getzkhandl get data getdata bk get ledger manag getledgermanag get ledger path getledgerpath ledger id ledgerid data callback datacallback process result processresult rc string path object ctx data stat stat rc keeper except keeperexcept code valu intvalu log error error read metadata from ledger code rc cb oper complet operationcomplet bk except bkexcept code zk except zkexcept ledger metadata ledgermetadata meta newmeta ledger metadata ledgermetadata pars config parseconfig data stat get version getvers cb oper complet operationcomplet bk except bkexcept code meta newmeta io except ioexcept log error error pars ledger metadata ledger cb oper complet operationcomplet bk except bkexcept code zk except zkexcept recov gener callback genericcallback cb metadata close isclos last add confirm lastaddconfirm last add push lastaddpush metadata close length metadata length close cb oper complet operationcomplet bk except bkexcept code metadata recov dont write recoveri from start point metadata recoveri isinrecoveri ledger recoveri op ledgerrecoveryop ledger handl ledgerhandl cb initi metadata mark ledger recoveri markledgerinrecoveri write ledger config writeledgerconfig stat callback statcallback overrid process result processresult rc string path object ctx stat stat rc keeper except keeperexcept code bad version badvers reread metadata rereadmetadata gener callback genericcallback ledger metadata ledgermetadata overrid oper complet operationcomplet rc ledger metadata ledgermetadata meta newmeta rc bk except bkexcept code cb oper complet operationcomplet rc metadata meta newmeta recov cb rc keeper except keeperexcept code valu intvalu metadata znode version znodevers stat get version getvers ledger recoveri op ledgerrecoveryop ledger handl ledgerhandl cb initi log error error write ledger config rc path path cb oper complet operationcomplet bk except bkexcept code zk except zkexcept noop close callback noopclosecallback close callback closecallback noop close callback noopclosecallback instanc noop close callback noopclosecallback overrid close complet closecomplet rc ledger handl ledgerhandl lh object ctx rc keeper except keeperexcept code valu intvalu log warn close fail bk except bkexcept get messag getmessag rc noop sync read callback syncreadcallback read callback readcallback implement callback synchron read method param rc code param leder ledger identifi param seq sequenc entri param ctx control object read complet readcomplet rc ledger handl ledgerhandl lh enumer ledger entri ledgerentri seq object ctx sync counter synccount counter sync counter synccount ctx counter counter set sequenc setsequ seq counter setrc rc counter dec counter notifi sync add callback syncaddcallback add callback addcallback implement callback synchron read method param rc code param leder ledger identifi param entri entri identifi param ctx control object add complet addcomplet rc ledger handl ledgerhandl lh entri object ctx sync counter synccount counter sync counter synccount ctx counter setrc rc counter dec sync read last confirm callback syncreadlastconfirmedcallback read last confirm callback readlastconfirmedcallback implement callback synchron read last confirm method read last confirm complet readlastconfirmedcomplet rc last confirm lastconfirm object ctx last confirm ctx lastconfirmedctx lc ctx lcctx last confirm ctx lastconfirmedctx ctx lc ctx lcctx lc ctx lcctx set rc setrc rc lc ctx lcctx set last confirm setlastconfirm last confirm lastconfirm lc ctx lcctx notifi sync close callback syncclosecallback close callback closecallback close callback method param rc param lh param ctx close complet closecomplet rc ledger handl ledgerhandl lh object ctx sync counter synccount counter sync counter synccount ctx counter setrc rc counter counter dec counter notifi 
booki bean mbean booki mx bean bookiemxbean log entri queue length get queue length getqueuelength 
write callback writecallback channel futur listen channelfuturelisten logger logger logger factori loggerfactori get logger getlogg write callback writecallback member variabl pub sub data pubsubdata pub sub data pubsubdata hedwig client impl hedwigclientimpl client client configur clientconfigur cfg constructor write callback writecallback pub sub data pubsubdata pub sub data pubsubdata hedwig client impl hedwigclientimpl client pub sub data pubsubdata pub sub data pubsubdata client client cfg client get configur getconfigur oper complet operationcomplet channel futur channelfutur futur except client ha stop proce callback logic here client ha stop hasstop futur get channel getchannel close write oper server done check success inet socket address inetsocketaddress host hedwig client impl hedwigclientimpl get host from channel gethostfromchannel futur get channel getchannel futur success issuccess logger error error write channel host host write failur pub sub request pubsubrequest remov save txn id txnid pub sub data pubsubdata respons handler responsehandl request receiv ack respons from server point store inform anymor hedwig client impl hedwigclientimpl get respons handler from channel getresponsehandlerfromchannel futur get channel getchannel txn2 pub sub data txn2pubsubdata remov pub sub data pubsubdata txn id txnid futur get channel getchannel close abl write channel server host host di wrong channel connect connect host write string bytestr host string hoststr host string bytestr copi from utf8 copyfromutf8 hedwig socket address hedwigsocketaddress sock addr str sockaddrstr host pub sub data pubsubdata write fail server writefailedserv pub sub data pubsubdata write fail server writefailedserv contain host string hoststr ve write server previous fail invok oper fail operationfail callback logger error error write host more invok oper fail operationfail callback pub sub data pubsubdata callback oper fail operationfail pub sub data pubsubdata context servic down except servicedownexcept error write messag server host string hoststr logger debug enabl isdebugen logger debug send pub sub request pubsubrequest server host vip pub sub data pubsubdata pub sub data pubsubdata keep track current server fail write retri request server host vip pub sub data pubsubdata write fail server writefailedserv pub sub data pubsubdata write fail server writefailedserv link list linkedlist string bytestr pub sub data pubsubdata write fail server writefailedserv add host string hoststr client connect doconnect pub sub data pubsubdata cfg get server host getdefaultserverhost write server done wait respond respons handler responsehandl care ack respons from server befor determin async pub sub pubsub call ha complet successfulli logger debug enabl isdebugen logger debug successfulli wrote host host pub sub data pubsubdata pub sub data pubsubdata 
pub sub server pipelin factori pubsubserverpipelinefactori channel pipelin factori channelpipelinefactori todo make conf set max worker thread max_worker_thread 32 max channel memori size max_channel_memory_s 10 1024 1024 max total memori size max_total_memory_s 100 1024 1024 umbrella handler umbrellahandl uh ssl server context factori sslservercontextfactori ssl factori sslfactori max messag size maxmessages param uh param ssl factori sslfactori ssl disabl param cfg pub sub server pipelin factori pubsubserverpipelinefactori umbrella handler umbrellahandl uh ssl server context factori sslservercontextfactori ssl factori sslfactori max messag size maxmessages uh uh ssl factori sslfactori ssl factori sslfactori max messag size maxmessages max messag size maxmessages channel pipelin channelpipelin get pipelin getpipelin except channel pipelin channelpipelin pipelin channel pipelin ssl factori sslfactori pipelin add last addlast ssl ssl handler sslhandler ssl factori sslfactori get engin getengin pipelin add last addlast lengthbaseddecod length field base frame decod lengthfieldbasedframedecod max messag size maxmessages pipelin add last addlast lengthprepend length field prepend lengthfieldprepend pipelin add last addlast protobufdecod protobuf decod protobufdecod pub sub protocol pubsubprotocol pub sub request pubsubrequest get instanc getdefaultinst pipelin add last addlast protobufencod protobuf encod protobufencod pipelin add last addlast executor execut handler executionhandl order memori awar thread pool executor orderedmemoryawarethreadpoolexecutor max worker thread max_worker_thread max channel memori size max_channel_memory_s max total memori size max_total_memory_s depend inject pipelin add last addlast umbrellahandl uh pipelin 
book keeper bookkeep bean mbean info bkm bean info bkmbeaninfo zkm bean info zkmbeaninfo 
subscrib op subscribeop topic op queuer topicopqueu asynchron op asynchronousop messag seq id messageseqid subscrib request subscriberequest sub request subrequest messag seq id messageseqid consum seq id consumeseqid subscrib op subscribeop string bytestr topic subscrib request subscriberequest sub request subrequest messag seq id messageseqid consum seq id consumeseqid callback messag seq id messageseqid callback object ctx queuer topic callback ctx sub request subrequest sub request subrequest consum seq id consumeseqid consum seq id consumeseqid overrid run map string bytestr memori subscript state inmemorysubscriptionst topic subscript topicsubscript top2 sub2 seq top2sub2seq get topic topic subscript topicsubscript cb oper fail operationfail ctx pub sub except pubsubexcept server respons topic except servernotresponsiblefortopicexcept string bytestr subscrib id subscriberid sub request subrequest get subscrib id getsubscriberid memori subscript state inmemorysubscriptionst subscript state subscriptionst topic subscript topicsubscript get subscrib id subscriberid creat attach createorattach creat attach createorattach sub request subrequest get creat attach getcreateorattach subscript state subscriptionst creat attach createorattach equal creat attach createorattach creat string msg topic topic string utf8 tostringutf8 subscrib id subscriberid subscrib id subscriberid string utf8 tostringutf8 request creat subscript subscrib state subscript state util subscriptionstateutil string tostr subscript state subscriptionst get subscript state getsubscriptionst logger debug msg cb oper fail operationfail ctx pub sub except pubsubexcept client subscrib except clientalreadysubscribedexcept msg attach logger debug enabl isdebugen logger debug topic topic string utf8 tostringutf8 subscrib id subscriberid subscrib id subscriberid string utf8 tostringutf8 attach subscript state subscript state util subscriptionstateutil string tostr subscript state subscriptionst get subscript state getsubscriptionst cb oper finish operationfinish ctx subscript state subscriptionst get last consum seq id getlastconsumeseqid don map subscrib creat attach createorattach equal creat attach createorattach attach string msg topic topic string utf8 tostringutf8 subscrib id subscriberid subscrib id subscriberid string utf8 tostringutf8 request attach exist subscript subscrib logger debug msg cb oper fail operationfail ctx pub sub except pubsubexcept client subscrib except clientnotsubscribedexcept msg hard brand subscript record subscript state subscriptionst builder state builder statebuild subscript state subscriptionst builder newbuild set msg id setmsgid consum seq id consumeseqid sub request subrequest ha messag bound hasmessagebound state builder statebuild state builder statebuild set messag bound setmessagebound sub request subrequest get messag bound getmessagebound subscript state subscriptionst state newstat state builder statebuild build creat subscript state createsubscriptionst topic subscrib id subscriberid state newstat callback overrid oper fail operationfail object ctx pub sub except pubsubexcept except cb oper fail operationfail ctx except overrid oper finish operationfinish object ctx result oper resultofoper callback cb2 callback overrid oper fail operationfail object ctx pub sub except pubsubexcept except logger error subscript subscrib subscrib id subscriberid string utf8 tostringutf8 topic topic string utf8 tostringutf8 fail fail listen callback except remov subscript cross region subscript fail delet subscript state deletesubscriptionst topic subscrib id subscriberid callback overrid oper finish operationfinish object context result oper resultofoper finish overrid oper fail operationfail object context pub sub except pubsubexcept ex logger error remov subscript subscrib subscrib id subscriberid string utf8 tostringutf8 topic topic string utf8 tostringutf8 fail ex finish finish decrement local count remot subscript fail subscript state util subscriptionstateutil hub subscrib ishubsubscrib sub request subrequest get subscrib id getsubscriberid subscrib op execut on on queue order follow code happen remot subscript fail safe decrement local count next subscrib op chanc subscrib remot atom integ atomicinteg count topic2 local count topic2localcount get topic count count decrement get decrementandget cb oper fail operationfail ctx except ctx overrid oper finish operationfinish object ctx result oper resultofoper topic subscript topicsubscript put subscrib id subscriberid memori subscript state inmemorysubscriptionst state newstat updat messag bound updatemessagebound topic cb oper finish operationfinish ctx consum seq id consumeseqid atom integ atomicinteg count topic2 local count topic2localcount get topic subscript state util subscriptionstateutil hub subscrib ishubsubscrib sub request subrequest get subscrib id getsubscriberid count count increment get incrementandget notifi subscrib notifysubscrib topic sub request subrequest get synchron getsynchron cb2 ctx cb2 oper finish operationfinish ctx result oper resultofoper ctx 
admin client book keeper bookkeep cluster book keeper admin bookkeeperadmin logger log logger factori loggerfactori get logger getlogg book keeper admin bookkeeperadmin string colon zk client instanc zoo keeper zookeep zk zk ledger relat string constant string booki path bookiespath book keeper bookkeep client instanc book keeper bookkeep bkc random number gener us choos avail booki server replic data from dead booki random rand random assum ledger creat digest type digesttyp password futur admin tool ledger digest type digesttyp password us creat befor open valu from properti hard code default defin here digest type digesttyp digest type digest_typ passwd constructor take zoo keeper zookeep server connect string connect zoo keeper zookeep retriev inform book keeper bookkeep cluster befor type admin oper book keeper bookkeep cluster param zk server zkserver comma separ list hostnam port pair zoo keeper zookeep server cluster io except ioexcept except error instanti zoo keeper zookeep client interrupt except interruptedexcept except error instanti book keeper bookkeep client keeper except keeperexcept except error instanti book keeper bookkeep client book keeper admin bookkeeperadmin string zk server zkserver io except ioexcept interrupt except interruptedexcept keeper except keeperexcept client configur clientconfigur set zk server setzkserv zk server zkserver constructor take configur object connect zoo keeper zookeep retriev inform book keeper bookkeep cluster befor type admin oper book keeper bookkeep cluster param conf client configur object io except ioexcept except error instanti zoo keeper zookeep client interrupt except interruptedexcept except error instanti book keeper bookkeep client keeper except keeperexcept except error instanti book keeper bookkeep client book keeper admin bookkeeperadmin client configur clientconfigur conf io except ioexcept interrupt except interruptedexcept keeper except keeperexcept creat zoo keeper zookeep client instanc zk zoo keeper zookeep conf get zk server getzkserv conf get zk timeout getzktimeout watcher overrid process watch event watchedev event log debug enabl isdebugen log debug process event get type gettyp event get path getpath creat booki path booki path bookiespath conf get zk avail booki path getzkavailablebookiespath creat book keeper bookkeep client instanc bkc book keeper bookkeep conf digest type digest_typ conf get booki recoveri digest type getbookierecoverydigesttyp passwd conf get booki recoveri passwd getbookierecoverypasswd gracefulli releas resourc client us interrupt except interruptedexcept error shut down client us close interrupt except interruptedexcept bk except bkexcept bkc close zk close method get input ledger digest type placehold function get inform easili futur book keeper bookkeep store ledger metadata admin tool access param ledger id ledgerid ledger id ledgerid retriev digest type digesttyp digest type digesttyp input ledger digest type digesttyp get ledger digest type getledgerdigesttyp ledger id ledgerid digest type digest_typ method get input ledger password placehold function get inform easili futur book keeper bookkeep store ledger metadata admin tool access param ledger id ledgerid ledger id ledgerid retriev password password input ledger get ledger passwd getledgerpasswd ledger id ledgerid passwd object us call async method wait complet sync object syncobject valu rc sync object syncobject valu rc bk except bkexcept code synchron method rebuild recov ledger fragment data store sourc booki booki fail complet ledger data store replic option destin booki server copi ledger fragment data fail sourc booki randomli distribut ledger fragment activ set booki base load zoo keeper zookeep ledger metadata updat point booki contain replic ledger fragment param booki src bookiesrc sourc booki failur replic ledger fragment store param booki dest bookiedest option destin booki pass copi ledger fragment from sourc booki recov booki data recoverbookiedata inet socket address inetsocketaddress booki src bookiesrc inet socket address inetsocketaddress booki dest bookiedest interrupt except interruptedexcept bk except bkexcept sync object syncobject sync sync object syncobject call async method recov booki data async recov booki data asyncrecoverbookiedata booki src bookiesrc booki dest bookiedest recov callback recovercallback overrid recov complet recovercomplet rc object ctx log info recov booki oper complet rc rc sync object syncobject sync obj syncobj sync object syncobject ctx sync obj syncobj sync obj syncobj rc rc sync obj syncobj valu sync obj syncobj notifi sync wait async method complet sync sync valu sync wait sync rc bk except bkexcept code bk except bkexcept creat sync rc async method rebuild recov ledger fragment data store sourc booki booki fail complet ledger data store replic option destin booki server copi ledger fragment data fail sourc booki randomli distribut ledger fragment activ set booki base load zoo keeper zookeep ledger metadata updat point booki contain replic ledger fragment param booki src bookiesrc sourc booki failur replic ledger fragment store param booki dest bookiedest option destin booki pass copi ledger fragment from sourc booki param cb recov callback recovercallback invok data dead booki ha recov replic param context context recov callback recovercallback call async recov booki data asyncrecoverbookiedata inet socket address inetsocketaddress booki src bookiesrc inet socket address inetsocketaddress booki dest bookiedest recov callback recovercallback cb object context sync zk make read latest booki data zk sync booki path bookiespath async callback asynccallback callback voidcallback overrid process result processresult rc string path object ctx rc code valu intvalu log error zk error sync keeper except keeperexcept creat keeper except keeperexcept code get rc path cb recov complet recovercomplet bk except bkexcept code zk except zkexcept context get avail booki getavailablebooki booki src bookiesrc booki dest bookiedest cb context method asynchron get set avail booki dead input booki data copi user pass specif destin booki us on ll randomli pick on avail booki us ledger fragment replic param booki src bookiesrc sourc booki failur replic ledger fragment store param booki dest bookiedest option destin booki pass copi ledger fragment from sourc booki param cb recov callback recovercallback invok data dead booki ha recov replic param context context recov callback recovercallback call get avail booki getavailablebooki inet socket address inetsocketaddress booki src bookiesrc inet socket address inetsocketaddress booki dest bookiedest recov callback recovercallback cb object context list inet socket address inetsocketaddress avail booki availablebooki link list linkedlist inet socket address inetsocketaddress booki dest bookiedest avail booki availablebooki add booki dest bookiedest poll zk get activ ledger get activ ledger getactiveledg booki src bookiesrc booki dest bookiedest cb context avail booki availablebooki zk get children getchildren booki path bookiespath async callback asynccallback children callback childrencallback overrid process result processresult rc string path object ctx list string children rc code valu intvalu log error zk error get booki node keeper except keeperexcept creat keeper except keeperexcept code get rc path cb recov complet recovercomplet bk except bkexcept code zk except zkexcept context string booki node bookienod children string part booki node bookienod split colon part length log error booki node retriev from zk ha invalid name format booki node bookienod cb recov complet recovercomplet bk except bkexcept code zk except zkexcept context avail booki availablebooki add inet socket address inetsocketaddress part integ pars parseint part poll zk get activ ledger get activ ledger getactiveledg booki src bookiesrc cb context avail booki availablebooki method asynchron poll zk get current set activ ledger from open ledger metadata determin ledger fragment store dead input booki param booki src bookiesrc sourc booki failur replic ledger fragment store param booki dest bookiedest option destin booki pass copi ledger fragment from sourc booki param cb recov callback recovercallback invok data dead booki ha recov replic param context context recov callback recovercallback call param avail booki availablebooki list booki server avail us replic data fail booki contain singl booki server user explicitli chose booki server replic data get activ ledger getactiveledg inet socket address inetsocketaddress booki src bookiesrc inet socket address inetsocketaddress booki dest bookiedest recov callback recovercallback cb object context list inet socket address inetsocketaddress avail booki availablebooki wrapper recov callback recovercallback us callback voidcallback process ledger recov callback wrapper recovercallbackwrapp async callback asynccallback callback voidcallback recov callback recovercallback cb recov callback wrapper recovercallbackwrapp recov callback recovercallback cb cb cb overrid process result processresult rc string path object ctx cb recov complet recovercomplet rc ctx processor ledger processor ledgerprocessor processor overrid process ledger id ledgerid async callback asynccallback callback voidcallback iter callback itercallback recov ledger recoverledg booki src bookiesrc ledger id ledgerid iter callback itercallback avail booki availablebooki bkc get ledger manag getledgermanag async process ledger asyncprocessledg ledger processor ledgerprocessor recov callback wrapper recovercallbackwrapp cb context bk except bkexcept code bk except bkexcept code ledger recoveri except ledgerrecoveryexcept get random booki ensur isn on ensembl ledger inet socket address inetsocketaddress get booki getnewbooki list inet socket address inetsocketaddress booki ensembl bookiesalreadyinensembl list inet socket address inetsocketaddress avail booki availablebooki bk except bkexcept bk booki except bknotenoughbookiesexcept arrai list arraylist inet socket address inetsocketaddress candid arrai list arraylist inet socket address inetsocketaddress candid add addal avail booki availablebooki candid remov removeal booki ensembl bookiesalreadyinensembl candid size bk except bkexcept bk booki except bknotenoughbookiesexcept candid get rand next nextint candid size method asynchron recov ledger ledger entri store fail booki param booki src bookiesrc sourc booki failur replic ledger fragment store param id lid ledger id recov param ledger iter cb ledgeritercb iter callback iterationcallback invok ve recov current ledger param avail booki availablebooki list booki server avail us replic data fail booki contain singl booki server user explicitli chose booki server replic data recov ledger recoverledg inet socket address inetsocketaddress booki src bookiesrc id lid async callback asynccallback callback voidcallback ledger iter cb ledgeritercb list inet socket address inetsocketaddress avail booki availablebooki log debug enabl isdebugen log debug recov ledger id lid current ledger open retriev ledger handl ledgerhandl contain ledger metadata ledgermetadata indic booki server ledger fragment store check ledger fragment current ledger store input dead booki digest type digesttyp digest type digesttyp get ledger digest type getledgerdigesttyp id lid passwd get ledger passwd getledgerpasswd id lid bkc async open ledger recoveri asyncopenledgernorecoveri id lid digest type digesttyp passwd open callback opencallback overrid open complet opencomplet rc ledger handl ledgerhandl lh object ctx rc code valu intvalu log error bk error open ledger id lid bk except bkexcept creat rc ledger iter cb ledgeritercb process result processresult rc ledger metadata ledgermetadata lm lh get ledger metadata getledgermetadata lm close isclos lm get ensembl getensembl size last kei lastkei lm get ensembl getensembl last kei lastkei arrai list arraylist inet socket address inetsocketaddress last ensembl lastensembl lm get ensembl getensembl get last kei lastkei origin write ha remov faulti booki from current ledger ensembl avoid data loss issu concurr updat ensembl composit recoveri tool first close ledger last ensembl lastensembl contain booki src bookiesrc close open non recoveri ledger handl lh close except log warn error close non recoveri ledger handl ledger id lid bkc async open ledger asyncopenledg id lid digest type digesttyp passwd open callback opencallback overrid open complet opencomplet newrc ledger handl ledgerhandl newlh object newctx newrc code valu intvalu log error bk error close ledger id lid bk except bkexcept creat newrc ledger iter cb ledgeritercb process result processresult newrc recoveri recov ledger recoverledg booki src bookiesrc id lid ledger iter cb ledgeritercb avail booki availablebooki list store ledger fragment recov index start entri id rang ensembl tree map treemap kei list ledger fragment recov ledgerfragmentstorecov link list linkedlist map store start end entri id valu ledger fragment rang except current activ fragment ha end event booki failur ensembl creat current ensembl contain dead booki recov map ledger fragment rang ledgerfragmentsrang hash map hashmap cur entri id curentryid map entri arrai list arraylist inet socket address inetsocketaddress entri lh get ledger metadata getledgermetadata get ensembl getensembl entri set entryset cur entri id curentryid ledger fragment rang ledgerfragmentsrang put cur entri id curentryid entri get kei getkei cur entri id curentryid entri get kei getkei entri get valu getvalu contain booki src bookiesrc current ledger fragment ha entri store dead booki ll recov ledger fragment recov ledgerfragmentstorecov add entri get kei getkei add last ensembl fail booki exist last ensembl close ledger entri belong last ensembl replic cur entri id curentryid ledger fragment rang ledgerfragmentsrang put cur entri id curentryid lh get last add confirm getlastaddconfirm current ledger contain ledger fragment replic invok multi callback multicallback ledger fragment recov ledgerfragmentstorecov size ledger iter cb ledgeritercb process result processresult bk except bkexcept code multicallback ledger fragment ledger recov trigger ledger iter cb ledgeritercb multi callback multicallback ledger fragment mcb ledgerfragmentsmcb multi callback multicallback ledger fragment recov ledgerfragmentstorecov size ledger iter cb ledgeritercb bk except bkexcept code bk except bkexcept code ledger recoveri except ledgerrecoveryexcept recov necessari ledger fragment asynchron multi callback multicallback fragment start entri id startentryid ledger fragment recov ledgerfragmentstorecov end entri id endentryid ledger fragment rang ledgerfragmentsrang get start entri id startentryid inet socket address inetsocketaddress booki newbooki booki newbooki get booki getnewbooki lh get ledger metadata getledgermetadata get ensembl getensembl get start entri id startentryid avail booki availablebooki bk except bkexcept bk booki except bknotenoughbookiesexcept bke ledger fragment mcb ledgerfragmentsmcb process result processresult bk except bkexcept code booki except notenoughbookiesexcept log debug enabl isdebugen log debug replic fragment from start entri id startentryid end entri id endentryid ledger lh get id getid booki newbooki singl fragment callback singlefragmentcallback cb singl fragment callback singlefragmentcallback ledger fragment mcb ledgerfragmentsmcb lh start entri id startentryid booki src bookiesrc booki newbooki recov ledger fragment recoverledgerfrag booki src bookiesrc lh start entri id startentryid end entri id endentryid cb booki newbooki interrupt except interruptedexcept thread current thread currentthread interrupt method asynchron recov ledger fragment contigu portion ledger store ensembl includ fail booki param booki src bookiesrc sourc booki failur replic ledger fragment store param lh ledger handl ledgerhandl ledger param start entri id startentryid start entri id ledger fragment param end entri id endentryid end entri id ledger fragment param ledger fragment mcb ledgerfragmentmcb multi callback multicallback invok ve recov current ledger fragment param booki newbooki booki us recov replic ledger entri store fail booki recov ledger fragment recoverledgerfrag inet socket address inetsocketaddress booki src bookiesrc ledger handl ledgerhandl lh start entri id startentryid end entri id endentryid singl fragment callback singlefragmentcallback cb inet socket address inetsocketaddress booki newbooki interrupt except interruptedexcept end entri id endentryid ideal happen booki failur care properli log warn dead booki booki src bookiesrc part current activ ensembl ledger id ledgerid lh get id getid cb process result processresult bk except bkexcept code start entri id startentryid end entri id endentryid open ledger entri start entri id end entri id immedi trigger forward read cb process result processresult bk except bkexcept code arrai list arraylist inet socket address inetsocketaddress cur ensembl curensembl lh get ledger metadata getledgermetadata get ensembl getensembl get start entri id startentryid booki index bookieindex cur ensembl curensembl size cur ensembl curensembl get equal booki src bookiesrc booki index bookieindex loop entri current ledger fragment rang find store dead booki list entri replic entriestorepl link list linkedlist start entri id startentryid end entri id endentryid lh get distribut schedul getdistributionschedul get replica index getreplicaindex booki index bookieindex current entri store dead booki ll read replic booki entri replic entriestorepl add asynchron replic entri ledger fragment dead booki multi callback multicallback ledger fragment entri mcb ledgerfragmententrymcb multi callback multicallback entri replic entriestorepl size cb bk except bkexcept code bk except bkexcept code ledger recoveri except ledgerrecoveryexcept entri id entryid entri replic entriestorepl recov ledger fragment entri recoverledgerfragmententri entri id entryid lh ledger fragment entri mcb ledgerfragmententrymcb booki newbooki method asynchron recov specif ledger entri read valu book keeper bookkeep client read from replica write chosen booki param entri id entryid ledger entri id recov param lh ledger handl ledgerhandl ledger param ledger fragment entri mcb ledgerfragmententrymcb multi callback multicallback invok ve recov current ledger entri param booki newbooki booki us recov replic ledger entri store fail booki recov ledger fragment entri recoverledgerfragmententri entri id entryid ledger handl ledgerhandl lh async callback asynccallback callback voidcallback ledger fragment entri mcb ledgerfragmententrymcb inet socket address inetsocketaddress booki newbooki interrupt except interruptedexcept read ledger entri ledger handl ledgerhandl allow read entri from on replic booki dead on lh async read entri asyncreadentri entri id entryid entri id entryid read callback readcallback overrid read complet readcomplet rc ledger handl ledgerhandl lh enumer ledger entri ledgerentri seq object ctx rc code valu intvalu log error bk error read ledger entri entri id entryid bk except bkexcept creat rc ledger fragment entri mcb ledgerfragmententrymcb process result processresult rc ve read ledger entri write booki ve select ledger entri ledgerentri entri seq next element nextel data entri get entri getentri channel buffer channelbuff send tosend lh get digest manag getdigestmanag comput digest send computedigestandpackageforsend entri id entryid lh get last add confirm getlastaddconfirm entri get length getlength data data length bkc get booki client getbookiecli add entri addentri booki newbooki lh get id getid lh get ledger kei getledgerkei entri id entryid send tosend write callback writecallback overrid write complet writecomplet rc ledger id ledgerid entri id entryid inet socket address inetsocketaddress addr object ctx rc code valu intvalu log error bk error write entri ledger id ledgerid ledger id ledgerid entri id entryid entri id entryid booki addr bk except bkexcept creat rc log debug enabl isdebugen log debug success write ledger id ledger id ledgerid entri id entri id entryid booki addr pass code result up chain parent callback ledger fragment entri mcb ledgerfragmententrymcb process result processresult rc booki protocol bookieprotocol flag recoveri add flag_recovery_add callback recoveri singl ledger fragment fragment ha entri replic updat ensembl zookeep finish propog callback up ledger fragment mcb ledgerfragmentsmcb multicallback respons fragment singl ledger singl fragment callback singlefragmentcallback async callback asynccallback callback voidcallback async callback asynccallback callback voidcallback ledger fragment mcb ledgerfragmentsmcb ledger handl ledgerhandl lh fragment start id fragmentstartid inet socket address inetsocketaddress old booki oldbooki inet socket address inetsocketaddress booki newbooki singl fragment callback singlefragmentcallback async callback asynccallback callback voidcallback ledger fragment mcb ledgerfragmentsmcb ledger handl ledgerhandl lh fragment start id fragmentstartid inet socket address inetsocketaddress old booki oldbooki inet socket address inetsocketaddress booki newbooki ledger fragment mcb ledgerfragmentsmcb ledger fragment mcb ledgerfragmentsmcb lh lh fragment start id fragmentstartid fragment start id fragmentstartid booki newbooki booki newbooki old booki oldbooki old booki oldbooki overrid process result processresult rc string path object ctx rc code valu intvalu log error bk error replic ledger fragment ledger lh get id getid bk except bkexcept creat rc ledger fragment mcb ledgerfragmentsmcb process result processresult rc write ledger config writeledgerconfig write ledger config writeledgerconfig updat ledger metadata ensembl info point booki arrai list arraylist inet socket address inetsocketaddress ensembl lh get ledger metadata getledgermetadata get ensembl getensembl get fragment start id fragmentstartid dead booki index deadbookieindex ensembl index indexof old booki oldbooki ensembl remov dead booki index deadbookieindex ensembl add dead booki index deadbookieindex booki newbooki lh write ledger config writeledgerconfig write cb writecb write cb writecb async callback asynccallback stat callback statcallback overrid process result processresult rc string path object ctx stat stat rc code badvers valu intvalu log warn two fragment attempt updat ledger id lh get id getid startid fragment start id fragmentstartid previou success ha conflict updat stat oper add ensembl addensembl updat lh reread metadata rereadmetadata gener callback genericcallback ledger metadata ledgermetadata overrid oper complet operationcomplet rc ledger metadata ledgermetadata meta newmeta rc bk except bkexcept code log error error read updat ledger metadata ledger lh get id getid keeper except keeperexcept creat keeper except keeperexcept code get rc path ledger fragment mcb ledgerfragmentsmcb process result processresult rc lh metadata meta newmeta write ledger config writeledgerconfig rc code valu intvalu log error zk error updat ledger config metadata ledger id ledgerid lh get id getid keeper except keeperexcept creat keeper except keeperexcept code get rc path lh get ledger metadata getledgermetadata updat znode statu updateznodestatu stat log info updat zk ledger id ledgerid lh get id getid fragment start id fragmentstartid point ledger fragment from old dead booki old booki oldbooki booki booki newbooki pass code result up chain parent callback ledger fragment mcb ledgerfragmentsmcb process result processresult rc 
util relat function io util ioutil close closeabl object ignor link io except ioexcept pointer us cleanup except handler param log log record problem debug level param closeabl object close close logger log java io closeabl closeabl java io closeabl closeabl close io except ioexcept log log debug enabl isdebugen log debug except close 
stub subscript manag stubsubscriptionmanag memori subscript manag inmemorysubscriptionmanag fail set fail setfail fail fail fail stub subscript manag stubsubscriptionmanag topic manag topicmanag tm persist manag persistencemanag pm server configur serverconfigur conf schedul executor servic scheduledexecutorservic schedul tm pm conf schedul overrid serv subscrib request servesubscriberequest string bytestr topic subscrib request subscriberequest sub request subrequest messag seq id messageseqid consum seq id consumeseqid callback messag seq id messageseqid callback object ctx fail callback oper fail operationfail ctx pub sub except pubsubexcept servic down except servicedownexcept ask fail serv subscrib request servesubscriberequest topic sub request subrequest consum seq id consumeseqid callback ctx 
os type ostyp os type unix os_type_unix os type winxp os_type_winxp os type solari os_type_solari os type mac os_type_mac 
topic info topicinfo store last messag seq id vector ha push bk persist necessarili ack bk messag seq id messageseqid last seq id push lastseqidpush store last messag id ha ack bk number basic us limit scan read past ha persist bk last entri id ack current ledger lastentryidackedincurrentledg bk ledger start store sort structur ledger topic map from end seq id includ endseqidinclud ledger info structur includ current ledger tree map treemap memori ledger rang inmemoryledgerrang ledger rang ledgerrang tree map treemap memori ledger rang inmemoryledgerrang ledger rang znode version ledgerrangesznodevers handl current ledger us write messag memori ledger rang inmemoryledgerrang current ledger rang currentledgerrang flag releas topic encount unrecover except atom atomicboolean releas doreleas atom atomicboolean unlimit messag bound messagebound unlimit 
scan callback scancallback reason finish reasonforfinish more messag no_more_messag size limit exceed size_limit_exceed num messag limit exceed num_messages_limit_exceed method call messag read from persist layer part scan messag read hand listen desir action valu from method scan param ctx context callback param messag messag scan from log scan messag scan messagescan object ctx messag messag method call scan finish param ctx param reason abstract scan finish scanfinish object ctx reason finish reasonforfinish reason method call oper fail reason reason failur pass param ctx context callback param except reason failur scan abstract scan fail scanfail object ctx except except 
encapsul request scan messag topic start from seq id seqid includ call back link scan callback scancallback provid messag scan relev method link scan callback scancallback call two hint provid scan stop term number messag scan term total size messag scan scan stop on limit exceed check on messag size approxim link scan callback scancallback us prepar deal more messag scan error occur scan link scan callback scancallback notifi error rang scan request rangescanrequest string bytestr topic start seq id startseqid messag limit messagelimit size limit sizelimit scan callback scancallback callback object ctx rang scan request rangescanrequest string bytestr topic start seq id startseqid messag limit messagelimit size limit sizelimit scan callback scancallback callback object ctx topic topic start seq id startseqid start seq id startseqid messag limit messagelimit messag limit messagelimit size limit sizelimit size limit sizelimit callback callback ctx ctx string bytestr get topic gettop topic get start seq id getstartseqid start seq id startseqid get messag limit getmessagelimit messag limit messagelimit get size limit getsizelimit size limit sizelimit scan callback scancallback get callback getcallback callback object get ctx getctx ctx 
repres pend add oper ha success from booki see head pend add queue ye send ack back applic booki fail replac made place posit ensembl pend add rerepl pend add op pendingaddop write callback writecallback logger log logger factori loggerfactori get logger getlogg pend add op pendingaddop channel buffer channelbuff send tosend add callback addcallback cb object ctx entri id entryid success successessofar num respons pend numresponsespend ledger handl ledgerhandl lh recoveri add isrecoveryadd pend add op pendingaddop ledger handl ledgerhandl lh add callback addcallback cb object ctx lh lh cb cb ctx ctx entri id entryid ledger handl ledgerhandl invalid entri id invalid_entry_id success successessofar lh metadata quorum size quorums num respons pend numresponsespend success successessofar length enabl recoveri add flag oper ledger handl ledgerhandl async recoveri add entri asyncrecoveryaddentri pend add op pendingaddop enabl recoveri add enablerecoveryadd recoveri add isrecoveryadd set entri id setentryid entri id entryid entri id entryid entri id entryid send write request sendwriterequest booki index bookieindex arrai index arrayindex flag recoveri add isrecoveryadd booki protocol bookieprotocol flag recoveri add flag_recovery_add booki protocol bookieprotocol flag flag_non lh bk booki client bookiecli add entri addentri lh metadata current ensembl currentensembl get booki index bookieindex lh ledger id ledgerid lh ledger kei ledgerkei entri id entryid send tosend arrai index arrayindex flag unset success send write request unsetsuccessandsendwriterequest booki index bookieindex send tosend add op addop hasn mac comput mac comput write request sent send replica index replicaindex lh distribut schedul distributionschedul get replica index getreplicaindex entri id entryid booki index bookieindex replica index replicaindex log debug enabl isdebugen log debug leav unchang ledger lh ledger id ledgerid entri entri id entryid booki index booki index bookieindex log debug enabl isdebugen log debug unset success ledger lh ledger id ledgerid entri entri id entryid booki index booki index bookieindex heard success from arrai index increment number respons pend unset success success successessofar replica index replicaindex success successessofar replica index replicaindex num respons pend numresponsespend send write request sendwriterequest booki index bookieindex replica index replicaindex initi channel buffer channelbuff send tosend send tosend send tosend success successessofar length booki index bookieindex lh distribut schedul distributionschedul get booki index getbookieindex entri id entryid send write request sendwriterequest booki index bookieindex overrid write complet writecomplet rc ledger id ledgerid entri id entryid inet socket address inetsocketaddress addr object ctx integ replica index replicaindex integ ctx booki index bookieindex lh distribut schedul distributionschedul get booki index getbookieindex entri id entryid replica index replicaindex lh metadata current ensembl currentensembl get booki index bookieindex equal addr ensembl ha chang failur addr immateri log warn write succe ledger id ledgerid entri id entryid fix rc bk except bkexcept code bk except bkexcept code ledger fenc except ledgerfencedexcept log warn fenc except write ledger id ledgerid entri id entryid lh handl unrecover error add handleunrecoverableerrorduringadd rc bk except bkexcept code unauthor access except unauthorizedaccessexcept log warn unauthor access except write ledger id ledgerid entri id entryid lh handl unrecover error add handleunrecoverableerrorduringadd rc log warn write succe ledger id ledgerid entri id entryid lh handl booki failur handlebookiefailur addr booki index bookieindex success successessofar replica index replicaindex success successessofar replica index replicaindex num respons pend numresponsespend quick check add finish check lock num respons pend numresponsespend lh pend add op pendingaddop peek lh send add success callback sendaddsuccesscallback submit callback submitcallback rc cb add complet addcomplet rc lh entri id entryid ctx lh op counter sem opcountersem releas 
unifi regist unregist bookkeep bean mbean platform bean mbean server build hierarchi bean mbean bean mbean repres filesystem path eventu hierarchi store zookeep data tree instanc data tree bkm bean registri bkmbeanregistri bean registri mbeanregistri logger log logger get logger getlogg bkm bean registri bkmbeanregistri string domain org apach book keeper servic bookkeeperservic bkm bean registri bkmbeanregistri instanc bkm bean registri bkmbeanregistri bkm bean registri bkmbeanregistri get instanc getinst instanc string get domain name getdomainnam domain take path convert name0 name1 name2 copi from zookeep bean registri mbeanregistri token token string builder stringbuild sb string path index string token path split string token length sb append name append index append append append index build bean mbean path creat object name objectnam instanc path param path bean mbean path param bean bean mbean instanc object name objectnam regist platform bean mbean server object name objectnam make object name makeobjectnam string path zkm bean info zkmbeaninfo bean malform object name except malformedobjectnameexcept path string builder stringbuild bean name beannam string builder stringbuild get domain name getdomainnam counter counter token bean name beannam path counter token bean name beannam bean get name getnam counter bean name beannam delet deletecharat bean name beannam length object name objectnam bean name beannam string tostr malform object name except malformedobjectnameexcept log warn invalid name bean name beannam string tostr bean get getclass string tostr 
tree set factori treesetlongfactori factori sort set sortedset tree set factori treesetlongfactori instanc tree set factori treesetlongfactori sort set sortedset instanc newinst tree set treeset 
hierarch ledger manag manag ledger meta zookeep level hierarch znode hierarch ledger manag first obtain global uniqu id from zookeep ephemer sequenti ephemeral_sequenti znode ledger root path ledgersrootpath ledger idgen id zookeep sequenti counter ha format 10d 10 digit zero pad lt path gt 0000000001 hierarch ledger manag hierarchicalledgermanag split gener id part pre lt level1 digit gt lt level2 digit gt lt level3 digit gt pre part us form actual ledger node path us store ledger metadata pre ledger root path ledgersrootpath level1 level2 level3 pre ledger 0000000001 split part 00 0000 0001 store ledger root path ledgersrootpath 00 0000 l0001 znode most 10000 ledger avoid fail get children list big znode garbag collect activ ledger found booki server manag sort map eas pick up activ ledger belong level1 level2 garbag collect hierarch ledger manag hierarchicalledgermanag process node node ul fetch level1 node call zk get children getchildren ledger root path ledgerrootpath ul level1 node fetch level2 node call zk get children getchildren ledger root path ledgerrootpath level1 li fetch exist ledger from zookeep level1 level2 node zk activ ledger zkactiveledg li fetch activ ledger from booki server level1 level2 bk activ ledger bkactiveledg li loop bk activ ledger bkactiveledg find ledger aren exist zk activ ledger zkactiveledg garbag collect ul ul garbag collect run background hierarch ledger manag hierarchicalledgermanag gc singl hash node time avoid consum resourc hierarch ledger manag hierarchicalledgermanag abstract zk ledger manag abstractzkledgermanag logger log logger factori loggerfactori get logger getlogg hierarch ledger manag hierarchicalledgermanag string name hierarch cur version cur_vers string idgen znode idgen_znod idgen string idgener prefix idgeneration_prefix idgen znode idgen_znod id string max id suffix max_id_suffix 9999 string min id suffix min_id_suffix 0000 path gener global id string id gen path idgenpath sort map store activ ledger id snapshot map snapshotmap activ ledger activeledg us prevent stack chain from build up callback schedul executor servic scheduledexecutorservic schedul constructor param conf configur object param zk zoo keeper zookeep client handl param ledger root path ledgerrootpath zoo keeper zookeep path store ledger metadata io except ioexcept version compat hierarch ledger manag hierarchicalledgermanag abstract configur abstractconfigur conf zoo keeper zookeep zk string ledger root path ledgerrootpath layout version layoutvers io except ioexcept conf zk ledger root path ledgerrootpath layout version layoutvers cur version cur_vers io except ioexcept incompat layout version found layout version layoutvers id gen path idgenpath ledger root path ledgerrootpath idgener prefix idgeneration_prefix activ ledger activeledg snapshot map snapshotmap schedul executor singl thread schedul executor newsinglethreadscheduledexecutor log debug enabl isdebugen log debug hierarch ledger manag hierarchicalledgermanag root path ledger root path ledgerrootpath overrid close schedul shutdown except log warn error close hierarch ledger manag hierarchicalledgermanag close overrid ledger path newledgerpath gener callback genericcallback string ledger cb ledgercb ledger metadata ledgermetadata metadata zk util zkutil creat full path optimist createfullpathoptimist zk id gen path idgenpath id open acl unsaf open_acl_unsaf creat mode createmod ephemer sequenti ephemeral_sequenti string callback stringcallback overrid process result processresult rc string path object ctx string id path name idpathnam rc keeper except keeperexcept code valu intvalu log error gener ledger id keeper except keeperexcept creat keeper except keeperexcept code get rc path ledger cb ledgercb oper complet operationcomplet rc extract ledger id from gen path ledger id ledgerid ledger id ledgerid get ledger id from gen path getledgeridfromgenpath id path name idpathnam io except ioexcept log error extract ledger id from id gen path path ledger cb ledgercb oper complet operationcomplet keeper except keeperexcept code systemerror valu intvalu string callback stringcallback scb string callback stringcallback overrid process result processresult rc string path object ctx string name rc keeper except keeperexcept code valu intvalu ledger cb ledgercb oper complet operationcomplet rc updat znode statu metadata updat znode statu updateznodestatu ledger cb ledgercb oper complet operationcomplet rc name string ledger path ledgerpath get ledger path getledgerpath ledger id ledgerid zk util zkutil creat full path optimist createfullpathoptimist zk ledger path ledgerpath metadata serial id open acl unsaf open_acl_unsaf creat mode createmod persist scb delet znode id gener schedul submit runnabl overrid run zk delet id path name idpathnam async callback asynccallback callback voidcallback overrid process result processresult rc string path object ctx rc keeper except keeperexcept code valu intvalu log warn except delet znode id gener keeper except keeperexcept creat keeper except keeperexcept code get rc path log debug enabl isdebugen log debug delet znode id gener id path name idpathnam get ledger id from gener path get ledger id from gen path getledgeridfromgenpath string node name nodenam io except ioexcept ledger id ledgerid string part node name nodenam split idgener prefix idgeneration_prefix ledger id ledgerid pars parselong part part length number format except numberformatexcept io except ioexcept ledger id ledgerid overrid string get ledger path getledgerpath ledger id ledgerid string ledger id str ledgeridstr string util stringutil get zk string id getzkstringid ledger id ledgerid split string builder stringbuild sb string builder stringbuild sb append ledger root path ledgerrootpath append append ledger id str ledgeridstr substr append append ledger id str ledgeridstr substr append append ledger node prefix ledger_node_prefix append ledger id str ledgeridstr substr 10 sb string tostr overrid get ledger id getledgerid string path name pathnam io except ioexcept path name pathnam start startswith ledger root path ledgerrootpath io except ioexcept valid hash path name path name pathnam string hierarch path hierarchicalpath path name pathnam substr ledger root path ledgerrootpath length string hierarch part hierarchicalpart hierarch path hierarchicalpath split hierarch part hierarchicalpart length io except ioexcept valid hierarch path name path name pathnam hierarch part hierarchicalpart hierarch part hierarchicalpart substr ledger node prefix ledger_node_prefix length get ledger id getledgerid hierarch part hierarchicalpart get ledger from level node get ledger id getledgerid string level node levelnod io except ioexcept string builder stringbuild sb string builder stringbuild string node level node levelnod sb append node pars parselong sb string tostr number format except numberformatexcept io except ioexcept activ ledger manag get smallest cach id specifi node level1 level2 param level1 st 1st level node name param level2 nd 2nd level node name smallest ledger id get start ledger id level getstartledgeridbylevel string level1 string level2 io except ioexcept get ledger id getledgerid level1 level2 min id suffix min_id_suffix get largest cach id specifi node level1 level2 param level1 st 1st level node name param level2 nd 2nd level node name largest ledger id get end ledger id level getendledgeridbylevel string level1 string level2 io except ioexcept get ledger id getledgerid level1 level2 max id suffix max_id_suffix overrid async process ledger asyncprocessledg processor processor async callback asynccallback callback voidcallback cb finalcb object context success rc successrc failur rc failurerc process st 1st level node async process level node asyncprocesslevelnod ledger root path ledgerrootpath processor string overrid process string l1 node l1node async callback asynccallback callback voidcallback cb1 special znode isspecialznod l1 node l1node cb1 process result processresult success rc successrc context string l1 node path l1nodepath ledger root path ledgerrootpath l1 node l1node process level1 path after children level1 process callback process next level1 node async process level node asyncprocesslevelnod l1 node path l1nodepath processor string overrid process string l2 node l2node async callback asynccallback callback voidcallback cb2 process level1 level2 path string l2 node path l2nodepath ledger root path ledgerrootpath l1 node l1node l2 node l2node process ledger after ledger process cb2 call process next level2 node async process ledger singl node asyncprocessledgersinsinglenod l2 node path l2nodepath processor cb2 context success rc successrc failur rc failurerc cb1 context success rc successrc failur rc failurerc cb finalcb context success rc successrc failur rc failurerc process hash node path async process level node asyncprocesslevelnod string path processor string processor async callback asynccallback callback voidcallback cb finalcb object context success rc successrc failur rc failurerc zk sync path async callback asynccallback callback voidcallback overrid process result processresult rc string path object ctx rc code valu intvalu log error error sync path path get chidren keeper except keeperexcept creat keeper except keeperexcept code get rc path cb finalcb process result processresult failur rc failurerc context zk get children getchildren path async callback asynccallback children callback childrencallback overrid process result processresult rc string path object ctx list string level node levelnod rc code valu intvalu log error error poll hash node path keeper except keeperexcept creat keeper except keeperexcept code get rc path cb finalcb process result processresult failur rc failurerc context async list processor asynclistprocessor string list processor listprocessor async list processor asynclistprocessor string schedul process children list processor listprocessor process level node levelnod processor cb finalcb context success rc successrc failur rc failurerc overrid add activ ledger addactiveledg ledger id ledgerid activ activ ledger activeledg put ledger id ledgerid activ overrid remov activ ledger removeactiveledg ledger id ledgerid activ ledger activeledg remov ledger id ledgerid overrid contain activ ledger containsactiveledg ledger id ledgerid activ ledger activeledg contain kei containskei ledger id ledgerid overrid garbag collect ledger garbagecollectledg garbag collector garbagecollector gc creat snapshot befor garbag collect navig map navigablemap snapshot activ ledger activeledg snapshot list string l1 node l1node zk get children getchildren ledger root path ledgerrootpath string l1 node l1node l1 node l1node special znode isspecialznod l1 node l1node list string l2 node l2node zk get children getchildren ledger root path ledgerrootpath l1 node l1node string l2 node l2node l2 node l2node gc level dogcbylevel gc l1 node l1node l2 node l2node snapshot except log warn except garbag collect ledger l1 node l1node ledger root path ledgerrootpath except log warn except garbag collect inact delet ledger garbag collect singl node level1 level2 param gc garbag collector param level1 st 1st level node name param level2 nd 2nd level node name param snapshot snapshot activ ledger map io except ioexcept interrupt except interruptedexcept gc level dogcbylevel garbag collector garbagecollector gc string level1 string level2 navig map navigablemap snapshot io except ioexcept interrupt except interruptedexcept string builder stringbuild node builder nodebuild string builder stringbuild node builder nodebuild append ledger root path ledgerrootpath append append level1 append append level2 string node path nodepath node builder nodebuild string tostr set zk activ ledger zkactiveledg get ledger singl node getledgersinsinglenod node path nodepath get host ledger level1 level2 start ledger id startledgerid get start ledger id level getstartledgeridbylevel level1 level2 end ledger id endledgerid get end ledger id level getendledgeridbylevel level1 level2 map bk activ ledger bkactiveledg snapshot sub map submap start ledger id startledgerid end ledger id endledgerid log debug enabl isdebugen log debug activ ledger from zk hash node level1 level2 zk activ ledger zkactiveledg log debug current activ ledger from booki hash node level1 level2 bk activ ledger bkactiveledg gc dogc gc bk activ ledger bkactiveledg zk activ ledger zkactiveledg process list on on asynchron process stop immedi error occur async list processor asynclistprocessor us prevent stack chain from build up callback schedul executor servic scheduledexecutorservic schedul constructor param schedul executor us prevent stack chain async list processor asynclistprocessor schedul executor servic scheduledexecutorservic schedul schedul schedul process list item param data list data process param processor callback process element list success param cb finalcb callback call after element list process param contxt context callback param success rc successrc rc pass callback success param failur rc failurerc rc pass callback failur process list data processor processor async callback asynccallback callback voidcallback cb finalcb object context success rc successrc failur rc failurerc data data size cb finalcb process result processresult success rc successrc context size data size atom integ atomicinteg current atom integ atomicinteg async callback asynccallback callback voidcallback stub callback stubcallback async callback asynccallback callback voidcallback overrid process result processresult rc string path object ctx rc success rc successrc termin immedi cb finalcb process result processresult failur rc failurerc context process next element next current increment get incrementandget next size reach end list cb finalcb process result processresult success rc successrc context data process datatoprocess data get next async callback asynccallback callback voidcallback stub schedul submit runnabl overrid run processor process data process datatoprocess stub first element firstel data get processor process first element firstel stub callback stubcallback overrid special znode isspecialznod string znode idgen znode idgen_znod equal znode special znode isspecialznod znode 
option option option option option option option get 
stub scan callback stubscancallback scan callback scancallback list messag messag arrai list arraylist messag success fail messag scan messagescan object ctx messag messag messag add messag success scan fail scanfail object ctx except except fail success scan finish scanfinish object ctx reason finish reasonforfinish reason success fail list messag get messag getmessag messag success issuccess success fail isfail fail 
client subscrib except clientnotsubscribedexcept pub sub except pubsubexcept client subscrib except clientnotsubscribedexcept string msg statu code statuscod client subscrib client_not_subscrib msg 
rr quorum coverag set rrquorumcoverageset quorum coverag set quorumcoverageset cover quorum start booki index ha cover recoveri repli cover num quorum uncov numquorumsuncov rr quorum coverag set rrquorumcoverageset cover ensembl size ensembles num quorum uncov numquorumsuncov ensembl size ensembles add booki check cover addbookieandcheckcov booki index heard from bookieindexheardfrom num quorum uncov numquorumsuncov quorum size quorums quorum start index quorumstartindex math util mathutil sign safe mod signsafemod booki index heard from bookieindexheardfrom ensembl size ensembles cover quorum start index quorumstartindex cover quorum start index quorumstartindex num quorum uncov numquorumsuncov num quorum uncov numquorumsuncov 
topic op queuer topicopqueu map from topic queue oper topic hash map hashmap string bytestr queue runnabl topic2 op topic2op hash map hashmap string bytestr queue runnabl schedul executor servic scheduledexecutorservic schedul topic op queuer topicopqueu schedul executor servic scheduledexecutorservic schedul schedul schedul op runnabl abstract asynchron op asynchronousop op string bytestr topic callback cb object ctx asynchron op asynchronousop string bytestr topic callback cb object ctx topic topic cb callback overrid oper fail operationfail object ctx pub sub except pubsubexcept except cb oper fail operationfail ctx except pop run next popandrunnext topic overrid oper finish operationfinish object ctx result oper resultofoper cb oper finish operationfinish ctx result oper resultofoper pop run next popandrunnext topic ctx ctx abstract synchron op synchronousop op string bytestr topic synchron op synchronousop string bytestr topic topic topic overrid run run intern runintern pop run next popandrunnext topic abstract run intern runintern pop run next popandrunnext string bytestr topic queue runnabl op topic2 op topic2op get topic op empti isempti op remov op empti isempti schedul submit op peek push run pushandmayberun string bytestr topic op op size queue runnabl op topic2 op topic2op get topic op op link list linkedlist runnabl topic2 op topic2op put topic op op add op size op size size op run runnabl peek string bytestr topic topic2 op topic2op get topic peek 
zk except zkexcept bk except bkexcept zk except zkexcept code zk except zkexcept 
recurs call zk get owner op zkgetownerop string bytestr topic claim shouldclaim callback hedwig socket address hedwigsocketaddress cb object ctx string hub path hubpath zk get owner op zkgetownerop string bytestr topic claim shouldclaim callback hedwig socket address hedwigsocketaddress cb object ctx topic topic claim shouldclaim claim shouldclaim cb cb ctx ctx hub path hubpath hub path hubpath topic choos get list exist host string regist host path registeredhostspath cfg get zk host prefix getzkhostsprefix string builder stringbuild string tostr zk get children getchildren regist host path registeredhostspath safe async zk callback safeasynczkcallback children callback childrencallback overrid safe process result safeprocessresult rc string path object ctx list string children rc code valu intvalu keeper except keeperexcept zk util zkutil log error creat zk except logerrorandcreatezkexcept get list avail hub path rc cb oper fail operationfail ctx pub sub except pubsubexcept servic down except servicedownexcept choos least load node chooseleastloadednod children choos least load node chooseleastloadednod list string children data callback datacallback data callback datacallback data callback datacallback num respons numrespons min load minload integ max valu max_valu string least load leastload overrid safe process result safeprocessresult rc string path object ctx data stat stat rc keeper except keeperexcept code valu intvalu load integ pars parseint string data logger debug enabl isdebugen logger debug found server ctx load load load min load minload load min load minload rand next nextboolean min load minload load least load leastload string ctx number format except numberformatexcept logger warn corrupt load inform from hub ctx corrupt data ll ignor hub num respons numrespons num respons numrespons children size least load leastload cb oper fail operationfail zk get owner op zkgetownerop ctx pub sub except pubsubexcept servic down except servicedownexcept hub avail hedwig socket address hedwigsocketaddress owner hedwig socket address hedwigsocketaddress least load leastload owner equal addr claim cb oper finish operationfinish zk get owner op zkgetownerop ctx owner string child children zk get data getdata cfg get zk host prefix getzkhostsprefix string builder stringbuild append append child string tostr data callback datacallback child claim choos claimorchoos claim shouldclaim claim choos read zk get data getdata hub path hubpath safe async zk callback safeasynczkcallback data callback datacallback overrid safe process result safeprocessresult rc string path object ctx data stat stat rc code nonod valu intvalu claim choos claimorchoos rc code valu intvalu keeper except keeperexcept zk util zkutil log error creat zk except logerrorandcreatezkexcept read ownership topic topic string utf8 tostringutf8 path rc cb oper fail operationfail ctx pub sub except pubsubexcept servic down except servicedownexcept successfulli read hedwig socket address hedwigsocketaddress owner hedwig socket address hedwigsocketaddress string data owner equal addr logger debug enabl isdebugen logger debug topic topic string utf8 tostringutf8 belong owner cb oper finish operationfinish ctx owner logger info discov stale self node topic topic string utf8 tostringutf8 delet previous fail left residu ephemer node here delet clean up creat acquir topic zk delet hub path hubpath stat get version getvers callback voidcallback overrid process result processresult rc string path object ctx code valu intvalu rc code nonod valu intvalu rc claim choos claimorchoos keeper except keeperexcept zk util zkutil log error creat zk except logerrorandcreatezkexcept delet self node topic topic string utf8 tostringutf8 path rc cb oper fail operationfail ctx pub sub except pubsubexcept servic down except servicedownexcept ctx ctx claim logger debug enabl isdebugen logger debug claim topic topic string utf8 tostringutf8 zk util zkutil creat full path optimist createfullpathoptimist zk hub path hubpath addr string tostr get byte getbyt id open acl unsaf open_acl_unsaf creat mode createmod ephemer safe async zk callback safeasynczkcallback string callback stringcallback overrid safe process result safeprocessresult rc string path object ctx string name rc code valu intvalu logger debug enabl isdebugen logger debug claim topic topic string utf8 tostringutf8 notifi listen add own topic notifylistenersandaddtoownedtop topic cb ctx updat load inform updateloadinform rc code nodeexist valu intvalu read keeper except keeperexcept zk util zkutil log error creat zk except logerrorandcreatezkexcept fail creat ephemer node claim ownership topic topic string utf8 tostringutf8 path rc cb oper fail operationfail ctx pub sub except pubsubexcept servic down except servicedownexcept ctx 
stub persist manag stubpersistencemanag persist manag rang scan persistencemanagerwithrangescan map string bytestr list messag messag hash map hashmap string bytestr list messag failur servic down except servicedownexcept except servic down except servicedownexcept ask fail deliv delivereduntil string bytestr topic seq id seqid noop consum consumeduntil string bytestr topic seq id seqid noop set messag bound setmessagebound string bytestr topic integ bound noop clear messag bound clearmessagebound string bytestr topic noop consum bound consumetobound string bytestr topic noop arrai list messag factori arraylistmessagefactori factori list messag arrai list messag factori arraylistmessagefactori instanc arrai list messag factori arraylistmessagefactori list messag instanc newinst arrai list arraylist messag messag seq id messageseqid get current seq id topic getcurrentseqidfortop string bytestr topic seq id seqid map method mapmethod get after insert absent getafterinsertingifabs messag topic arrai list messag factori arraylistmessagefactori instanc size messag seq id messageseqid builder newbuild set local compon setlocalcompon seq id seqid build get seq id after skip getseqidafterskip string bytestr topic seq id seqid skip amount skipamount seq id seqid skip amount skipamount persist messag persistmessag persist request persistrequest request failur request callback oper fail operationfail request get ctx getctx except map method mapmethod add multi map addtomultimap messag request get topic gettop request get messag getmessag arrai list messag factori arraylistmessagefactori instanc request callback oper finish operationfinish request get ctx getctx messag get request get topic gettop size scan singl messag scansinglemessag scan request scanrequest request failur request get callback getcallback scan fail scanfail request get ctx getctx except request get callback getcallback messag scan messagescan request get ctx getctx messag get request get topic gettop get request get start seq id getstartseqid scan messag scanmessag rang scan request rangescanrequest request failur request get callback getcallback scan fail scanfail request get ctx getctx except total size totals start seq id startseqid request get start seq id getstartseqid request get messag limit getmessagelimit list messag messag list messagelist map method mapmethod get after insert absent getafterinsertingifabs messag request get topic gettop arrai list messag factori arraylistmessagefactori instanc start seq id startseqid messag list messagelist size request get callback getcallback scan finish scanfinish request get ctx getctx reason finish reasonforfinish more messag no_more_messag messag msg messag list messagelist get start seq id startseqid messag deliv todeliv messag id util messageidutil merg local seq id mergelocalseqid msg start seq id startseqid request get callback getcallback messag scan messagescan request get ctx getctx deliv todeliv total size totals deliv todeliv get bodi getbodi size total size totals request get size limit getsizelimit request get callback getcallback scan finish scanfinish request get ctx getctx reason finish reasonforfinish size limit exceed size_limit_exceed request get callback getcallback scan finish scanfinish request get ctx getctx reason finish reasonforfinish num messag limit exceed num_messages_limit_exceed 
unsubscrib op unsubscribeop topic op queuer topicopqueu asynchron op asynchronousop string bytestr subscrib id subscriberid unsubscrib op unsubscribeop string bytestr topic string bytestr subscrib id subscriberid callback callback object ctx queuer topic callback ctx subscrib id subscriberid subscrib id subscriberid overrid run map string bytestr memori subscript state inmemorysubscriptionst topic subscript topicsubscript top2 sub2 seq top2sub2seq get topic topic subscript topicsubscript cb oper fail operationfail ctx pub sub except pubsubexcept server respons topic except servernotresponsiblefortopicexcept topic subscript topicsubscript contain kei containskei subscrib id subscriberid cb oper fail operationfail ctx pub sub except pubsubexcept client subscrib except clientnotsubscribedexcept delet subscript state deletesubscriptionst topic subscrib id subscriberid callback overrid oper fail operationfail object ctx pub sub except pubsubexcept except cb oper fail operationfail ctx except overrid oper finish operationfinish object ctx result oper resultofoper topic subscript topicsubscript remov subscrib id subscriberid notifi listen necessari atom integ atomicinteg count topic2 local count topic2localcount get topic subscript state util subscriptionstateutil hub subscrib ishubsubscrib subscrib id subscriberid count count decrement get decrementandget notifi unsubcrib notifyunsubcrib topic updat messag bound updatemessagebound topic cb oper finish operationfinish ctx ctx 
write record channel writerecordingchannel channel close channel futur channelfutur close futur closingfutur channel futur defaultchannelfutur list object messag written messageswritten link list linkedlist object list object get messag written getmessageswritten messag written messageswritten clear messag clearmessag messag written messageswritten clear overrid channel futur channelfutur bind socket address socketaddress local address localaddress runtim except runtimeexcept intend overrid channel futur channelfutur close close close futur closingfutur set success setsuccess succeed channel futur succeededchannelfutur overrid channel futur channelfutur connect socket address socketaddress remot address remoteaddress runtim except runtimeexcept intend overrid channel futur channelfutur disconnect close overrid channel futur channelfutur get close futur getclosefutur close futur closingfutur overrid channel config channelconfig get config getconfig runtim except runtimeexcept intend overrid channel factori channelfactori get factori getfactori runtim except runtimeexcept intend overrid integ get id getid runtim except runtimeexcept intend overrid get interest op getinterestop runtim except runtimeexcept intend overrid socket address socketaddress get local address getlocaladdress inet socket address inetsocketaddress localhost 1234 overrid channel get parent getpar runtim except runtimeexcept intend overrid channel pipelin channelpipelin get pipelin getpipelin runtim except runtimeexcept intend overrid socket address socketaddress get remot address getremoteaddress inet socket address inetsocketaddress www yahoo com 80 overrid bound isbound runtim except runtimeexcept intend overrid connect isconnect close overrid open isopen runtim except runtimeexcept intend overrid readabl isread runtim except runtimeexcept intend overrid writabl iswrit runtim except runtimeexcept intend overrid channel futur channelfutur set interest op setinterestop interest op interestop runtim except runtimeexcept intend overrid channel futur channelfutur set readabl setread readabl runtim except runtimeexcept intend overrid channel futur channelfutur unbind runtim except runtimeexcept intend overrid channel futur channelfutur write object messag messag written messageswritten add messag succeed channel futur succeededchannelfutur overrid channel futur channelfutur write object messag socket address socketaddress remot address remoteaddress runtim except runtimeexcept intend overrid compar compareto channel runtim except runtimeexcept intend 
bk illeg op except bkillegalopexcept bk except bkexcept bk illeg op except bkillegalopexcept code illeg op except illegalopexcept 
open callback opencallback callback asynchron call open ledger param rc code param lh ledger handl param ctx context object open complet opencomplet rc ledger handl ledgerhandl lh object ctx 
safe asyn bk callback safeasynbkcallback safe async callback safeasynccallback abstract open callback opencallback async callback asynccallback open callback opencallback overrid open complet opencomplet rc ledger handl ledgerhandl ledger handl ledgerhandl object ctx safe open complet safeopencomplet rc ledger handl ledgerhandl ctx throwabl invok uncaught except handler invokeuncaughtexceptionhandl abstract safe open complet safeopencomplet rc ledger handl ledgerhandl ledger handl ledgerhandl object ctx abstract close callback closecallback async callback asynccallback close callback closecallback overrid close complet closecomplet rc ledger handl ledgerhandl ledger handl ledgerhandl object ctx safe close complet safeclosecomplet rc ledger handl ledgerhandl ctx throwabl invok uncaught except handler invokeuncaughtexceptionhandl abstract safe close complet safeclosecomplet rc ledger handl ledgerhandl ledger handl ledgerhandl object ctx abstract read callback readcallback async callback asynccallback read callback readcallback overrid read complet readcomplet rc ledger handl ledgerhandl lh enumer ledger entri ledgerentri seq object ctx safe read complet safereadcomplet rc lh seq ctx throwabl invok uncaught except handler invokeuncaughtexceptionhandl abstract safe read complet safereadcomplet rc ledger handl ledgerhandl lh enumer ledger entri ledgerentri seq object ctx abstract creat callback createcallback async callback asynccallback creat callback createcallback overrid creat complet createcomplet rc ledger handl ledgerhandl lh object ctx safe creat complet safecreatecomplet rc lh ctx throwabl invok uncaught except handler invokeuncaughtexceptionhandl abstract safe creat complet safecreatecomplet rc ledger handl ledgerhandl lh object ctx abstract add callback addcallback async callback asynccallback add callback addcallback overrid add complet addcomplet rc ledger handl ledgerhandl lh entri id entryid object ctx safe add complet safeaddcomplet rc lh entri id entryid ctx throwabl invok uncaught except handler invokeuncaughtexceptionhandl abstract safe add complet safeaddcomplet rc ledger handl ledgerhandl lh entri id entryid object ctx 
rest code test stuff counter callback countercallback write callback writecallback count write complet writecomplet rc inet socket address inetsocketaddress addr object ctx count count notifi notifyal count inccount count wait zero waitzero interrupt except interruptedexcept count wait 
test read ahead cach white box testreadaheadcachewhitebox string bytestr topic string bytestr copi from utf8 copyfromutf8 test topic testtop num messag num_messag 10 msg size msg_size 50 list messag messag helper method helpermethod get random publish messag getrandompublishedmessag num messag num_messag msg size msg_size stub persist manag stubpersistencemanag stub persist manag stubpersistencemanag read ahead cach readaheadcach cach base persist manag cachebasedpersistencemanag server configur myserverconfigur conf myconf server configur myserverconfigur read ahead cach myreadaheadcach read ahead cach readaheadcach read ahead cach myreadaheadcach persist manag rang scan persistencemanagerwithrangescan persist manger persistencemang server configur serverconfigur cfg persist manger persistencemang cfg overrid enqueu failur enqueuewithoutfailur cach request cacherequest obj make perform thread obj perform request performrequest server configur myserverconfigur server configur serverconfigur note set up size limit reach befor count limit read ahead count readaheadcount num messag num_messag read ahead size readaheads msg size msg_size max cach size maxcaches max valu max_valu overrid get read ahead count getreadaheadcount read ahead count readaheadcount overrid get read ahead size byte getreadaheadsizebyt read ahead size readaheads overrid get maximum cach size getmaximumcaches max cach size maxcaches befor set up setup except stub persist manag stubpersistencemanag stub persist manag stubpersistencemanag cach base persist manag cachebasedpersistencemanag read ahead cach myreadaheadcach stub persist manag stubpersistencemanag conf myconf start after tear down teardown except test test persist messag testpersistmessag except stub callback stubcallback callback stub callback stubcallback persist request persistrequest request persist request persistrequest topic messag get callback stub persist manag stubpersistencemanag failur cach base persist manag cachebasedpersistencemanag persist messag persistmessag request assertnotnul concurr util concurrencyutil callback queue right cach kei cachekei kei cach kei cachekei topic cach base persist manag cachebasedpersistencemanag get current seq id topic getcurrentseqidfortop topic get local compon getlocalcompon assertfals cach base persist manag cachebasedpersistencemanag cach contain kei containskei kei stub persist manag stubpersistencemanag failur persist messag persistmessag messag get persist messag persistmessag messag msg except stub callback stubcallback callback stub callback stubcallback persist request persistrequest request persist request persistrequest topic msg callback cach base persist manag cachebasedpersistencemanag persist messag persistmessag request assertnotnul concurr util concurrencyutil callback queue left cach kei cachekei kei cach kei cachekei topic cach base persist manag cachebasedpersistencemanag get current seq id topic getcurrentseqidfortop topic get local compon getlocalcompon cach valu cachevalu cach valu cachevalu cach base persist manag cachebasedpersistencemanag cach get kei assertnotnul cach valu cachevalu assertfals cach valu cachevalu stub isstub asserttru helper method helpermethod equal areequ cach valu cachevalu get messag getmessag msg test test scan singl messag testscansinglemessag except stub scan callback stubscancallback callback stub scan callback stubscancallback scan request scanrequest request scan request scanrequest topic callback stub persist manag stubpersistencemanag failur cach base persist manag cachebasedpersistencemanag scan singl messag scansinglemessag request asserttru callback fail isfail asserttru cach base persist manag cachebasedpersistencemanag cach size stub persist manag stubpersistencemanag failur cach base persist manag cachebasedpersistencemanag scan singl messag scansinglemessag request asserttru conf myconf read ahead count readaheadcount cach base persist manag cachebasedpersistencemanag cach size persist messag persistmessag messag get asserttru callback success issuccess test test deliv testdelivereduntil except messag messag persist messag persistmessag equal assertequ num messag num_messag msg size msg_size cach base persist manag cachebasedpersistencemanag present cach size presentcaches middl messag size cach base persist manag cachebasedpersistencemanag deliv delivereduntil topic middl equal assertequ messag size middl cach base persist manag cachebasedpersistencemanag cach size middle2 middl cach base persist manag cachebasedpersistencemanag deliv delivereduntil topic middle2 effect equal assertequ messag size middl cach base persist manag cachebasedpersistencemanag cach size deliv messag cach base persist manag cachebasedpersistencemanag deliv delivereduntil topic messag size effect asserttru cach base persist manag cachebasedpersistencemanag cach empti isempti asserttru cach base persist manag cachebasedpersistencemanag time index addit timeindexofaddit empti isempti asserttru cach base persist manag cachebasedpersistencemanag order index seq id orderedindexonseqid empti isempti asserttru cach base persist manag cachebasedpersistencemanag present cach size presentcaches test test read ahead testdoreadahead stub scan callback stubscancallback callback stub scan callback stubscancallback scan request scanrequest request scan request scanrequest topic callback cach base persist manag cachebasedpersistencemanag read ahead doreadahead request equal assertequ conf myconf read ahead count readaheadcount cach base persist manag cachebasedpersistencemanag cach size request scan request scanrequest topic conf myconf read ahead count readaheadcount callback cach base persist manag cachebasedpersistencemanag read ahead doreadahead request equal assertequ conf myconf read ahead count readaheadcount cach base persist manag cachebasedpersistencemanag cach size request scan request scanrequest topic conf myconf read ahead count readaheadcount callback cach base persist manag cachebasedpersistencemanag read ahead doreadahead request equal assertequ conf myconf read ahead count readaheadcount cach base persist manag cachebasedpersistencemanag cach size test test read ahead size limit testreadaheadsizelimit except messag messag persist messag persistmessag cach base persist manag cachebasedpersistencemanag cach clear stub scan callback stubscancallback callback stub scan callback stubscancallback scan request scanrequest request scan request scanrequest topic callback cach base persist manag cachebasedpersistencemanag scan singl messag scansinglemessag request asserttru callback success issuccess equal assertequ math ceil conf myconf read ahead size readaheads msg size msg_size cach base persist manag cachebasedpersistencemanag cach size test test read ahead start from testdoreadaheadstartingfrom except persist messag persistmessag messag get read ahead count readaheadcount start rang scan request rangescanrequest read ahead request readaheadrequest cach base persist manag cachebasedpersistencemanag read ahead start from doreadaheadstartingfrom topic start read ahead count readaheadcount assertnul read ahead request readaheadrequest stub scan callback stubscancallback callback stub scan callback stubscancallback end 100 scan request scanrequest request scan request scanrequest topic end callback cach base persist manag cachebasedpersistencemanag read ahead doreadahead request po 98 read ahead request readaheadrequest cach base persist manag cachebasedpersistencemanag read ahead start from doreadaheadstartingfrom topic po read ahead count readaheadcount equal assertequ read ahead request readaheadrequest messag limit messagelimit end po end 200 request scan request scanrequest topic end callback cach base persist manag cachebasedpersistencemanag read ahead doreadahead request back po 150 read ahead request readaheadrequest cach base persist manag cachebasedpersistencemanag read ahead start from doreadaheadstartingfrom topic po read ahead count readaheadcount equal assertequ read ahead request readaheadrequest messag limit messagelimit read ahead count readaheadcount test test add messag cach testaddmessagetocach cach kei cachekei kei cach kei cachekei topic cach base persist manag cachebasedpersistencemanag add messag cach addmessagetocach kei messag get current time milli currenttimemilli equal assertequ cach base persist manag cachebasedpersistencemanag cach size equal assertequ msg size msg_size cach base persist manag cachebasedpersistencemanag present cach size presentcaches equal assertequ cach base persist manag cachebasedpersistencemanag order index seq id orderedindexonseqid get topic size asserttru cach base persist manag cachebasedpersistencemanag order index seq id orderedindexonseqid get topic contain 1l cach valu cachevalu valu cach base persist manag cachebasedpersistencemanag cach get kei asserttru cach base persist manag cachebasedpersistencemanag time index addit timeindexofaddit get valu time addit timeofaddit contain kei test test remov messag from cach testremovemessagefromcach cach kei cachekei kei cach kei cachekei topic cach base persist manag cachebasedpersistencemanag add messag cach addmessagetocach kei messag get current time milli currenttimemilli cach base persist manag cachebasedpersistencemanag remov messag from cach removemessagefromcach kei except asserttru cach base persist manag cachebasedpersistencemanag cach empti isempti asserttru cach base persist manag cachebasedpersistencemanag order index seq id orderedindexonseqid empti isempti asserttru cach base persist manag cachebasedpersistencemanag time index addit timeindexofaddit empti isempti test test collect old cach entri testcollectoldcacheentri messag messag cach kei cachekei kei cach kei cachekei topic cach base persist manag cachebasedpersistencemanag add messag cach addmessagetocach kei conf myconf max cach size maxcaches msg size msg_size cach base persist manag cachebasedpersistencemanag collect old cach entri collectoldcacheentri equal assertequ cach base persist manag cachebasedpersistencemanag cach size equal assertequ cach base persist manag cachebasedpersistencemanag time index addit timeindexofaddit size 
hedwig client side except local client subscrib type oper current distinguish local hub subscrib subscrib id subscriberid specif format invalid subscrib id except invalidsubscriberidexcept except serial version uid serialversionuid 873259807218723523l invalid subscrib id except invalidsubscriberidexcept string messag messag invalid subscrib id except invalidsubscriberidexcept string messag throwabl messag 
small read ahead server configur smallreadaheadserverconfigur hedwig hub test base hedwighubtestbas hub server configur hubserverconfigur small read ahead server configur smallreadaheadserverconfigur server port serverport ssl server port sslserverport server port serverport ssl server port sslserverport get maximum cach size getmaximumcaches get read ahead count getreadaheadcount get messag consum thread run interv getmessagesconsumedthreadruninterv 1000 run second 
hedwig client side except server redirect publish subscrib call allow number server redirect find topic master exceed configur amount publish subscrib fail except server redirect except toomanyserverredirectsexcept except serial version uid serialversionuid 2341192937965635310l server redirect except toomanyserverredirectsexcept string messag messag server redirect except toomanyserverredirectsexcept string messag throwabl messag 
abstract add callback addcallback async callback asynccallback add callback addcallback overrid add complet addcomplet rc ledger handl ledgerhandl lh entri id entryid object ctx safe add complet safeaddcomplet rc lh entri id entryid ctx throwabl invok uncaught except handler invokeuncaughtexceptionhandl abstract safe add complet safeaddcomplet rc ledger handl ledgerhandl lh entri id entryid object ctx 
callback call from booki client bookiecli object call repli write oper oper add entri ledger write callback writecallback write complet writecomplet rc ledger id ledgerid entri id entryid inet socket address inetsocketaddress addr object ctx 
write cb writecb async callback asynccallback stat callback statcallback overrid process result processresult rc string path object ctx stat stat rc code badvers valu intvalu log warn two fragment attempt updat ledger id lh get id getid startid fragment start id fragmentstartid previou success ha conflict updat stat oper add ensembl addensembl updat lh reread metadata rereadmetadata gener callback genericcallback ledger metadata ledgermetadata overrid oper complet operationcomplet rc ledger metadata ledgermetadata meta newmeta rc bk except bkexcept code log error error read updat ledger metadata ledger lh get id getid keeper except keeperexcept creat keeper except keeperexcept code get rc path ledger fragment mcb ledgerfragmentsmcb process result processresult rc lh metadata meta newmeta write ledger config writeledgerconfig rc code valu intvalu log error zk error updat ledger config metadata ledger id ledgerid lh get id getid keeper except keeperexcept creat keeper except keeperexcept code get rc path lh get ledger metadata getledgermetadata updat znode statu updateznodestatu stat log info updat zk ledger id ledgerid lh get id getid fragment start id fragmentstartid point ledger fragment from old dead booki old booki oldbooki booki booki newbooki pass code result up chain parent callback ledger fragment mcb ledgerfragmentsmcb process result processresult rc 
test garbag collect ledger ledger manag gc ledger test gcledgerstest ledger manag test ledgermanagertestcas logger log logger factori loggerfactori get logger getlogg gc ledger test gcledgerstest gc ledger test gcledgerstest string ledger manag type ledgermanagertyp ledger manag type ledgermanagertyp creat ledger creat ledger createledg num ledger numledg set creat ledger createdledg atom integ atomicinteg expect atom integ atomicinteg num ledger numledg num ledger numledg ledger manag ledgermanag ledger path newledgerpath gener callback genericcallback string overrid oper complet operationcomplet rc string ledger path ledgerpath rc bk except bkexcept code ledger id ledgerid ledger manag ledgermanag get ledger id getledgerid ledger path ledgerpath ledger manag ledgermanag add activ ledger addactiveledg ledger id ledgerid creat ledger createdledg add ledger id ledgerid io except ioexcept expect num expect decrement get decrementandget num expect notifi ledger metadata ledgermetadata expect expect get expect wait 100 interrupt except interruptedexcept test test garbag collect ledger testgarbagecollectledg except num ledger numledg 100 num remov ledger numremovedledg 10 set creat ledger createdledg hash set hashset set remov ledger removedledg hash set hashset creat 100 ledger creat ledger createledg num ledger numledg creat ledger createdledg random random current time milli currenttimemilli list tmp list tmplist arrai list arraylist tmp list tmplist add addal creat ledger createdledg collect shuffl tmp list tmplist random remov ledger num remov ledger numremovedledg ledger id ledgerid tmp list tmplist get zkc delet ledger manag ledgermanag get ledger path getledgerpath ledger id ledgerid remov ledger removedledg add ledger id ledgerid creat ledger createdledg remov ledger id ledgerid count down latch countdownlatch gc progress ingcprogress count down latch countdownlatch count down latch countdownlatch creat latch createlatch count down latch countdownlatch count down latch countdownlatch end latch endlatch count down latch countdownlatch thread gc thread gcthread thread overrid run ledger manag ledgermanag garbag collect ledger garbagecollectledg garbag collector garbagecollector paus overrid gc ledger id ledgerid paus gc progress ingcprogress count down countdown creat latch createlatch await interrupt except interruptedexcept paus log info garbag collect ledger ledger id ledgerid log info gc thread quit end latch endlatch count down countdown thread creat thread createthread thread overrid run gc progress ingcprogress await creat 10 more ledger creat ledger createledg 10 creat ledger createdledg log info finish creat 10 more ledger creat latch createlatch count down countdown except log info creat thread quit end latch endlatch count down countdown creat thread createthread start gc thread gcthread start end latch endlatch await test ledger ledger remov ledger removedledg assertfals ledger manag ledgermanag contain activ ledger containsactiveledg ledger ledger creat ledger createdledg asserttru ledger manag ledgermanag contain activ ledger containsactiveledg ledger 
manag ledger singl zk node ledger metadata put singl zk node creat zk sequenti node ledger node prefix activ ledger found booki server side manag hash map garbag collect flat ledger manag flatledgermanag procss ul li fetch exist ledger from zookeep zk activ ledger zkactiveledg li fetch activ ledger from booki server bk activ ledger bkactiveledg li loop bk activ ledger bkactiveledg find ledger aren exist zk activ ledger zkactiveledg garbag collect ul flat ledger manag flatledgermanag abstract zk ledger manag abstractzkledgermanag logger log logger factori loggerfactori get logger getlogg flat ledger manag flatledgermanag string name flat cur version cur_vers path prefix store ledger znode string ledger prefix ledgerprefix hash map store activ ledger id snapshot map snapshotmap activ ledger activeledg constructor param conf configur object param zk zoo keeper zookeep client handl param ledger root path ledgerrootpath zoo keeper zookeep path store ledger metadata io except ioexcept version compat flat ledger manag flatledgermanag abstract configur abstractconfigur conf zoo keeper zookeep zk string ledger root path ledgerrootpath layout version layoutvers io except ioexcept conf zk ledger root path ledgerrootpath layout version layoutvers cur version cur_vers io except ioexcept incompat layout version found layout version layoutvers ledger prefix ledgerprefix ledger root path ledgerrootpath ledger node prefix ledger_node_prefix activ ledger activeledg snapshot map snapshotmap overrid ledger path newledgerpath gener callback genericcallback string cb ledger metadata ledgermetadata metadata string callback stringcallback scb string callback stringcallback overrid process result processresult rc string path object ctx string name code valu intvalu rc cb oper complet operationcomplet rc updat znode statu metadata updat znode statu updateznodestatu cb oper complet operationcomplet rc name zk util zkutil creat full path optimist createfullpathoptimist zk ledger prefix ledgerprefix metadata serial id open acl unsaf open_acl_unsaf creat mode createmod persist sequenti persistent_sequenti scb overrid string get ledger path getledgerpath ledger id ledgerid string builder stringbuild sb string builder stringbuild sb append ledger prefix ledgerprefix append string util stringutil get zk string id getzkstringid ledger id ledgerid sb string tostr overrid get ledger id getledgerid string node name nodenam io except ioexcept ledger id ledgerid string part node name nodenam split ledger prefix ledgerprefix ledger id ledgerid pars parselong part part length number format except numberformatexcept io except ioexcept ledger id ledgerid overrid async process ledger asyncprocessledg processor processor async callback asynccallback callback voidcallback cb finalcb object ctx success rc successrc failur rc failurerc async process ledger singl node asyncprocessledgersinsinglenod ledger root path ledgerrootpath processor cb finalcb ctx success rc successrc failur rc failurerc overrid add activ ledger addactiveledg ledger id ledgerid activ activ ledger activeledg put ledger id ledgerid activ overrid remov activ ledger removeactiveledg ledger id ledgerid activ ledger activeledg remov ledger id ledgerid overrid contain activ ledger containsactiveledg ledger id ledgerid activ ledger activeledg contain kei containskei ledger id ledgerid overrid garbag collect ledger garbagecollectledg garbag collector garbagecollector gc creat snapshot first map bk activ ledger bkactiveledg activ ledger activeledg snapshot set zk activ ledger zkactiveledg get ledger singl node getledgersinsinglenod ledger root path ledgerrootpath log debug enabl isdebugen log debug activ ledger from zk zk activ ledger zkactiveledg log debug current activ ledger from booki bk activ ledger bkactiveledg kei set keyset gc dogc gc bk activ ledger bkactiveledg zk activ ledger zkactiveledg io except ioexcept log warn error garbag collect ledger from ledger root path ledgerrootpath interrupt except interruptedexcept int log warn interrupt garbag collect ledger from ledger root path ledgerrootpath int 
command mycommand run cmd runcmd string arg except 
updat ledger op updateledgerop topic op queuer topicopqueu asynchron op asynchronousop ledger delet ledgerdelet updat ledger op updateledgerop string bytestr topic callback cb object ctx ledger delet ledgerdelet queuer topic cb ctx ledger delet ledgerdelet ledger delet ledgerdelet overrid run topic info topicinfo topic info topicinfo topic info topicinfo get topic topic info topicinfo logger error server respons topic updat needsupd ledger rang ledgerrang builder builder ledger rang ledgerrang builder newbuild set kei remov keystoremov hash set hashset map entri memori ledger rang inmemoryledgerrang topic info topicinfo ledger rang ledgerrang entri set entryset get valu getvalu rang get ledger id getledgerid ledger delet ledgerdelet updat needsupd kei remov keystoremov add get kei getkei builder add rang addrang get valu getvalu rang builder add rang addrang topic info topicinfo current ledger rang currentledgerrang rang updat needsupd ledger rang ledgerrang rang newrang builder build updat ledger rang node updateledgerrangesnod topic rang newrang topic info topicinfo ledger rang znode version ledgerrangesznodevers callback integ oper finish operationfinish object ctx integ version newvers done kei remov keystoremov topic info topicinfo ledger rang ledgerrang remov topic info topicinfo ledger rang znode version ledgerrangesznodevers version newvers cb oper finish operationfinish ctx oper fail operationfail object ctx pub sub except pubsubexcept except cb oper fail operationfail ctx except ctx cb oper finish operationfinish ctx 
server configur serverconfigur abstract configur abstractconfigur string region region string max messag size max_message_s max messag size max_message_s string readahead count readahead_count readahead count readahead_count string readahead size readahead_s readahead size readahead_s string cach size cache_s cach size cache_s string scan backoff msec scan_backoff_msec scan backoff ms scan_backoff_m string server port server_port server port server_port string ssl server port ssl_server_port ssl server port ssl_server_port string zk prefix zk_prefix zk prefix zk_prefix string zk host zk_host zk host zk_host string zk timeout zk_timeout zk timeout zk_timeout string readahead enabl readahead_en readahead enabl readahead_en string standalon standalon string region region string cert name cert_nam cert name cert_nam string cert path cert_path cert path cert_path string password password string ssl enabl ssl_enabl ssl enabl ssl_enabl string consum interv consume_interv consum interv consume_interv string retent sec retention_sec retent sec retention_sec string inter region ssl enabl inter_region_ssl_en inter region ssl enabl inter_region_ssl_en string messag consum thread run interv messages_consumed_thread_run_interv messag consum thread run interv messages_consumed_thread_run_interv string bk ensembl size bk_ensemble_s bk ensembl size bk_ensemble_s string bk quorum size bk_quorum_s bk quorum size bk_quorum_s string retri remot subscrib thread run interv retry_remote_subscribe_thread_run_interv retri remot subscrib thread run interv retry_remote_subscribe_thread_run_interv deriv attribut string bytestr region string myregionbytestr hedwig socket address hedwigsocketaddress server address myserveraddress list string region list regionlist method current us current maintain support fly chang configur refresh deriv attribut refreshderivedattribut refresh region string refreshmyregionbytestr refresh server address refreshmyserveraddress refresh region list refreshregionlist overrid load conf loadconf url conf url confurl configur except configurationexcept load conf loadconf conf url confurl refresh deriv attribut refreshderivedattribut get maximum messag size getmaximummessages conf get getint max messag size max_message_s 1258291 2m string get region getmyregion conf get string getstr region standalon refresh region string refreshmyregionbytestr region string myregionbytestr string bytestr copi from utf8 copyfromutf8 get region getmyregion refresh server address refreshmyserveraddress us raw ip address hostnam server address myserveraddress hedwig socket address hedwigsocketaddress inet address inetaddress get local host getlocalhost get host address gethostaddress get server port getserverport get ssl server port getsslserverport unknown host except unknownhostexcept runtim except runtimeexcept expect format region paramet hostnam port ssl port sslport space region refresh region list refreshregionlist string region conf get string getstr region region empti isempti region list regionlist link list linkedlist string region list regionlist arrai list aslist region split string bytestr get region string getmyregionbytestr region string myregionbytestr refresh region string refreshmyregionbytestr region string myregionbytestr get read ahead count getreadaheadcount conf get getint readahead count readahead_count 10 get read ahead size byte getreadaheadsizebyt conf get getlong readahead size readahead_s 1024 1024 4m get maximum cach size getmaximumcaches 2g half maximum amount memori jvm us conf get getlong cach size cache_s math min 1024l 1024l 1024l runtim get runtim getruntim max memori maxmemori after scan log fail befor retri msec get scan backoff period ms getscanbackoffperiodm conf get getlong scan backoff msec scan_backoff_msec 1000 get server port getserverport conf get getint server port server_port 4080 get ssl server port getsslserverport conf get getint ssl server port ssl_server_port 9876 string get zk prefix getzkprefix conf get string getstr zk prefix zk_prefix hedwig string builder stringbuild get zk region prefix getzkregionprefix string builder stringbuild sb sb append get zk prefix getzkprefix append append get region getmyregion string builder stringbuild get zk topic prefix getzktopicsprefix string builder stringbuild sb get zk region prefix getzkregionprefix sb append topic string builder stringbuild get zk topic path getzktopicpath string builder stringbuild sb string bytestr topic get zk topic prefix getzktopicsprefix sb append append topic string utf8 tostringutf8 string builder stringbuild get zk host prefix getzkhostsprefix string builder stringbuild sb get zk region prefix getzkregionprefix sb append host hedwig socket address hedwigsocketaddress get server addr getserveraddr server address myserveraddress refresh server address refreshmyserveraddress server address myserveraddress string get zk host getzkhost conf get string getstr zk host zk_host localhost get zk timeout getzktimeout conf get getint zk timeout zk_timeout 2000 get read ahead enabl getreadaheaden conf get getboolean readahead enabl readahead_en conf get getboolean readhead enabl readhead_en kei misspelt previou version compens here standalon isstandalon conf get getboolean standalon list string get region getregion region list regionlist refresh region list refreshregionlist region list regionlist name ssl certif avail resourc string get cert name getcertnam conf get string getstr cert name cert_nam path ssl certif avail file string get cert path getcertpath conf get string getstr cert path cert_path method ssl certif input stream inputstream base configur avail resourc file configur correctli configur except configurationexcept thrown obtain ssl certif stream input stream inputstream get cert stream getcertstream file found except filenotfoundexcept configur except configurationexcept string cert name certnam get cert name getcertnam string cert path certpath get cert path getcertpath cert name certnam cert name certnam empti isempti get getclass get resourc stream getresourceasstream cert name certnam cert path certpath cert path certpath empti isempti file input stream fileinputstream cert path certpath configur except configurationexcept ssl certif configur resourc name path set string get password getpassword conf get string getstr password ssl enabl issslen conf get getboolean ssl enabl ssl_enabl get consum interv getconsumeinterv conf get getint consum interv consume_interv 50 get retent sec getretentionsec conf get getint retent sec retention_sec inter region ssl enabl isinterregionsslen conf get getboolean inter region ssl enabl inter_region_ssl_en paramet us determin run subscript manag subscriptionmanag messag consum timer task thread millisecond get messag consum thread run interv getmessagesconsumedthreadruninterv conf get getint messag consum thread run interv messages_consumed_thread_run_interv 60000 paramet us determin run thread retri fail remot subscript asynchron mode millisecond get retri remot subscrib thread run interv getretryremotesubscribethreadruninterv conf get getint retri remot subscrib thread run interv retry_remote_subscribe_thread_run_interv 120000 paramet us bookkeep persist store ensembl size booki server stripe ledger entri get bk ensembl size getbkensembles conf get getint bk ensembl size bk_ensemble_s paramet us bookkeep persist store quorum size redund copi ledger entri written get bk quorum size getbkquorums conf get getint bk quorum size bk_quorum_s valid configur run code grow time valid configur except configurationexcept get zk prefix getzkprefix start startswith configur except configurationexcept zk prefix zk_prefix start valid region exist inter region commun ssl enabl region correspond valid hedwig socket address hedwigsocketaddress ssl port present inter region ssl enabl isinterregionsslen get region getregion size string hub string hubstr get region getregion hedwig socket address hedwigsocketaddress hub hedwig socket address hedwigsocketaddress hub string hubstr hub get ssl socket address getsslsocketaddress configur except configurationexcept region defin requir ssl port hub string hubstr valid bookkeep ensembl size quorum size get bk ensembl size getbkensembles get bk quorum size getbkquorums configur except configurationexcept bk ensembl size get bk ensembl size getbkensembles quorum size get bk quorum size getbkquorums add check here 
upgrad except upgradeexcept booki except bookieexcept upgrad except upgradeexcept code upgrad except upgradeexcept upgrad except upgradeexcept throwabl caus code upgrad except upgradeexcept caus upgrad except upgradeexcept string reason code upgrad except upgradeexcept reason 
object us synchron async method call sync object syncobject valu sync object syncobject valu 
applic upgrad bookkeep filesystem version file upgrad filesystemupgrad logger log logger factori loggerfactori get logger getlogg file upgrad filesystemupgrad filenam filter filenamefilt booki file filter bookie_files_filt filenam filter filenamefilt contain index file containsindexfil file dir string name name end endswith idx pars parselong name 16 file file dir name directori isdirectori string file list string file contain index file containsindexfil number format except numberformatexcept nfe accept file dir string name name end endswith txn name end endswith log name equal last id lastid name equal last mark lastmark contain index file containsindexfil dir name list file get directori getalldirectori server configur serverconfigur conf list file dir arrai list arraylist file dir add conf get journal dir getjournaldir file conf get ledger dir getledgerdir dir add dir detect previou version detectpreviousvers file directori io except ioexcept string file directori list booki file filter bookie_files_filt file v2 version file v2versionfil file directori cooki version filenam version_filenam file length v2 version file v2versionfil exist old data cooki current cooki layout version current_cookie_layout_vers v2 version file v2versionfil exist scanner scanner v2 version file v2versionfil next nextint element except nosuchelementexcept nse log error couldn pars version file v2 version file v2versionfil nse io except ioexcept couldn pars version file nse illeg state except illegalstateexcept is log error error read file v2 version file v2versionfil is io except ioexcept error read version file is close zoo keeper zookeep zookeep newzookeep server configur serverconfigur conf booki except bookieexcept upgrad except upgradeexcept count down latch countdownlatch latch count down latch countdownlatch zoo keeper zookeep zk zoo keeper zookeep conf get zk server getzkserv conf get zk timeout getzktimeout watcher overrid process watch event watchedev event handl session disconnect expir event get state getstat equal watcher event keeper state keeperst sync connect syncconnect latch count down countdown latch await conf get zk timeout getzktimeout time unit timeunit millisecond zk close booki except bookieexcept upgrad except upgradeexcept couldn connect zookeep zk interrupt except interruptedexcept booki except bookieexcept upgrad except upgradeexcept io except ioexcept ioe booki except bookieexcept upgrad except upgradeexcept ioe link index directori linkindexdirectori file src path srcpath file target path targetpath io except ioexcept string file src path srcpath list string file end endswith idx index dir creat link target path targetpath mkdir io except ioexcept creat target path target path targetpath hard link hardlink creat hard link mult createhardlinkmult src path srcpath file target path targetpath file src path newsrcpath file src path srcpath src path newsrcpath directori isdirectori pars parselong 16 link index directori linkindexdirectori src path newsrcpath file target path targetpath number format except numberformatexcept nfe filenam pars hex contain idx file ignor upgrad server configur serverconfigur conf booki except bookieexcept upgrad except upgradeexcept interrupt except interruptedexcept log info upgrad zoo keeper zookeep zk zookeep newzookeep conf map file file defer move deferredmov hash map hashmap file file cooki cooki gener cooki generatecooki conf file get directori getalldirectori conf log info upgrad version detect previou version detectpreviousvers version cooki current cooki layout version current_cookie_layout_vers log info directori current upgrad file cur dir curdir file booki current dir current_dir file tmp dir tmpdir file upgrad tmp upgradetmp nano time nanotim defer move deferredmov put cur dir curdir tmp dir tmpdir tmp dir tmpdir mkdir booki except bookieexcept upgrad except upgradeexcept creat temporari directori tmp dir tmpdir write directori writetodirectori tmp dir tmpdir string file list filenam filter filenamefilt accept file dir string name booki file filter bookie_files_filt accept dir name file dir name directori isdirectori hard link hardlink creat hard link mult createhardlinkmult file tmp dir tmpdir link index directori linkindexdirectori tmp dir tmpdir io except ioexcept ioe log error error upgrad booki except bookieexcept upgrad except upgradeexcept ioe map entri file file defer move deferredmov entri set entryset file util fileutil move directori movedirectori get valu getvalu get kei getkei io except ioexcept ioe string err string format error move upgrad directori place get valu getvalu get kei getkei log error err ioe booki except bookieexcept upgrad except upgradeexcept ioe write zoo keeper writetozookeep zk conf keeper except keeperexcept ke log error error write cooki zookeep booki except bookieexcept upgrad except upgradeexcept ke io except ioexcept ioe booki except bookieexcept upgrad except upgradeexcept ioe zk close log info done final upgrad finalizeupgrad server configur serverconfigur conf booki except bookieexcept upgrad except upgradeexcept interrupt except interruptedexcept log info final upgrad verifi upgrad correct file get directori getalldirectori conf log info final version detect previou version detectpreviousvers version version file v2 version file v2versionfil file cooki version filenam version_filenam v2 version file v2versionfil delet log warn delet old version file v2 version file v2versionfil file file list file listfil booki file filter bookie_files_filt file file directori isdirectori file util fileutil delet directori deletedirectori delet log warn delet io except ioexcept ioe log error error final booki except bookieexcept upgrad except upgradeexcept ioe noop moment log info done rollback server configur serverconfigur conf booki except bookieexcept upgrad except upgradeexcept interrupt except interruptedexcept log info roll back upgrad zoo keeper zookeep zk zookeep newzookeep conf file get directori getalldirectori conf log info roll back ensur previou version befor rollback version detect previou version detectpreviousvers version cooki current cooki layout version current_cookie_layout_vers file cur dir curdir file booki current dir current_dir file util fileutil delet directori deletedirectori cur dir curdir booki except bookieexcept upgrad except upgradeexcept rollback previou data exist io except ioexcept ioe log error error roll back booki except bookieexcept upgrad except upgradeexcept ioe cooki cooki read from zoo keeper readfromzookeep zk conf delet from zoo keeper deletefromzookeep zk conf keeper except keeperexcept ke log error error delet cooki from zoo keeper zookeep booki except bookieexcept upgrad except upgradeexcept ke io except ioexcept ioe log error error delet cooki from zoo keeper zookeep booki except bookieexcept upgrad except upgradeexcept ioe zk close log info done print help printhelp option opt help formatt helpformatt hf help formatt helpformatt hf print help printhelp file upgrad filesystemupgrad option opt main string arg except org apach log4j logger root org apach log4j logger get root logger getrootlogg root add append addappend org apach log4j consol append consoleappend org apach log4j pattern layout patternlayout 5p root set level setlevel org apach log4j level error root get logger getlogg file upgrad filesystemupgrad set level setlevel org apach log4j level info option opt option opt add option addopt conf configur booki opt add option addopt upgrad upgrad booki directori opt add option addopt final final upgrad opt add option addopt rollback rollback upgrad opt add option addopt help print help messag basic parser basicpars parser basic parser basicpars command line commandlin cmd line cmdline parser pars opt arg cmd line cmdline ha option hasopt print help printhelp opt cmd line cmdline ha option hasopt string err upgrad configur log error err print help printhelp opt illeg argument except illegalargumentexcept err string conf file conffil cmd line cmdline get option valu getoptionvalu server configur serverconfigur conf server configur serverconfigur conf load conf loadconf file conf file conffil uri touri url tourl malform url except malformedurlexcept mue log error open configur file conf file conffil mue illeg argument except illegalargumentexcept configur except configurationexcept ce log error invalid configur file conf file conffil ce illeg argument except illegalargumentexcept cmd line cmdline ha option hasopt upgrad conf cmd line cmdline ha option hasopt rollback conf cmd line cmdline ha option hasopt final upgrad finalizeupgrad conf string err specifi upgrad final rollback log error err print help printhelp opt illeg argument except illegalargumentexcept err 
noop callback noopcallback callback overrid oper fail operationfail object ctx pub sub except pubsubexcept except logger warn except found abstract subscript manag abstractsubscriptionmanag except oper finish operationfinish object ctx result oper resultofoper 
subscrib reconnect retri task subscribereconnectretrytask timer task timertask overrid run logger debug enabl isdebugen logger debug retri subscrib reconnect request orig sub data origsubdata orig sub data origsubdata clear server ve contact attempt from request orig sub data origsubdata clear server list clearserverslist client connect doconnect orig sub data origsubdata cfg get server host getdefaultserverhost 
messag filter messagefilt test messag pass filter param messag test messag testmessag messag messag 
hedwig client side except pub sub request pubsubrequest redirect server request ha sent previous avoid cyclic redirect loop condit check except thrown client caller server redirect loop except serverredirectloopexcept except serial version uid serialversionuid 98723508723152897l server redirect loop except serverredirectloopexcept string messag messag server redirect loop except serverredirectloopexcept string messag throwabl messag 
custom server configur customserverconfigur server configur serverconfigur port custom server configur customserverconfigur port port port overrid get server port getserverport port 
abstract callback voidcallback async callback asynccallback callback voidcallback process result processresult rc string path object ctx safe process result safeprocessresult rc path ctx throwabl invok uncaught except handler invokeuncaughtexceptionhandl abstract safe process result safeprocessresult rc string path object ctx 
test bookkeep persist manag white box testbookkeeperpersistencemanagerwhitebox test testcas book keeper test base bookkeepertestbas bktb num booki numbooki bookkeep persist manag bookkeeperpersistencemanag bkpm server configur serverconfigur conf schedul executor servic scheduledexecutorservic schedul topic manag topicmanag tm string bytestr topic string bytestr copi from utf8 copyfromutf8 topic0 overrid befor set up setup except set up setup bktb book keeper test base bookkeepertestbas num booki numbooki bktb set up setup conf server configur serverconfigur schedul executor schedul thread pool newscheduledthreadpool tm trivial topic manag trivialownalltopicmanag conf schedul bkpm bookkeep persist manag bookkeeperpersistencemanag bktb bk bktb get zoo keeper client getzookeepercli tm conf schedul overrid after tear down teardown except bktb tear down teardown tear down teardown test test empti dirti ledger testemptydirtyledg except stub callback stubcallback stub callback stubcallback stub callback stubcallback bkpm acquir topic acquiredtop topic stub callback stubcallback assertnul concurr util concurrencyutil stub callback stubcallback queue right abandon time prev ledger dirti bkpm bookkeep persist manag bookkeeperpersistencemanag book keeper bookkeep bktb get zk host port getzkhostport bktb get zoo keeper client getzookeepercli tm conf schedul bkpm acquir topic acquiredtop topic stub callback stubcallback assertnul concurr util concurrencyutil stub callback stubcallback queue right equal assertequ bkpm topic info topicinfo get topic ledger rang ledgerrang size test non empti dirti ledger testnonemptydirtyledg except random random num messag test num_messages_to_test 100 size messag test size_of_messages_to_test 100 index num prev ledger numprevledg list messag messag helper method helpermethod get random publish messag getrandompublishedmessag num messag test num_messages_to_test size messag test size_of_messages_to_test index messag size stub callback stubcallback stub callback stubcallback stub callback stubcallback bkpm acquir topic acquiredtop topic stub callback stubcallback assertnul concurr util concurrencyutil stub callback stubcallback queue right equal assertequ num prev ledger numprevledg bkpm topic info topicinfo get topic ledger rang ledgerrang size stub callback stubcallback persist callback persistcallback stub callback stubcallback bkpm persist messag persistmessag persist request persistrequest topic messag get index persist callback persistcallback equal assertequ index concurr util concurrencyutil persist callback persistcallback queue left 10 time up ledger next nextint 10 make bkpm lose memori bkpm topic info topicinfo clear num prev ledger numprevledg index ensur bkpm ha topic befor scan stub callback stubcallback stub callback stubcallback stub callback stubcallback bkpm acquir topic acquiredtop topic stub callback stubcallback let scan stub scan callback stubscancallback scan callback scancallback stub scan callback stubscancallback bkpm scan messag scanmessag rang scan request rangescanrequest topic num messag test num_messages_to_test max valu max_valu scan callback scancallback messag size messag except concurr util concurrencyutil scan callback scancallback queue messag scan messag scannedmessag left scan messag scannedmessag right asserttru messag get get bodi getbodi equal scan messag scannedmessag get bodi getbodi equal assertequ scan messag scannedmessag get msg id getmsgid get local compon getlocalcompon asserttru stub scan callback stubscancallback end messag end_messag concurr util concurrencyutil scan callback scancallback queue left 
bench booki benchbooki logger log logger factori loggerfactori get logger getlogg bench booki benchbooki latenc callback latencycallback write callback writecallback complet overrid write complet writecomplet rc ledger id ledgerid entri id entryid inet socket address inetsocketaddress addr object ctx rc log error error rc complet notifi notifyal reset complet resetcomplet complet wait complet waitforcomplet interrupt except interruptedexcept complet wait throughput callback throughputcallback write callback writecallback count wait count waitingcount integ max valu max_valu write complet writecomplet rc ledger id ledgerid entri id entryid inet socket address inetsocketaddress addr object ctx rc log error error rc count count wait count waitingcount notifi notifyal wait waitfor count interrupt except interruptedexcept count count wait count waitingcount count wait 1000 wait count waitingcount integ max valu max_valu get valid ledger id getvalidledgerid string zk server zkserver io except ioexcept bk except bkexcept keeper except keeperexcept interrupt except interruptedexcept book keeper bookkeep bkc ledger handl ledgerhandl lh id bkc book keeper bookkeep zk server zkserver lh bkc creat ledger createledg book keeper bookkeep digest type digesttyp crc32 20 id lh get id getid id lh lh close bkc bkc close param arg interrupt except interruptedexcept main string arg interrupt except interruptedexcept pars except parseexcept io except ioexcept bk except bkexcept keeper except keeperexcept option option option option add option addopt host hostnam ip booki benchmark option add option addopt port port booki benchmark 3181 option add option addopt zookeep zookeep ensembl localhost 2181 option add option addopt size size messag send byte 1024 option add option addopt help messag command line parser commandlinepars parser posix parser posixpars command line commandlin cmd parser pars option arg cmd ha option hasopt help cmd ha option hasopt host help formatt helpformatt formatt help formatt helpformatt formatt print help printhelp bench booki benchbooki option option exit string addr cmd get option valu getoptionvalu host port integ valu valueof cmd get option valu getoptionvalu port 3181 size integ valu valueof cmd get option valu getoptionvalu size 1024 string server cmd get option valu getoptionvalu zookeep localhost 2181 client socket channel factori clientsocketchannelfactori channel factori channelfactori nio client socket channel factori nioclientsocketchannelfactori executor cach thread pool newcachedthreadpool executor cach thread pool newcachedthreadpool order safe executor orderedsafeexecutor executor order safe executor orderedsafeexecutor client configur clientconfigur conf client configur clientconfigur booki client bookiecli bc booki client bookiecli conf channel factori channelfactori executor latenc callback latencycallback lc latenc callback latencycallback throughput callback throughputcallback tc throughput callback throughputcallback warm up count warmupcount 999 ledger get valid ledger id getvalidledgerid server entri entri warm up count warmupcount entri channel buffer channelbuff send tosend channel buffer channelbuff buffer size send tosend reset reader index resetreaderindex send tosend reset writer index resetwriterindex send tosend write writelong ledger send tosend write writelong entri send tosend writer index writerindex send tosend capac bc add entri addentri inet socket address inetsocketaddress addr port ledger 20 entri send tosend tc booki protocol bookieprotocol flag flag_non log info wait warmup tc wait waitfor warm up count warmupcount ledger get valid ledger id getvalidledgerid server log info benchmark latenc entri count entrycount 5000 start time starttim nano time nanotim entri entri entri count entrycount entri channel buffer channelbuff send tosend channel buffer channelbuff buffer size send tosend reset reader index resetreaderindex send tosend reset writer index resetwriterindex send tosend write writelong ledger send tosend write writelong entri send tosend writer index writerindex send tosend capac lc reset complet resetcomplet bc add entri addentri inet socket address inetsocketaddress addr port ledger 20 entri send tosend lc booki protocol bookieprotocol flag flag_non lc wait complet waitforcomplet end time endtim nano time nanotim log info latenc end time endtim start time starttim entri count entrycount 1000000 entri count entrycount 50000 ledger get valid ledger id getvalidledgerid server log info benchmark throughput start time starttim current time milli currenttimemilli tc throughput callback throughputcallback entri entri entri count entrycount entri channel buffer channelbuff send tosend channel buffer channelbuff buffer size send tosend reset reader index resetreaderindex send tosend reset writer index resetwriterindex send tosend write writelong ledger send tosend write writelong entri send tosend writer index writerindex send tosend capac bc add entri addentri inet socket address inetsocketaddress addr port ledger 20 entri send tosend tc booki protocol bookieprotocol flag flag_non tc wait waitfor entri count entrycount end time endtim current time milli currenttimemilli log info throughput entri count entrycount 1000 end time endtim start time starttim bc close channel factori channelfactori releas extern resourc releaseexternalresourc executor shutdown 
test implement callback async client action test callback testcallback callback synchron queue synchronousqueu queue test callback testcallback synchron queue synchronousqueu queue queue queue overrid oper finish operationfinish object ctx result oper resultofoper thread runnabl overrid run logger debug enabl isdebugen logger debug oper finish concurr util concurrencyutil put queue start overrid oper fail operationfail object ctx pub sub except pubsubexcept except thread runnabl overrid run logger error oper fail except concurr util concurrencyutil put queue start 
connect callback connectcallback channel futur listen channelfuturelisten logger logger logger factori loggerfactori get logger getlogg connect callback connectcallback member variabl pub sub data pubsubdata pub sub data pubsubdata inet socket address inetsocketaddress host hedwig client impl hedwigclientimpl client hedwig publish hedwigpublish pub hedwig subscrib hedwigsubscrib sub client configur clientconfigur cfg constructor connect callback connectcallback pub sub data pubsubdata pub sub data pubsubdata inet socket address inetsocketaddress host hedwig client impl hedwigclientimpl client pub sub data pubsubdata pub sub data pubsubdata host host client client pub client get publish getpublish sub client get subscrib getsubscrib cfg client get configur getconfigur oper complet operationcomplet channel futur channelfutur futur except client ha stop proce callback logic here client ha stop hasstop futur get channel getchannel close check connect server done successfulli futur success issuccess logger error error connect host host futur get channel getchannel close abl connect host down string bytestr host string hoststr string bytestr copi from utf8 copyfromutf8 hedwig socket address hedwigsocketaddress sock addr str sockaddrstr host pub sub data pubsubdata connect fail server connectfailedserv pub sub data pubsubdata connect fail server connectfailedserv contain host string hoststr ve connect host befor invok oper fail operationfail callback logger error error connect host more invok oper fail operationfail callback pub sub data pubsubdata callback oper fail operationfail pub sub data pubsubdata context connect except couldnotconnectexcept connect host host logger debug enabl isdebugen logger debug connect server host pub sub data pubsubdata pub sub data pubsubdata keep track current server fail connect retri request server host vip topic2 host topic2host map updat pub sub data pubsubdata connect fail server connectfailedserv pub sub data pubsubdata connect fail server connectfailedserv link list linkedlist string bytestr pub sub data pubsubdata connect fail server connectfailedserv add host string hoststr client connect doconnect pub sub data pubsubdata cfg get server host getdefaultserverhost finish failur logic connect successfulli server type pub sub pubsub request logger debug enabl isdebugen logger debug connect host host success pub sub data pubsubdata pub sub data pubsubdata pub sub data pubsubdata oper type operationtyp equal oper type operationtyp publish publish request store channel connect hedwig publish hedwigpublish map doesn exist publish cach channel map host note race concurr situat cach channel on channel establish here channel close ll publish cach channel hedwig publish hedwigpublish host2 channel host2channel map pub store host2 channel map storehost2channelmap futur get channel getchannel pub publish dopublish pub sub data pubsubdata pub host2 channel host2channel get hedwig client impl hedwigclientimpl get host from channel gethostfromchannel futur get channel getchannel pub sub data pubsubdata oper type operationtyp equal oper type operationtyp unsubscrib unsubscrib request store channel connect hedwig publish hedwigpublish map doesn exist unsubscrib unsubscrib request share reus netti channel connect publish request us pub store host2 channel map storehost2channelmap futur get channel getchannel sub sub unsub dosubunsub pub sub data pubsubdata pub host2 channel host2channel get hedwig client impl hedwigclientimpl get host from channel gethostfromchannel futur get channel getchannel subscrib request store channel connect subscrib here done ve found right server topic master determin receiv success server ack respons subscrib request handl respons handler responsehandl store unsubscrib channel connect won us sub sub unsub dosubunsub pub sub data pubsubdata futur get channel getchannel 
point scan verifi listen pointscanverifierlisten scan callback scancallback list messag pub msg pubmsg string bytestr topic point scan verifi listen pointscanverifierlisten list messag pub msg pubmsg string bytestr topic topic topic pub msg pubmsg pub msg pubmsg suppress warn suppresswarn uncheck messag scan messagescan object ctx messag recv messag recvmessag messag pub msg pubmsg pub msg pubmsg get helper method helpermethod equal areequ recv messag recvmessag pub msg pubmsg failur except failureexcept runtim except runtimeexcept scan messag equal expect pub msg pubmsg remov pub msg pubmsg empti isempti link block queue linkedblockingqueu statu queue statusqueu link block queue linkedblockingqueu ctx statu queue statusqueu put interrupt except interruptedexcept failur except failureexcept runtim except runtimeexcept seq id seqid recv messag recvmessag get msg id getmsgid get local compon getlocalcompon seq id seqid persist manag persistencemanag get seq id after skip getseqidafterskip topic seq id seqid scan request scanrequest request scan request scanrequest topic seq id seqid point scan verifi listen pointscanverifierlisten pub msg pubmsg topic ctx persist manag persistencemanag scan singl messag scansinglemessag request scan fail scanfail object ctx except except failur except failureexcept runtim except runtimeexcept except scan finish scanfinish object ctx reason finish reasonforfinish reason 
empti watcher watcher mywatch watcher process watch event watchedev event 
subscrib handler subscribehandl base handler basehandl channel disconnect listen channeldisconnectlisten logger logger logger factori loggerfactori get logger getlogg subscrib handler subscribehandl deliveri manag deliverymanag deliveri mgr deliverymgr persist manag persistencemanag persist mgr persistencemgr subscript manag subscriptionmanag sub mgr submgr concurr hash map concurrenthashmap topic subscrib topicsubscrib channel sub2 channel sub2channel concurr hash map concurrenthashmap channel topic subscrib topicsubscrib channel2 sub channel2sub op stat op stat opstat sub stat substat subscrib handler subscribehandl topic manag topicmanag topic mgr topicmgr deliveri manag deliverymanag deliveri manag deliverymanag persist manag persistencemanag persist mgr persistencemgr subscript manag subscriptionmanag sub mgr submgr server configur serverconfigur cfg topic mgr topicmgr cfg deliveri mgr deliverymgr deliveri manag deliverymanag persist mgr persistencemgr persist mgr persistencemgr sub mgr submgr sub mgr submgr sub2 channel sub2channel concurr hash map concurrenthashmap topic subscrib topicsubscrib channel channel2 sub channel2sub concurr hash map concurrenthashmap channel topic subscrib topicsubscrib sub stat substat server stat serverstat get instanc getinst get op stat getopstat oper type operationtyp subscrib channel disconnect channeldisconnect channel channel evil program race channel get disconnect ad map subscrib succe channel topic subscrib topicsubscrib topic sub topicsub channel2 sub channel2sub remov channel topic sub topicsub sub2 channel sub2channel remov topic sub topicsub overrid handl request owner handlerequestatown pub sub request pubsubrequest request channel channel request ha subscrib request hassubscriberequest umbrella handler umbrellahandl send error respons malform request senderrorresponsetomalformedrequest channel request get txn id gettxnid miss subscrib request data sub stat substat increment fail op incrementfailedop string bytestr topic request get topic gettop messag seq id messageseqid seq id seqid seq id seqid persist mgr persistencemgr get current seq id topic getcurrentseqidfortop topic server respons topic except servernotresponsiblefortopicexcept channel write pub sub respons util pubsubresponseutil get respons except getresponseforexcept request get txn id gettxnid add listen addlisten channel futur listen channelfuturelisten close sub stat substat increment fail op incrementfailedop server stat serverstat get instanc getinst increment request redirect incrementrequestsredirect subscrib request subscriberequest sub request subrequest request get subscrib request getsubscriberequest string bytestr subscrib id subscriberid sub request subrequest get subscrib id getsubscriberid messag seq id messageseqid last seq id publish lastseqidpublish messag seq id messageseqid builder newbuild seq id seqid set local compon setlocalcompon seq id seqid get local compon getlocalcompon build request time requesttim current time milli currenttimemilli sub mgr submgr serv subscrib request servesubscriberequest topic sub request subrequest last seq id publish lastseqidpublish callback messag seq id messageseqid overrid oper fail operationfail object ctx pub sub except pubsubexcept except channel write pub sub respons util pubsubresponseutil get respons except getresponseforexcept except request get txn id gettxnid add listen addlisten channel futur listen channelfuturelisten close sub stat substat increment fail op incrementfailedop overrid oper finish operationfinish object ctx messag seq id messageseqid result oper resultofoper topic subscrib topicsubscrib topic sub topicsub topic subscrib topicsubscrib topic subscrib id subscriberid race channel get disconnect ad map channel channel connect isconnect channel disconnect process subscrib request sub stat substat increment fail op incrementfailedop sub2 channel sub2channel put absent putifabs topic sub topicsub channel channel map sub pub sub except pubsubexcept pse pub sub except pubsubexcept topic busi except topicbusyexcept subscript topic subscrib id subscriberid serv differ channel channel write pub sub respons util pubsubresponseutil get respons except getresponseforexcept pse request get txn id gettxnid add listen addlisten channel futur listen channelfuturelisten close sub stat substat increment fail op incrementfailedop channel2 sub channel2sub cach add synchron channel2 sub channel2sub put channel topic sub topicsub first write success deliveri manag first messag befor respons subscrib channel write pub sub respons util pubsubresponseutil get success respons getsuccessrespons request get txn id gettxnid sub stat substat updat latenc updatelat current time milli currenttimemilli request time requesttim start ahead consum ptr messag seq id messageseqid seq id start from seqidtostartfrom messag seq id messageseqid builder newbuild result oper resultofoper set local compon setlocalcompon result oper resultofoper get local compon getlocalcompon build deliveri mgr deliverymgr start serv subscript startservingsubscript topic subscrib id subscriberid seq id start from seqidtostartfrom channel end point channelendpoint channel filter truefilt instanc subscript state util subscriptionstateutil hub subscrib ishubsubscrib sub request subrequest get subscrib id getsubscriberid 
file util fileutil dir delet thred dirdeleterthr dir delet thread dirdeleterthread logger log logger factori loggerfactori get logger getlogg file util fileutil dir delet thread dirdeleterthread dir delet thred dirdeleterthr runtim get runtim getruntim add shutdown hook addshutdownhook dir delet thread dirdeleterthread file creat temp directori createtempdirectori string prefix io except ioexcept creat temp directori createtempdirectori prefix file creat temp directori createtempdirectori string prefix string suffix io except ioexcept file temp dir tempdir file creat temp file createtempfil prefix suffix temp dir tempdir delet io except ioexcept delet temp file temp dir tempdir get absolut path getabsolutepath temp dir tempdir mkdir io except ioexcept creat temp directori temp dir tempdir get absolut path getabsolutepath dir delet thread dirdeleterthread add dir delet adddirtodelet temp dir tempdir temp dir tempdir dir delet thred dirdeleterthr thread list file dir delet dirstodelet link list linkedlist file add dir delet adddirtodelet file dir dir delet dirstodelet add dir overrid run file dir dir delet dirstodelet delet directori deletedirectori dir delet directori deletedirectori file dir dir file isfil dir delet log error delet dir get absolut path getabsolutepath file file dir list file listfil file file file delet directori deletedirectori dir delet log error delet directori dir get absolut path getabsolutepath 
hedwig admin hedwig admin hedwigadmin logger log logger factori loggerfactori get logger getlogg hedwig admin hedwigadmin note fix passwd us hedwig passwd sillysecret get byte getbyt zoo keeper zookeep zk book keeper bookkeep bk hub configur server configur serverconfigur server conf serverconf bookkeep configur client configur clientconfigur bk client conf bkclientconf empti watcher watcher mywatch watcher process watch event watchedev event hedwig admin constructor param bk conf bkconf book keeper bookkeep client configur param hub conf hubconf hub server configur except hedwig admin hedwigadmin client configur clientconfigur bk conf bkconf server configur serverconfigur hub conf hubconf except server conf serverconf hub conf hubconf bk client conf bkclientconf bk conf bkconf connect zookeep zk zoo keeper zookeep hub conf hubconf get zk host getzkhost hub conf hubconf get zk timeout getzktimeout watcher mywatch log debug enabl isdebugen log debug connect zookeep hub conf hubconf get zk host getzkhost timeout hub conf hubconf get zk timeout getzktimeout connect bookkeep bk book keeper bookkeep bk client conf bkclientconf zk log debug enabl isdebugen log debug connect bookkeep close hedwig admin except close except bk close zk close zookeep handl us hedwig admin zookeep handl zoo keeper zookeep get zk handl getzkhandl zk bookkeep handl us hedwig admin bookkeep handl book keeper bookkeep get bk handl getbkhandl bk hub server configur us hedwig admin hub server configur server configur serverconfigur get hub server conf gethubserverconf server conf serverconf bookeep passwd us hedwig admin bookeep passwd get bk passwd getbkpasswd arrai copi copyof passwd passwd length digest type us hedwig admin bookeep digest type digest type digesttyp get bk digest type getbkdigesttyp digest type digesttyp crc32 dose topic exist param topic topic name topic exist except ha topic hastop string bytestr topic except string topic path topicpath server conf serverconf get zk topic path getzktopicpath string builder stringbuild topic string tostr stat stat zk exist topic path topicpath stat get avail hub avail hub load except map hedwig socket address hedwigsocketaddress integ get avail hub getavailablehub except string zk hub path zkhubspath server conf serverconf get zk host prefix getzkhostsprefix string builder stringbuild string tostr map hedwig socket address hedwigsocketaddress integ hub hash map hashmap hedwig socket address hedwigsocketaddress integ list string host zk get children getchildren zk hub path zkhubspath string host host string zk hub path zkhubpath server conf serverconf get zk host prefix getzkhostsprefix string builder stringbuild append append host string tostr load stat stat stat data zk get data getdata zk hub path zkhubpath stat data load integ pars parseint string data keeper except keeperexcept ke log warn couldn read hub data from zoo keeper zookeep ke interrupt except interruptedexcept log warn interrupt read hub put hedwig socket address hedwigsocketaddress host load hub get list topic list topic except list string get topic gettop except zk get children getchildren server conf serverconf get zk topic prefix getzktopicsprefix string builder stringbuild string tostr znode path owner topic param topic topic name znode path owner topic string hub path hubpath string bytestr topic server conf serverconf get zk topic path getzktopicpath string builder stringbuild topic append hub string tostr topic owner topic param topic topic name address owner topic except hedwig socket address hedwigsocketaddress get topic owner gettopicown string bytestr topic except stat stat stat owner owner zk get data getdata hub path hubpath topic stat keeper except keeperexcept node except nonodeexcept nne owner hedwig socket address hedwigsocketaddress string owner znode path store ledger info topic param topic topic name znode path store ledger info topic string ledger path ledgerspath string bytestr topic server conf serverconf get zk topic path getzktopicpath string builder stringbuild topic append ledger string tostr ledger rang form topic param topic topic name ledger rang form topic except list ledger rang ledgerrang get topic ledger gettopicledg string bytestr topic except ledger rang ledgerrang rang stat stat stat ledger data ledgersdata zk get data getdata ledger path ledgerspath topic stat ledger data ledgersdata rang ledger rang ledgerrang pars from parsefrom ledger data ledgersdata keeper except keeperexcept node except nonodeexcept nne rang list ledger rang ledgerrang lr rang get rang list getrangeslist lr empti isempti lr check last ledger open ledger rang ledgerrang last rang lastrang lr get lr size last rang lastrang ha end seq id includ hasendseqidinclud lr read last confirm open ledger list ledger rang ledgerrang lr newlr arrai list arraylist ledger rang ledgerrang lr newlr add addal lr lr lr newlr messag seq id messageseqid last seq id lastseqid lr size last seq id lastseqid messag seq id messageseqid builder newbuild set local compon setlocalcompon build last seq id lastseqid lr get lr size get end seq id includ getendseqidinclud ledger rang ledgerrang last rang newlastrang refresh last ledger rang refreshlastledgerrang last seq id lastseqid last rang lastrang lr set lr size last rang newlastrang except print stack trace printstacktrac lr refresh last ledger rang get last confirm lastconfirm entri make avail read param last seq id lastseqid last sequenc id previou ledger param old rang oldrang ledger rang set last confirm lastconfirm entri ledger rang ledgerrang refresh last ledger rang refreshlastledgerrang messag seq id messageseqid last seq id lastseqid ledger rang ledgerrang old rang oldrang bk except bkexcept keeper except keeperexcept interrupt except interruptedexcept ledger handl ledgerhandl lh bk open ledger recoveri openledgernorecoveri old rang oldrang get ledger id getledgerid digest type digesttyp crc32 passwd last confirm lastconfirm lh read last confirm readlastconfirm messag seq id messageseqid seq id newseqid messag seq id messageseqid builder newbuild merg from mergefrom last seq id lastseqid set local compon setlocalcompon last seq id lastseqid get local compon getlocalcompon last confirm lastconfirm build ledger rang ledgerrang builder newbuild merg from mergefrom old rang oldrang set end seq id includ setendseqidinclud seq id newseqid build znode path store subscrib topic param sb string builder hold znode path param topic topic name string builder stringbuild topic subscrib path topicsubscriberspath string builder stringbuild sb string bytestr topic server conf serverconf get zk topic path getzktopicpath sb topic append subscrib znode path subscrib topic param topic topic name param subscrib subscrib name string topic subscrib path topicsubscriberpath string bytestr topic string bytestr subscrib topic subscrib path topicsubscriberspath string builder stringbuild topic append append subscrib string utf8 tostringutf8 string tostr subscript topic param topic topic name subscript topic except map string bytestr subscript state subscriptionst get topic subscript gettopicsubscript string bytestr topic except map string bytestr subscript state subscriptionst state hash map hashmap string bytestr subscript state subscriptionst string sub path subspath topic subscrib path topicsubscriberspath string builder stringbuild topic string tostr list string children zk get children getchildren sub path subspath string child children string bytestr subscrib id subscriberid string bytestr copi from utf8 copyfromutf8 child string sub path subpath topic subscrib path topicsubscriberpath topic subscrib id subscriberid stat stat stat sub data subdata zk get data getdata sub path subpath stat sub data subdata subscript state subscriptionst state subscript state subscriptionst pars from parsefrom sub data subdata state put subscrib id subscriberid state keeper except keeperexcept node except nonodeexcept nne state subscript state subscrib topic param topic topic name param subscrib subscrib name subscript state except subscript state subscriptionst get subscript getsubscript string bytestr topic string bytestr subscrib except string sub path subpath topic subscrib path topicsubscriberpath topic subscrib stat stat stat sub data subdata sub data subdata zk get data getdata sub path subpath stat keeper except keeperexcept node except nonodeexcept nne sub data subdata subscript state subscriptionst pars from parsefrom sub data subdata 
bk entri except bknosuchentryexcept bk except bkexcept bk entri except bknosuchentryexcept code entri except nosuchentryexcept 
subscript option subscriptionopt com googl protobuf gener messag generatedmessag us subscript option subscriptionopt builder newbuild construct subscript option subscriptionopt init field initfield subscript option subscriptionopt init noinit subscript option subscriptionopt instanc defaultinst subscript option subscriptionopt get instanc getdefaultinst instanc defaultinst subscript option subscriptionopt get instanc type getdefaultinstancefortyp instanc defaultinst com googl protobuf descriptor descriptor get descriptor getdescriptor org apach hedwig protocol pub sub protocol pubsubprotocol intern hedwig subscript option descriptor internal_static_hedwig_subscriptionoptions_descriptor com googl protobuf gener messag generatedmessag field accessor tabl fieldaccessort intern get field accessor tabl internalgetfieldaccessort org apach hedwig protocol pub sub protocol pubsubprotocol intern hedwig subscript option field accessor tabl internal_static_hedwig_subscriptionoptions_fieldaccessort option hedwig subscrib request subscriberequest creat attach createorattach creat attach createorattach creat attach create_or_attach createorattach field number createorattach_field_numb ha creat attach hascreateorattach org apach hedwig protocol pub sub protocol pubsubprotocol subscrib request subscriberequest creat attach createorattach creat attach createorattach_ ha creat attach hascreateorattach ha creat attach hascreateorattach org apach hedwig protocol pub sub protocol pubsubprotocol subscrib request subscriberequest creat attach createorattach get creat attach getcreateorattach creat attach createorattach_ option uint32 messag bound messagebound messagebound field number messagebound_field_numb ha messag bound hasmessagebound messag bound messagebound_ ha messag bound hasmessagebound ha messag bound hasmessagebound get messag bound getmessagebound messag bound messagebound_ init field initfield creat attach createorattach_ org apach hedwig protocol pub sub protocol pubsubprotocol subscrib request subscriberequest creat attach createorattach creat attach create_or_attach initi isiniti write writeto com googl protobuf code output stream codedoutputstream output java io io except ioexcept get serial size getserializeds ha creat attach hascreateorattach output write writeenum get creat attach getcreateorattach get number getnumb ha messag bound hasmessagebound output write int32 writeuint32 get messag bound getmessagebound get unknown field getunknownfield write writeto output memoiz serial size memoizedserializeds get serial size getserializeds size memoiz serial size memoizedserializeds size size size ha creat attach hascreateorattach size com googl protobuf code output stream codedoutputstream comput size computeenums get creat attach getcreateorattach get number getnumb ha messag bound hasmessagebound size com googl protobuf code output stream codedoutputstream comput int32 size computeuint32s get messag bound getmessagebound size get unknown field getunknownfield get serial size getserializeds memoiz serial size memoizedserializeds size size org apach hedwig protocol pub sub protocol pubsubprotocol subscript option subscriptionopt pars from parsefrom com googl protobuf string bytestr data com googl protobuf invalid protocol buffer except invalidprotocolbufferexcept builder newbuild merg from mergefrom data build pars buildpars org apach hedwig protocol pub sub protocol pubsubprotocol subscript option subscriptionopt pars from parsefrom com googl protobuf string bytestr data com googl protobuf extens registri lite extensionregistrylit extens registri extensionregistri com googl protobuf invalid protocol buffer except invalidprotocolbufferexcept builder newbuild merg from mergefrom data extens registri extensionregistri build pars buildpars org apach hedwig protocol pub sub protocol pubsubprotocol subscript option subscriptionopt pars from parsefrom data com googl protobuf invalid protocol buffer except invalidprotocolbufferexcept builder newbuild merg from mergefrom data build pars buildpars org apach hedwig protocol pub sub protocol pubsubprotocol subscript option subscriptionopt pars from parsefrom data com googl protobuf extens registri lite extensionregistrylit extens registri extensionregistri com googl protobuf invalid protocol buffer except invalidprotocolbufferexcept builder newbuild merg from mergefrom data extens registri extensionregistri build pars buildpars org apach hedwig protocol pub sub protocol pubsubprotocol subscript option subscriptionopt pars from parsefrom java io input stream inputstream input java io io except ioexcept builder newbuild merg from mergefrom input build pars buildpars org apach hedwig protocol pub sub protocol pubsubprotocol subscript option subscriptionopt pars from parsefrom java io input stream inputstream input com googl protobuf extens registri lite extensionregistrylit extens registri extensionregistri java io io except ioexcept builder newbuild merg from mergefrom input extens registri extensionregistri build pars buildpars org apach hedwig protocol pub sub protocol pubsubprotocol subscript option subscriptionopt pars delimit from parsedelimitedfrom java io input stream inputstream input java io io except ioexcept builder builder builder newbuild builder merg delimit from mergedelimitedfrom input builder build pars buildpars org apach hedwig protocol pub sub protocol pubsubprotocol subscript option subscriptionopt pars delimit from parsedelimitedfrom java io input stream inputstream input com googl protobuf extens registri lite extensionregistrylit extens registri extensionregistri java io io except ioexcept builder builder builder newbuild builder merg delimit from mergedelimitedfrom input extens registri extensionregistri builder build pars buildpars org apach hedwig protocol pub sub protocol pubsubprotocol subscript option subscriptionopt pars from parsefrom com googl protobuf code input stream codedinputstream input java io io except ioexcept builder newbuild merg from mergefrom input build pars buildpars org apach hedwig protocol pub sub protocol pubsubprotocol subscript option subscriptionopt pars from parsefrom com googl protobuf code input stream codedinputstream input com googl protobuf extens registri lite extensionregistrylit extens registri extensionregistri java io io except ioexcept builder newbuild merg from mergefrom input extens registri extensionregistri build pars buildpars builder builder newbuild builder creat builder builder type newbuilderfortyp builder newbuild builder builder newbuild org apach hedwig protocol pub sub protocol pubsubprotocol subscript option subscriptionopt prototyp builder newbuild merg from mergefrom prototyp builder builder tobuild builder newbuild builder com googl protobuf gener messag generatedmessag builder builder org apach hedwig protocol pub sub protocol pubsubprotocol subscript option subscriptionopt result construct org apach hedwig protocol pub sub protocol pubsubprotocol subscript option subscriptionopt builder newbuild builder builder creat builder builder builder builder result org apach hedwig protocol pub sub protocol pubsubprotocol subscript option subscriptionopt builder org apach hedwig protocol pub sub protocol pubsubprotocol subscript option subscriptionopt intern get result internalgetresult result builder clear result illeg state except illegalstateexcept call clear after build result org apach hedwig protocol pub sub protocol pubsubprotocol subscript option subscriptionopt builder clone creat merg from mergefrom result com googl protobuf descriptor descriptor get descriptor type getdescriptorfortyp org apach hedwig protocol pub sub protocol pubsubprotocol subscript option subscriptionopt get descriptor getdescriptor org apach hedwig protocol pub sub protocol pubsubprotocol subscript option subscriptionopt get instanc type getdefaultinstancefortyp org apach hedwig protocol pub sub protocol pubsubprotocol subscript option subscriptionopt get instanc getdefaultinst initi isiniti result initi isiniti org apach hedwig protocol pub sub protocol pubsubprotocol subscript option subscriptionopt build result initi isiniti uniniti messag except newuninitializedmessageexcept result build partial buildparti org apach hedwig protocol pub sub protocol pubsubprotocol subscript option subscriptionopt build pars buildpars com googl protobuf invalid protocol buffer except invalidprotocolbufferexcept initi isiniti uniniti messag except newuninitializedmessageexcept result invalid protocol buffer except asinvalidprotocolbufferexcept build partial buildparti org apach hedwig protocol pub sub protocol pubsubprotocol subscript option subscriptionopt build partial buildparti result illeg state except illegalstateexcept build ha call builder org apach hedwig protocol pub sub protocol pubsubprotocol subscript option subscriptionopt returnm result result returnm builder merg from mergefrom com googl protobuf messag org apach hedwig protocol pub sub protocol pubsubprotocol subscript option subscriptionopt merg from mergefrom org apach hedwig protocol pub sub protocol pubsubprotocol subscript option subscriptionopt merg from mergefrom builder merg from mergefrom org apach hedwig protocol pub sub protocol pubsubprotocol subscript option subscriptionopt org apach hedwig protocol pub sub protocol pubsubprotocol subscript option subscriptionopt get instanc getdefaultinst ha creat attach hascreateorattach set creat attach setcreateorattach get creat attach getcreateorattach ha messag bound hasmessagebound set messag bound setmessagebound get messag bound getmessagebound merg unknown field mergeunknownfield get unknown field getunknownfield builder merg from mergefrom com googl protobuf code input stream codedinputstream input com googl protobuf extens registri lite extensionregistrylit extens registri extensionregistri java io io except ioexcept com googl protobuf unknown field set unknownfieldset builder unknown field unknownfield com googl protobuf unknown field set unknownfieldset builder newbuild get unknown field getunknownfield tag input read tag readtag tag set unknown field setunknownfield unknown field unknownfield build pars unknown field parseunknownfield input unknown field unknownfield extens registri extensionregistri tag set unknown field setunknownfield unknown field unknownfield build 16 raw valu rawvalu input read readenum org apach hedwig protocol pub sub protocol pubsubprotocol subscrib request subscriberequest creat attach createorattach valu org apach hedwig protocol pub sub protocol pubsubprotocol subscrib request subscriberequest creat attach createorattach valu valueof raw valu rawvalu valu unknown field unknownfield merg varint field mergevarintfield raw valu rawvalu set creat attach setcreateorattach valu 24 set messag bound setmessagebound input read int32 readuint32 option hedwig subscrib request subscriberequest creat attach createorattach creat attach createorattach creat attach create_or_attach ha creat attach hascreateorattach result ha creat attach hascreateorattach org apach hedwig protocol pub sub protocol pubsubprotocol subscrib request subscriberequest creat attach createorattach get creat attach getcreateorattach result get creat attach getcreateorattach builder set creat attach setcreateorattach org apach hedwig protocol pub sub protocol pubsubprotocol subscrib request subscriberequest creat attach createorattach valu valu pointer except nullpointerexcept result ha creat attach hascreateorattach result creat attach createorattach_ valu builder clear creat attach clearcreateorattach result ha creat attach hascreateorattach result creat attach createorattach_ org apach hedwig protocol pub sub protocol pubsubprotocol subscrib request subscriberequest creat attach createorattach creat attach create_or_attach option uint32 messag bound messagebound ha messag bound hasmessagebound result ha messag bound hasmessagebound get messag bound getmessagebound result get messag bound getmessagebound builder set messag bound setmessagebound valu result ha messag bound hasmessagebound result messag bound messagebound_ valu builder clear messag bound clearmessagebound result ha messag bound hasmessagebound result messag bound messagebound_ protoc insert point protoc_insertion_point builder scope builder_scop hedwig subscript option subscriptionopt instanc defaultinst subscript option subscriptionopt org apach hedwig protocol pub sub protocol pubsubprotocol intern forc init internalforceinit instanc defaultinst init field initfield protoc insert point protoc_insertion_point scope class_scop hedwig subscript option subscriptionopt 
messag id util messageidutil string msg id readabl string msgidtoreadablestr messag seq id messageseqid seq id seqid string builder stringbuild sb string builder stringbuild sb append local sb append seq id seqid get local compon getlocalcompon string separ region specif seq id regionspecificseqid region id regionid seq id seqid get remot compon list getremotecomponentslist sb append separ sb append region id regionid get region getregion string utf8 tostringutf8 sb append sb append region id regionid get seq id getseqid sb string tostr map string bytestr region specif seq id regionspecificseqid map form inmapform messag seq id messageseqid msi map string bytestr region specif seq id regionspecificseqid map hash map hashmap string bytestr region specif seq id regionspecificseqid region specif seq id regionspecificseqid lmsid msi get remot compon list getremotecomponentslist map put lmsid get region getregion lmsid map equal areequ messag seq id messageseqid m1 messag seq id messageseqid m2 m1 get local compon getlocalcompon m2 get local compon getlocalcompon m1 get remot compon count getremotecomponentscount m2 get remot compon count getremotecomponentscount map string bytestr region specif seq id regionspecificseqid m2 map m2map map form inmapform m2 region specif seq id regionspecificseqid lmsid1 m1 get remot compon list getremotecomponentslist region specif seq id regionspecificseqid lmsid2 m2 map m2map get lmsid1 get region getregion lmsid2 lmsid1 get seq id getseqid lmsid2 get seq id getseqid messag merg local seq id mergelocalseqid messag builder messag builder messagebuild local seq id localseqid messag seq id messageseqid builder msid builder msidbuild messag seq id messageseqid builder newbuild messag builder messagebuild get msg id getmsgid msid builder msidbuild set local compon setlocalcompon local seq id localseqid messag builder messagebuild set msg id setmsgid msid builder msidbuild messag builder messagebuild build messag merg local seq id mergelocalseqid messag orgin messag orginalmessag local seq id localseqid merg local seq id mergelocalseqid messag builder newbuild orgin messag orginalmessag local seq id localseqid compar two seq number repres list long param l1 param l2 l1 greater equal l2 greater unexpect condit except unexpectedconditionexcept list unequ length compar list l1 list l2 unexpect condit except unexpectedconditionexcept l1 size l2 size unexpect condit except unexpectedconditionexcept seq id compar differ size l1 size l2 size l1 size v1 l1 get v2 l2 get v1 v2 v1 v2 compon equal return element wise vector maximum two vector id1 id2 imagin spars represent vector region maximum takeregionmaximum messag seq id messageseqid builder id builder newidbuild messag seq id messageseqid id1 messag seq id messageseqid id2 map string bytestr region specif seq id regionspecificseqid id2 map id2map messag id util messageidutil map form inmapform id2 region specif seq id regionspecificseqid rrsid1 id1 get remot compon list getremotecomponentslist string bytestr region rrsid1 get region getregion region specif seq id regionspecificseqid rssid2 id2 map id2map get region rssid2 id builder newidbuild add remot compon addremotecompon rrsid1 id builder newidbuild add remot compon addremotecompon rrsid1 get seq id getseqid rssid2 get seq id getseqid rrsid1 rssid2 remov from map id2 map id2map remov region remain compon map add region specif seq id regionspecificseqid rssid2 id2 map id2map valu id builder newidbuild add remot compon addremotecompon rssid2 
bk quorum except bkquorumexcept bk except bkexcept bk quorum except bkquorumexcept code quorum except quorumexcept 
client subscrib except clientalreadysubscribedexcept pub sub except pubsubexcept client subscrib except clientalreadysubscribedexcept string msg statu code statuscod client subscrib client_already_subscrib msg 
hedwig bean mbean info hedwig bean info hedwigmbeaninfo zkm bean info zkmbeaninfo 
fifo deliveri manag fifodeliverymanag runnabl deliveri manag deliverymanag logger logger logger factori loggerfactori get logger getlogg fifo deliveri manag fifodeliverymanag deliveri manag request deliverymanagerrequest perform request performrequest main queue singl thread deliveri manag work block queue blockingqueu deliveri manag request deliverymanagerrequest request queue requestqueu link block queue linkedblockingqueu deliveri manag request deliverymanagerrequest queue subscript face error scan from persist manag send consum queue activ subscrib state activesubscriberst retri queue retryqueu concurr link queue concurrentlinkedqueu activ subscrib state activesubscriberst store map from topic deliveri pointer topic deliveri pointer store sort map from seq id set subscrib seq id map string bytestr sort map sortedmap set activ subscrib state activesubscriberst topic deliveri ptr pertopicdeliveryptr map from deliveri end point subscrib state serv end point prevent from serv two subscript endpoint map topic subscrib topicsubscrib activ subscrib state activesubscriberst subscrib state subscriberst persist manag persistencemanag persist mgr persistencemgr server configur serverconfigur cfg indic thread run us stop thread pub sub server pubsubserv shutdown keep run keeprun thread worker thread workerthread fifo deliveri manag fifodeliverymanag persist manag persistencemanag persist mgr persistencemgr server configur serverconfigur cfg persist mgr persistencemgr persist mgr persistencemgr topic deliveri ptr pertopicdeliveryptr hash map hashmap string bytestr sort map sortedmap set activ subscrib state activesubscriberst subscrib state subscriberst hash map hashmap topic subscrib topicsubscrib activ subscrib state activesubscriberst worker thread workerthread thread deliveri manag thread deliverymanagerthread cfg cfg start worker thread workerthread start usual enqueu function stop error unbound queue happen enqueu failur enqueuewithoutfailur deliveri manag request deliverymanagerrequest request request queue requestqueu offer request unexpect error unexpectederror enqueu object request deliveri manag request queue deliveri manag tell deliveri manag start send messag subscript param topic param subscrib id subscriberid param seq id start from seqidtostartfrom messag sequenc id from deliveri start param end point endpoint deliveri end point send messag param filter messag pass filter sent subscrib param hub subscrib ishubsubscrib seq id intricaci hub subscrib send subset seq id vector start serv subscript startservingsubscript string bytestr topic string bytestr subscrib id subscriberid messag seq id messageseqid seq id start from seqidtostartfrom deliveri end point deliveryendpoint end point endpoint messag filter messagefilt filter hub subscrib ishubsubscrib activ subscrib state activesubscriberst subscrib activ subscrib state activesubscriberst topic subscrib id subscriberid seq id start from seqidtostartfrom get local compon getlocalcompon end point endpoint filter hub subscrib ishubsubscrib enqueu failur enqueuewithoutfailur subscrib stop serv subscrib stopservingsubscrib string bytestr topic string bytestr subscrib id subscriberid activ subscrib state activesubscriberst sub state substat subscrib state subscriberst get topic subscrib topicsubscrib topic subscrib id subscriberid sub state substat stop serv subscrib stopservingsubscrib sub state substat error disconnect unsusbcrib ask stop serv endpoint param end point endpoint stop serv subscrib stopservingsubscrib activ subscrib state activesubscriberst subscrib enqueu failur enqueuewithoutfailur stop serv subscrib stopservingsubscrib subscrib instruct deliveri manag backoff subscrib retri send after time param subscrib retri error subscrib after delai retryerroredsubscriberafterdelai activ subscrib state activesubscriberst subscrib subscrib set last scan error time setlastscanerrortim current time milli currenttimemilli retri queue retryqueu offer subscrib unexpect error unexpectederror enqueu deliveri manag retri queue instruct deliveri manag move deliveri pointer subscrib param subscrib param prev seq id prevseqid param seq id newseqid move deliveri ptr forward movedeliveryptrforward activ subscrib state activesubscriberst subscrib prev seq id prevseqid seq id newseqid enqueu failur enqueuewithoutfailur deliveri ptr move deliveryptrmov subscrib prev seq id prevseqid seq id newseqid end intern machineri begin run keep run keeprun deliveri manag request deliverymanagerrequest request us timeout second wake up check retri queue request request queue requestqueu poll time unit timeunit second interrupt except interruptedexcept thread current thread currentthread interrupt first retri subscript fail retri retri error subscrib retryerroredsubscrib request request perform request performrequest stop method enqueu shutdown deliveri manag request shutdowndeliverymanagerrequest stop enqueu failur enqueuewithoutfailur shutdown deliveri manag request shutdowndeliverymanagerrequest retri error subscrib retryerroredsubscrib last interest failur time lastinterestingfailuretim current time milli currenttimemilli cfg get scan backoff period ms getscanbackoffperiodm activ subscrib state activesubscriberst subscrib subscrib retri queue retryqueu peek subscrib get last scan error time getlastscanerrortim last interest failur time lastinterestingfailuretim time ha elaps retri queue fifo check item retri subscrib deliv next messag delivernextmessag retri queue retryqueu poll remov deliveri ptr removedeliveryptr activ subscrib state activesubscriberst subscrib seq id seqid absenc isabsenceok prune topic prunetop seq id seqid remov subscrib from deliveri pointer data structur string bytestr topic subscrib get topic gettop sort map sortedmap set activ subscrib state activesubscriberst deliveri ptr deliveryptr topic deliveri ptr pertopicdeliveryptr get topic deliveri ptr deliveryptr absenc isabsenceok unexpect error unexpectederror deliveri pointer found disconnect channel topic topic deliveri ptr deliveryptr map method mapmethod remov from multi map removefrommultimap deliveri ptr deliveryptr seq id seqid subscrib absenc isabsenceok unexpect error unexpectederror find subscrib subscrib expect deliveri pointer prune topic prunetop deliveri ptr deliveryptr empti isempti topic deliveri ptr pertopicdeliveryptr remov topic get minimum seq id getminimumseqid string bytestr topic sort map sortedmap set activ subscrib state activesubscriberst deliveri ptr deliveryptr topic deliveri ptr pertopicdeliveryptr get topic deliveri ptr deliveryptr deliveri ptr deliveryptr empti isempti max valu max_valu deliveri ptr deliveryptr first kei firstkei add deliveri ptr adddeliveryptr activ subscrib state activesubscriberst subscrib seq id seqid topic doesn exist topic deliveri pointer tabl creat entri sort map sortedmap set activ subscrib state activesubscriberst deliveri ptr deliveryptr map method mapmethod get after insert absent getafterinsertingifabs topic deliveri ptr pertopicdeliveryptr subscrib get topic gettop tree map set subscrib factori treemaplongtosetsubscriberfactori instanc map method mapmethod add multi map addtomultimap deliveri ptr deliveryptr seq id seqid subscrib hash map subscrib factori hashmapsubscriberfactori instanc activ subscrib state activesubscriberst scan callback scancallback deliveri callback deliverycallback deliveri manag request deliverymanagerrequest string bytestr topic string bytestr subscrib id subscriberid last local seq id deliv lastlocalseqiddeliv connect deliveri end point deliveryendpoint deliveri end point deliveryendpoint last scan error time lastscanerrortim local seq id deliv localseqiddeliveringnow last seq id commun extern lastseqidcommunicatedextern todo make us variabl hub subscrib ishubsubscrib seq id slack seq_id_slack 10 activ subscrib state activesubscriberst string bytestr topic string bytestr subscrib id subscriberid last local seq id deliv lastlocalseqiddeliv deliveri end point deliveryendpoint deliveri end point deliveryendpoint messag filter messagefilt filter hub subscrib ishubsubscrib topic topic subscrib id subscriberid subscrib id subscriberid last local seq id deliv lastlocalseqiddeliv last local seq id deliv lastlocalseqiddeliv deliveri end point deliveryendpoint deliveri end point deliveryendpoint hub subscrib ishubsubscrib hub subscrib ishubsubscrib set connect setnotconnect connect deliveri end point deliveryendpoint close string bytestr get topic gettop topic get last local seq id deliv getlastlocalseqiddeliv last local seq id deliv lastlocalseqiddeliv get last scan error time getlastscanerrortim last scan error time lastscanerrortim set last scan error time setlastscanerrortim last scan error time lastscanerrortim last scan error time lastscanerrortim last scan error time lastscanerrortim connect isconnect connect deliv next messag delivernextmessag connect isconnect local seq id deliv localseqiddeliveringnow persist mgr persistencemgr get seq id after skip getseqidafterskip topic last local seq id deliv lastlocalseqiddeliv scan request scanrequest scan request scanrequest scan request scanrequest topic local seq id deliv localseqiddeliveringnow callback ctx persist mgr persistencemgr scan singl messag scansinglemessag scan request scanrequest link scan callback scancallback method messag scan messagescan object ctx messag messag connect simpl network topolog region forward messag region current logic messag end up ping pong ing back forth region subscript termin cyclic configur hub subscrib ishubsubscrib messag get src region getsrcregion equal cfg get region string getmyregionbytestr send finish sendingfinish method invok send finish sendingfinish method done pub sub respons pubsubrespons respons pub sub respons pubsubrespons builder newbuild set protocol version setprotocolvers protocol version protocolvers version on version_on set statu code setstatuscod statu code statuscod success set txn id settxnid set messag setmessag messag build deliveri end point deliveryendpoint send respons callback scan fail scanfail object ctx except except connect wait time retri retri error subscrib after delai retryerroredsubscriberafterdelai scan finish scanfinish object ctx reason finish reasonforfinish reason op link deliveri callback deliverycallback method send finish sendingfinish connect last local seq id deliv lastlocalseqiddeliv local seq id deliv localseqiddeliveringnow last local seq id deliv lastlocalseqiddeliv last seq id commun extern lastseqidcommunicatedextern seq id slack seq_id_slack note order next statement import submit request chang deliveri pointer after chang race condit remov channel maintain deliveri ptr deliveryptr tree map prev id previd last seq id commun extern lastseqidcommunicatedextern last seq id commun extern lastseqidcommunicatedextern last local seq id deliv lastlocalseqiddeliv move deliveri ptr forward movedeliveryptrforward prev id previd last local seq id deliv lastlocalseqiddeliv increment deliveri messag server stat serverstat get instanc getinst increment messag deliv incrementmessagesdeliv deliv next messag delivernextmessag get last seq id commun extern getlastseqidcommunicatedextern last seq id commun extern lastseqidcommunicatedextern perman error send permanenterroronsend stop serv subscrib stopservingsubscrib error send transienterroronsend retri error subscrib after delai retryerroredsubscriberafterdelai link deliveri manag request deliverymanagerrequest method perform request performrequest put subscrib channel subscrib map activ subscrib state activesubscriberst prev subscrib prevsubscrib subscrib state subscriberst put topic subscrib topicsubscrib topic subscrib id subscriberid prev subscrib prevsubscrib stop serv subscrib stopservingsubscrib prev subscrib prevsubscrib last seq id commun extern lastseqidcommunicatedextern last local seq id deliv lastlocalseqiddeliv add deliveri ptr adddeliveryptr last local seq id deliv lastlocalseqiddeliv deliv next messag delivernextmessag overrid string string tostr string builder stringbuild sb string builder stringbuild sb append topic sb append topic string utf8 tostringutf8 sb append deliveri ptr deliveryptr sb append last local seq id deliv lastlocalseqiddeliv sb string tostr stop serv subscrib stopservingsubscrib deliveri manag request deliverymanagerrequest activ subscrib state activesubscriberst subscrib stop serv subscrib stopservingsubscrib activ subscrib state activesubscriberst subscrib subscrib subscrib overrid perform request performrequest automat stop deliveri disconnect channel subscrib set connect setnotconnect subscrib ha move move request deliveri pointer pend request queue note subscrib first chang deliveri pointer submit request move work remov deliveri ptr removedeliveryptr subscrib subscrib get last seq id commun extern getlastseqidcommunicatedextern absenc isabsenceok prune topic prunetop deliveri ptr move deliveryptrmov deliveri manag request deliverymanagerrequest activ subscrib state activesubscriberst subscrib old seq id oldseqid seq id newseqid deliveri ptr move deliveryptrmov activ subscrib state activesubscriberst subscrib old seq id oldseqid seq id newseqid subscrib subscrib old seq id oldseqid old seq id oldseqid seq id newseqid seq id newseqid overrid perform request performrequest string bytestr topic subscrib get topic gettop prev min seq id prevminseqid get minimum seq id getminimumseqid topic subscrib connect isconnect remov deliveri ptr removedeliveryptr subscrib old seq id oldseqid absenc isabsenceok prune topic prunetop add deliveri ptr adddeliveryptr subscrib seq id newseqid remov deliveri ptr removedeliveryptr subscrib old seq id oldseqid absenc isabsenceok prune topic prunetop min seq id nowminseqid get minimum seq id getminimumseqid topic min seq id nowminseqid prev min seq id prevminseqid persist mgr persistencemgr deliv delivereduntil topic min seq id nowminseqid shutdown deliveri manag request shutdowndeliverymanagerrequest deliveri manag request deliverymanagerrequest simpl type request enqueu pub sub server pubsubserv shut down stop deliveri manag deliverymanag thread perform request performrequest keep run keeprun dumb factori map method tree map set subscrib factori treemaplongtosetsubscriberfactori factori sort map sortedmap set activ subscrib state activesubscriberst tree map set subscrib factori treemaplongtosetsubscriberfactori instanc tree map set subscrib factori treemaplongtosetsubscriberfactori overrid sort map sortedmap set activ subscrib state activesubscriberst instanc newinst tree map treemap set activ subscrib state activesubscriberst hash map subscrib factori hashmapsubscriberfactori factori set activ subscrib state activesubscriberst hash map subscrib factori hashmapsubscriberfactori instanc hash map subscrib factori hashmapsubscriberfactori overrid set activ subscrib state activesubscriberst instanc newinst hash set hashset activ subscrib state activesubscriberst 
abstract read callback readcallback async callback asynccallback read callback readcallback overrid read complet readcomplet rc ledger handl ledgerhandl lh enumer ledger entri ledgerentri seq object ctx safe read complet safereadcomplet rc lh seq ctx throwabl invok uncaught except handler invokeuncaughtexceptionhandl abstract safe read complet safereadcomplet rc ledger handl ledgerhandl lh enumer ledger entri ledgerentri seq object ctx 
provid get outstand request getoutstandingrequest get last process zxid getlastprocessedzxid 
persist manag us zookeep bookkeep store messag inform topic store zookeep znode name after topic contain ascii encod list record follow form pre start seq id startseqid includ tledger id tledgerid pre bookkeep persist manag bookkeeperpersistencemanag persist manag rang scan persistencemanagerwithrangescan topic ownership chang listen topicownershipchangelisten logger logger logger factori loggerfactori get logger getlogg bookkeep persist manag bookkeeperpersistencemanag passwd sillysecret get byte getbyt book keeper bookkeep bk zoo keeper zookeep zk server configur serverconfigur cfg topic manag topicmanag tm memori ledger rang inmemoryledgerrang ledger rang ledgerrang rang start seq id includ startseqidinclud includ first ledger valu ledger handl ledgerhandl handl memori ledger rang inmemoryledgerrang ledger rang ledgerrang rang start seq id startseqid ledger handl ledgerhandl handl rang rang start seq id includ startseqidinclud start seq id startseqid handl handl memori ledger rang inmemoryledgerrang ledger rang ledgerrang rang start seq id startseqid rang start seq id startseqid topic info topicinfo store last messag seq id vector ha push bk persist necessarili ack bk messag seq id messageseqid last seq id push lastseqidpush store last messag id ha ack bk number basic us limit scan read past ha persist bk last entri id ack current ledger lastentryidackedincurrentledg bk ledger start store sort structur ledger topic map from end seq id includ endseqidinclud ledger info structur includ current ledger tree map treemap memori ledger rang inmemoryledgerrang ledger rang ledgerrang tree map treemap memori ledger rang inmemoryledgerrang ledger rang znode version ledgerrangesznodevers handl current ledger us write messag memori ledger rang inmemoryledgerrang current ledger rang currentledgerrang flag releas topic encount unrecover except atom atomicboolean releas doreleas atom atomicboolean unlimit messag bound messagebound unlimit map string bytestr topic info topicinfo topic info topicinfo concurr hash map concurrenthashmap string bytestr topic info topicinfo topic op queuer topicopqueu queuer instanti book keeper persist bookkeeperpersist manag param bk refer bookkeep us param zk zookeep handl us param zk prefix zkprefix zookeep subtre store topic ledger inform prefix exist creat bookkeep persist manag bookkeeperpersistencemanag book keeper bookkeep bk zoo keeper zookeep zk topic manag topicmanag tm server configur serverconfigur cfg schedul executor servic scheduledexecutorservic executor bk bk zk zk cfg cfg tm tm queuer topic op queuer topicopqueu executor tm add topic ownership chang listen addtopicownershipchangelisten rang scan op rangescanop topic op queuer topicopqueu synchron op synchronousop rang scan request rangescanrequest request num messag read nummessagesread total size read totalsizeread topic info topicinfo topic info topicinfo start seq id scan startseqidtoscan rang scan op rangescanop rang scan request rangescanrequest request request 1l rang scan op rangescanop rang scan request rangescanrequest request start seq id startseqid queuer request topic request request start seq id scan startseqidtoscan start seq id startseqid overrid run intern runintern topic info topicinfo topic info topicinfo get topic topic info topicinfo request callback scan fail scanfail request ctx pub sub except pubsubexcept server respons topic except servernotresponsiblefortopicexcept start seq id scan startseqidtoscan zero mean unfinish scan request scan from provid posit start read from startreadingfrom start seq id scan startseqidtoscan request start seq id startseqid start seq id scan startseqidtoscan read memori ledger rang inmemoryledgerrang imlr start seq id startseqid end seq id endseqid imlr handl bk async open ledger asyncopenledg imlr rang get ledger id getledgerid digest type digesttyp crc32 passwd safe asyn bk callback safeasynbkcallback open callback opencallback overrid safe open complet safeopencomplet rc ledger handl ledgerhandl ledger handl ledgerhandl object ctx rc bk except bkexcept code imlr handl ledger handl ledgerhandl read imlr start seq id startseqid end seq id endseqid bk except bkexcept bke bk except bkexcept creat rc logger error open ledger imlr rang get ledger id getledgerid topic topic request callback scan fail scanfail ctx pub sub except pubsubexcept servic down except servicedownexcept bke request ctx ledger handl read from correct end seq id correctedendseqid math min start seq id startseqid request messag limit messagelimit num messag read nummessagesread end seq id endseqid logger debug enabl isdebugen logger debug issu bk read ledger imlr handl get id getid from entri id start seq id startseqid imlr start seq id includ startseqidinclud entri id correct end seq id correctedendseqid imlr start seq id includ startseqidinclud imlr handl async read entri asyncreadentri start seq id startseqid imlr start seq id includ startseqidinclud correct end seq id correctedendseqid imlr start seq id includ startseqidinclud safe asyn bk callback safeasynbkcallback read callback readcallback expect entri id expectedentryid start seq id startseqid imlr start seq id includ startseqidinclud overrid safe read complet safereadcomplet rc ledger handl ledgerhandl lh enumer ledger entri ledgerentri seq object ctx rc bk except bkexcept code seq ha more element hasmoreel bk except bkexcept bke bk except bkexcept creat rc logger error error read from ledger imlr rang get ledger id getledgerid topic topic string utf8 tostringutf8 bke request callback scan fail scanfail request ctx pub sub except pubsubexcept servic down except servicedownexcept bke ledger entri ledgerentri entri seq ha more element hasmoreel entri seq next element nextel messag messag messag messag pars from parsefrom entri get entri input stream getentryinputstream io except ioexcept string msg unread messag found ledger imlr rang get ledger id getledgerid topic topic string utf8 tostringutf8 logger error msg request callback scan fail scanfail ctx pub sub except pubsubexcept unexpect condit except unexpectedconditionexcept msg logger debug enabl isdebugen logger debug read respons from ledger lh get id getid entri id entri get entri id getentryid expect entri id expectedentryid entri get entri id getentryid expect entri id expectedentryid expect entri id expectedentryid entri get entri id getentryid entri get entri id getentryid messag get msg id getmsgid get local compon getlocalcompon imlr start seq id includ startseqidinclud expect entri id expectedentryid expect entri id expectedentryid request callback messag scan messagescan ctx messag num messag read nummessagesread total size read totalsizeread messag get bodi getbodi size num messag read nummessagesread request messag limit messagelimit request callback scan finish scanfinish ctx reason finish reasonforfinish num messag limit exceed num_messages_limit_exceed total size read totalsizeread request size limit sizelimit request callback scan finish scanfinish ctx reason finish reasonforfinish size limit exceed size_limit_exceed scan messag scan messag scanmessag request imlr start seq id includ startseqidinclud entri get entri id getentryid request ctx start read from startreadingfrom start seq id startseqid map entri memori ledger rang inmemoryledgerrang entri topic info topicinfo ledger rang ledgerrang ceil entri ceilingentri start seq id startseqid entri old ledger seq id us current ledger end seq id endseqid topic info topicinfo current ledger rang currentledgerrang start seq id includ startseqidinclud topic info topicinfo last entri id ack current ledger lastentryidackedincurrentledg end seq id endseqid start seq id startseqid request callback scan finish scanfinish request ctx reason finish reasonforfinish more messag no_more_messag read topic info topicinfo current ledger rang currentledgerrang start seq id startseqid end seq id endseqid read entri get valu getvalu start seq id startseqid entri get valu getvalu rang get end seq id includ getendseqidinclud get local compon getlocalcompon overrid scan messag scanmessag rang scan request rangescanrequest request queuer push run pushandmayberun request topic rang scan op rangescanop request scan messag scanmessag rang scan request rangescanrequest request scan seq id scanseqid queuer push run pushandmayberun request topic rang scan op rangescanop request scan seq id scanseqid deliv delivereduntil string bytestr topic seq id seqid here hint us updat ledger op updateledgerop topic op queuer topicopqueu asynchron op asynchronousop ledger delet ledgerdelet updat ledger op updateledgerop string bytestr topic callback cb object ctx ledger delet ledgerdelet queuer topic cb ctx ledger delet ledgerdelet ledger delet ledgerdelet overrid run topic info topicinfo topic info topicinfo topic info topicinfo get topic topic info topicinfo logger error server respons topic updat needsupd ledger rang ledgerrang builder builder ledger rang ledgerrang builder newbuild set kei remov keystoremov hash set hashset map entri memori ledger rang inmemoryledgerrang topic info topicinfo ledger rang ledgerrang entri set entryset get valu getvalu rang get ledger id getledgerid ledger delet ledgerdelet updat needsupd kei remov keystoremov add get kei getkei builder add rang addrang get valu getvalu rang builder add rang addrang topic info topicinfo current ledger rang currentledgerrang rang updat needsupd ledger rang ledgerrang rang newrang builder build updat ledger rang node updateledgerrangesnod topic rang newrang topic info topicinfo ledger rang znode version ledgerrangesznodevers callback integ oper finish operationfinish object ctx integ version newvers done kei remov keystoremov topic info topicinfo ledger rang ledgerrang remov topic info topicinfo ledger rang znode version ledgerrangesznodevers version newvers cb oper finish operationfinish ctx oper fail operationfail object ctx pub sub except pubsubexcept except cb oper fail operationfail ctx except ctx cb oper finish operationfinish ctx consum op consumeuntilop topic op queuer topicopqueu synchron op synchronousop seq id seqid consum op consumeuntilop string bytestr topic seq id seqid queuer topic seq id seqid seq id seqid overrid run intern runintern topic info topicinfo topic info topicinfo topic info topicinfo get topic topic info topicinfo logger error server respons topic end seq id includ endseqidinclud topic info topicinfo ledger rang ledgerrang kei set keyset end seq id includ endseqidinclud seq id seqid ledger messag entri consum safe delet from book keeper bookkeep ledger id ledgerid topic info topicinfo ledger rang ledgerrang get end seq id includ endseqidinclud rang get ledger id getledgerid bk delet ledger deleteledg ledger id ledgerid callback cb callback oper finish operationfinish object ctx result op async stop op occur topic updat oper fail operationfail object ctx pub sub except pubsubexcept except logger error fail updat ledger znode except queuer push run pushandmayberun topic updat ledger op updateledgerop topic cb ledger id ledgerid except log except error messag futur more complic retri logic delet consum ledger next time ledger garbag collect job run ll delet ledger logger error except delet consum ledger id ledgerid ledger id ledgerid consum consumeduntil string bytestr topic seq id seqid queuer push run pushandmayberun topic consum op consumeuntilop topic math max seq id seqid get min seq id topic getminseqidfortop topic consum bound consumetobound string bytestr topic topic info topicinfo topic info topicinfo topic info topicinfo get topic topic info topicinfo topic info topicinfo messag bound messagebound topic info topicinfo unlimit queuer push run pushandmayberun topic consum op consumeuntilop topic get min seq id topic getminseqidfortop topic get min seq id topic getminseqidfortop string bytestr topic topic info topicinfo topic info topicinfo topic info topicinfo get topic topic info topicinfo topic info topicinfo messag bound messagebound topic info topicinfo unlimit min valu min_valu topic info topicinfo last seq id push lastseqidpush get local compon getlocalcompon topic info topicinfo messag bound messagebound messag seq id messageseqid get current seq id topic getcurrentseqidfortop string bytestr topic server respons topic except servernotresponsiblefortopicexcept topic info topicinfo topic info topicinfo topic info topicinfo get topic topic info topicinfo pub sub except pubsubexcept server respons topic except servernotresponsiblefortopicexcept topic info topicinfo last seq id push lastseqidpush get seq id after skip getseqidafterskip string bytestr topic seq id seqid skip amount skipamount math max seq id seqid skip amount skipamount get min seq id topic getminseqidfortop topic persist op persistop topic op queuer topicopqueu synchron op synchronousop persist request persistrequest request persist op persistop persist request persistrequest request queuer request topic request request overrid run intern runintern topic info topicinfo topic info topicinfo topic info topicinfo get topic topic info topicinfo request callback oper fail operationfail request ctx pub sub except pubsubexcept server respons topic except servernotresponsiblefortopicexcept topic info topicinfo releas doreleas get request callback oper fail operationfail request ctx pub sub except pubsubexcept servic down except servicedownexcept ownership topic releas unrecover issu local seq id localseqid topic info topicinfo last seq id push lastseqidpush get local compon getlocalcompon messag seq id messageseqid builder builder messag seq id messageseqid builder newbuild request messag ha msg id hasmsgid messag id util messageidutil region maximum takeregionmaximum builder topic info topicinfo last seq id push lastseqidpush request messag get msg id getmsgid builder add remot compon addallremotecompon topic info topicinfo last seq id push lastseqidpush get remot compon list getremotecomponentslist builder set local compon setlocalcompon local seq id localseqid topic info topicinfo last seq id push lastseqidpush builder build messag msg serial msgtoseri messag builder newbuild request messag set msg id setmsgid topic info topicinfo last seq id push lastseqidpush build topic info topicinfo current ledger rang currentledgerrang handl async add entri asyncaddentri msg serial msgtoseri arrai tobytearrai safe asyn bk callback safeasynbkcallback add callback addcallback overrid safe add complet safeaddcomplet rc ledger handl ledgerhandl lh entri id entryid object ctx rc bk except bkexcept code bk except bkexcept bke bk except bkexcept creat rc logger error error persist entri ledger lh get id getid topic topic string utf8 tostringutf8 bke preserv order guarante up topic let oper topic info topicinfo releas doreleas compar set compareandset tm releas topic releasetop request topic callback overrid oper fail operationfail object ctx pub sub except pubsubexcept except logger error except found releas topic request topic string utf8 tostringutf8 encount except from bookkeep except overrid oper finish operationfinish object ctx result oper resultofoper logger debug successfulli releas topic encount except from bookkeep request topic string utf8 tostringutf8 request callback oper fail operationfail ctx pub sub except pubsubexcept servic down except servicedownexcept bke entri id entryid topic info topicinfo current ledger rang currentledgerrang start seq id includ startseqidinclud local seq id localseqid string msg expect bk assign entri id local seq id localseqid topic info topicinfo current ledger rang currentledgerrang start seq id includ startseqidinclud assign entri id entri id entryid topic topic string utf8 tostringutf8 ledger lh get id getid logger error msg unexpect error unexpectederror msg topic info topicinfo last entri id ack current ledger lastentryidackedincurrentledg entri id entryid request callback oper finish operationfinish ctx local seq id localseqid request ctx persist messag persistmessag persist request persistrequest request queuer push run pushandmayberun request topic persist op persistop request scan singl messag scansinglemessag scan request scanrequest request runtim except runtimeexcept implement safe asyn bk callback safeasynbkcallback close callback closecallback op close callback noopclosecallback safe asyn bk callback safeasynbkcallback close callback closecallback overrid safe close complet safeclosecomplet rc ledger handl ledgerhandl ledger handl ledgerhandl object ctx string ledger path ledgerspath string bytestr topic cfg get zk topic path getzktopicpath string builder stringbuild topic append ledger string tostr acquir op acquireop topic op queuer topicopqueu asynchron op asynchronousop acquir op acquireop string bytestr topic callback cb object ctx queuer topic cb ctx overrid run topic info topicinfo contain kei containskei topic acquir cb oper finish operationfinish ctx read topic ledger node data string node path znodepath ledger path ledgerspath topic zk get data getdata node path znodepath safe async zk callback safeasynczkcallback data callback datacallback overrid safe process result safeprocessresult rc string path object ctx data stat stat rc code valu intvalu process topic ledger node data processtopicledgersnodedata data stat get version getvers rc code nonod valu intvalu creat initi data initialdata ledger rang ledgerrang get instanc getdefaultinst arrai tobytearrai zk util zkutil creat full path optimist createfullpathoptimist zk node path znodepath initi data initialdata zoo def zoodef id open acl unsaf open_acl_unsaf creat mode createmod persist safe async zk callback safeasynczkcallback string callback stringcallback overrid safe process result safeprocessresult rc string path object ctx string name rc code valu intvalu keeper except keeperexcept ke zk util zkutil log error creat zk except logerrorandcreatezkexcept creat ledger node topic topic string utf8 tostringutf8 path rc cb oper fail operationfail ctx pub sub except pubsubexcept servic down except servicedownexcept ke initi version version guess process topic ledger node data processtopicledgersnodedata initi data initialdata ctx error keeper except keeperexcept ke zk util zkutil log error creat zk except logerrorandcreatezkexcept read ledger node topic topic string utf8 tostringutf8 path rc cb oper fail operationfail ctx pub sub except pubsubexcept servic down except servicedownexcept ke ctx process topic ledger node data processtopicledgersnodedata data version ledger rang ledgerrang rang rang ledger rang ledgerrang pars from parsefrom data invalid protocol buffer except invalidprotocolbufferexcept string msg ledger rang topic topic string utf8 tostringutf8 deseri logger error msg cb oper fail operationfail ctx pub sub except pubsubexcept unexpect condit except unexpectedconditionexcept msg iter ledger rang ledgerrang lr iter lriter rang get rang list getrangeslist iter topic info topicinfo topic info topicinfo topic info topicinfo start ledger startofledg lr iter lriter ha next hasnext ledger rang ledgerrang rang lr iter lriter next rang ha end seq id includ hasendseqidinclud mean valid complet close ledger end ledger endofledg rang get end seq id includ getendseqidinclud get local compon getlocalcompon topic info topicinfo ledger rang ledgerrang put end ledger endofledg memori ledger rang inmemoryledgerrang rang start ledger startofledg start ledger startofledg end ledger endofledg doesn valid end last ledger lr iter lriter ha next hasnext string msg ledger id rang get ledger id getledgerid topic topic string utf8 tostringutf8 last on end seq id logger error msg cb oper fail operationfail ctx pub sub except pubsubexcept unexpect condit except unexpectedconditionexcept msg last ledger valid seq id let find recov last topic ledger open on recoverlasttopicledgerandopennewon rang get ledger id getledgerid version topic info topicinfo ledger found properli close start on open topic ledger opennewtopicledg version topic info topicinfo recov last ledger open on persist inform zk param ledger id ledgerid ledger recov recov last topic ledger open on recoverlasttopicledgerandopennewon ledger id ledgerid expect version ledger node expectedversionofledgernod topic info topicinfo topic info topicinfo bk async open ledger asyncopenledg ledger id ledgerid digest type digesttyp crc32 passwd safe asyn bk callback safeasynbkcallback open callback opencallback overrid safe open complet safeopencomplet rc ledger handl ledgerhandl ledger handl ledgerhandl object ctx rc bk except bkexcept code bk except bkexcept bke bk except bkexcept creat rc logger error acquir topic topic string utf8 tostringutf8 open unrecov ledger ledger id ledgerid bke cb oper fail operationfail ctx pub sub except pubsubexcept servic down except servicedownexcept bke num entri last ledger numentriesinlastledg ledger handl ledgerhandl get last add confirm getlastaddconfirm num entri last ledger numentriesinlastledg empti ledger creat couldn write ignor logger info prune empti ledger ledger id ledgerid topic topic string utf8 tostringutf8 close ledger closeledg ledger handl ledgerhandl open topic ledger opennewtopicledg expect version ledger node expectedversionofledgernod topic info topicinfo read last entri ledger find last seq id ledger handl ledgerhandl async read entri asyncreadentri num entri last ledger numentriesinlastledg num entri last ledger numentriesinlastledg safe asyn bk callback safeasynbkcallback read callback readcallback overrid safe read complet safereadcomplet rc ledger handl ledgerhandl lh enumer ledger entri ledgerentri seq object ctx rc bk except bkexcept code seq ha more element hasmoreel bk except bkexcept bke bk except bkexcept creat rc logger error recov ledger ledger id ledgerid topic topic string utf8 tostringutf8 read last entri bke cb oper fail operationfail ctx pub sub except pubsubexcept servic down except servicedownexcept bke messag last messag lastmessag last messag lastmessag messag pars from parsefrom seq next element nextel get entri getentri invalid protocol buffer except invalidprotocolbufferexcept string msg recov ledger ledger id ledgerid topic topic string utf8 tostringutf8 deseri last messag logger error msg cb oper fail operationfail ctx pub sub except pubsubexcept unexpect condit except unexpectedconditionexcept msg prev ledger end prevledgerend topic info topicinfo ledger rang ledgerrang empti isempti topic info topicinfo ledger rang ledgerrang last kei lastkei ledger rang ledgerrang lr ledger rang ledgerrang builder newbuild set ledger id setledgerid ledger id ledgerid set end seq id includ setendseqidinclud last messag lastmessag get msg id getmsgid build topic info topicinfo ledger rang ledgerrang put lr get end seq id includ getendseqidinclud get local compon getlocalcompon memori ledger rang inmemoryledgerrang lr prev ledger end prevledgerend lh logger info recov unclos ledger ledger id ledgerid topic topic string utf8 tostringutf8 num entri last ledger numentriesinlastledg entri open topic ledger opennewtopicledg expect version ledger node expectedversionofledgernod topic info topicinfo ctx ctx param requir version ledger node requiredversionofledgersnod version ledger node read write open topic ledger opennewtopicledg expect version ledger node expectedversionofledgersnod topic info topicinfo topic info topicinfo bk async creat ledger asynccreateledg cfg get bk ensembl size getbkensembles cfg get bk quorum size getbkquorums digest type digesttyp crc32 passwd safe asyn bk callback safeasynbkcallback creat callback createcallback process overrid safe creat complet safecreatecomplet rc ledger handl ledgerhandl lh object ctx process process rc bk except bkexcept code bk except bkexcept bke bk except bkexcept creat rc logger error creat ledger acquir topic topic string utf8 tostringutf8 bke cb oper fail operationfail ctx pub sub except pubsubexcept servic down except servicedownexcept bke topic info topicinfo last seq id push lastseqidpush topic info topicinfo ledger rang ledgerrang empti isempti messag seq id messageseqid builder newbuild set local compon setlocalcompon build topic info topicinfo ledger rang ledgerrang last entri lastentri get valu getvalu rang get end seq id includ getendseqidinclud ledger rang ledgerrang last rang lastrang ledger rang ledgerrang builder newbuild set ledger id setledgerid lh get id getid build topic info topicinfo current ledger rang currentledgerrang memori ledger rang inmemoryledgerrang last rang lastrang topic info topicinfo last seq id push lastseqidpush get local compon getlocalcompon lh persist fact start ledger zk ledger rang ledgerrang builder builder ledger rang ledgerrang builder newbuild memori ledger rang inmemoryledgerrang imlr topic info topicinfo ledger rang ledgerrang valu builder add rang addrang imlr rang builder add rang addrang last rang lastrang updat ledger rang node updateledgerrangesnod topic builder build expect version ledger node expectedversionofledgersnod callback integ oper finish operationfinish object ctx integ version newvers done topic info topicinfo ledger rang znode version ledgerrangesznodevers version newvers topic info topicinfo put topic topic info topicinfo cb oper finish operationfinish ctx oper fail operationfail object ctx pub sub except pubsubexcept except cb oper fail operationfail ctx except ctx ctx updat ledger rang node updateledgerrangesnod string bytestr topic ledger rang ledgerrang rang version callback integ callback object ctx string node path znodepath ledger path ledgerspath topic zk set data setdata node path znodepath rang arrai tobytearrai version safe async zk callback safeasynczkcallback stat callback statcallback overrid safe process result safeprocessresult rc string path object ctx stat stat rc keeper except keeperexcept code valu intvalu keeper except keeperexcept ke zk util zkutil log error creat zk except logerrorandcreatezkexcept write ledger node topic topic string utf8 tostringutf8 path rc callback oper fail operationfail ctx pub sub except pubsubexcept servic down except servicedownexcept ke callback oper finish operationfinish ctx stat get version getvers ctx acquir ownership topic need abl perform read write topic from here param topic param callback param ctx overrid acquir topic acquiredtop string bytestr topic callback callback object ctx queuer push run pushandmayberun topic acquir op acquireop topic callback ctx close ledger closeledg ledger handl ledgerhandl lh lh async close asyncclos op close callback noopclosecallback interrupt except interruptedexcept logger error thread current thread currentthread interrupt releas op releaseop topic op queuer topicopqueu synchron op synchronousop releas op releaseop string bytestr topic queuer topic overrid run intern runintern topic info topicinfo topic info topicinfo topic info topicinfo remov topic topic info topicinfo memori ledger rang inmemoryledgerrang imlr topic info topicinfo ledger rang ledgerrang valu imlr handl close ledger closeledg imlr handl topic info topicinfo current ledger rang currentledgerrang topic info topicinfo current ledger rang currentledgerrang handl close ledger closeledg topic info topicinfo current ledger rang currentledgerrang handl releas resourc topic current held wont subsequ read write topic come param topic overrid lost topic losttop string bytestr topic queuer push run pushandmayberun topic releas op releaseop topic set messag bound op setmessageboundop topic op queuer topicopqueu synchron op synchronousop bound set messag bound op setmessageboundop string bytestr topic bound queuer topic bound bound overrid run intern runintern topic info topicinfo topic info topicinfo topic info topicinfo get topic topic info topicinfo topic info topicinfo messag bound messagebound bound set messag bound setmessagebound string bytestr topic integ bound queuer push run pushandmayberun topic set messag bound op setmessageboundop topic bound clear messag bound clearmessagebound string bytestr topic queuer push run pushandmayberun topic set messag bound op setmessageboundop topic topic info topicinfo unlimit 
gener callback genericcallback oper complet operationcomplet rc result 
builder com googl protobuf gener messag generatedmessag builder builder org apach hedwig protocol pub sub protocol pubsubprotocol subscript state subscriptionst result construct org apach hedwig protocol pub sub protocol pubsubprotocol subscript state subscriptionst builder newbuild builder builder creat builder builder builder builder result org apach hedwig protocol pub sub protocol pubsubprotocol subscript state subscriptionst builder org apach hedwig protocol pub sub protocol pubsubprotocol subscript state subscriptionst intern get result internalgetresult result builder clear result illeg state except illegalstateexcept call clear after build result org apach hedwig protocol pub sub protocol pubsubprotocol subscript state subscriptionst builder clone creat merg from mergefrom result com googl protobuf descriptor descriptor get descriptor type getdescriptorfortyp org apach hedwig protocol pub sub protocol pubsubprotocol subscript state subscriptionst get descriptor getdescriptor org apach hedwig protocol pub sub protocol pubsubprotocol subscript state subscriptionst get instanc type getdefaultinstancefortyp org apach hedwig protocol pub sub protocol pubsubprotocol subscript state subscriptionst get instanc getdefaultinst initi isiniti result initi isiniti org apach hedwig protocol pub sub protocol pubsubprotocol subscript state subscriptionst build result initi isiniti uniniti messag except newuninitializedmessageexcept result build partial buildparti org apach hedwig protocol pub sub protocol pubsubprotocol subscript state subscriptionst build pars buildpars com googl protobuf invalid protocol buffer except invalidprotocolbufferexcept initi isiniti uniniti messag except newuninitializedmessageexcept result invalid protocol buffer except asinvalidprotocolbufferexcept build partial buildparti org apach hedwig protocol pub sub protocol pubsubprotocol subscript state subscriptionst build partial buildparti result illeg state except illegalstateexcept build ha call builder org apach hedwig protocol pub sub protocol pubsubprotocol subscript state subscriptionst returnm result result returnm builder merg from mergefrom com googl protobuf messag org apach hedwig protocol pub sub protocol pubsubprotocol subscript state subscriptionst merg from mergefrom org apach hedwig protocol pub sub protocol pubsubprotocol subscript state subscriptionst merg from mergefrom builder merg from mergefrom org apach hedwig protocol pub sub protocol pubsubprotocol subscript state subscriptionst org apach hedwig protocol pub sub protocol pubsubprotocol subscript state subscriptionst get instanc getdefaultinst ha msg id hasmsgid merg msg id mergemsgid get msg id getmsgid ha messag bound hasmessagebound set messag bound setmessagebound get messag bound getmessagebound merg unknown field mergeunknownfield get unknown field getunknownfield builder merg from mergefrom com googl protobuf code input stream codedinputstream input com googl protobuf extens registri lite extensionregistrylit extens registri extensionregistri java io io except ioexcept com googl protobuf unknown field set unknownfieldset builder unknown field unknownfield com googl protobuf unknown field set unknownfieldset builder newbuild get unknown field getunknownfield tag input read tag readtag tag set unknown field setunknownfield unknown field unknownfield build pars unknown field parseunknownfield input unknown field unknownfield extens registri extensionregistri tag set unknown field setunknownfield unknown field unknownfield build 10 org apach hedwig protocol pub sub protocol pubsubprotocol messag seq id messageseqid builder sub builder subbuild org apach hedwig protocol pub sub protocol pubsubprotocol messag seq id messageseqid builder newbuild ha msg id hasmsgid sub builder subbuild merg from mergefrom get msg id getmsgid input read messag readmessag sub builder subbuild extens registri extensionregistri set msg id setmsgid sub builder subbuild build partial buildparti 16 set messag bound setmessagebound input read int32 readuint32 requir hedwig messag seq id messageseqid msg id msgid ha msg id hasmsgid result ha msg id hasmsgid org apach hedwig protocol pub sub protocol pubsubprotocol messag seq id messageseqid get msg id getmsgid result get msg id getmsgid builder set msg id setmsgid org apach hedwig protocol pub sub protocol pubsubprotocol messag seq id messageseqid valu valu pointer except nullpointerexcept result ha msg id hasmsgid result msg id msgid_ valu builder set msg id setmsgid org apach hedwig protocol pub sub protocol pubsubprotocol messag seq id messageseqid builder builder valu builderforvalu result ha msg id hasmsgid result msg id msgid_ builder valu builderforvalu build builder merg msg id mergemsgid org apach hedwig protocol pub sub protocol pubsubprotocol messag seq id messageseqid valu result ha msg id hasmsgid result msg id msgid_ org apach hedwig protocol pub sub protocol pubsubprotocol messag seq id messageseqid get instanc getdefaultinst result msg id msgid_ org apach hedwig protocol pub sub protocol pubsubprotocol messag seq id messageseqid builder newbuild result msg id msgid_ merg from mergefrom valu build partial buildparti result msg id msgid_ valu result ha msg id hasmsgid builder clear msg id clearmsgid result ha msg id hasmsgid result msg id msgid_ org apach hedwig protocol pub sub protocol pubsubprotocol messag seq id messageseqid get instanc getdefaultinst option uint32 messag bound messagebound ha messag bound hasmessagebound result ha messag bound hasmessagebound get messag bound getmessagebound result get messag bound getmessagebound builder set messag bound setmessagebound valu result ha messag bound hasmessagebound result messag bound messagebound_ valu builder clear messag bound clearmessagebound result ha messag bound hasmessagebound result messag bound messagebound_ protoc insert point protoc_insertion_point builder scope builder_scop hedwig subscript state subscriptionst 
consum op consumeop topic op queuer topicopqueu asynchron op asynchronousop string bytestr subscrib id subscriberid messag seq id messageseqid consum seq id consumeseqid consum op consumeop string bytestr topic string bytestr subscrib id subscriberid messag seq id messageseqid consum seq id consumeseqid callback callback object ctx queuer topic callback ctx subscrib id subscriberid subscrib id subscriberid consum seq id consumeseqid consum seq id consumeseqid overrid run map string bytestr memori subscript state inmemorysubscriptionst topic sub topicsub top2 sub2 seq top2sub2seq get topic topic sub topicsub cb oper finish operationfinish ctx memori subscript state inmemorysubscriptionst sub state substat topic sub topicsub get subscrib id subscriberid sub state substat cb oper finish operationfinish ctx sub state substat set last consum seq id setlastconsumeseqid consum seq id consumeseqid cfg get consum interv getconsumeinterv updat subscript state updatesubscriptionst topic subscrib id subscriberid sub state substat get subscript state getsubscriptionst cb ctx logger debug enabl isdebugen logger debug advanc consum pointer memori persist topic topic string utf8 tostringutf8 subscrib id subscriberid subscrib id subscriberid string utf8 tostringutf8 persist state persistentst subscript state util subscriptionstateutil string tostr sub state substat get subscript state getsubscriptionst memori consum id messag id util messageidutil msg id readabl string msgidtoreadablestr sub state substat get last consum seq id getlastconsumeseqid cb oper finish operationfinish ctx 
unit test test ledger recoveri ledger recoveri test ledgerrecoverytest base test basetestcas logger log logger factori loggerfactori get logger getlogg ledger recoveri test ledgerrecoverytest digest type digesttyp digest type digesttyp ledger recoveri test ledgerrecoverytest digest type digesttyp digest type digesttyp digest type digesttyp digest type digesttyp test intern testintern num entri numentri except creat ledger ledger handl ledgerhandl beforelh beforelh bkc creat ledger createledg digest type digesttyp get byte getbyt string tmp book keeper bookkeep cool num entri numentri beforelh add entri addentri tmp get byte getbyt length num entri numentri tmp length open ledger ledger handl ledgerhandl afterlh bkc open ledger openledg beforelh get id getid digest type digesttyp get byte getbyt check ha recov properli asserttru ha recov correctli afterlh get last add confirm getlastaddconfirm afterlh get last add confirm getlastaddconfirm num entri numentri asserttru ha set length correctli afterlh get length getlength length afterlh get length getlength length test test ledger recoveri testledgerrecoveri except test intern testintern 100 test test empti ledger recoveri on testemptyledgerrecoveryon except test intern testintern test test empti ledger recoveri testemptyledgerrecoveri except test intern testintern test test ledger recoveri wrong password testledgerrecoverywithwrongpassword except creat ledger ledger password ledgerpassword aaaa get byte getbyt ledger handl ledgerhandl lh bkc creat ledger createledg digest type digesttyp ledger password ledgerpassword bkc init messag digest initmessagedigest sha1 ledger id ledgerid lh get id getid log info ledger id lh get id getid string tmp book keeper bookkeep cool num entri numentri 30 num entri numentri lh add entri addentri tmp get byte getbyt wrong password ledger password ledgerpassword bbbb get byte getbyt lh bkc open ledger openledg ledger id ledgerid digest type digesttyp ledger password ledgerpassword fail open ledger wrong password fail bk except bkexcept fail test test ledger recoveri booki testledgerrecoverywithnotenoughbooki except num entri numentri creat ledger ledger handl ledgerhandl beforelh beforelh bkc creat ledger createledg digest type digesttyp get byte getbyt string tmp book keeper bookkeep cool num entri numentri beforelh add entri addentri tmp get byte getbyt shutdown first booki server bs get shutdown bs remov open ledger bkc open ledger openledg beforelh get id getid digest type digesttyp get byte getbyt fail reach here except thrown recoveri except start booki server start booki startnewbooki ledger handl ledgerhandl afterlh bkc open ledger openledg beforelh get id getid digest type digesttyp get byte getbyt check ha recov properli equal assertequ num entri numentri afterlh get last add confirm getlastaddconfirm 
read ahead cach bean read ahead cach bean readaheadcachebean read ahead cach mx bean readaheadcachemxbean hedwig bean info hedwigmbeaninfo read ahead cach readaheadcach cach read ahead cach bean readaheadcachebean read ahead cach readaheadcach cach cach cach overrid string get name getnam read ahead cach readaheadcach overrid hidden ishidden overrid get max cach size getmaxcaches cach cfg get maximum cach size getmaximumcaches overrid get present cach size getpresentcaches cach present cach size presentcaches overrid get num cach entri getnumcachedentri cach cach size overrid get num pend cach request getnumpendingcacherequest cach request queue requestqueu size 
builder com googl protobuf gener messag generatedmessag builder builder org apach hedwig protocol pub sub protocol pubsubprotocol subscrib request subscriberequest result construct org apach hedwig protocol pub sub protocol pubsubprotocol subscrib request subscriberequest builder newbuild builder builder creat builder builder builder builder result org apach hedwig protocol pub sub protocol pubsubprotocol subscrib request subscriberequest builder org apach hedwig protocol pub sub protocol pubsubprotocol subscrib request subscriberequest intern get result internalgetresult result builder clear result illeg state except illegalstateexcept call clear after build result org apach hedwig protocol pub sub protocol pubsubprotocol subscrib request subscriberequest builder clone creat merg from mergefrom result com googl protobuf descriptor descriptor get descriptor type getdescriptorfortyp org apach hedwig protocol pub sub protocol pubsubprotocol subscrib request subscriberequest get descriptor getdescriptor org apach hedwig protocol pub sub protocol pubsubprotocol subscrib request subscriberequest get instanc type getdefaultinstancefortyp org apach hedwig protocol pub sub protocol pubsubprotocol subscrib request subscriberequest get instanc getdefaultinst initi isiniti result initi isiniti org apach hedwig protocol pub sub protocol pubsubprotocol subscrib request subscriberequest build result initi isiniti uniniti messag except newuninitializedmessageexcept result build partial buildparti org apach hedwig protocol pub sub protocol pubsubprotocol subscrib request subscriberequest build pars buildpars com googl protobuf invalid protocol buffer except invalidprotocolbufferexcept initi isiniti uniniti messag except newuninitializedmessageexcept result invalid protocol buffer except asinvalidprotocolbufferexcept build partial buildparti org apach hedwig protocol pub sub protocol pubsubprotocol subscrib request subscriberequest build partial buildparti result illeg state except illegalstateexcept build ha call builder org apach hedwig protocol pub sub protocol pubsubprotocol subscrib request subscriberequest returnm result result returnm builder merg from mergefrom com googl protobuf messag org apach hedwig protocol pub sub protocol pubsubprotocol subscrib request subscriberequest merg from mergefrom org apach hedwig protocol pub sub protocol pubsubprotocol subscrib request subscriberequest merg from mergefrom builder merg from mergefrom org apach hedwig protocol pub sub protocol pubsubprotocol subscrib request subscriberequest org apach hedwig protocol pub sub protocol pubsubprotocol subscrib request subscriberequest get instanc getdefaultinst ha subscrib id hassubscriberid set subscrib id setsubscriberid get subscrib id getsubscriberid ha creat attach hascreateorattach set creat attach setcreateorattach get creat attach getcreateorattach ha synchron hassynchron set synchron setsynchron get synchron getsynchron ha messag bound hasmessagebound set messag bound setmessagebound get messag bound getmessagebound merg unknown field mergeunknownfield get unknown field getunknownfield builder merg from mergefrom com googl protobuf code input stream codedinputstream input com googl protobuf extens registri lite extensionregistrylit extens registri extensionregistri java io io except ioexcept com googl protobuf unknown field set unknownfieldset builder unknown field unknownfield com googl protobuf unknown field set unknownfieldset builder newbuild get unknown field getunknownfield tag input read tag readtag tag set unknown field setunknownfield unknown field unknownfield build pars unknown field parseunknownfield input unknown field unknownfield extens registri extensionregistri tag set unknown field setunknownfield unknown field unknownfield build 18 set subscrib id setsubscriberid input read byte readbyt 24 raw valu rawvalu input read readenum org apach hedwig protocol pub sub protocol pubsubprotocol subscrib request subscriberequest creat attach createorattach valu org apach hedwig protocol pub sub protocol pubsubprotocol subscrib request subscriberequest creat attach createorattach valu valueof raw valu rawvalu valu unknown field unknownfield merg varint field mergevarintfield raw valu rawvalu set creat attach setcreateorattach valu 32 set synchron setsynchron input read readbool 40 set messag bound setmessagebound input read int32 readuint32 requir byte subscrib id subscriberid ha subscrib id hassubscriberid result ha subscrib id hassubscriberid com googl protobuf string bytestr get subscrib id getsubscriberid result get subscrib id getsubscriberid builder set subscrib id setsubscriberid com googl protobuf string bytestr valu valu pointer except nullpointerexcept result ha subscrib id hassubscriberid result subscrib id subscriberid_ valu builder clear subscrib id clearsubscriberid result ha subscrib id hassubscriberid result subscrib id subscriberid_ get instanc getdefaultinst get subscrib id getsubscriberid option hedwig subscrib request subscriberequest creat attach createorattach creat attach createorattach creat attach create_or_attach ha creat attach hascreateorattach result ha creat attach hascreateorattach org apach hedwig protocol pub sub protocol pubsubprotocol subscrib request subscriberequest creat attach createorattach get creat attach getcreateorattach result get creat attach getcreateorattach builder set creat attach setcreateorattach org apach hedwig protocol pub sub protocol pubsubprotocol subscrib request subscriberequest creat attach createorattach valu valu pointer except nullpointerexcept result ha creat attach hascreateorattach result creat attach createorattach_ valu builder clear creat attach clearcreateorattach result ha creat attach hascreateorattach result creat attach createorattach_ org apach hedwig protocol pub sub protocol pubsubprotocol subscrib request subscriberequest creat attach createorattach creat attach create_or_attach option synchron ha synchron hassynchron result ha synchron hassynchron get synchron getsynchron result get synchron getsynchron builder set synchron setsynchron valu result ha synchron hassynchron result synchron synchronous_ valu builder clear synchron clearsynchron result ha synchron hassynchron result synchron synchronous_ option uint32 messag bound messagebound ha messag bound hasmessagebound result ha messag bound hasmessagebound get messag bound getmessagebound result get messag bound getmessagebound builder set messag bound setmessagebound valu result ha messag bound hasmessagebound result messag bound messagebound_ valu builder clear messag bound clearmessagebound result ha messag bound hasmessagebound result messag bound messagebound_ protoc insert point protoc_insertion_point builder scope builder_scop hedwig subscrib request subscriberequest 
control obj controlobj ledger handl ledgerhandl lh set lh setlh ledger handl ledgerhandl lh lh lh ledger handl ledgerhandl get lh getlh lh 
client subscrib runtim except clientnotsubscribedruntimeexcept runtim except runtimeexcept 
filter pickup journal journal id filter journalidfilt accept journal id journalid 
creat callback createcallback declar callback method param rc statu param lh ledger handl param ctx context object creat complet createcomplet rc ledger handl ledgerhandl lh object ctx 
deal problem pub sub pubsub request written successfulli server host reason ack messag back happen callback voidcallback store respons handler responsehandl txn2 publish data txn2publishdata map call configur timeout pass from time write successfulli done server fail async pub sub pubsub transact caller possibl redo transact need time creat timeout cleaner timer task timertask here pub sub request timeout task pubsubrequesttimeouttask timer task timertask implement timer task timertask abstract run method overrid run logger debug enabl isdebugen logger debug run pub sub request pubsubrequest timeout task loop outstand pub sub data pubsubdata request check request write time requestwritetim ha time compar current time cur time curtim current time milli currenttimemilli timeout interv timeoutinterv cfg get server ack respons timeout getserverackresponsetimeout first check respons handler responsehandl associ cach channel hedwig publish hedwigpublish host2 channel host2channel store channel us publish unsubscrib request channel channel pub host2 channel host2channel valu respons handler responsehandl respons handler responsehandl get respons handler from channel getresponsehandlerfromchannel channel pub sub data pubsubdata pub sub data pubsubdata respons handler responsehandl txn2 pub sub data txn2pubsubdata valu check pub sub data time checkpubsubdatatotimeout pub sub data pubsubdata respons handler responsehandl cur time curtim timeout interv timeoutinterv cach channel hedwig subscrib hedwigsubscrib topic subscriber2 channel topicsubscriber2channel store channel us exclus subscrib request channel channel sub topic subscriber2 channel topicsubscriber2channel valu respons handler responsehandl respons handler responsehandl get respons handler from channel getresponsehandlerfromchannel channel pub sub data pubsubdata pub sub data pubsubdata respons handler responsehandl txn2 pub sub data txn2pubsubdata valu check pub sub data time checkpubsubdatatotimeout pub sub data pubsubdata respons handler responsehandl cur time curtim timeout interv timeoutinterv check pub sub data time checkpubsubdatatotimeout pub sub data pubsubdata pub sub data pubsubdata respons handler responsehandl respons handler responsehandl cur time curtim timeout interv timeoutinterv cur time curtim pub sub data pubsubdata request write time requestwritetim timeout interv timeoutinterv current pub sub request pubsubrequest ha time remov from respons handler responsehandl map invok callback voidcallback oper fail operationfail method logger error current pub sub request pubsubrequest ha time pub sub data pubsubdata pub sub data pubsubdata respons handler responsehandl txn2 pub sub data txn2pubsubdata remov pub sub data pubsubdata txn id txnid pub sub data pubsubdata callback oper fail operationfail pub sub data pubsubdata context uncertain state except uncertainstateexcept server ack respons receiv pub sub request pubsubrequest ha time 
redo cmd redocmd command mycommand overrid run cmd runcmd string arg except arg length index equal arg index command count commandcount index integ decod arg command count commandcount index err println command index rang cl pars command parsecommand histori get index cl get command getcommand equal redo err println redo redo histori put command count commandcount histori get index process cmd processcmd cl 
abstract callback abstractcallback atom integ atomicinteg num done numdon atom integ atomicinteg semaphor outstand num op numop log abstract callback abstractcallback semaphor outstand num op numop outstand outstand num op numop num op numop log get getboolean progress handl success object ctx outstand releas success concurr util concurrencyutil put done signal queue donesignalqueu total latenc totallat add get addandget current time milli currenttimemilli ctx num done numdoneint num done numdon increment get incrementandget log num done numdoneint 10000 logger info finish num done numdoneint op num op numop num done numdoneint concurr util concurrencyutil put done signal queue donesignalqueu 
test ledger manag testledgermanag book keeper cluster test bookkeeperclustertestcas logger log logger factori loggerfactori get logger getlogg test ledger manag testledgermanag test ledger manag testledgermanag test bad client configur test test bad conf testbadconf except client configur clientconfigur conf client configur clientconfigur success string root0 goodconf0 zkc creat root0 id open acl unsaf open_acl_unsaf creat mode createmod persist conf set zk ledger root path setzkledgersrootpath root0 ledger manag ledgermanag ledger manag factori ledgermanagerfactori ledger manag newledgermanag conf zkc asserttru ledger manag unexpect type flat ledger manag flatledgermanag mismatch conf conf set ledger manag type setledgermanagertyp hierarch ledger manag hierarchicalledgermanag name ledger manag factori ledgermanagerfactori ledger manag newledgermanag conf zkc fail shouldn reach here except asserttru invalid except get messag getmessag contain match exist layout invalid ledger manag string root1 badconf1 zkc creat root1 id open acl unsaf open_acl_unsaf creat mode createmod persist conf set zk ledger root path setzkledgersrootpath root1 conf set ledger manag type setledgermanagertyp exist doesnotexist ledger manag factori ledgermanagerfactori ledger manag newledgermanag conf zkc fail shouldn reach here except asserttru invalid except get messag getmessag contain unknown ledger manag type test bad zk configur test test bad zk content testbadzkcont except client configur clientconfigur conf client configur clientconfigur bad type zookeep string root0 badzk0 zkc creat root0 id open acl unsaf open_acl_unsaf creat mode createmod persist conf set zk ledger root path setzkledgersrootpath root0 ledger layout ledgerlayout exist doesnotexist xdeadbeef 0xdeadbeef store zkc root0 ledger manag factori ledgermanagerfactori ledger manag newledgermanag conf zkc fail shouldn reach here except asserttru invalid except get messag getmessag contain unknown ledger manag type bad version zookeep string root1 badzk1 zkc creat root1 id open acl unsaf open_acl_unsaf creat mode createmod persist conf set zk ledger root path setzkledgersrootpath root1 ledger layout ledgerlayout flat ledger manag flatledgermanag name xdeadbeef 0xdeadbeef store zkc root1 ledger manag factori ledgermanagerfactori ledger manag newledgermanag conf zkc fail shouldn reach here except asserttru invalid except get messag getmessag contain incompat layout version found creat lm thread createlmthread thread success string type string root cyclic barrier cyclicbarri barrier zoo keeper zookeep zkc creat lm thread createlmthread string root string type cyclic barrier cyclicbarri barrier except type type barrier barrier root root count down latch countdownlatch latch count down latch countdownlatch zkc zoo keeper zookeep 127 10000 watcher process watch event watchedev event latch count down countdown latch await run client configur clientconfigur conf client configur clientconfigur conf set ledger manag type setledgermanagertyp type barrier await ledger manag factori ledgermanagerfactori ledger manag newledgermanag conf zkc success except log error fail creat ledger manag success issuccess success close except zkc close test concurr test test concurrent1 testconcurrent1 except creat num thread numthread 50 bad version zookeep string root0 lmroot0 zkc creat root0 id open acl unsaf open_acl_unsaf creat mode createmod persist cyclic barrier cyclicbarri barrier cyclic barrier cyclicbarri num thread numthread list creat lm thread createlmthread thread arrai list arraylist creat lm thread createlmthread num thread numthread num thread numthread creat lm thread createlmthread creat lm thread createlmthread root0 flat ledger manag flatledgermanag name barrier start thread add barrier await success creat lm thread createlmthread thread join close success success issuccess success asserttru ledger manag creat success test test concurrent2 testconcurrent2 except odd creat differ num thread numthreadseach 25 bad version zookeep string root0 lmroot0 zkc creat root0 id open acl unsaf open_acl_unsaf creat mode createmod persist cyclic barrier cyclicbarri barrier cyclic barrier cyclicbarri num thread numthreadseach list creat lm thread createlmthread threadsa arrai list arraylist creat lm thread createlmthread num thread numthreadseach num thread numthreadseach creat lm thread createlmthread creat lm thread createlmthread root0 flat ledger manag flatledgermanag name barrier start threadsa add list creat lm thread createlmthread threadsb arrai list arraylist creat lm thread createlmthread num thread numthreadseach num thread numthreadseach creat lm thread createlmthread creat lm thread createlmthread root0 hierarch ledger manag hierarchicalledgermanag name barrier start threadsb add barrier await num success numsuccess num fail numfail creat lm thread createlmthread threadsa join close success issuccess num success numsuccess num fail numfail creat lm thread createlmthread threadsb join close success issuccess num success numsuccess num fail numfail equal assertequ incorrect number success num thread numthreadseach num success numsuccess equal assertequ incorrect number failur num thread numthreadseach num fail numfail 
pub sub protocol pubsubprotocol pub sub protocol pubsubprotocol extens registerallextens com googl protobuf extens registri extensionregistri registri protocol version protocolvers com googl protobuf protocol messag protocolmessageenum version on version_on get number getnumb valu protocol version protocolvers valu valueof valu valu version on version_on com googl protobuf intern lite map enumlitemap protocol version protocolvers intern get valu map internalgetvaluemap intern valu map internalvaluemap com googl protobuf intern lite map enumlitemap protocol version protocolvers intern valu map internalvaluemap com googl protobuf intern lite map enumlitemap protocol version protocolvers protocol version protocolvers find valu number findvaluebynumb number protocol version protocolvers valu valueof number com googl protobuf descriptor valu descriptor enumvaluedescriptor get valu descriptor getvaluedescriptor get descriptor getdescriptor get valu getvalu get index com googl protobuf descriptor descriptor enumdescriptor get descriptor type getdescriptorfortyp get descriptor getdescriptor com googl protobuf descriptor descriptor enumdescriptor get descriptor getdescriptor org apach hedwig protocol pub sub protocol pubsubprotocol get descriptor getdescriptor get type getenumtyp get protocol version protocolvers valu version on version_on protocol version protocolvers valu valueof com googl protobuf descriptor valu descriptor enumvaluedescriptor desc desc get type gettyp get descriptor getdescriptor java lang illeg argument except illegalargumentexcept valu descriptor enumvaluedescriptor type valu desc get index getindex index valu protocol version protocolvers index valu index index valu valu org apach hedwig protocol pub sub protocol pubsubprotocol get descriptor getdescriptor protoc insert point protoc_insertion_point scope enum_scop hedwig protocol version protocolvers oper type operationtyp com googl protobuf protocol messag protocolmessageenum publish subscrib consum unsubscrib start deliveri start_deliveri stop deliveri stop_deliveri get number getnumb valu oper type operationtyp valu valueof valu valu publish subscrib consum unsubscrib start deliveri start_deliveri stop deliveri stop_deliveri com googl protobuf intern lite map enumlitemap oper type operationtyp intern get valu map internalgetvaluemap intern valu map internalvaluemap com googl protobuf intern lite map enumlitemap oper type operationtyp intern valu map internalvaluemap com googl protobuf intern lite map enumlitemap oper type operationtyp oper type operationtyp find valu number findvaluebynumb number oper type operationtyp valu valueof number com googl protobuf descriptor valu descriptor enumvaluedescriptor get valu descriptor getvaluedescriptor get descriptor getdescriptor get valu getvalu get index com googl protobuf descriptor descriptor enumdescriptor get descriptor type getdescriptorfortyp get descriptor getdescriptor com googl protobuf descriptor descriptor enumdescriptor get descriptor getdescriptor org apach hedwig protocol pub sub protocol pubsubprotocol get descriptor getdescriptor get type getenumtyp get oper type operationtyp valu publish subscrib consum unsubscrib start deliveri start_deliveri stop deliveri stop_deliveri oper type operationtyp valu valueof com googl protobuf descriptor valu descriptor enumvaluedescriptor desc desc get type gettyp get descriptor getdescriptor java lang illeg argument except illegalargumentexcept valu descriptor enumvaluedescriptor type valu desc get index getindex index valu oper type operationtyp index valu index index valu valu org apach hedwig protocol pub sub protocol pubsubprotocol get descriptor getdescriptor protoc insert point protoc_insertion_point scope enum_scop hedwig oper type operationtyp statu code statuscod com googl protobuf protocol messag protocolmessageenum success malform request malformed_request 401 topic no_such_top 402 client subscrib client_already_subscrib 403 client subscrib client_not_subscrib 404 connect could_not_connect 405 topic busi topic_busi 406 respons topic not_responsible_for_top 501 servic down service_down 502 uncertain state uncertain_st 503 unexpect condit unexpected_condit 10 600 composit 11 700 get number getnumb valu statu code statuscod valu valueof valu valu success 401 malform request malformed_request 402 topic no_such_top 403 client subscrib client_already_subscrib 404 client subscrib client_not_subscrib 405 connect could_not_connect 406 topic busi topic_busi 501 respons topic not_responsible_for_top 502 servic down service_down 503 uncertain state uncertain_st 600 unexpect condit unexpected_condit 700 composit com googl protobuf intern lite map enumlitemap statu code statuscod intern get valu map internalgetvaluemap intern valu map internalvaluemap com googl protobuf intern lite map enumlitemap statu code statuscod intern valu map internalvaluemap com googl protobuf intern lite map enumlitemap statu code statuscod statu code statuscod find valu number findvaluebynumb number statu code statuscod valu valueof number com googl protobuf descriptor valu descriptor enumvaluedescriptor get valu descriptor getvaluedescriptor get descriptor getdescriptor get valu getvalu get index com googl protobuf descriptor descriptor enumdescriptor get descriptor type getdescriptorfortyp get descriptor getdescriptor com googl protobuf descriptor descriptor enumdescriptor get descriptor getdescriptor org apach hedwig protocol pub sub protocol pubsubprotocol get descriptor getdescriptor get type getenumtyp get statu code statuscod valu success malform request malformed_request topic no_such_top client subscrib client_already_subscrib client subscrib client_not_subscrib connect could_not_connect topic busi topic_busi respons topic not_responsible_for_top servic down service_down uncertain state uncertain_st unexpect condit unexpected_condit composit statu code statuscod valu valueof com googl protobuf descriptor valu descriptor enumvaluedescriptor desc desc get type gettyp get descriptor getdescriptor java lang illeg argument except illegalargumentexcept valu descriptor enumvaluedescriptor type valu desc get index getindex index valu statu code statuscod index valu index index valu valu org apach hedwig protocol pub sub protocol pubsubprotocol get descriptor getdescriptor protoc insert point protoc_insertion_point scope enum_scop hedwig statu code statuscod messag com googl protobuf gener messag generatedmessag us messag builder newbuild construct messag init field initfield messag init noinit messag instanc defaultinst messag get instanc getdefaultinst instanc defaultinst messag get instanc type getdefaultinstancefortyp instanc defaultinst com googl protobuf descriptor descriptor get descriptor getdescriptor org apach hedwig protocol pub sub protocol pubsubprotocol intern hedwig messag descriptor internal_static_hedwig_message_descriptor com googl protobuf gener messag generatedmessag field accessor tabl fieldaccessort intern get field accessor tabl internalgetfieldaccessort org apach hedwig protocol pub sub protocol pubsubprotocol intern hedwig messag field accessor tabl internal_static_hedwig_message_fieldaccessort requir byte bodi bodi field number body_field_numb ha bodi hasbodi com googl protobuf string bytestr bodi body_ com googl protobuf string bytestr empti ha bodi hasbodi ha bodi hasbodi com googl protobuf string bytestr get bodi getbodi bodi body_ option byte src region srcregion srcregion field number srcregion_field_numb ha src region hassrcregion com googl protobuf string bytestr src region srcregion_ com googl protobuf string bytestr empti ha src region hassrcregion ha src region hassrcregion com googl protobuf string bytestr get src region getsrcregion src region srcregion_ option hedwig messag seq id messageseqid msg id msgid msgid field number msgid_field_numb ha msg id hasmsgid org apach hedwig protocol pub sub protocol pubsubprotocol messag seq id messageseqid msg id msgid_ ha msg id hasmsgid ha msg id hasmsgid org apach hedwig protocol pub sub protocol pubsubprotocol messag seq id messageseqid get msg id getmsgid msg id msgid_ init field initfield msg id msgid_ org apach hedwig protocol pub sub protocol pubsubprotocol messag seq id messageseqid get instanc getdefaultinst initi isiniti ha bodi hasbodi ha msg id hasmsgid get msg id getmsgid initi isiniti write writeto com googl protobuf code output stream codedoutputstream output java io io except ioexcept get serial size getserializeds ha bodi hasbodi output write byte writebyt get bodi getbodi ha src region hassrcregion output write byte writebyt get src region getsrcregion ha msg id hasmsgid output write messag writemessag get msg id getmsgid get unknown field getunknownfield write writeto output memoiz serial size memoizedserializeds get serial size getserializeds size memoiz serial size memoizedserializeds size size size ha bodi hasbodi size com googl protobuf code output stream codedoutputstream comput byte size computebytess get bodi getbodi ha src region hassrcregion size com googl protobuf code output stream codedoutputstream comput byte size computebytess get src region getsrcregion ha msg id hasmsgid size com googl protobuf code output stream codedoutputstream comput messag size computemessages get msg id getmsgid size get unknown field getunknownfield get serial size getserializeds memoiz serial size memoizedserializeds size size org apach hedwig protocol pub sub protocol pubsubprotocol messag pars from parsefrom com googl protobuf string bytestr data com googl protobuf invalid protocol buffer except invalidprotocolbufferexcept builder newbuild merg from mergefrom data build pars buildpars org apach hedwig protocol pub sub protocol pubsubprotocol messag pars from parsefrom com googl protobuf string bytestr data com googl protobuf extens registri lite extensionregistrylit extens registri extensionregistri com googl protobuf invalid protocol buffer except invalidprotocolbufferexcept builder newbuild merg from mergefrom data extens registri extensionregistri build pars buildpars org apach hedwig protocol pub sub protocol pubsubprotocol messag pars from parsefrom data com googl protobuf invalid protocol buffer except invalidprotocolbufferexcept builder newbuild merg from mergefrom data build pars buildpars org apach hedwig protocol pub sub protocol pubsubprotocol messag pars from parsefrom data com googl protobuf extens registri lite extensionregistrylit extens registri extensionregistri com googl protobuf invalid protocol buffer except invalidprotocolbufferexcept builder newbuild merg from mergefrom data extens registri extensionregistri build pars buildpars org apach hedwig protocol pub sub protocol pubsubprotocol messag pars from parsefrom java io input stream inputstream input java io io except ioexcept builder newbuild merg from mergefrom input build pars buildpars org apach hedwig protocol pub sub protocol pubsubprotocol messag pars from parsefrom java io input stream inputstream input com googl protobuf extens registri lite extensionregistrylit extens registri extensionregistri java io io except ioexcept builder newbuild merg from mergefrom input extens registri extensionregistri build pars buildpars org apach hedwig protocol pub sub protocol pubsubprotocol messag pars delimit from parsedelimitedfrom java io input stream inputstream input java io io except ioexcept builder builder builder newbuild builder merg delimit from mergedelimitedfrom input builder build pars buildpars org apach hedwig protocol pub sub protocol pubsubprotocol messag pars delimit from parsedelimitedfrom java io input stream inputstream input com googl protobuf extens registri lite extensionregistrylit extens registri extensionregistri java io io except ioexcept builder builder builder newbuild builder merg delimit from mergedelimitedfrom input extens registri extensionregistri builder build pars buildpars org apach hedwig protocol pub sub protocol pubsubprotocol messag pars from parsefrom com googl protobuf code input stream codedinputstream input java io io except ioexcept builder newbuild merg from mergefrom input build pars buildpars org apach hedwig protocol pub sub protocol pubsubprotocol messag pars from parsefrom com googl protobuf code input stream codedinputstream input com googl protobuf extens registri lite extensionregistrylit extens registri extensionregistri java io io except ioexcept builder newbuild merg from mergefrom input extens registri extensionregistri build pars buildpars builder builder newbuild builder creat builder builder type newbuilderfortyp builder newbuild builder builder newbuild org apach hedwig protocol pub sub protocol pubsubprotocol messag prototyp builder newbuild merg from mergefrom prototyp builder builder tobuild builder newbuild builder com googl protobuf gener messag generatedmessag builder builder org apach hedwig protocol pub sub protocol pubsubprotocol messag result construct org apach hedwig protocol pub sub protocol pubsubprotocol messag builder newbuild builder builder creat builder builder builder builder result org apach hedwig protocol pub sub protocol pubsubprotocol messag builder org apach hedwig protocol pub sub protocol pubsubprotocol messag intern get result internalgetresult result builder clear result illeg state except illegalstateexcept call clear after build result org apach hedwig protocol pub sub protocol pubsubprotocol messag builder clone creat merg from mergefrom result com googl protobuf descriptor descriptor get descriptor type getdescriptorfortyp org apach hedwig protocol pub sub protocol pubsubprotocol messag get descriptor getdescriptor org apach hedwig protocol pub sub protocol pubsubprotocol messag get instanc type getdefaultinstancefortyp org apach hedwig protocol pub sub protocol pubsubprotocol messag get instanc getdefaultinst initi isiniti result initi isiniti org apach hedwig protocol pub sub protocol pubsubprotocol messag build result initi isiniti uniniti messag except newuninitializedmessageexcept result build partial buildparti org apach hedwig protocol pub sub protocol pubsubprotocol messag build pars buildpars com googl protobuf invalid protocol buffer except invalidprotocolbufferexcept initi isiniti uniniti messag except newuninitializedmessageexcept result invalid protocol buffer except asinvalidprotocolbufferexcept build partial buildparti org apach hedwig protocol pub sub protocol pubsubprotocol messag build partial buildparti result illeg state except illegalstateexcept build ha call builder org apach hedwig protocol pub sub protocol pubsubprotocol messag returnm result result returnm builder merg from mergefrom com googl protobuf messag org apach hedwig protocol pub sub protocol pubsubprotocol messag merg from mergefrom org apach hedwig protocol pub sub protocol pubsubprotocol messag merg from mergefrom builder merg from mergefrom org apach hedwig protocol pub sub protocol pubsubprotocol messag org apach hedwig protocol pub sub protocol pubsubprotocol messag get instanc getdefaultinst ha bodi hasbodi set bodi setbodi get bodi getbodi ha src region hassrcregion set src region setsrcregion get src region getsrcregion ha msg id hasmsgid merg msg id mergemsgid get msg id getmsgid merg unknown field mergeunknownfield get unknown field getunknownfield builder merg from mergefrom com googl protobuf code input stream codedinputstream input com googl protobuf extens registri lite extensionregistrylit extens registri extensionregistri java io io except ioexcept com googl protobuf unknown field set unknownfieldset builder unknown field unknownfield com googl protobuf unknown field set unknownfieldset builder newbuild get unknown field getunknownfield tag input read tag readtag tag set unknown field setunknownfield unknown field unknownfield build pars unknown field parseunknownfield input unknown field unknownfield extens registri extensionregistri tag set unknown field setunknownfield unknown field unknownfield build 10 set bodi setbodi input read byte readbyt 18 set src region setsrcregion input read byte readbyt 26 org apach hedwig protocol pub sub protocol pubsubprotocol messag seq id messageseqid builder sub builder subbuild org apach hedwig protocol pub sub protocol pubsubprotocol messag seq id messageseqid builder newbuild ha msg id hasmsgid sub builder subbuild merg from mergefrom get msg id getmsgid input read messag readmessag sub builder subbuild extens registri extensionregistri set msg id setmsgid sub builder subbuild build partial buildparti requir byte bodi ha bodi hasbodi result ha bodi hasbodi com googl protobuf string bytestr get bodi getbodi result get bodi getbodi builder set bodi setbodi com googl protobuf string bytestr valu valu pointer except nullpointerexcept result ha bodi hasbodi result bodi body_ valu builder clear bodi clearbodi result ha bodi hasbodi result bodi body_ get instanc getdefaultinst get bodi getbodi option byte src region srcregion ha src region hassrcregion result ha src region hassrcregion com googl protobuf string bytestr get src region getsrcregion result get src region getsrcregion builder set src region setsrcregion com googl protobuf string bytestr valu valu pointer except nullpointerexcept result ha src region hassrcregion result src region srcregion_ valu builder clear src region clearsrcregion result ha src region hassrcregion result src region srcregion_ get instanc getdefaultinst get src region getsrcregion option hedwig messag seq id messageseqid msg id msgid ha msg id hasmsgid result ha msg id hasmsgid org apach hedwig protocol pub sub protocol pubsubprotocol messag seq id messageseqid get msg id getmsgid result get msg id getmsgid builder set msg id setmsgid org apach hedwig protocol pub sub protocol pubsubprotocol messag seq id messageseqid valu valu pointer except nullpointerexcept result ha msg id hasmsgid result msg id msgid_ valu builder set msg id setmsgid org apach hedwig protocol pub sub protocol pubsubprotocol messag seq id messageseqid builder builder valu builderforvalu result ha msg id hasmsgid result msg id msgid_ builder valu builderforvalu build builder merg msg id mergemsgid org apach hedwig protocol pub sub protocol pubsubprotocol messag seq id messageseqid valu result ha msg id hasmsgid result msg id msgid_ org apach hedwig protocol pub sub protocol pubsubprotocol messag seq id messageseqid get instanc getdefaultinst result msg id msgid_ org apach hedwig protocol pub sub protocol pubsubprotocol messag seq id messageseqid builder newbuild result msg id msgid_ merg from mergefrom valu build partial buildparti result msg id msgid_ valu result ha msg id hasmsgid builder clear msg id clearmsgid result ha msg id hasmsgid result msg id msgid_ org apach hedwig protocol pub sub protocol pubsubprotocol messag seq id messageseqid get instanc getdefaultinst protoc insert point protoc_insertion_point builder scope builder_scop hedwig messag instanc defaultinst messag org apach hedwig protocol pub sub protocol pubsubprotocol intern forc init internalforceinit instanc defaultinst init field initfield protoc insert point protoc_insertion_point scope class_scop hedwig messag region specif seq id regionspecificseqid com googl protobuf gener messag generatedmessag us region specif seq id regionspecificseqid builder newbuild construct region specif seq id regionspecificseqid init field initfield region specif seq id regionspecificseqid init noinit region specif seq id regionspecificseqid instanc defaultinst region specif seq id regionspecificseqid get instanc getdefaultinst instanc defaultinst region specif seq id regionspecificseqid get instanc type getdefaultinstancefortyp instanc defaultinst com googl protobuf descriptor descriptor get descriptor getdescriptor org apach hedwig protocol pub sub protocol pubsubprotocol intern hedwig region specif seq id descriptor internal_static_hedwig_regionspecificseqid_descriptor com googl protobuf gener messag generatedmessag field accessor tabl fieldaccessort intern get field accessor tabl internalgetfieldaccessort org apach hedwig protocol pub sub protocol pubsubprotocol intern hedwig region specif seq id field accessor tabl internal_static_hedwig_regionspecificseqid_fieldaccessort requir byte region region field number region_field_numb ha region hasregion com googl protobuf string bytestr region region_ com googl protobuf string bytestr empti ha region hasregion ha region hasregion com googl protobuf string bytestr get region getregion region region_ requir uint64 seq id seqid seqid field number seqid_field_numb ha seq id hasseqid seq id seqid_ 0l ha seq id hasseqid ha seq id hasseqid get seq id getseqid seq id seqid_ init field initfield initi isiniti ha region hasregion ha seq id hasseqid write writeto com googl protobuf code output stream codedoutputstream output java io io except ioexcept get serial size getserializeds ha region hasregion output write byte writebyt get region getregion ha seq id hasseqid output write int64 writeuint64 get seq id getseqid get unknown field getunknownfield write writeto output memoiz serial size memoizedserializeds get serial size getserializeds size memoiz serial size memoizedserializeds size size size ha region hasregion size com googl protobuf code output stream codedoutputstream comput byte size computebytess get region getregion ha seq id hasseqid size com googl protobuf code output stream codedoutputstream comput int64 size computeuint64s get seq id getseqid size get unknown field getunknownfield get serial size getserializeds memoiz serial size memoizedserializeds size size org apach hedwig protocol pub sub protocol pubsubprotocol region specif seq id regionspecificseqid pars from parsefrom com googl protobuf string bytestr data com googl protobuf invalid protocol buffer except invalidprotocolbufferexcept builder newbuild merg from mergefrom data build pars buildpars org apach hedwig protocol pub sub protocol pubsubprotocol region specif seq id regionspecificseqid pars from parsefrom com googl protobuf string bytestr data com googl protobuf extens registri lite extensionregistrylit extens registri extensionregistri com googl protobuf invalid protocol buffer except invalidprotocolbufferexcept builder newbuild merg from mergefrom data extens registri extensionregistri build pars buildpars org apach hedwig protocol pub sub protocol pubsubprotocol region specif seq id regionspecificseqid pars from parsefrom data com googl protobuf invalid protocol buffer except invalidprotocolbufferexcept builder newbuild merg from mergefrom data build pars buildpars org apach hedwig protocol pub sub protocol pubsubprotocol region specif seq id regionspecificseqid pars from parsefrom data com googl protobuf extens registri lite extensionregistrylit extens registri extensionregistri com googl protobuf invalid protocol buffer except invalidprotocolbufferexcept builder newbuild merg from mergefrom data extens registri extensionregistri build pars buildpars org apach hedwig protocol pub sub protocol pubsubprotocol region specif seq id regionspecificseqid pars from parsefrom java io input stream inputstream input java io io except ioexcept builder newbuild merg from mergefrom input build pars buildpars org apach hedwig protocol pub sub protocol pubsubprotocol region specif seq id regionspecificseqid pars from parsefrom java io input stream inputstream input com googl protobuf extens registri lite extensionregistrylit extens registri extensionregistri java io io except ioexcept builder newbuild merg from mergefrom input extens registri extensionregistri build pars buildpars org apach hedwig protocol pub sub protocol pubsubprotocol region specif seq id regionspecificseqid pars delimit from parsedelimitedfrom java io input stream inputstream input java io io except ioexcept builder builder builder newbuild builder merg delimit from mergedelimitedfrom input builder build pars buildpars org apach hedwig protocol pub sub protocol pubsubprotocol region specif seq id regionspecificseqid pars delimit from parsedelimitedfrom java io input stream inputstream input com googl protobuf extens registri lite extensionregistrylit extens registri extensionregistri java io io except ioexcept builder builder builder newbuild builder merg delimit from mergedelimitedfrom input extens registri extensionregistri builder build pars buildpars org apach hedwig protocol pub sub protocol pubsubprotocol region specif seq id regionspecificseqid pars from parsefrom com googl protobuf code input stream codedinputstream input java io io except ioexcept builder newbuild merg from mergefrom input build pars buildpars org apach hedwig protocol pub sub protocol pubsubprotocol region specif seq id regionspecificseqid pars from parsefrom com googl protobuf code input stream codedinputstream input com googl protobuf extens registri lite extensionregistrylit extens registri extensionregistri java io io except ioexcept builder newbuild merg from mergefrom input extens registri extensionregistri build pars buildpars builder builder newbuild builder creat builder builder type newbuilderfortyp builder newbuild builder builder newbuild org apach hedwig protocol pub sub protocol pubsubprotocol region specif seq id regionspecificseqid prototyp builder newbuild merg from mergefrom prototyp builder builder tobuild builder newbuild builder com googl protobuf gener messag generatedmessag builder builder org apach hedwig protocol pub sub protocol pubsubprotocol region specif seq id regionspecificseqid result construct org apach hedwig protocol pub sub protocol pubsubprotocol region specif seq id regionspecificseqid builder newbuild builder builder creat builder builder builder builder result org apach hedwig protocol pub sub protocol pubsubprotocol region specif seq id regionspecificseqid builder org apach hedwig protocol pub sub protocol pubsubprotocol region specif seq id regionspecificseqid intern get result internalgetresult result builder clear result illeg state except illegalstateexcept call clear after build result org apach hedwig protocol pub sub protocol pubsubprotocol region specif seq id regionspecificseqid builder clone creat merg from mergefrom result com googl protobuf descriptor descriptor get descriptor type getdescriptorfortyp org apach hedwig protocol pub sub protocol pubsubprotocol region specif seq id regionspecificseqid get descriptor getdescriptor org apach hedwig protocol pub sub protocol pubsubprotocol region specif seq id regionspecificseqid get instanc type getdefaultinstancefortyp org apach hedwig protocol pub sub protocol pubsubprotocol region specif seq id regionspecificseqid get instanc getdefaultinst initi isiniti result initi isiniti org apach hedwig protocol pub sub protocol pubsubprotocol region specif seq id regionspecificseqid build result initi isiniti uniniti messag except newuninitializedmessageexcept result build partial buildparti org apach hedwig protocol pub sub protocol pubsubprotocol region specif seq id regionspecificseqid build pars buildpars com googl protobuf invalid protocol buffer except invalidprotocolbufferexcept initi isiniti uniniti messag except newuninitializedmessageexcept result invalid protocol buffer except asinvalidprotocolbufferexcept build partial buildparti org apach hedwig protocol pub sub protocol pubsubprotocol region specif seq id regionspecificseqid build partial buildparti result illeg state except illegalstateexcept build ha call builder org apach hedwig protocol pub sub protocol pubsubprotocol region specif seq id regionspecificseqid returnm result result returnm builder merg from mergefrom com googl protobuf messag org apach hedwig protocol pub sub protocol pubsubprotocol region specif seq id regionspecificseqid merg from mergefrom org apach hedwig protocol pub sub protocol pubsubprotocol region specif seq id regionspecificseqid merg from mergefrom builder merg from mergefrom org apach hedwig protocol pub sub protocol pubsubprotocol region specif seq id regionspecificseqid org apach hedwig protocol pub sub protocol pubsubprotocol region specif seq id regionspecificseqid get instanc getdefaultinst ha region hasregion set region setregion get region getregion ha seq id hasseqid set seq id setseqid get seq id getseqid merg unknown field mergeunknownfield get unknown field getunknownfield builder merg from mergefrom com googl protobuf code input stream codedinputstream input com googl protobuf extens registri lite extensionregistrylit extens registri extensionregistri java io io except ioexcept com googl protobuf unknown field set unknownfieldset builder unknown field unknownfield com googl protobuf unknown field set unknownfieldset builder newbuild get unknown field getunknownfield tag input read tag readtag tag set unknown field setunknownfield unknown field unknownfield build pars unknown field parseunknownfield input unknown field unknownfield extens registri extensionregistri tag set unknown field setunknownfield unknown field unknownfield build 10 set region setregion input read byte readbyt 16 set seq id setseqid input read int64 readuint64 requir byte region ha region hasregion result ha region hasregion com googl protobuf string bytestr get region getregion result get region getregion builder set region setregion com googl protobuf string bytestr valu valu pointer except nullpointerexcept result ha region hasregion result region region_ valu builder clear region clearregion result ha region hasregion result region region_ get instanc getdefaultinst get region getregion requir uint64 seq id seqid ha seq id hasseqid result ha seq id hasseqid get seq id getseqid result get seq id getseqid builder set seq id setseqid valu result ha seq id hasseqid result seq id seqid_ valu builder clear seq id clearseqid result ha seq id hasseqid result seq id seqid_ 0l protoc insert point protoc_insertion_point builder scope builder_scop hedwig region specif seq id regionspecificseqid instanc defaultinst region specif seq id regionspecificseqid org apach hedwig protocol pub sub protocol pubsubprotocol intern forc init internalforceinit instanc defaultinst init field initfield protoc insert point protoc_insertion_point scope class_scop hedwig region specif seq id regionspecificseqid messag seq id messageseqid com googl protobuf gener messag generatedmessag us messag seq id messageseqid builder newbuild construct messag seq id messageseqid init field initfield messag seq id messageseqid init noinit messag seq id messageseqid instanc defaultinst messag seq id messageseqid get instanc getdefaultinst instanc defaultinst messag seq id messageseqid get instanc type getdefaultinstancefortyp instanc defaultinst com googl protobuf descriptor descriptor get descriptor getdescriptor org apach hedwig protocol pub sub protocol pubsubprotocol intern hedwig messag seq id descriptor internal_static_hedwig_messageseqid_descriptor com googl protobuf gener messag generatedmessag field accessor tabl fieldaccessort intern get field accessor tabl internalgetfieldaccessort org apach hedwig protocol pub sub protocol pubsubprotocol intern hedwig messag seq id field accessor tabl internal_static_hedwig_messageseqid_fieldaccessort option uint64 local compon localcompon localcompon field number localcomponent_field_numb ha local compon haslocalcompon local compon localcomponent_ 0l ha local compon haslocalcompon ha local compon haslocalcompon get local compon getlocalcompon local compon localcomponent_ repeat hedwig region specif seq id regionspecificseqid remot compon remotecompon remotecompon field number remotecomponents_field_numb java util list org apach hedwig protocol pub sub protocol pubsubprotocol region specif seq id regionspecificseqid remot compon remotecomponents_ java util collect empti list emptylist java util list org apach hedwig protocol pub sub protocol pubsubprotocol region specif seq id regionspecificseqid get remot compon list getremotecomponentslist remot compon remotecomponents_ get remot compon count getremotecomponentscount remot compon remotecomponents_ size org apach hedwig protocol pub sub protocol pubsubprotocol region specif seq id regionspecificseqid get remot compon getremotecompon index remot compon remotecomponents_ get index init field initfield initi isiniti org apach hedwig protocol pub sub protocol pubsubprotocol region specif seq id regionspecificseqid element get remot compon list getremotecomponentslist element initi isiniti write writeto com googl protobuf code output stream codedoutputstream output java io io except ioexcept get serial size getserializeds ha local compon haslocalcompon output write int64 writeuint64 get local compon getlocalcompon org apach hedwig protocol pub sub protocol pubsubprotocol region specif seq id regionspecificseqid element get remot compon list getremotecomponentslist output write messag writemessag element get unknown field getunknownfield write writeto output memoiz serial size memoizedserializeds get serial size getserializeds size memoiz serial size memoizedserializeds size size size ha local compon haslocalcompon size com googl protobuf code output stream codedoutputstream comput int64 size computeuint64s get local compon getlocalcompon org apach hedwig protocol pub sub protocol pubsubprotocol region specif seq id regionspecificseqid element get remot compon list getremotecomponentslist size com googl protobuf code output stream codedoutputstream comput messag size computemessages element size get unknown field getunknownfield get serial size getserializeds memoiz serial size memoizedserializeds size size org apach hedwig protocol pub sub protocol pubsubprotocol messag seq id messageseqid pars from parsefrom com googl protobuf string bytestr data com googl protobuf invalid protocol buffer except invalidprotocolbufferexcept builder newbuild merg from mergefrom data build pars buildpars org apach hedwig protocol pub sub protocol pubsubprotocol messag seq id messageseqid pars from parsefrom com googl protobuf string bytestr data com googl protobuf extens registri lite extensionregistrylit extens registri extensionregistri com googl protobuf invalid protocol buffer except invalidprotocolbufferexcept builder newbuild merg from mergefrom data extens registri extensionregistri build pars buildpars org apach hedwig protocol pub sub protocol pubsubprotocol messag seq id messageseqid pars from parsefrom data com googl protobuf invalid protocol buffer except invalidprotocolbufferexcept builder newbuild merg from mergefrom data build pars buildpars org apach hedwig protocol pub sub protocol pubsubprotocol messag seq id messageseqid pars from parsefrom data com googl protobuf extens registri lite extensionregistrylit extens registri extensionregistri com googl protobuf invalid protocol buffer except invalidprotocolbufferexcept builder newbuild merg from mergefrom data extens registri extensionregistri build pars buildpars org apach hedwig protocol pub sub protocol pubsubprotocol messag seq id messageseqid pars from parsefrom java io input stream inputstream input java io io except ioexcept builder newbuild merg from mergefrom input build pars buildpars org apach hedwig protocol pub sub protocol pubsubprotocol messag seq id messageseqid pars from parsefrom java io input stream inputstream input com googl protobuf extens registri lite extensionregistrylit extens registri extensionregistri java io io except ioexcept builder newbuild merg from mergefrom input extens registri extensionregistri build pars buildpars org apach hedwig protocol pub sub protocol pubsubprotocol messag seq id messageseqid pars delimit from parsedelimitedfrom java io input stream inputstream input java io io except ioexcept builder builder builder newbuild builder merg delimit from mergedelimitedfrom input builder build pars buildpars org apach hedwig protocol pub sub protocol pubsubprotocol messag seq id messageseqid pars delimit from parsedelimitedfrom java io input stream inputstream input com googl protobuf extens registri lite extensionregistrylit extens registri extensionregistri java io io except ioexcept builder builder builder newbuild builder merg delimit from mergedelimitedfrom input extens registri extensionregistri builder build pars buildpars org apach hedwig protocol pub sub protocol pubsubprotocol messag seq id messageseqid pars from parsefrom com googl protobuf code input stream codedinputstream input java io io except ioexcept builder newbuild merg from mergefrom input build pars buildpars org apach hedwig protocol pub sub protocol pubsubprotocol messag seq id messageseqid pars from parsefrom com googl protobuf code input stream codedinputstream input com googl protobuf extens registri lite extensionregistrylit extens registri extensionregistri java io io except ioexcept builder newbuild merg from mergefrom input extens registri extensionregistri build pars buildpars builder builder newbuild builder creat builder builder type newbuilderfortyp builder newbuild builder builder newbuild org apach hedwig protocol pub sub protocol pubsubprotocol messag seq id messageseqid prototyp builder newbuild merg from mergefrom prototyp builder builder tobuild builder newbuild builder com googl protobuf gener messag generatedmessag builder builder org apach hedwig protocol pub sub protocol pubsubprotocol messag seq id messageseqid result construct org apach hedwig protocol pub sub protocol pubsubprotocol messag seq id messageseqid builder newbuild builder builder creat builder builder builder builder result org apach hedwig protocol pub sub protocol pubsubprotocol messag seq id messageseqid builder org apach hedwig protocol pub sub protocol pubsubprotocol messag seq id messageseqid intern get result internalgetresult result builder clear result illeg state except illegalstateexcept call clear after build result org apach hedwig protocol pub sub protocol pubsubprotocol messag seq id messageseqid builder clone creat merg from mergefrom result com googl protobuf descriptor descriptor get descriptor type getdescriptorfortyp org apach hedwig protocol pub sub protocol pubsubprotocol messag seq id messageseqid get descriptor getdescriptor org apach hedwig protocol pub sub protocol pubsubprotocol messag seq id messageseqid get instanc type getdefaultinstancefortyp org apach hedwig protocol pub sub protocol pubsubprotocol messag seq id messageseqid get instanc getdefaultinst initi isiniti result initi isiniti org apach hedwig protocol pub sub protocol pubsubprotocol messag seq id messageseqid build result initi isiniti uniniti messag except newuninitializedmessageexcept result build partial buildparti org apach hedwig protocol pub sub protocol pubsubprotocol messag seq id messageseqid build pars buildpars com googl protobuf invalid protocol buffer except invalidprotocolbufferexcept initi isiniti uniniti messag except newuninitializedmessageexcept result invalid protocol buffer except asinvalidprotocolbufferexcept build partial buildparti org apach hedwig protocol pub sub protocol pubsubprotocol messag seq id messageseqid build partial buildparti result illeg state except illegalstateexcept build ha call builder result remot compon remotecomponents_ java util collect empti list empty_list result remot compon remotecomponents_ java util collect unmodifi list unmodifiablelist result remot compon remotecomponents_ org apach hedwig protocol pub sub protocol pubsubprotocol messag seq id messageseqid returnm result result returnm builder merg from mergefrom com googl protobuf messag org apach hedwig protocol pub sub protocol pubsubprotocol messag seq id messageseqid merg from mergefrom org apach hedwig protocol pub sub protocol pubsubprotocol messag seq id messageseqid merg from mergefrom builder merg from mergefrom org apach hedwig protocol pub sub protocol pubsubprotocol messag seq id messageseqid org apach hedwig protocol pub sub protocol pubsubprotocol messag seq id messageseqid get instanc getdefaultinst ha local compon haslocalcompon set local compon setlocalcompon get local compon getlocalcompon remot compon remotecomponents_ empti isempti result remot compon remotecomponents_ empti isempti result remot compon remotecomponents_ java util arrai list arraylist org apach hedwig protocol pub sub protocol pubsubprotocol region specif seq id regionspecificseqid result remot compon remotecomponents_ add addal remot compon remotecomponents_ merg unknown field mergeunknownfield get unknown field getunknownfield builder merg from mergefrom com googl protobuf code input stream codedinputstream input com googl protobuf extens registri lite extensionregistrylit extens registri extensionregistri java io io except ioexcept com googl protobuf unknown field set unknownfieldset builder unknown field unknownfield com googl protobuf unknown field set unknownfieldset builder newbuild get unknown field getunknownfield tag input read tag readtag tag set unknown field setunknownfield unknown field unknownfield build pars unknown field parseunknownfield input unknown field unknownfield extens registri extensionregistri tag set unknown field setunknownfield unknown field unknownfield build set local compon setlocalcompon input read int64 readuint64 18 org apach hedwig protocol pub sub protocol pubsubprotocol region specif seq id regionspecificseqid builder sub builder subbuild org apach hedwig protocol pub sub protocol pubsubprotocol region specif seq id regionspecificseqid builder newbuild input read messag readmessag sub builder subbuild extens registri extensionregistri add remot compon addremotecompon sub builder subbuild build partial buildparti option uint64 local compon localcompon ha local compon haslocalcompon result ha local compon haslocalcompon get local compon getlocalcompon result get local compon getlocalcompon builder set local compon setlocalcompon valu result ha local compon haslocalcompon result local compon localcomponent_ valu builder clear local compon clearlocalcompon result ha local compon haslocalcompon result local compon localcomponent_ 0l repeat hedwig region specif seq id regionspecificseqid remot compon remotecompon java util list org apach hedwig protocol pub sub protocol pubsubprotocol region specif seq id regionspecificseqid get remot compon list getremotecomponentslist java util collect unmodifi list unmodifiablelist result remot compon remotecomponents_ get remot compon count getremotecomponentscount result get remot compon count getremotecomponentscount org apach hedwig protocol pub sub protocol pubsubprotocol region specif seq id regionspecificseqid get remot compon getremotecompon index result get remot compon getremotecompon index builder set remot compon setremotecompon index org apach hedwig protocol pub sub protocol pubsubprotocol region specif seq id regionspecificseqid valu valu pointer except nullpointerexcept result remot compon remotecomponents_ set index valu builder set remot compon setremotecompon index org apach hedwig protocol pub sub protocol pubsubprotocol region specif seq id regionspecificseqid builder builder valu builderforvalu result remot compon remotecomponents_ set index builder valu builderforvalu build builder add remot compon addremotecompon org apach hedwig protocol pub sub protocol pubsubprotocol region specif seq id regionspecificseqid valu valu pointer except nullpointerexcept result remot compon remotecomponents_ empti isempti result remot compon remotecomponents_ java util arrai list arraylist org apach hedwig protocol pub sub protocol pubsubprotocol region specif seq id regionspecificseqid result remot compon remotecomponents_ add valu builder add remot compon addremotecompon org apach hedwig protocol pub sub protocol pubsubprotocol region specif seq id regionspecificseqid builder builder valu builderforvalu result remot compon remotecomponents_ empti isempti result remot compon remotecomponents_ java util arrai list arraylist org apach hedwig protocol pub sub protocol pubsubprotocol region specif seq id regionspecificseqid result remot compon remotecomponents_ add builder valu builderforvalu build builder add remot compon addallremotecompon java lang iter org apach hedwig protocol pub sub protocol pubsubprotocol region specif seq id regionspecificseqid valu result remot compon remotecomponents_ empti isempti result remot compon remotecomponents_ java util arrai list arraylist org apach hedwig protocol pub sub protocol pubsubprotocol region specif seq id regionspecificseqid add addal valu result remot compon remotecomponents_ builder clear remot compon clearremotecompon result remot compon remotecomponents_ java util collect empti list emptylist protoc insert point protoc_insertion_point builder scope builder_scop hedwig messag seq id messageseqid instanc defaultinst messag seq id messageseqid org apach hedwig protocol pub sub protocol pubsubprotocol intern forc init internalforceinit instanc defaultinst init field initfield protoc insert point protoc_insertion_point scope class_scop hedwig messag seq id messageseqid pub sub request pubsubrequest com googl protobuf gener messag generatedmessag us pub sub request pubsubrequest builder newbuild construct pub sub request pubsubrequest init field initfield pub sub request pubsubrequest init noinit pub sub request pubsubrequest instanc defaultinst pub sub request pubsubrequest get instanc getdefaultinst instanc defaultinst pub sub request pubsubrequest get instanc type getdefaultinstancefortyp instanc defaultinst com googl protobuf descriptor descriptor get descriptor getdescriptor org apach hedwig protocol pub sub protocol pubsubprotocol intern hedwig pub sub request descriptor internal_static_hedwig_pubsubrequest_descriptor com googl protobuf gener messag generatedmessag field accessor tabl fieldaccessort intern get field accessor tabl internalgetfieldaccessort org apach hedwig protocol pub sub protocol pubsubprotocol intern hedwig pub sub request field accessor tabl internal_static_hedwig_pubsubrequest_fieldaccessort requir hedwig protocol version protocolvers protocol version protocolvers protocolvers field number protocolversion_field_numb ha protocol version hasprotocolvers org apach hedwig protocol pub sub protocol pubsubprotocol protocol version protocolvers protocol version protocolversion_ ha protocol version hasprotocolvers ha protocol version hasprotocolvers org apach hedwig protocol pub sub protocol pubsubprotocol protocol version protocolvers get protocol version getprotocolvers protocol version protocolversion_ requir hedwig oper type operationtyp type type field number type_field_numb ha type hastyp org apach hedwig protocol pub sub protocol pubsubprotocol oper type operationtyp type type_ ha type hastyp ha type hastyp org apach hedwig protocol pub sub protocol pubsubprotocol oper type operationtyp get type gettyp type type_ repeat byte server triedserv triedserv field number triedservers_field_numb java util list com googl protobuf string bytestr server triedservers_ java util collect empti list emptylist java util list com googl protobuf string bytestr get server list gettriedserverslist server triedservers_ get server count gettriedserverscount server triedservers_ size com googl protobuf string bytestr get server gettriedserv index server triedservers_ get index requir uint64 txn id txnid txnid field number txnid_field_numb ha txn id hastxnid txn id txnid_ 0l ha txn id hastxnid ha txn id hastxnid get txn id gettxnid txn id txnid_ option claim shouldclaim shouldclaim field number shouldclaim_field_numb ha claim hasshouldclaim claim shouldclaim_ ha claim hasshouldclaim ha claim hasshouldclaim get claim getshouldclaim claim shouldclaim_ requir byte topic topic field number topic_field_numb ha topic hastop com googl protobuf string bytestr topic topic_ com googl protobuf string bytestr empti ha topic hastop ha topic hastop com googl protobuf string bytestr get topic gettop topic topic_ option hedwig publish request publishrequest publish request publishrequest 52 publishrequest field number publishrequest_field_numb 52 ha publish request haspublishrequest org apach hedwig protocol pub sub protocol pubsubprotocol publish request publishrequest publish request publishrequest_ ha publish request haspublishrequest ha publish request haspublishrequest org apach hedwig protocol pub sub protocol pubsubprotocol publish request publishrequest get publish request getpublishrequest publish request publishrequest_ option hedwig subscrib request subscriberequest subscrib request subscriberequest 53 subscriberequest field number subscriberequest_field_numb 53 ha subscrib request hassubscriberequest org apach hedwig protocol pub sub protocol pubsubprotocol subscrib request subscriberequest subscrib request subscriberequest_ ha subscrib request hassubscriberequest ha subscrib request hassubscriberequest org apach hedwig protocol pub sub protocol pubsubprotocol subscrib request subscriberequest get subscrib request getsubscriberequest subscrib request subscriberequest_ option hedwig consum request consumerequest consum request consumerequest 54 consumerequest field number consumerequest_field_numb 54 ha consum request hasconsumerequest org apach hedwig protocol pub sub protocol pubsubprotocol consum request consumerequest consum request consumerequest_ ha consum request hasconsumerequest ha consum request hasconsumerequest org apach hedwig protocol pub sub protocol pubsubprotocol consum request consumerequest get consum request getconsumerequest consum request consumerequest_ option hedwig unsubscrib request unsubscriberequest unsubscrib request unsubscriberequest 55 unsubscriberequest field number unsubscriberequest_field_numb 55 ha unsubscrib request hasunsubscriberequest org apach hedwig protocol pub sub protocol pubsubprotocol unsubscrib request unsubscriberequest unsubscrib request unsubscriberequest_ ha unsubscrib request hasunsubscriberequest ha unsubscrib request hasunsubscriberequest org apach hedwig protocol pub sub protocol pubsubprotocol unsubscrib request unsubscriberequest get unsubscrib request getunsubscriberequest unsubscrib request unsubscriberequest_ option hedwig stop deliveri request stopdeliveryrequest stop deliveri request stopdeliveryrequest 56 stopdeliveryrequest field number stopdeliveryrequest_field_numb 56 ha stop deliveri request hasstopdeliveryrequest org apach hedwig protocol pub sub protocol pubsubprotocol stop deliveri request stopdeliveryrequest stop deliveri request stopdeliveryrequest_ ha stop deliveri request hasstopdeliveryrequest ha stop deliveri request hasstopdeliveryrequest org apach hedwig protocol pub sub protocol pubsubprotocol stop deliveri request stopdeliveryrequest get stop deliveri request getstopdeliveryrequest stop deliveri request stopdeliveryrequest_ option hedwig start deliveri request startdeliveryrequest start deliveri request startdeliveryrequest 57 startdeliveryrequest field number startdeliveryrequest_field_numb 57 ha start deliveri request hasstartdeliveryrequest org apach hedwig protocol pub sub protocol pubsubprotocol start deliveri request startdeliveryrequest start deliveri request startdeliveryrequest_ ha start deliveri request hasstartdeliveryrequest ha start deliveri request hasstartdeliveryrequest org apach hedwig protocol pub sub protocol pubsubprotocol start deliveri request startdeliveryrequest get start deliveri request getstartdeliveryrequest start deliveri request startdeliveryrequest_ init field initfield protocol version protocolversion_ org apach hedwig protocol pub sub protocol pubsubprotocol protocol version protocolvers version on version_on type type_ org apach hedwig protocol pub sub protocol pubsubprotocol oper type operationtyp publish publish request publishrequest_ org apach hedwig protocol pub sub protocol pubsubprotocol publish request publishrequest get instanc getdefaultinst subscrib request subscriberequest_ org apach hedwig protocol pub sub protocol pubsubprotocol subscrib request subscriberequest get instanc getdefaultinst consum request consumerequest_ org apach hedwig protocol pub sub protocol pubsubprotocol consum request consumerequest get instanc getdefaultinst unsubscrib request unsubscriberequest_ org apach hedwig protocol pub sub protocol pubsubprotocol unsubscrib request unsubscriberequest get instanc getdefaultinst stop deliveri request stopdeliveryrequest_ org apach hedwig protocol pub sub protocol pubsubprotocol stop deliveri request stopdeliveryrequest get instanc getdefaultinst start deliveri request startdeliveryrequest_ org apach hedwig protocol pub sub protocol pubsubprotocol start deliveri request startdeliveryrequest get instanc getdefaultinst initi isiniti ha protocol version hasprotocolvers ha type hastyp ha txn id hastxnid ha topic hastop ha publish request haspublishrequest get publish request getpublishrequest initi isiniti ha subscrib request hassubscriberequest get subscrib request getsubscriberequest initi isiniti ha consum request hasconsumerequest get consum request getconsumerequest initi isiniti ha unsubscrib request hasunsubscriberequest get unsubscrib request getunsubscriberequest initi isiniti ha stop deliveri request hasstopdeliveryrequest get stop deliveri request getstopdeliveryrequest initi isiniti ha start deliveri request hasstartdeliveryrequest get start deliveri request getstartdeliveryrequest initi isiniti write writeto com googl protobuf code output stream codedoutputstream output java io io except ioexcept get serial size getserializeds ha protocol version hasprotocolvers output write writeenum get protocol version getprotocolvers get number getnumb ha type hastyp output write writeenum get type gettyp get number getnumb com googl protobuf string bytestr element get server list gettriedserverslist output write byte writebyt element ha txn id hastxnid output write int64 writeuint64 get txn id gettxnid ha claim hasshouldclaim output write writebool get claim getshouldclaim ha topic hastop output write byte writebyt get topic gettop ha publish request haspublishrequest output write messag writemessag 52 get publish request getpublishrequest ha subscrib request hassubscriberequest output write messag writemessag 53 get subscrib request getsubscriberequest ha consum request hasconsumerequest output write messag writemessag 54 get consum request getconsumerequest ha unsubscrib request hasunsubscriberequest output write messag writemessag 55 get unsubscrib request getunsubscriberequest ha stop deliveri request hasstopdeliveryrequest output write messag writemessag 56 get stop deliveri request getstopdeliveryrequest ha start deliveri request hasstartdeliveryrequest output write messag writemessag 57 get start deliveri request getstartdeliveryrequest get unknown field getunknownfield write writeto output memoiz serial size memoizedserializeds get serial size getserializeds size memoiz serial size memoizedserializeds size size size ha protocol version hasprotocolvers size com googl protobuf code output stream codedoutputstream comput size computeenums get protocol version getprotocolvers get number getnumb ha type hastyp size com googl protobuf code output stream codedoutputstream comput size computeenums get type gettyp get number getnumb data size datas com googl protobuf string bytestr element get server list gettriedserverslist data size datas com googl protobuf code output stream codedoutputstream comput byte size tag computebytessizenotag element size data size datas size get server list gettriedserverslist size ha txn id hastxnid size com googl protobuf code output stream codedoutputstream comput int64 size computeuint64s get txn id gettxnid ha claim hasshouldclaim size com googl protobuf code output stream codedoutputstream comput size computebools get claim getshouldclaim ha topic hastop size com googl protobuf code output stream codedoutputstream comput byte size computebytess get topic gettop ha publish request haspublishrequest size com googl protobuf code output stream codedoutputstream comput messag size computemessages 52 get publish request getpublishrequest ha subscrib request hassubscriberequest size com googl protobuf code output stream codedoutputstream comput messag size computemessages 53 get subscrib request getsubscriberequest ha consum request hasconsumerequest size com googl protobuf code output stream codedoutputstream comput messag size computemessages 54 get consum request getconsumerequest ha unsubscrib request hasunsubscriberequest size com googl protobuf code output stream codedoutputstream comput messag size computemessages 55 get unsubscrib request getunsubscriberequest ha stop deliveri request hasstopdeliveryrequest size com googl protobuf code output stream codedoutputstream comput messag size computemessages 56 get stop deliveri request getstopdeliveryrequest ha start deliveri request hasstartdeliveryrequest size com googl protobuf code output stream codedoutputstream comput messag size computemessages 57 get start deliveri request getstartdeliveryrequest size get unknown field getunknownfield get serial size getserializeds memoiz serial size memoizedserializeds size size org apach hedwig protocol pub sub protocol pubsubprotocol pub sub request pubsubrequest pars from parsefrom com googl protobuf string bytestr data com googl protobuf invalid protocol buffer except invalidprotocolbufferexcept builder newbuild merg from mergefrom data build pars buildpars org apach hedwig protocol pub sub protocol pubsubprotocol pub sub request pubsubrequest pars from parsefrom com googl protobuf string bytestr data com googl protobuf extens registri lite extensionregistrylit extens registri extensionregistri com googl protobuf invalid protocol buffer except invalidprotocolbufferexcept builder newbuild merg from mergefrom data extens registri extensionregistri build pars buildpars org apach hedwig protocol pub sub protocol pubsubprotocol pub sub request pubsubrequest pars from parsefrom data com googl protobuf invalid protocol buffer except invalidprotocolbufferexcept builder newbuild merg from mergefrom data build pars buildpars org apach hedwig protocol pub sub protocol pubsubprotocol pub sub request pubsubrequest pars from parsefrom data com googl protobuf extens registri lite extensionregistrylit extens registri extensionregistri com googl protobuf invalid protocol buffer except invalidprotocolbufferexcept builder newbuild merg from mergefrom data extens registri extensionregistri build pars buildpars org apach hedwig protocol pub sub protocol pubsubprotocol pub sub request pubsubrequest pars from parsefrom java io input stream inputstream input java io io except ioexcept builder newbuild merg from mergefrom input build pars buildpars org apach hedwig protocol pub sub protocol pubsubprotocol pub sub request pubsubrequest pars from parsefrom java io input stream inputstream input com googl protobuf extens registri lite extensionregistrylit extens registri extensionregistri java io io except ioexcept builder newbuild merg from mergefrom input extens registri extensionregistri build pars buildpars org apach hedwig protocol pub sub protocol pubsubprotocol pub sub request pubsubrequest pars delimit from parsedelimitedfrom java io input stream inputstream input java io io except ioexcept builder builder builder newbuild builder merg delimit from mergedelimitedfrom input builder build pars buildpars org apach hedwig protocol pub sub protocol pubsubprotocol pub sub request pubsubrequest pars delimit from parsedelimitedfrom java io input stream inputstream input com googl protobuf extens registri lite extensionregistrylit extens registri extensionregistri java io io except ioexcept builder builder builder newbuild builder merg delimit from mergedelimitedfrom input extens registri extensionregistri builder build pars buildpars org apach hedwig protocol pub sub protocol pubsubprotocol pub sub request pubsubrequest pars from parsefrom com googl protobuf code input stream codedinputstream input java io io except ioexcept builder newbuild merg from mergefrom input build pars buildpars org apach hedwig protocol pub sub protocol pubsubprotocol pub sub request pubsubrequest pars from parsefrom com googl protobuf code input stream codedinputstream input com googl protobuf extens registri lite extensionregistrylit extens registri extensionregistri java io io except ioexcept builder newbuild merg from mergefrom input extens registri extensionregistri build pars buildpars builder builder newbuild builder creat builder builder type newbuilderfortyp builder newbuild builder builder newbuild org apach hedwig protocol pub sub protocol pubsubprotocol pub sub request pubsubrequest prototyp builder newbuild merg from mergefrom prototyp builder builder tobuild builder newbuild builder com googl protobuf gener messag generatedmessag builder builder org apach hedwig protocol pub sub protocol pubsubprotocol pub sub request pubsubrequest result construct org apach hedwig protocol pub sub protocol pubsubprotocol pub sub request pubsubrequest builder newbuild builder builder creat builder builder builder builder result org apach hedwig protocol pub sub protocol pubsubprotocol pub sub request pubsubrequest builder org apach hedwig protocol pub sub protocol pubsubprotocol pub sub request pubsubrequest intern get result internalgetresult result builder clear result illeg state except illegalstateexcept call clear after build result org apach hedwig protocol pub sub protocol pubsubprotocol pub sub request pubsubrequest builder clone creat merg from mergefrom result com googl protobuf descriptor descriptor get descriptor type getdescriptorfortyp org apach hedwig protocol pub sub protocol pubsubprotocol pub sub request pubsubrequest get descriptor getdescriptor org apach hedwig protocol pub sub protocol pubsubprotocol pub sub request pubsubrequest get instanc type getdefaultinstancefortyp org apach hedwig protocol pub sub protocol pubsubprotocol pub sub request pubsubrequest get instanc getdefaultinst initi isiniti result initi isiniti org apach hedwig protocol pub sub protocol pubsubprotocol pub sub request pubsubrequest build result initi isiniti uniniti messag except newuninitializedmessageexcept result build partial buildparti org apach hedwig protocol pub sub protocol pubsubprotocol pub sub request pubsubrequest build pars buildpars com googl protobuf invalid protocol buffer except invalidprotocolbufferexcept initi isiniti uniniti messag except newuninitializedmessageexcept result invalid protocol buffer except asinvalidprotocolbufferexcept build partial buildparti org apach hedwig protocol pub sub protocol pubsubprotocol pub sub request pubsubrequest build partial buildparti result illeg state except illegalstateexcept build ha call builder result server triedservers_ java util collect empti list empty_list result server triedservers_ java util collect unmodifi list unmodifiablelist result server triedservers_ org apach hedwig protocol pub sub protocol pubsubprotocol pub sub request pubsubrequest returnm result result returnm builder merg from mergefrom com googl protobuf messag org apach hedwig protocol pub sub protocol pubsubprotocol pub sub request pubsubrequest merg from mergefrom org apach hedwig protocol pub sub protocol pubsubprotocol pub sub request pubsubrequest merg from mergefrom builder merg from mergefrom org apach hedwig protocol pub sub protocol pubsubprotocol pub sub request pubsubrequest org apach hedwig protocol pub sub protocol pubsubprotocol pub sub request pubsubrequest get instanc getdefaultinst ha protocol version hasprotocolvers set protocol version setprotocolvers get protocol version getprotocolvers ha type hastyp set type settyp get type gettyp server triedservers_ empti isempti result server triedservers_ empti isempti result server triedservers_ java util arrai list arraylist com googl protobuf string bytestr result server triedservers_ add addal server triedservers_ ha txn id hastxnid set txn id settxnid get txn id gettxnid ha claim hasshouldclaim set claim setshouldclaim get claim getshouldclaim ha topic hastop set topic settop get topic gettop ha publish request haspublishrequest merg publish request mergepublishrequest get publish request getpublishrequest ha subscrib request hassubscriberequest merg subscrib request mergesubscriberequest get subscrib request getsubscriberequest ha consum request hasconsumerequest merg consum request mergeconsumerequest get consum request getconsumerequest ha unsubscrib request hasunsubscriberequest merg unsubscrib request mergeunsubscriberequest get unsubscrib request getunsubscriberequest ha stop deliveri request hasstopdeliveryrequest merg stop deliveri request mergestopdeliveryrequest get stop deliveri request getstopdeliveryrequest ha start deliveri request hasstartdeliveryrequest merg start deliveri request mergestartdeliveryrequest get start deliveri request getstartdeliveryrequest merg unknown field mergeunknownfield get unknown field getunknownfield builder merg from mergefrom com googl protobuf code input stream codedinputstream input com googl protobuf extens registri lite extensionregistrylit extens registri extensionregistri java io io except ioexcept com googl protobuf unknown field set unknownfieldset builder unknown field unknownfield com googl protobuf unknown field set unknownfieldset builder newbuild get unknown field getunknownfield tag input read tag readtag tag set unknown field setunknownfield unknown field unknownfield build pars unknown field parseunknownfield input unknown field unknownfield extens registri extensionregistri tag set unknown field setunknownfield unknown field unknownfield build raw valu rawvalu input read readenum org apach hedwig protocol pub sub protocol pubsubprotocol protocol version protocolvers valu org apach hedwig protocol pub sub protocol pubsubprotocol protocol version protocolvers valu valueof raw valu rawvalu valu unknown field unknownfield merg varint field mergevarintfield raw valu rawvalu set protocol version setprotocolvers valu 16 raw valu rawvalu input read readenum org apach hedwig protocol pub sub protocol pubsubprotocol oper type operationtyp valu org apach hedwig protocol pub sub protocol pubsubprotocol oper type operationtyp valu valueof raw valu rawvalu valu unknown field unknownfield merg varint field mergevarintfield raw valu rawvalu set type settyp valu 26 add server addtriedserv input read byte readbyt 32 set txn id settxnid input read int64 readuint64 40 set claim setshouldclaim input read readbool 50 set topic settop input read byte readbyt 418 org apach hedwig protocol pub sub protocol pubsubprotocol publish request publishrequest builder sub builder subbuild org apach hedwig protocol pub sub protocol pubsubprotocol publish request publishrequest builder newbuild ha publish request haspublishrequest sub builder subbuild merg from mergefrom get publish request getpublishrequest input read messag readmessag sub builder subbuild extens registri extensionregistri set publish request setpublishrequest sub builder subbuild build partial buildparti 426 org apach hedwig protocol pub sub protocol pubsubprotocol subscrib request subscriberequest builder sub builder subbuild org apach hedwig protocol pub sub protocol pubsubprotocol subscrib request subscriberequest builder newbuild ha subscrib request hassubscriberequest sub builder subbuild merg from mergefrom get subscrib request getsubscriberequest input read messag readmessag sub builder subbuild extens registri extensionregistri set subscrib request setsubscriberequest sub builder subbuild build partial buildparti 434 org apach hedwig protocol pub sub protocol pubsubprotocol consum request consumerequest builder sub builder subbuild org apach hedwig protocol pub sub protocol pubsubprotocol consum request consumerequest builder newbuild ha consum request hasconsumerequest sub builder subbuild merg from mergefrom get consum request getconsumerequest input read messag readmessag sub builder subbuild extens registri extensionregistri set consum request setconsumerequest sub builder subbuild build partial buildparti 442 org apach hedwig protocol pub sub protocol pubsubprotocol unsubscrib request unsubscriberequest builder sub builder subbuild org apach hedwig protocol pub sub protocol pubsubprotocol unsubscrib request unsubscriberequest builder newbuild ha unsubscrib request hasunsubscriberequest sub builder subbuild merg from mergefrom get unsubscrib request getunsubscriberequest input read messag readmessag sub builder subbuild extens registri extensionregistri set unsubscrib request setunsubscriberequest sub builder subbuild build partial buildparti 450 org apach hedwig protocol pub sub protocol pubsubprotocol stop deliveri request stopdeliveryrequest builder sub builder subbuild org apach hedwig protocol pub sub protocol pubsubprotocol stop deliveri request stopdeliveryrequest builder newbuild ha stop deliveri request hasstopdeliveryrequest sub builder subbuild merg from mergefrom get stop deliveri request getstopdeliveryrequest input read messag readmessag sub builder subbuild extens registri extensionregistri set stop deliveri request setstopdeliveryrequest sub builder subbuild build partial buildparti 458 org apach hedwig protocol pub sub protocol pubsubprotocol start deliveri request startdeliveryrequest builder sub builder subbuild org apach hedwig protocol pub sub protocol pubsubprotocol start deliveri request startdeliveryrequest builder newbuild ha start deliveri request hasstartdeliveryrequest sub builder subbuild merg from mergefrom get start deliveri request getstartdeliveryrequest input read messag readmessag sub builder subbuild extens registri extensionregistri set start deliveri request setstartdeliveryrequest sub builder subbuild build partial buildparti requir hedwig protocol version protocolvers protocol version protocolvers ha protocol version hasprotocolvers result ha protocol version hasprotocolvers org apach hedwig protocol pub sub protocol pubsubprotocol protocol version protocolvers get protocol version getprotocolvers result get protocol version getprotocolvers builder set protocol version setprotocolvers org apach hedwig protocol pub sub protocol pubsubprotocol protocol version protocolvers valu valu pointer except nullpointerexcept result ha protocol version hasprotocolvers result protocol version protocolversion_ valu builder clear protocol version clearprotocolvers result ha protocol version hasprotocolvers result protocol version protocolversion_ org apach hedwig protocol pub sub protocol pubsubprotocol protocol version protocolvers version on version_on requir hedwig oper type operationtyp type ha type hastyp result ha type hastyp org apach hedwig protocol pub sub protocol pubsubprotocol oper type operationtyp get type gettyp result get type gettyp builder set type settyp org apach hedwig protocol pub sub protocol pubsubprotocol oper type operationtyp valu valu pointer except nullpointerexcept result ha type hastyp result type type_ valu builder clear type cleartyp result ha type hastyp result type type_ org apach hedwig protocol pub sub protocol pubsubprotocol oper type operationtyp publish repeat byte server triedserv java util list com googl protobuf string bytestr get server list gettriedserverslist java util collect unmodifi list unmodifiablelist result server triedservers_ get server count gettriedserverscount result get server count gettriedserverscount com googl protobuf string bytestr get server gettriedserv index result get server gettriedserv index builder set server settriedserv index com googl protobuf string bytestr valu valu pointer except nullpointerexcept result server triedservers_ set index valu builder add server addtriedserv com googl protobuf string bytestr valu valu pointer except nullpointerexcept result server triedservers_ empti isempti result server triedservers_ java util arrai list arraylist com googl protobuf string bytestr result server triedservers_ add valu builder add server addalltriedserv java lang iter com googl protobuf string bytestr valu result server triedservers_ empti isempti result server triedservers_ java util arrai list arraylist com googl protobuf string bytestr add addal valu result server triedservers_ builder clear server cleartriedserv result server triedservers_ java util collect empti list emptylist requir uint64 txn id txnid ha txn id hastxnid result ha txn id hastxnid get txn id gettxnid result get txn id gettxnid builder set txn id settxnid valu result ha txn id hastxnid result txn id txnid_ valu builder clear txn id cleartxnid result ha txn id hastxnid result txn id txnid_ 0l option claim shouldclaim ha claim hasshouldclaim result ha claim hasshouldclaim get claim getshouldclaim result get claim getshouldclaim builder set claim setshouldclaim valu result ha claim hasshouldclaim result claim shouldclaim_ valu builder clear claim clearshouldclaim result ha claim hasshouldclaim result claim shouldclaim_ requir byte topic ha topic hastop result ha topic hastop com googl protobuf string bytestr get topic gettop result get topic gettop builder set topic settop com googl protobuf string bytestr valu valu pointer except nullpointerexcept result ha topic hastop result topic topic_ valu builder clear topic cleartop result ha topic hastop result topic topic_ get instanc getdefaultinst get topic gettop option hedwig publish request publishrequest publish request publishrequest 52 ha publish request haspublishrequest result ha publish request haspublishrequest org apach hedwig protocol pub sub protocol pubsubprotocol publish request publishrequest get publish request getpublishrequest result get publish request getpublishrequest builder set publish request setpublishrequest org apach hedwig protocol pub sub protocol pubsubprotocol publish request publishrequest valu valu pointer except nullpointerexcept result ha publish request haspublishrequest result publish request publishrequest_ valu builder set publish request setpublishrequest org apach hedwig protocol pub sub protocol pubsubprotocol publish request publishrequest builder builder valu builderforvalu result ha publish request haspublishrequest result publish request publishrequest_ builder valu builderforvalu build builder merg publish request mergepublishrequest org apach hedwig protocol pub sub protocol pubsubprotocol publish request publishrequest valu result ha publish request haspublishrequest result publish request publishrequest_ org apach hedwig protocol pub sub protocol pubsubprotocol publish request publishrequest get instanc getdefaultinst result publish request publishrequest_ org apach hedwig protocol pub sub protocol pubsubprotocol publish request publishrequest builder newbuild result publish request publishrequest_ merg from mergefrom valu build partial buildparti result publish request publishrequest_ valu result ha publish request haspublishrequest builder clear publish request clearpublishrequest result ha publish request haspublishrequest result publish request publishrequest_ org apach hedwig protocol pub sub protocol pubsubprotocol publish request publishrequest get instanc getdefaultinst option hedwig subscrib request subscriberequest subscrib request subscriberequest 53 ha subscrib request hassubscriberequest result ha subscrib request hassubscriberequest org apach hedwig protocol pub sub protocol pubsubprotocol subscrib request subscriberequest get subscrib request getsubscriberequest result get subscrib request getsubscriberequest builder set subscrib request setsubscriberequest org apach hedwig protocol pub sub protocol pubsubprotocol subscrib request subscriberequest valu valu pointer except nullpointerexcept result ha subscrib request hassubscriberequest result subscrib request subscriberequest_ valu builder set subscrib request setsubscriberequest org apach hedwig protocol pub sub protocol pubsubprotocol subscrib request subscriberequest builder builder valu builderforvalu result ha subscrib request hassubscriberequest result subscrib request subscriberequest_ builder valu builderforvalu build builder merg subscrib request mergesubscriberequest org apach hedwig protocol pub sub protocol pubsubprotocol subscrib request subscriberequest valu result ha subscrib request hassubscriberequest result subscrib request subscriberequest_ org apach hedwig protocol pub sub protocol pubsubprotocol subscrib request subscriberequest get instanc getdefaultinst result subscrib request subscriberequest_ org apach hedwig protocol pub sub protocol pubsubprotocol subscrib request subscriberequest builder newbuild result subscrib request subscriberequest_ merg from mergefrom valu build partial buildparti result subscrib request subscriberequest_ valu result ha subscrib request hassubscriberequest builder clear subscrib request clearsubscriberequest result ha subscrib request hassubscriberequest result subscrib request subscriberequest_ org apach hedwig protocol pub sub protocol pubsubprotocol subscrib request subscriberequest get instanc getdefaultinst option hedwig consum request consumerequest consum request consumerequest 54 ha consum request hasconsumerequest result ha consum request hasconsumerequest org apach hedwig protocol pub sub protocol pubsubprotocol consum request consumerequest get consum request getconsumerequest result get consum request getconsumerequest builder set consum request setconsumerequest org apach hedwig protocol pub sub protocol pubsubprotocol consum request consumerequest valu valu pointer except nullpointerexcept result ha consum request hasconsumerequest result consum request consumerequest_ valu builder set consum request setconsumerequest org apach hedwig protocol pub sub protocol pubsubprotocol consum request consumerequest builder builder valu builderforvalu result ha consum request hasconsumerequest result consum request consumerequest_ builder valu builderforvalu build builder merg consum request mergeconsumerequest org apach hedwig protocol pub sub protocol pubsubprotocol consum request consumerequest valu result ha consum request hasconsumerequest result consum request consumerequest_ org apach hedwig protocol pub sub protocol pubsubprotocol consum request consumerequest get instanc getdefaultinst result consum request consumerequest_ org apach hedwig protocol pub sub protocol pubsubprotocol consum request consumerequest builder newbuild result consum request consumerequest_ merg from mergefrom valu build partial buildparti result consum request consumerequest_ valu result ha consum request hasconsumerequest builder clear consum request clearconsumerequest result ha consum request hasconsumerequest result consum request consumerequest_ org apach hedwig protocol pub sub protocol pubsubprotocol consum request consumerequest get instanc getdefaultinst option hedwig unsubscrib request unsubscriberequest unsubscrib request unsubscriberequest 55 ha unsubscrib request hasunsubscriberequest result ha unsubscrib request hasunsubscriberequest org apach hedwig protocol pub sub protocol pubsubprotocol unsubscrib request unsubscriberequest get unsubscrib request getunsubscriberequest result get unsubscrib request getunsubscriberequest builder set unsubscrib request setunsubscriberequest org apach hedwig protocol pub sub protocol pubsubprotocol unsubscrib request unsubscriberequest valu valu pointer except nullpointerexcept result ha unsubscrib request hasunsubscriberequest result unsubscrib request unsubscriberequest_ valu builder set unsubscrib request setunsubscriberequest org apach hedwig protocol pub sub protocol pubsubprotocol unsubscrib request unsubscriberequest builder builder valu builderforvalu result ha unsubscrib request hasunsubscriberequest result unsubscrib request unsubscriberequest_ builder valu builderforvalu build builder merg unsubscrib request mergeunsubscriberequest org apach hedwig protocol pub sub protocol pubsubprotocol unsubscrib request unsubscriberequest valu result ha unsubscrib request hasunsubscriberequest result unsubscrib request unsubscriberequest_ org apach hedwig protocol pub sub protocol pubsubprotocol unsubscrib request unsubscriberequest get instanc getdefaultinst result unsubscrib request unsubscriberequest_ org apach hedwig protocol pub sub protocol pubsubprotocol unsubscrib request unsubscriberequest builder newbuild result unsubscrib request unsubscriberequest_ merg from mergefrom valu build partial buildparti result unsubscrib request unsubscriberequest_ valu result ha unsubscrib request hasunsubscriberequest builder clear unsubscrib request clearunsubscriberequest result ha unsubscrib request hasunsubscriberequest result unsubscrib request unsubscriberequest_ org apach hedwig protocol pub sub protocol pubsubprotocol unsubscrib request unsubscriberequest get instanc getdefaultinst option hedwig stop deliveri request stopdeliveryrequest stop deliveri request stopdeliveryrequest 56 ha stop deliveri request hasstopdeliveryrequest result ha stop deliveri request hasstopdeliveryrequest org apach hedwig protocol pub sub protocol pubsubprotocol stop deliveri request stopdeliveryrequest get stop deliveri request getstopdeliveryrequest result get stop deliveri request getstopdeliveryrequest builder set stop deliveri request setstopdeliveryrequest org apach hedwig protocol pub sub protocol pubsubprotocol stop deliveri request stopdeliveryrequest valu valu pointer except nullpointerexcept result ha stop deliveri request hasstopdeliveryrequest result stop deliveri request stopdeliveryrequest_ valu builder set stop deliveri request setstopdeliveryrequest org apach hedwig protocol pub sub protocol pubsubprotocol stop deliveri request stopdeliveryrequest builder builder valu builderforvalu result ha stop deliveri request hasstopdeliveryrequest result stop deliveri request stopdeliveryrequest_ builder valu builderforvalu build builder merg stop deliveri request mergestopdeliveryrequest org apach hedwig protocol pub sub protocol pubsubprotocol stop deliveri request stopdeliveryrequest valu result ha stop deliveri request hasstopdeliveryrequest result stop deliveri request stopdeliveryrequest_ org apach hedwig protocol pub sub protocol pubsubprotocol stop deliveri request stopdeliveryrequest get instanc getdefaultinst result stop deliveri request stopdeliveryrequest_ org apach hedwig protocol pub sub protocol pubsubprotocol stop deliveri request stopdeliveryrequest builder newbuild result stop deliveri request stopdeliveryrequest_ merg from mergefrom valu build partial buildparti result stop deliveri request stopdeliveryrequest_ valu result ha stop deliveri request hasstopdeliveryrequest builder clear stop deliveri request clearstopdeliveryrequest result ha stop deliveri request hasstopdeliveryrequest result stop deliveri request stopdeliveryrequest_ org apach hedwig protocol pub sub protocol pubsubprotocol stop deliveri request stopdeliveryrequest get instanc getdefaultinst option hedwig start deliveri request startdeliveryrequest start deliveri request startdeliveryrequest 57 ha start deliveri request hasstartdeliveryrequest result ha start deliveri request hasstartdeliveryrequest org apach hedwig protocol pub sub protocol pubsubprotocol start deliveri request startdeliveryrequest get start deliveri request getstartdeliveryrequest result get start deliveri request getstartdeliveryrequest builder set start deliveri request setstartdeliveryrequest org apach hedwig protocol pub sub protocol pubsubprotocol start deliveri request startdeliveryrequest valu valu pointer except nullpointerexcept result ha start deliveri request hasstartdeliveryrequest result start deliveri request startdeliveryrequest_ valu builder set start deliveri request setstartdeliveryrequest org apach hedwig protocol pub sub protocol pubsubprotocol start deliveri request startdeliveryrequest builder builder valu builderforvalu result ha start deliveri request hasstartdeliveryrequest result start deliveri request startdeliveryrequest_ builder valu builderforvalu build builder merg start deliveri request mergestartdeliveryrequest org apach hedwig protocol pub sub protocol pubsubprotocol start deliveri request startdeliveryrequest valu result ha start deliveri request hasstartdeliveryrequest result start deliveri request startdeliveryrequest_ org apach hedwig protocol pub sub protocol pubsubprotocol start deliveri request startdeliveryrequest get instanc getdefaultinst result start deliveri request startdeliveryrequest_ org apach hedwig protocol pub sub protocol pubsubprotocol start deliveri request startdeliveryrequest builder newbuild result start deliveri request startdeliveryrequest_ merg from mergefrom valu build partial buildparti result start deliveri request startdeliveryrequest_ valu result ha start deliveri request hasstartdeliveryrequest builder clear start deliveri request clearstartdeliveryrequest result ha start deliveri request hasstartdeliveryrequest result start deliveri request startdeliveryrequest_ org apach hedwig protocol pub sub protocol pubsubprotocol start deliveri request startdeliveryrequest get instanc getdefaultinst protoc insert point protoc_insertion_point builder scope builder_scop hedwig pub sub request pubsubrequest instanc defaultinst pub sub request pubsubrequest org apach hedwig protocol pub sub protocol pubsubprotocol intern forc init internalforceinit instanc defaultinst init field initfield protoc insert point protoc_insertion_point scope class_scop hedwig pub sub request pubsubrequest publish request publishrequest com googl protobuf gener messag generatedmessag us publish request publishrequest builder newbuild construct publish request publishrequest init field initfield publish request publishrequest init noinit publish request publishrequest instanc defaultinst publish request publishrequest get instanc getdefaultinst instanc defaultinst publish request publishrequest get instanc type getdefaultinstancefortyp instanc defaultinst com googl protobuf descriptor descriptor get descriptor getdescriptor org apach hedwig protocol pub sub protocol pubsubprotocol intern hedwig publish request descriptor internal_static_hedwig_publishrequest_descriptor com googl protobuf gener messag generatedmessag field accessor tabl fieldaccessort intern get field accessor tabl internalgetfieldaccessort org apach hedwig protocol pub sub protocol pubsubprotocol intern hedwig publish request field accessor tabl internal_static_hedwig_publishrequest_fieldaccessort requir hedwig messag msg msg field number msg_field_numb ha msg hasmsg org apach hedwig protocol pub sub protocol pubsubprotocol messag msg msg_ ha msg hasmsg ha msg hasmsg org apach hedwig protocol pub sub protocol pubsubprotocol messag get msg getmsg msg msg_ init field initfield msg msg_ org apach hedwig protocol pub sub protocol pubsubprotocol messag get instanc getdefaultinst initi isiniti ha msg hasmsg get msg getmsg initi isiniti write writeto com googl protobuf code output stream codedoutputstream output java io io except ioexcept get serial size getserializeds ha msg hasmsg output write messag writemessag get msg getmsg get unknown field getunknownfield write writeto output memoiz serial size memoizedserializeds get serial size getserializeds size memoiz serial size memoizedserializeds size size size ha msg hasmsg size com googl protobuf code output stream codedoutputstream comput messag size computemessages get msg getmsg size get unknown field getunknownfield get serial size getserializeds memoiz serial size memoizedserializeds size size org apach hedwig protocol pub sub protocol pubsubprotocol publish request publishrequest pars from parsefrom com googl protobuf string bytestr data com googl protobuf invalid protocol buffer except invalidprotocolbufferexcept builder newbuild merg from mergefrom data build pars buildpars org apach hedwig protocol pub sub protocol pubsubprotocol publish request publishrequest pars from parsefrom com googl protobuf string bytestr data com googl protobuf extens registri lite extensionregistrylit extens registri extensionregistri com googl protobuf invalid protocol buffer except invalidprotocolbufferexcept builder newbuild merg from mergefrom data extens registri extensionregistri build pars buildpars org apach hedwig protocol pub sub protocol pubsubprotocol publish request publishrequest pars from parsefrom data com googl protobuf invalid protocol buffer except invalidprotocolbufferexcept builder newbuild merg from mergefrom data build pars buildpars org apach hedwig protocol pub sub protocol pubsubprotocol publish request publishrequest pars from parsefrom data com googl protobuf extens registri lite extensionregistrylit extens registri extensionregistri com googl protobuf invalid protocol buffer except invalidprotocolbufferexcept builder newbuild merg from mergefrom data extens registri extensionregistri build pars buildpars org apach hedwig protocol pub sub protocol pubsubprotocol publish request publishrequest pars from parsefrom java io input stream inputstream input java io io except ioexcept builder newbuild merg from mergefrom input build pars buildpars org apach hedwig protocol pub sub protocol pubsubprotocol publish request publishrequest pars from parsefrom java io input stream inputstream input com googl protobuf extens registri lite extensionregistrylit extens registri extensionregistri java io io except ioexcept builder newbuild merg from mergefrom input extens registri extensionregistri build pars buildpars org apach hedwig protocol pub sub protocol pubsubprotocol publish request publishrequest pars delimit from parsedelimitedfrom java io input stream inputstream input java io io except ioexcept builder builder builder newbuild builder merg delimit from mergedelimitedfrom input builder build pars buildpars org apach hedwig protocol pub sub protocol pubsubprotocol publish request publishrequest pars delimit from parsedelimitedfrom java io input stream inputstream input com googl protobuf extens registri lite extensionregistrylit extens registri extensionregistri java io io except ioexcept builder builder builder newbuild builder merg delimit from mergedelimitedfrom input extens registri extensionregistri builder build pars buildpars org apach hedwig protocol pub sub protocol pubsubprotocol publish request publishrequest pars from parsefrom com googl protobuf code input stream codedinputstream input java io io except ioexcept builder newbuild merg from mergefrom input build pars buildpars org apach hedwig protocol pub sub protocol pubsubprotocol publish request publishrequest pars from parsefrom com googl protobuf code input stream codedinputstream input com googl protobuf extens registri lite extensionregistrylit extens registri extensionregistri java io io except ioexcept builder newbuild merg from mergefrom input extens registri extensionregistri build pars buildpars builder builder newbuild builder creat builder builder type newbuilderfortyp builder newbuild builder builder newbuild org apach hedwig protocol pub sub protocol pubsubprotocol publish request publishrequest prototyp builder newbuild merg from mergefrom prototyp builder builder tobuild builder newbuild builder com googl protobuf gener messag generatedmessag builder builder org apach hedwig protocol pub sub protocol pubsubprotocol publish request publishrequest result construct org apach hedwig protocol pub sub protocol pubsubprotocol publish request publishrequest builder newbuild builder builder creat builder builder builder builder result org apach hedwig protocol pub sub protocol pubsubprotocol publish request publishrequest builder org apach hedwig protocol pub sub protocol pubsubprotocol publish request publishrequest intern get result internalgetresult result builder clear result illeg state except illegalstateexcept call clear after build result org apach hedwig protocol pub sub protocol pubsubprotocol publish request publishrequest builder clone creat merg from mergefrom result com googl protobuf descriptor descriptor get descriptor type getdescriptorfortyp org apach hedwig protocol pub sub protocol pubsubprotocol publish request publishrequest get descriptor getdescriptor org apach hedwig protocol pub sub protocol pubsubprotocol publish request publishrequest get instanc type getdefaultinstancefortyp org apach hedwig protocol pub sub protocol pubsubprotocol publish request publishrequest get instanc getdefaultinst initi isiniti result initi isiniti org apach hedwig protocol pub sub protocol pubsubprotocol publish request publishrequest build result initi isiniti uniniti messag except newuninitializedmessageexcept result build partial buildparti org apach hedwig protocol pub sub protocol pubsubprotocol publish request publishrequest build pars buildpars com googl protobuf invalid protocol buffer except invalidprotocolbufferexcept initi isiniti uniniti messag except newuninitializedmessageexcept result invalid protocol buffer except asinvalidprotocolbufferexcept build partial buildparti org apach hedwig protocol pub sub protocol pubsubprotocol publish request publishrequest build partial buildparti result illeg state except illegalstateexcept build ha call builder org apach hedwig protocol pub sub protocol pubsubprotocol publish request publishrequest returnm result result returnm builder merg from mergefrom com googl protobuf messag org apach hedwig protocol pub sub protocol pubsubprotocol publish request publishrequest merg from mergefrom org apach hedwig protocol pub sub protocol pubsubprotocol publish request publishrequest merg from mergefrom builder merg from mergefrom org apach hedwig protocol pub sub protocol pubsubprotocol publish request publishrequest org apach hedwig protocol pub sub protocol pubsubprotocol publish request publishrequest get instanc getdefaultinst ha msg hasmsg merg msg mergemsg get msg getmsg merg unknown field mergeunknownfield get unknown field getunknownfield builder merg from mergefrom com googl protobuf code input stream codedinputstream input com googl protobuf extens registri lite extensionregistrylit extens registri extensionregistri java io io except ioexcept com googl protobuf unknown field set unknownfieldset builder unknown field unknownfield com googl protobuf unknown field set unknownfieldset builder newbuild get unknown field getunknownfield tag input read tag readtag tag set unknown field setunknownfield unknown field unknownfield build pars unknown field parseunknownfield input unknown field unknownfield extens registri extensionregistri tag set unknown field setunknownfield unknown field unknownfield build 18 org apach hedwig protocol pub sub protocol pubsubprotocol messag builder sub builder subbuild org apach hedwig protocol pub sub protocol pubsubprotocol messag builder newbuild ha msg hasmsg sub builder subbuild merg from mergefrom get msg getmsg input read messag readmessag sub builder subbuild extens registri extensionregistri set msg setmsg sub builder subbuild build partial buildparti requir hedwig messag msg ha msg hasmsg result ha msg hasmsg org apach hedwig protocol pub sub protocol pubsubprotocol messag get msg getmsg result get msg getmsg builder set msg setmsg org apach hedwig protocol pub sub protocol pubsubprotocol messag valu valu pointer except nullpointerexcept result ha msg hasmsg result msg msg_ valu builder set msg setmsg org apach hedwig protocol pub sub protocol pubsubprotocol messag builder builder valu builderforvalu result ha msg hasmsg result msg msg_ builder valu builderforvalu build builder merg msg mergemsg org apach hedwig protocol pub sub protocol pubsubprotocol messag valu result ha msg hasmsg result msg msg_ org apach hedwig protocol pub sub protocol pubsubprotocol messag get instanc getdefaultinst result msg msg_ org apach hedwig protocol pub sub protocol pubsubprotocol messag builder newbuild result msg msg_ merg from mergefrom valu build partial buildparti result msg msg_ valu result ha msg hasmsg builder clear msg clearmsg result ha msg hasmsg result msg msg_ org apach hedwig protocol pub sub protocol pubsubprotocol messag get instanc getdefaultinst protoc insert point protoc_insertion_point builder scope builder_scop hedwig publish request publishrequest instanc defaultinst publish request publishrequest org apach hedwig protocol pub sub protocol pubsubprotocol intern forc init internalforceinit instanc defaultinst init field initfield protoc insert point protoc_insertion_point scope class_scop hedwig publish request publishrequest subscrib request subscriberequest com googl protobuf gener messag generatedmessag us subscrib request subscriberequest builder newbuild construct subscrib request subscriberequest init field initfield subscrib request subscriberequest init noinit subscrib request subscriberequest instanc defaultinst subscrib request subscriberequest get instanc getdefaultinst instanc defaultinst subscrib request subscriberequest get instanc type getdefaultinstancefortyp instanc defaultinst com googl protobuf descriptor descriptor get descriptor getdescriptor org apach hedwig protocol pub sub protocol pubsubprotocol intern hedwig subscrib request descriptor internal_static_hedwig_subscriberequest_descriptor com googl protobuf gener messag generatedmessag field accessor tabl fieldaccessort intern get field accessor tabl internalgetfieldaccessort org apach hedwig protocol pub sub protocol pubsubprotocol intern hedwig subscrib request field accessor tabl internal_static_hedwig_subscriberequest_fieldaccessort creat attach createorattach com googl protobuf protocol messag protocolmessageenum creat attach creat attach create_or_attach get number getnumb valu creat attach createorattach valu valueof valu valu creat attach creat attach create_or_attach com googl protobuf intern lite map enumlitemap creat attach createorattach intern get valu map internalgetvaluemap intern valu map internalvaluemap com googl protobuf intern lite map enumlitemap creat attach createorattach intern valu map internalvaluemap com googl protobuf intern lite map enumlitemap creat attach createorattach creat attach createorattach find valu number findvaluebynumb number creat attach createorattach valu valueof number com googl protobuf descriptor valu descriptor enumvaluedescriptor get valu descriptor getvaluedescriptor get descriptor getdescriptor get valu getvalu get index com googl protobuf descriptor descriptor enumdescriptor get descriptor type getdescriptorfortyp get descriptor getdescriptor com googl protobuf descriptor descriptor enumdescriptor get descriptor getdescriptor org apach hedwig protocol pub sub protocol pubsubprotocol subscrib request subscriberequest get descriptor getdescriptor get type getenumtyp get creat attach createorattach valu creat attach creat attach create_or_attach creat attach createorattach valu valueof com googl protobuf descriptor valu descriptor enumvaluedescriptor desc desc get type gettyp get descriptor getdescriptor java lang illeg argument except illegalargumentexcept valu descriptor enumvaluedescriptor type valu desc get index getindex index valu creat attach createorattach index valu index index valu valu org apach hedwig protocol pub sub protocol pubsubprotocol get descriptor getdescriptor protoc insert point protoc_insertion_point scope enum_scop hedwig subscrib request subscriberequest creat attach createorattach requir byte subscrib id subscriberid subscriberid field number subscriberid_field_numb ha subscrib id hassubscriberid com googl protobuf string bytestr subscrib id subscriberid_ com googl protobuf string bytestr empti ha subscrib id hassubscriberid ha subscrib id hassubscriberid com googl protobuf string bytestr get subscrib id getsubscriberid subscrib id subscriberid_ option hedwig subscrib request subscriberequest creat attach createorattach creat attach createorattach creat attach create_or_attach createorattach field number createorattach_field_numb ha creat attach hascreateorattach org apach hedwig protocol pub sub protocol pubsubprotocol subscrib request subscriberequest creat attach createorattach creat attach createorattach_ ha creat attach hascreateorattach ha creat attach hascreateorattach org apach hedwig protocol pub sub protocol pubsubprotocol subscrib request subscriberequest creat attach createorattach get creat attach getcreateorattach creat attach createorattach_ option synchron synchron field number synchronous_field_numb ha synchron hassynchron synchron synchronous_ ha synchron hassynchron ha synchron hassynchron get synchron getsynchron synchron synchronous_ option uint32 messag bound messagebound messagebound field number messagebound_field_numb ha messag bound hasmessagebound messag bound messagebound_ ha messag bound hasmessagebound ha messag bound hasmessagebound get messag bound getmessagebound messag bound messagebound_ init field initfield creat attach createorattach_ org apach hedwig protocol pub sub protocol pubsubprotocol subscrib request subscriberequest creat attach createorattach creat attach create_or_attach initi isiniti ha subscrib id hassubscriberid write writeto com googl protobuf code output stream codedoutputstream output java io io except ioexcept get serial size getserializeds ha subscrib id hassubscriberid output write byte writebyt get subscrib id getsubscriberid ha creat attach hascreateorattach output write writeenum get creat attach getcreateorattach get number getnumb ha synchron hassynchron output write writebool get synchron getsynchron ha messag bound hasmessagebound output write int32 writeuint32 get messag bound getmessagebound get unknown field getunknownfield write writeto output memoiz serial size memoizedserializeds get serial size getserializeds size memoiz serial size memoizedserializeds size size size ha subscrib id hassubscriberid size com googl protobuf code output stream codedoutputstream comput byte size computebytess get subscrib id getsubscriberid ha creat attach hascreateorattach size com googl protobuf code output stream codedoutputstream comput size computeenums get creat attach getcreateorattach get number getnumb ha synchron hassynchron size com googl protobuf code output stream codedoutputstream comput size computebools get synchron getsynchron ha messag bound hasmessagebound size com googl protobuf code output stream codedoutputstream comput int32 size computeuint32s get messag bound getmessagebound size get unknown field getunknownfield get serial size getserializeds memoiz serial size memoizedserializeds size size org apach hedwig protocol pub sub protocol pubsubprotocol subscrib request subscriberequest pars from parsefrom com googl protobuf string bytestr data com googl protobuf invalid protocol buffer except invalidprotocolbufferexcept builder newbuild merg from mergefrom data build pars buildpars org apach hedwig protocol pub sub protocol pubsubprotocol subscrib request subscriberequest pars from parsefrom com googl protobuf string bytestr data com googl protobuf extens registri lite extensionregistrylit extens registri extensionregistri com googl protobuf invalid protocol buffer except invalidprotocolbufferexcept builder newbuild merg from mergefrom data extens registri extensionregistri build pars buildpars org apach hedwig protocol pub sub protocol pubsubprotocol subscrib request subscriberequest pars from parsefrom data com googl protobuf invalid protocol buffer except invalidprotocolbufferexcept builder newbuild merg from mergefrom data build pars buildpars org apach hedwig protocol pub sub protocol pubsubprotocol subscrib request subscriberequest pars from parsefrom data com googl protobuf extens registri lite extensionregistrylit extens registri extensionregistri com googl protobuf invalid protocol buffer except invalidprotocolbufferexcept builder newbuild merg from mergefrom data extens registri extensionregistri build pars buildpars org apach hedwig protocol pub sub protocol pubsubprotocol subscrib request subscriberequest pars from parsefrom java io input stream inputstream input java io io except ioexcept builder newbuild merg from mergefrom input build pars buildpars org apach hedwig protocol pub sub protocol pubsubprotocol subscrib request subscriberequest pars from parsefrom java io input stream inputstream input com googl protobuf extens registri lite extensionregistrylit extens registri extensionregistri java io io except ioexcept builder newbuild merg from mergefrom input extens registri extensionregistri build pars buildpars org apach hedwig protocol pub sub protocol pubsubprotocol subscrib request subscriberequest pars delimit from parsedelimitedfrom java io input stream inputstream input java io io except ioexcept builder builder builder newbuild builder merg delimit from mergedelimitedfrom input builder build pars buildpars org apach hedwig protocol pub sub protocol pubsubprotocol subscrib request subscriberequest pars delimit from parsedelimitedfrom java io input stream inputstream input com googl protobuf extens registri lite extensionregistrylit extens registri extensionregistri java io io except ioexcept builder builder builder newbuild builder merg delimit from mergedelimitedfrom input extens registri extensionregistri builder build pars buildpars org apach hedwig protocol pub sub protocol pubsubprotocol subscrib request subscriberequest pars from parsefrom com googl protobuf code input stream codedinputstream input java io io except ioexcept builder newbuild merg from mergefrom input build pars buildpars org apach hedwig protocol pub sub protocol pubsubprotocol subscrib request subscriberequest pars from parsefrom com googl protobuf code input stream codedinputstream input com googl protobuf extens registri lite extensionregistrylit extens registri extensionregistri java io io except ioexcept builder newbuild merg from mergefrom input extens registri extensionregistri build pars buildpars builder builder newbuild builder creat builder builder type newbuilderfortyp builder newbuild builder builder newbuild org apach hedwig protocol pub sub protocol pubsubprotocol subscrib request subscriberequest prototyp builder newbuild merg from mergefrom prototyp builder builder tobuild builder newbuild builder com googl protobuf gener messag generatedmessag builder builder org apach hedwig protocol pub sub protocol pubsubprotocol subscrib request subscriberequest result construct org apach hedwig protocol pub sub protocol pubsubprotocol subscrib request subscriberequest builder newbuild builder builder creat builder builder builder builder result org apach hedwig protocol pub sub protocol pubsubprotocol subscrib request subscriberequest builder org apach hedwig protocol pub sub protocol pubsubprotocol subscrib request subscriberequest intern get result internalgetresult result builder clear result illeg state except illegalstateexcept call clear after build result org apach hedwig protocol pub sub protocol pubsubprotocol subscrib request subscriberequest builder clone creat merg from mergefrom result com googl protobuf descriptor descriptor get descriptor type getdescriptorfortyp org apach hedwig protocol pub sub protocol pubsubprotocol subscrib request subscriberequest get descriptor getdescriptor org apach hedwig protocol pub sub protocol pubsubprotocol subscrib request subscriberequest get instanc type getdefaultinstancefortyp org apach hedwig protocol pub sub protocol pubsubprotocol subscrib request subscriberequest get instanc getdefaultinst initi isiniti result initi isiniti org apach hedwig protocol pub sub protocol pubsubprotocol subscrib request subscriberequest build result initi isiniti uniniti messag except newuninitializedmessageexcept result build partial buildparti org apach hedwig protocol pub sub protocol pubsubprotocol subscrib request subscriberequest build pars buildpars com googl protobuf invalid protocol buffer except invalidprotocolbufferexcept initi isiniti uniniti messag except newuninitializedmessageexcept result invalid protocol buffer except asinvalidprotocolbufferexcept build partial buildparti org apach hedwig protocol pub sub protocol pubsubprotocol subscrib request subscriberequest build partial buildparti result illeg state except illegalstateexcept build ha call builder org apach hedwig protocol pub sub protocol pubsubprotocol subscrib request subscriberequest returnm result result returnm builder merg from mergefrom com googl protobuf messag org apach hedwig protocol pub sub protocol pubsubprotocol subscrib request subscriberequest merg from mergefrom org apach hedwig protocol pub sub protocol pubsubprotocol subscrib request subscriberequest merg from mergefrom builder merg from mergefrom org apach hedwig protocol pub sub protocol pubsubprotocol subscrib request subscriberequest org apach hedwig protocol pub sub protocol pubsubprotocol subscrib request subscriberequest get instanc getdefaultinst ha subscrib id hassubscriberid set subscrib id setsubscriberid get subscrib id getsubscriberid ha creat attach hascreateorattach set creat attach setcreateorattach get creat attach getcreateorattach ha synchron hassynchron set synchron setsynchron get synchron getsynchron ha messag bound hasmessagebound set messag bound setmessagebound get messag bound getmessagebound merg unknown field mergeunknownfield get unknown field getunknownfield builder merg from mergefrom com googl protobuf code input stream codedinputstream input com googl protobuf extens registri lite extensionregistrylit extens registri extensionregistri java io io except ioexcept com googl protobuf unknown field set unknownfieldset builder unknown field unknownfield com googl protobuf unknown field set unknownfieldset builder newbuild get unknown field getunknownfield tag input read tag readtag tag set unknown field setunknownfield unknown field unknownfield build pars unknown field parseunknownfield input unknown field unknownfield extens registri extensionregistri tag set unknown field setunknownfield unknown field unknownfield build 18 set subscrib id setsubscriberid input read byte readbyt 24 raw valu rawvalu input read readenum org apach hedwig protocol pub sub protocol pubsubprotocol subscrib request subscriberequest creat attach createorattach valu org apach hedwig protocol pub sub protocol pubsubprotocol subscrib request subscriberequest creat attach createorattach valu valueof raw valu rawvalu valu unknown field unknownfield merg varint field mergevarintfield raw valu rawvalu set creat attach setcreateorattach valu 32 set synchron setsynchron input read readbool 40 set messag bound setmessagebound input read int32 readuint32 requir byte subscrib id subscriberid ha subscrib id hassubscriberid result ha subscrib id hassubscriberid com googl protobuf string bytestr get subscrib id getsubscriberid result get subscrib id getsubscriberid builder set subscrib id setsubscriberid com googl protobuf string bytestr valu valu pointer except nullpointerexcept result ha subscrib id hassubscriberid result subscrib id subscriberid_ valu builder clear subscrib id clearsubscriberid result ha subscrib id hassubscriberid result subscrib id subscriberid_ get instanc getdefaultinst get subscrib id getsubscriberid option hedwig subscrib request subscriberequest creat attach createorattach creat attach createorattach creat attach create_or_attach ha creat attach hascreateorattach result ha creat attach hascreateorattach org apach hedwig protocol pub sub protocol pubsubprotocol subscrib request subscriberequest creat attach createorattach get creat attach getcreateorattach result get creat attach getcreateorattach builder set creat attach setcreateorattach org apach hedwig protocol pub sub protocol pubsubprotocol subscrib request subscriberequest creat attach createorattach valu valu pointer except nullpointerexcept result ha creat attach hascreateorattach result creat attach createorattach_ valu builder clear creat attach clearcreateorattach result ha creat attach hascreateorattach result creat attach createorattach_ org apach hedwig protocol pub sub protocol pubsubprotocol subscrib request subscriberequest creat attach createorattach creat attach create_or_attach option synchron ha synchron hassynchron result ha synchron hassynchron get synchron getsynchron result get synchron getsynchron builder set synchron setsynchron valu result ha synchron hassynchron result synchron synchronous_ valu builder clear synchron clearsynchron result ha synchron hassynchron result synchron synchronous_ option uint32 messag bound messagebound ha messag bound hasmessagebound result ha messag bound hasmessagebound get messag bound getmessagebound result get messag bound getmessagebound builder set messag bound setmessagebound valu result ha messag bound hasmessagebound result messag bound messagebound_ valu builder clear messag bound clearmessagebound result ha messag bound hasmessagebound result messag bound messagebound_ protoc insert point protoc_insertion_point builder scope builder_scop hedwig subscrib request subscriberequest instanc defaultinst subscrib request subscriberequest org apach hedwig protocol pub sub protocol pubsubprotocol intern forc init internalforceinit instanc defaultinst init field initfield protoc insert point protoc_insertion_point scope class_scop hedwig subscrib request subscriberequest subscript option subscriptionopt com googl protobuf gener messag generatedmessag us subscript option subscriptionopt builder newbuild construct subscript option subscriptionopt init field initfield subscript option subscriptionopt init noinit subscript option subscriptionopt instanc defaultinst subscript option subscriptionopt get instanc getdefaultinst instanc defaultinst subscript option subscriptionopt get instanc type getdefaultinstancefortyp instanc defaultinst com googl protobuf descriptor descriptor get descriptor getdescriptor org apach hedwig protocol pub sub protocol pubsubprotocol intern hedwig subscript option descriptor internal_static_hedwig_subscriptionoptions_descriptor com googl protobuf gener messag generatedmessag field accessor tabl fieldaccessort intern get field accessor tabl internalgetfieldaccessort org apach hedwig protocol pub sub protocol pubsubprotocol intern hedwig subscript option field accessor tabl internal_static_hedwig_subscriptionoptions_fieldaccessort option hedwig subscrib request subscriberequest creat attach createorattach creat attach createorattach creat attach create_or_attach createorattach field number createorattach_field_numb ha creat attach hascreateorattach org apach hedwig protocol pub sub protocol pubsubprotocol subscrib request subscriberequest creat attach createorattach creat attach createorattach_ ha creat attach hascreateorattach ha creat attach hascreateorattach org apach hedwig protocol pub sub protocol pubsubprotocol subscrib request subscriberequest creat attach createorattach get creat attach getcreateorattach creat attach createorattach_ option uint32 messag bound messagebound messagebound field number messagebound_field_numb ha messag bound hasmessagebound messag bound messagebound_ ha messag bound hasmessagebound ha messag bound hasmessagebound get messag bound getmessagebound messag bound messagebound_ init field initfield creat attach createorattach_ org apach hedwig protocol pub sub protocol pubsubprotocol subscrib request subscriberequest creat attach createorattach creat attach create_or_attach initi isiniti write writeto com googl protobuf code output stream codedoutputstream output java io io except ioexcept get serial size getserializeds ha creat attach hascreateorattach output write writeenum get creat attach getcreateorattach get number getnumb ha messag bound hasmessagebound output write int32 writeuint32 get messag bound getmessagebound get unknown field getunknownfield write writeto output memoiz serial size memoizedserializeds get serial size getserializeds size memoiz serial size memoizedserializeds size size size ha creat attach hascreateorattach size com googl protobuf code output stream codedoutputstream comput size computeenums get creat attach getcreateorattach get number getnumb ha messag bound hasmessagebound size com googl protobuf code output stream codedoutputstream comput int32 size computeuint32s get messag bound getmessagebound size get unknown field getunknownfield get serial size getserializeds memoiz serial size memoizedserializeds size size org apach hedwig protocol pub sub protocol pubsubprotocol subscript option subscriptionopt pars from parsefrom com googl protobuf string bytestr data com googl protobuf invalid protocol buffer except invalidprotocolbufferexcept builder newbuild merg from mergefrom data build pars buildpars org apach hedwig protocol pub sub protocol pubsubprotocol subscript option subscriptionopt pars from parsefrom com googl protobuf string bytestr data com googl protobuf extens registri lite extensionregistrylit extens registri extensionregistri com googl protobuf invalid protocol buffer except invalidprotocolbufferexcept builder newbuild merg from mergefrom data extens registri extensionregistri build pars buildpars org apach hedwig protocol pub sub protocol pubsubprotocol subscript option subscriptionopt pars from parsefrom data com googl protobuf invalid protocol buffer except invalidprotocolbufferexcept builder newbuild merg from mergefrom data build pars buildpars org apach hedwig protocol pub sub protocol pubsubprotocol subscript option subscriptionopt pars from parsefrom data com googl protobuf extens registri lite extensionregistrylit extens registri extensionregistri com googl protobuf invalid protocol buffer except invalidprotocolbufferexcept builder newbuild merg from mergefrom data extens registri extensionregistri build pars buildpars org apach hedwig protocol pub sub protocol pubsubprotocol subscript option subscriptionopt pars from parsefrom java io input stream inputstream input java io io except ioexcept builder newbuild merg from mergefrom input build pars buildpars org apach hedwig protocol pub sub protocol pubsubprotocol subscript option subscriptionopt pars from parsefrom java io input stream inputstream input com googl protobuf extens registri lite extensionregistrylit extens registri extensionregistri java io io except ioexcept builder newbuild merg from mergefrom input extens registri extensionregistri build pars buildpars org apach hedwig protocol pub sub protocol pubsubprotocol subscript option subscriptionopt pars delimit from parsedelimitedfrom java io input stream inputstream input java io io except ioexcept builder builder builder newbuild builder merg delimit from mergedelimitedfrom input builder build pars buildpars org apach hedwig protocol pub sub protocol pubsubprotocol subscript option subscriptionopt pars delimit from parsedelimitedfrom java io input stream inputstream input com googl protobuf extens registri lite extensionregistrylit extens registri extensionregistri java io io except ioexcept builder builder builder newbuild builder merg delimit from mergedelimitedfrom input extens registri extensionregistri builder build pars buildpars org apach hedwig protocol pub sub protocol pubsubprotocol subscript option subscriptionopt pars from parsefrom com googl protobuf code input stream codedinputstream input java io io except ioexcept builder newbuild merg from mergefrom input build pars buildpars org apach hedwig protocol pub sub protocol pubsubprotocol subscript option subscriptionopt pars from parsefrom com googl protobuf code input stream codedinputstream input com googl protobuf extens registri lite extensionregistrylit extens registri extensionregistri java io io except ioexcept builder newbuild merg from mergefrom input extens registri extensionregistri build pars buildpars builder builder newbuild builder creat builder builder type newbuilderfortyp builder newbuild builder builder newbuild org apach hedwig protocol pub sub protocol pubsubprotocol subscript option subscriptionopt prototyp builder newbuild merg from mergefrom prototyp builder builder tobuild builder newbuild builder com googl protobuf gener messag generatedmessag builder builder org apach hedwig protocol pub sub protocol pubsubprotocol subscript option subscriptionopt result construct org apach hedwig protocol pub sub protocol pubsubprotocol subscript option subscriptionopt builder newbuild builder builder creat builder builder builder builder result org apach hedwig protocol pub sub protocol pubsubprotocol subscript option subscriptionopt builder org apach hedwig protocol pub sub protocol pubsubprotocol subscript option subscriptionopt intern get result internalgetresult result builder clear result illeg state except illegalstateexcept call clear after build result org apach hedwig protocol pub sub protocol pubsubprotocol subscript option subscriptionopt builder clone creat merg from mergefrom result com googl protobuf descriptor descriptor get descriptor type getdescriptorfortyp org apach hedwig protocol pub sub protocol pubsubprotocol subscript option subscriptionopt get descriptor getdescriptor org apach hedwig protocol pub sub protocol pubsubprotocol subscript option subscriptionopt get instanc type getdefaultinstancefortyp org apach hedwig protocol pub sub protocol pubsubprotocol subscript option subscriptionopt get instanc getdefaultinst initi isiniti result initi isiniti org apach hedwig protocol pub sub protocol pubsubprotocol subscript option subscriptionopt build result initi isiniti uniniti messag except newuninitializedmessageexcept result build partial buildparti org apach hedwig protocol pub sub protocol pubsubprotocol subscript option subscriptionopt build pars buildpars com googl protobuf invalid protocol buffer except invalidprotocolbufferexcept initi isiniti uniniti messag except newuninitializedmessageexcept result invalid protocol buffer except asinvalidprotocolbufferexcept build partial buildparti org apach hedwig protocol pub sub protocol pubsubprotocol subscript option subscriptionopt build partial buildparti result illeg state except illegalstateexcept build ha call builder org apach hedwig protocol pub sub protocol pubsubprotocol subscript option subscriptionopt returnm result result returnm builder merg from mergefrom com googl protobuf messag org apach hedwig protocol pub sub protocol pubsubprotocol subscript option subscriptionopt merg from mergefrom org apach hedwig protocol pub sub protocol pubsubprotocol subscript option subscriptionopt merg from mergefrom builder merg from mergefrom org apach hedwig protocol pub sub protocol pubsubprotocol subscript option subscriptionopt org apach hedwig protocol pub sub protocol pubsubprotocol subscript option subscriptionopt get instanc getdefaultinst ha creat attach hascreateorattach set creat attach setcreateorattach get creat attach getcreateorattach ha messag bound hasmessagebound set messag bound setmessagebound get messag bound getmessagebound merg unknown field mergeunknownfield get unknown field getunknownfield builder merg from mergefrom com googl protobuf code input stream codedinputstream input com googl protobuf extens registri lite extensionregistrylit extens registri extensionregistri java io io except ioexcept com googl protobuf unknown field set unknownfieldset builder unknown field unknownfield com googl protobuf unknown field set unknownfieldset builder newbuild get unknown field getunknownfield tag input read tag readtag tag set unknown field setunknownfield unknown field unknownfield build pars unknown field parseunknownfield input unknown field unknownfield extens registri extensionregistri tag set unknown field setunknownfield unknown field unknownfield build 16 raw valu rawvalu input read readenum org apach hedwig protocol pub sub protocol pubsubprotocol subscrib request subscriberequest creat attach createorattach valu org apach hedwig protocol pub sub protocol pubsubprotocol subscrib request subscriberequest creat attach createorattach valu valueof raw valu rawvalu valu unknown field unknownfield merg varint field mergevarintfield raw valu rawvalu set creat attach setcreateorattach valu 24 set messag bound setmessagebound input read int32 readuint32 option hedwig subscrib request subscriberequest creat attach createorattach creat attach createorattach creat attach create_or_attach ha creat attach hascreateorattach result ha creat attach hascreateorattach org apach hedwig protocol pub sub protocol pubsubprotocol subscrib request subscriberequest creat attach createorattach get creat attach getcreateorattach result get creat attach getcreateorattach builder set creat attach setcreateorattach org apach hedwig protocol pub sub protocol pubsubprotocol subscrib request subscriberequest creat attach createorattach valu valu pointer except nullpointerexcept result ha creat attach hascreateorattach result creat attach createorattach_ valu builder clear creat attach clearcreateorattach result ha creat attach hascreateorattach result creat attach createorattach_ org apach hedwig protocol pub sub protocol pubsubprotocol subscrib request subscriberequest creat attach createorattach creat attach create_or_attach option uint32 messag bound messagebound ha messag bound hasmessagebound result ha messag bound hasmessagebound get messag bound getmessagebound result get messag bound getmessagebound builder set messag bound setmessagebound valu result ha messag bound hasmessagebound result messag bound messagebound_ valu builder clear messag bound clearmessagebound result ha messag bound hasmessagebound result messag bound messagebound_ protoc insert point protoc_insertion_point builder scope builder_scop hedwig subscript option subscriptionopt instanc defaultinst subscript option subscriptionopt org apach hedwig protocol pub sub protocol pubsubprotocol intern forc init internalforceinit instanc defaultinst init field initfield protoc insert point protoc_insertion_point scope class_scop hedwig subscript option subscriptionopt consum request consumerequest com googl protobuf gener messag generatedmessag us consum request consumerequest builder newbuild construct consum request consumerequest init field initfield consum request consumerequest init noinit consum request consumerequest instanc defaultinst consum request consumerequest get instanc getdefaultinst instanc defaultinst consum request consumerequest get instanc type getdefaultinstancefortyp instanc defaultinst com googl protobuf descriptor descriptor get descriptor getdescriptor org apach hedwig protocol pub sub protocol pubsubprotocol intern hedwig consum request descriptor internal_static_hedwig_consumerequest_descriptor com googl protobuf gener messag generatedmessag field accessor tabl fieldaccessort intern get field accessor tabl internalgetfieldaccessort org apach hedwig protocol pub sub protocol pubsubprotocol intern hedwig consum request field accessor tabl internal_static_hedwig_consumerequest_fieldaccessort requir byte subscrib id subscriberid subscriberid field number subscriberid_field_numb ha subscrib id hassubscriberid com googl protobuf string bytestr subscrib id subscriberid_ com googl protobuf string bytestr empti ha subscrib id hassubscriberid ha subscrib id hassubscriberid com googl protobuf string bytestr get subscrib id getsubscriberid subscrib id subscriberid_ requir hedwig messag seq id messageseqid msg id msgid msgid field number msgid_field_numb ha msg id hasmsgid org apach hedwig protocol pub sub protocol pubsubprotocol messag seq id messageseqid msg id msgid_ ha msg id hasmsgid ha msg id hasmsgid org apach hedwig protocol pub sub protocol pubsubprotocol messag seq id messageseqid get msg id getmsgid msg id msgid_ init field initfield msg id msgid_ org apach hedwig protocol pub sub protocol pubsubprotocol messag seq id messageseqid get instanc getdefaultinst initi isiniti ha subscrib id hassubscriberid ha msg id hasmsgid get msg id getmsgid initi isiniti write writeto com googl protobuf code output stream codedoutputstream output java io io except ioexcept get serial size getserializeds ha subscrib id hassubscriberid output write byte writebyt get subscrib id getsubscriberid ha msg id hasmsgid output write messag writemessag get msg id getmsgid get unknown field getunknownfield write writeto output memoiz serial size memoizedserializeds get serial size getserializeds size memoiz serial size memoizedserializeds size size size ha subscrib id hassubscriberid size com googl protobuf code output stream codedoutputstream comput byte size computebytess get subscrib id getsubscriberid ha msg id hasmsgid size com googl protobuf code output stream codedoutputstream comput messag size computemessages get msg id getmsgid size get unknown field getunknownfield get serial size getserializeds memoiz serial size memoizedserializeds size size org apach hedwig protocol pub sub protocol pubsubprotocol consum request consumerequest pars from parsefrom com googl protobuf string bytestr data com googl protobuf invalid protocol buffer except invalidprotocolbufferexcept builder newbuild merg from mergefrom data build pars buildpars org apach hedwig protocol pub sub protocol pubsubprotocol consum request consumerequest pars from parsefrom com googl protobuf string bytestr data com googl protobuf extens registri lite extensionregistrylit extens registri extensionregistri com googl protobuf invalid protocol buffer except invalidprotocolbufferexcept builder newbuild merg from mergefrom data extens registri extensionregistri build pars buildpars org apach hedwig protocol pub sub protocol pubsubprotocol consum request consumerequest pars from parsefrom data com googl protobuf invalid protocol buffer except invalidprotocolbufferexcept builder newbuild merg from mergefrom data build pars buildpars org apach hedwig protocol pub sub protocol pubsubprotocol consum request consumerequest pars from parsefrom data com googl protobuf extens registri lite extensionregistrylit extens registri extensionregistri com googl protobuf invalid protocol buffer except invalidprotocolbufferexcept builder newbuild merg from mergefrom data extens registri extensionregistri build pars buildpars org apach hedwig protocol pub sub protocol pubsubprotocol consum request consumerequest pars from parsefrom java io input stream inputstream input java io io except ioexcept builder newbuild merg from mergefrom input build pars buildpars org apach hedwig protocol pub sub protocol pubsubprotocol consum request consumerequest pars from parsefrom java io input stream inputstream input com googl protobuf extens registri lite extensionregistrylit extens registri extensionregistri java io io except ioexcept builder newbuild merg from mergefrom input extens registri extensionregistri build pars buildpars org apach hedwig protocol pub sub protocol pubsubprotocol consum request consumerequest pars delimit from parsedelimitedfrom java io input stream inputstream input java io io except ioexcept builder builder builder newbuild builder merg delimit from mergedelimitedfrom input builder build pars buildpars org apach hedwig protocol pub sub protocol pubsubprotocol consum request consumerequest pars delimit from parsedelimitedfrom java io input stream inputstream input com googl protobuf extens registri lite extensionregistrylit extens registri extensionregistri java io io except ioexcept builder builder builder newbuild builder merg delimit from mergedelimitedfrom input extens registri extensionregistri builder build pars buildpars org apach hedwig protocol pub sub protocol pubsubprotocol consum request consumerequest pars from parsefrom com googl protobuf code input stream codedinputstream input java io io except ioexcept builder newbuild merg from mergefrom input build pars buildpars org apach hedwig protocol pub sub protocol pubsubprotocol consum request consumerequest pars from parsefrom com googl protobuf code input stream codedinputstream input com googl protobuf extens registri lite extensionregistrylit extens registri extensionregistri java io io except ioexcept builder newbuild merg from mergefrom input extens registri extensionregistri build pars buildpars builder builder newbuild builder creat builder builder type newbuilderfortyp builder newbuild builder builder newbuild org apach hedwig protocol pub sub protocol pubsubprotocol consum request consumerequest prototyp builder newbuild merg from mergefrom prototyp builder builder tobuild builder newbuild builder com googl protobuf gener messag generatedmessag builder builder org apach hedwig protocol pub sub protocol pubsubprotocol consum request consumerequest result construct org apach hedwig protocol pub sub protocol pubsubprotocol consum request consumerequest builder newbuild builder builder creat builder builder builder builder result org apach hedwig protocol pub sub protocol pubsubprotocol consum request consumerequest builder org apach hedwig protocol pub sub protocol pubsubprotocol consum request consumerequest intern get result internalgetresult result builder clear result illeg state except illegalstateexcept call clear after build result org apach hedwig protocol pub sub protocol pubsubprotocol consum request consumerequest builder clone creat merg from mergefrom result com googl protobuf descriptor descriptor get descriptor type getdescriptorfortyp org apach hedwig protocol pub sub protocol pubsubprotocol consum request consumerequest get descriptor getdescriptor org apach hedwig protocol pub sub protocol pubsubprotocol consum request consumerequest get instanc type getdefaultinstancefortyp org apach hedwig protocol pub sub protocol pubsubprotocol consum request consumerequest get instanc getdefaultinst initi isiniti result initi isiniti org apach hedwig protocol pub sub protocol pubsubprotocol consum request consumerequest build result initi isiniti uniniti messag except newuninitializedmessageexcept result build partial buildparti org apach hedwig protocol pub sub protocol pubsubprotocol consum request consumerequest build pars buildpars com googl protobuf invalid protocol buffer except invalidprotocolbufferexcept initi isiniti uniniti messag except newuninitializedmessageexcept result invalid protocol buffer except asinvalidprotocolbufferexcept build partial buildparti org apach hedwig protocol pub sub protocol pubsubprotocol consum request consumerequest build partial buildparti result illeg state except illegalstateexcept build ha call builder org apach hedwig protocol pub sub protocol pubsubprotocol consum request consumerequest returnm result result returnm builder merg from mergefrom com googl protobuf messag org apach hedwig protocol pub sub protocol pubsubprotocol consum request consumerequest merg from mergefrom org apach hedwig protocol pub sub protocol pubsubprotocol consum request consumerequest merg from mergefrom builder merg from mergefrom org apach hedwig protocol pub sub protocol pubsubprotocol consum request consumerequest org apach hedwig protocol pub sub protocol pubsubprotocol consum request consumerequest get instanc getdefaultinst ha subscrib id hassubscriberid set subscrib id setsubscriberid get subscrib id getsubscriberid ha msg id hasmsgid merg msg id mergemsgid get msg id getmsgid merg unknown field mergeunknownfield get unknown field getunknownfield builder merg from mergefrom com googl protobuf code input stream codedinputstream input com googl protobuf extens registri lite extensionregistrylit extens registri extensionregistri java io io except ioexcept com googl protobuf unknown field set unknownfieldset builder unknown field unknownfield com googl protobuf unknown field set unknownfieldset builder newbuild get unknown field getunknownfield tag input read tag readtag tag set unknown field setunknownfield unknown field unknownfield build pars unknown field parseunknownfield input unknown field unknownfield extens registri extensionregistri tag set unknown field setunknownfield unknown field unknownfield build 18 set subscrib id setsubscriberid input read byte readbyt 26 org apach hedwig protocol pub sub protocol pubsubprotocol messag seq id messageseqid builder sub builder subbuild org apach hedwig protocol pub sub protocol pubsubprotocol messag seq id messageseqid builder newbuild ha msg id hasmsgid sub builder subbuild merg from mergefrom get msg id getmsgid input read messag readmessag sub builder subbuild extens registri extensionregistri set msg id setmsgid sub builder subbuild build partial buildparti requir byte subscrib id subscriberid ha subscrib id hassubscriberid result ha subscrib id hassubscriberid com googl protobuf string bytestr get subscrib id getsubscriberid result get subscrib id getsubscriberid builder set subscrib id setsubscriberid com googl protobuf string bytestr valu valu pointer except nullpointerexcept result ha subscrib id hassubscriberid result subscrib id subscriberid_ valu builder clear subscrib id clearsubscriberid result ha subscrib id hassubscriberid result subscrib id subscriberid_ get instanc getdefaultinst get subscrib id getsubscriberid requir hedwig messag seq id messageseqid msg id msgid ha msg id hasmsgid result ha msg id hasmsgid org apach hedwig protocol pub sub protocol pubsubprotocol messag seq id messageseqid get msg id getmsgid result get msg id getmsgid builder set msg id setmsgid org apach hedwig protocol pub sub protocol pubsubprotocol messag seq id messageseqid valu valu pointer except nullpointerexcept result ha msg id hasmsgid result msg id msgid_ valu builder set msg id setmsgid org apach hedwig protocol pub sub protocol pubsubprotocol messag seq id messageseqid builder builder valu builderforvalu result ha msg id hasmsgid result msg id msgid_ builder valu builderforvalu build builder merg msg id mergemsgid org apach hedwig protocol pub sub protocol pubsubprotocol messag seq id messageseqid valu result ha msg id hasmsgid result msg id msgid_ org apach hedwig protocol pub sub protocol pubsubprotocol messag seq id messageseqid get instanc getdefaultinst result msg id msgid_ org apach hedwig protocol pub sub protocol pubsubprotocol messag seq id messageseqid builder newbuild result msg id msgid_ merg from mergefrom valu build partial buildparti result msg id msgid_ valu result ha msg id hasmsgid builder clear msg id clearmsgid result ha msg id hasmsgid result msg id msgid_ org apach hedwig protocol pub sub protocol pubsubprotocol messag seq id messageseqid get instanc getdefaultinst protoc insert point protoc_insertion_point builder scope builder_scop hedwig consum request consumerequest instanc defaultinst consum request consumerequest org apach hedwig protocol pub sub protocol pubsubprotocol intern forc init internalforceinit instanc defaultinst init field initfield protoc insert point protoc_insertion_point scope class_scop hedwig consum request consumerequest unsubscrib request unsubscriberequest com googl protobuf gener messag generatedmessag us unsubscrib request unsubscriberequest builder newbuild construct unsubscrib request unsubscriberequest init field initfield unsubscrib request unsubscriberequest init noinit unsubscrib request unsubscriberequest instanc defaultinst unsubscrib request unsubscriberequest get instanc getdefaultinst instanc defaultinst unsubscrib request unsubscriberequest get instanc type getdefaultinstancefortyp instanc defaultinst com googl protobuf descriptor descriptor get descriptor getdescriptor org apach hedwig protocol pub sub protocol pubsubprotocol intern hedwig unsubscrib request descriptor internal_static_hedwig_unsubscriberequest_descriptor com googl protobuf gener messag generatedmessag field accessor tabl fieldaccessort intern get field accessor tabl internalgetfieldaccessort org apach hedwig protocol pub sub protocol pubsubprotocol intern hedwig unsubscrib request field accessor tabl internal_static_hedwig_unsubscriberequest_fieldaccessort requir byte subscrib id subscriberid subscriberid field number subscriberid_field_numb ha subscrib id hassubscriberid com googl protobuf string bytestr subscrib id subscriberid_ com googl protobuf string bytestr empti ha subscrib id hassubscriberid ha subscrib id hassubscriberid com googl protobuf string bytestr get subscrib id getsubscriberid subscrib id subscriberid_ init field initfield initi isiniti ha subscrib id hassubscriberid write writeto com googl protobuf code output stream codedoutputstream output java io io except ioexcept get serial size getserializeds ha subscrib id hassubscriberid output write byte writebyt get subscrib id getsubscriberid get unknown field getunknownfield write writeto output memoiz serial size memoizedserializeds get serial size getserializeds size memoiz serial size memoizedserializeds size size size ha subscrib id hassubscriberid size com googl protobuf code output stream codedoutputstream comput byte size computebytess get subscrib id getsubscriberid size get unknown field getunknownfield get serial size getserializeds memoiz serial size memoizedserializeds size size org apach hedwig protocol pub sub protocol pubsubprotocol unsubscrib request unsubscriberequest pars from parsefrom com googl protobuf string bytestr data com googl protobuf invalid protocol buffer except invalidprotocolbufferexcept builder newbuild merg from mergefrom data build pars buildpars org apach hedwig protocol pub sub protocol pubsubprotocol unsubscrib request unsubscriberequest pars from parsefrom com googl protobuf string bytestr data com googl protobuf extens registri lite extensionregistrylit extens registri extensionregistri com googl protobuf invalid protocol buffer except invalidprotocolbufferexcept builder newbuild merg from mergefrom data extens registri extensionregistri build pars buildpars org apach hedwig protocol pub sub protocol pubsubprotocol unsubscrib request unsubscriberequest pars from parsefrom data com googl protobuf invalid protocol buffer except invalidprotocolbufferexcept builder newbuild merg from mergefrom data build pars buildpars org apach hedwig protocol pub sub protocol pubsubprotocol unsubscrib request unsubscriberequest pars from parsefrom data com googl protobuf extens registri lite extensionregistrylit extens registri extensionregistri com googl protobuf invalid protocol buffer except invalidprotocolbufferexcept builder newbuild merg from mergefrom data extens registri extensionregistri build pars buildpars org apach hedwig protocol pub sub protocol pubsubprotocol unsubscrib request unsubscriberequest pars from parsefrom java io input stream inputstream input java io io except ioexcept builder newbuild merg from mergefrom input build pars buildpars org apach hedwig protocol pub sub protocol pubsubprotocol unsubscrib request unsubscriberequest pars from parsefrom java io input stream inputstream input com googl protobuf extens registri lite extensionregistrylit extens registri extensionregistri java io io except ioexcept builder newbuild merg from mergefrom input extens registri extensionregistri build pars buildpars org apach hedwig protocol pub sub protocol pubsubprotocol unsubscrib request unsubscriberequest pars delimit from parsedelimitedfrom java io input stream inputstream input java io io except ioexcept builder builder builder newbuild builder merg delimit from mergedelimitedfrom input builder build pars buildpars org apach hedwig protocol pub sub protocol pubsubprotocol unsubscrib request unsubscriberequest pars delimit from parsedelimitedfrom java io input stream inputstream input com googl protobuf extens registri lite extensionregistrylit extens registri extensionregistri java io io except ioexcept builder builder builder newbuild builder merg delimit from mergedelimitedfrom input extens registri extensionregistri builder build pars buildpars org apach hedwig protocol pub sub protocol pubsubprotocol unsubscrib request unsubscriberequest pars from parsefrom com googl protobuf code input stream codedinputstream input java io io except ioexcept builder newbuild merg from mergefrom input build pars buildpars org apach hedwig protocol pub sub protocol pubsubprotocol unsubscrib request unsubscriberequest pars from parsefrom com googl protobuf code input stream codedinputstream input com googl protobuf extens registri lite extensionregistrylit extens registri extensionregistri java io io except ioexcept builder newbuild merg from mergefrom input extens registri extensionregistri build pars buildpars builder builder newbuild builder creat builder builder type newbuilderfortyp builder newbuild builder builder newbuild org apach hedwig protocol pub sub protocol pubsubprotocol unsubscrib request unsubscriberequest prototyp builder newbuild merg from mergefrom prototyp builder builder tobuild builder newbuild builder com googl protobuf gener messag generatedmessag builder builder org apach hedwig protocol pub sub protocol pubsubprotocol unsubscrib request unsubscriberequest result construct org apach hedwig protocol pub sub protocol pubsubprotocol unsubscrib request unsubscriberequest builder newbuild builder builder creat builder builder builder builder result org apach hedwig protocol pub sub protocol pubsubprotocol unsubscrib request unsubscriberequest builder org apach hedwig protocol pub sub protocol pubsubprotocol unsubscrib request unsubscriberequest intern get result internalgetresult result builder clear result illeg state except illegalstateexcept call clear after build result org apach hedwig protocol pub sub protocol pubsubprotocol unsubscrib request unsubscriberequest builder clone creat merg from mergefrom result com googl protobuf descriptor descriptor get descriptor type getdescriptorfortyp org apach hedwig protocol pub sub protocol pubsubprotocol unsubscrib request unsubscriberequest get descriptor getdescriptor org apach hedwig protocol pub sub protocol pubsubprotocol unsubscrib request unsubscriberequest get instanc type getdefaultinstancefortyp org apach hedwig protocol pub sub protocol pubsubprotocol unsubscrib request unsubscriberequest get instanc getdefaultinst initi isiniti result initi isiniti org apach hedwig protocol pub sub protocol pubsubprotocol unsubscrib request unsubscriberequest build result initi isiniti uniniti messag except newuninitializedmessageexcept result build partial buildparti org apach hedwig protocol pub sub protocol pubsubprotocol unsubscrib request unsubscriberequest build pars buildpars com googl protobuf invalid protocol buffer except invalidprotocolbufferexcept initi isiniti uniniti messag except newuninitializedmessageexcept result invalid protocol buffer except asinvalidprotocolbufferexcept build partial buildparti org apach hedwig protocol pub sub protocol pubsubprotocol unsubscrib request unsubscriberequest build partial buildparti result illeg state except illegalstateexcept build ha call builder org apach hedwig protocol pub sub protocol pubsubprotocol unsubscrib request unsubscriberequest returnm result result returnm builder merg from mergefrom com googl protobuf messag org apach hedwig protocol pub sub protocol pubsubprotocol unsubscrib request unsubscriberequest merg from mergefrom org apach hedwig protocol pub sub protocol pubsubprotocol unsubscrib request unsubscriberequest merg from mergefrom builder merg from mergefrom org apach hedwig protocol pub sub protocol pubsubprotocol unsubscrib request unsubscriberequest org apach hedwig protocol pub sub protocol pubsubprotocol unsubscrib request unsubscriberequest get instanc getdefaultinst ha subscrib id hassubscriberid set subscrib id setsubscriberid get subscrib id getsubscriberid merg unknown field mergeunknownfield get unknown field getunknownfield builder merg from mergefrom com googl protobuf code input stream codedinputstream input com googl protobuf extens registri lite extensionregistrylit extens registri extensionregistri java io io except ioexcept com googl protobuf unknown field set unknownfieldset builder unknown field unknownfield com googl protobuf unknown field set unknownfieldset builder newbuild get unknown field getunknownfield tag input read tag readtag tag set unknown field setunknownfield unknown field unknownfield build pars unknown field parseunknownfield input unknown field unknownfield extens registri extensionregistri tag set unknown field setunknownfield unknown field unknownfield build 18 set subscrib id setsubscriberid input read byte readbyt requir byte subscrib id subscriberid ha subscrib id hassubscriberid result ha subscrib id hassubscriberid com googl protobuf string bytestr get subscrib id getsubscriberid result get subscrib id getsubscriberid builder set subscrib id setsubscriberid com googl protobuf string bytestr valu valu pointer except nullpointerexcept result ha subscrib id hassubscriberid result subscrib id subscriberid_ valu builder clear subscrib id clearsubscriberid result ha subscrib id hassubscriberid result subscrib id subscriberid_ get instanc getdefaultinst get subscrib id getsubscriberid protoc insert point protoc_insertion_point builder scope builder_scop hedwig unsubscrib request unsubscriberequest instanc defaultinst unsubscrib request unsubscriberequest org apach hedwig protocol pub sub protocol pubsubprotocol intern forc init internalforceinit instanc defaultinst init field initfield protoc insert point protoc_insertion_point scope class_scop hedwig unsubscrib request unsubscriberequest stop deliveri request stopdeliveryrequest com googl protobuf gener messag generatedmessag us stop deliveri request stopdeliveryrequest builder newbuild construct stop deliveri request stopdeliveryrequest init field initfield stop deliveri request stopdeliveryrequest init noinit stop deliveri request stopdeliveryrequest instanc defaultinst stop deliveri request stopdeliveryrequest get instanc getdefaultinst instanc defaultinst stop deliveri request stopdeliveryrequest get instanc type getdefaultinstancefortyp instanc defaultinst com googl protobuf descriptor descriptor get descriptor getdescriptor org apach hedwig protocol pub sub protocol pubsubprotocol intern hedwig stop deliveri request descriptor internal_static_hedwig_stopdeliveryrequest_descriptor com googl protobuf gener messag generatedmessag field accessor tabl fieldaccessort intern get field accessor tabl internalgetfieldaccessort org apach hedwig protocol pub sub protocol pubsubprotocol intern hedwig stop deliveri request field accessor tabl internal_static_hedwig_stopdeliveryrequest_fieldaccessort requir byte subscrib id subscriberid subscriberid field number subscriberid_field_numb ha subscrib id hassubscriberid com googl protobuf string bytestr subscrib id subscriberid_ com googl protobuf string bytestr empti ha subscrib id hassubscriberid ha subscrib id hassubscriberid com googl protobuf string bytestr get subscrib id getsubscriberid subscrib id subscriberid_ init field initfield initi isiniti ha subscrib id hassubscriberid write writeto com googl protobuf code output stream codedoutputstream output java io io except ioexcept get serial size getserializeds ha subscrib id hassubscriberid output write byte writebyt get subscrib id getsubscriberid get unknown field getunknownfield write writeto output memoiz serial size memoizedserializeds get serial size getserializeds size memoiz serial size memoizedserializeds size size size ha subscrib id hassubscriberid size com googl protobuf code output stream codedoutputstream comput byte size computebytess get subscrib id getsubscriberid size get unknown field getunknownfield get serial size getserializeds memoiz serial size memoizedserializeds size size org apach hedwig protocol pub sub protocol pubsubprotocol stop deliveri request stopdeliveryrequest pars from parsefrom com googl protobuf string bytestr data com googl protobuf invalid protocol buffer except invalidprotocolbufferexcept builder newbuild merg from mergefrom data build pars buildpars org apach hedwig protocol pub sub protocol pubsubprotocol stop deliveri request stopdeliveryrequest pars from parsefrom com googl protobuf string bytestr data com googl protobuf extens registri lite extensionregistrylit extens registri extensionregistri com googl protobuf invalid protocol buffer except invalidprotocolbufferexcept builder newbuild merg from mergefrom data extens registri extensionregistri build pars buildpars org apach hedwig protocol pub sub protocol pubsubprotocol stop deliveri request stopdeliveryrequest pars from parsefrom data com googl protobuf invalid protocol buffer except invalidprotocolbufferexcept builder newbuild merg from mergefrom data build pars buildpars org apach hedwig protocol pub sub protocol pubsubprotocol stop deliveri request stopdeliveryrequest pars from parsefrom data com googl protobuf extens registri lite extensionregistrylit extens registri extensionregistri com googl protobuf invalid protocol buffer except invalidprotocolbufferexcept builder newbuild merg from mergefrom data extens registri extensionregistri build pars buildpars org apach hedwig protocol pub sub protocol pubsubprotocol stop deliveri request stopdeliveryrequest pars from parsefrom java io input stream inputstream input java io io except ioexcept builder newbuild merg from mergefrom input build pars buildpars org apach hedwig protocol pub sub protocol pubsubprotocol stop deliveri request stopdeliveryrequest pars from parsefrom java io input stream inputstream input com googl protobuf extens registri lite extensionregistrylit extens registri extensionregistri java io io except ioexcept builder newbuild merg from mergefrom input extens registri extensionregistri build pars buildpars org apach hedwig protocol pub sub protocol pubsubprotocol stop deliveri request stopdeliveryrequest pars delimit from parsedelimitedfrom java io input stream inputstream input java io io except ioexcept builder builder builder newbuild builder merg delimit from mergedelimitedfrom input builder build pars buildpars org apach hedwig protocol pub sub protocol pubsubprotocol stop deliveri request stopdeliveryrequest pars delimit from parsedelimitedfrom java io input stream inputstream input com googl protobuf extens registri lite extensionregistrylit extens registri extensionregistri java io io except ioexcept builder builder builder newbuild builder merg delimit from mergedelimitedfrom input extens registri extensionregistri builder build pars buildpars org apach hedwig protocol pub sub protocol pubsubprotocol stop deliveri request stopdeliveryrequest pars from parsefrom com googl protobuf code input stream codedinputstream input java io io except ioexcept builder newbuild merg from mergefrom input build pars buildpars org apach hedwig protocol pub sub protocol pubsubprotocol stop deliveri request stopdeliveryrequest pars from parsefrom com googl protobuf code input stream codedinputstream input com googl protobuf extens registri lite extensionregistrylit extens registri extensionregistri java io io except ioexcept builder newbuild merg from mergefrom input extens registri extensionregistri build pars buildpars builder builder newbuild builder creat builder builder type newbuilderfortyp builder newbuild builder builder newbuild org apach hedwig protocol pub sub protocol pubsubprotocol stop deliveri request stopdeliveryrequest prototyp builder newbuild merg from mergefrom prototyp builder builder tobuild builder newbuild builder com googl protobuf gener messag generatedmessag builder builder org apach hedwig protocol pub sub protocol pubsubprotocol stop deliveri request stopdeliveryrequest result construct org apach hedwig protocol pub sub protocol pubsubprotocol stop deliveri request stopdeliveryrequest builder newbuild builder builder creat builder builder builder builder result org apach hedwig protocol pub sub protocol pubsubprotocol stop deliveri request stopdeliveryrequest builder org apach hedwig protocol pub sub protocol pubsubprotocol stop deliveri request stopdeliveryrequest intern get result internalgetresult result builder clear result illeg state except illegalstateexcept call clear after build result org apach hedwig protocol pub sub protocol pubsubprotocol stop deliveri request stopdeliveryrequest builder clone creat merg from mergefrom result com googl protobuf descriptor descriptor get descriptor type getdescriptorfortyp org apach hedwig protocol pub sub protocol pubsubprotocol stop deliveri request stopdeliveryrequest get descriptor getdescriptor org apach hedwig protocol pub sub protocol pubsubprotocol stop deliveri request stopdeliveryrequest get instanc type getdefaultinstancefortyp org apach hedwig protocol pub sub protocol pubsubprotocol stop deliveri request stopdeliveryrequest get instanc getdefaultinst initi isiniti result initi isiniti org apach hedwig protocol pub sub protocol pubsubprotocol stop deliveri request stopdeliveryrequest build result initi isiniti uniniti messag except newuninitializedmessageexcept result build partial buildparti org apach hedwig protocol pub sub protocol pubsubprotocol stop deliveri request stopdeliveryrequest build pars buildpars com googl protobuf invalid protocol buffer except invalidprotocolbufferexcept initi isiniti uniniti messag except newuninitializedmessageexcept result invalid protocol buffer except asinvalidprotocolbufferexcept build partial buildparti org apach hedwig protocol pub sub protocol pubsubprotocol stop deliveri request stopdeliveryrequest build partial buildparti result illeg state except illegalstateexcept build ha call builder org apach hedwig protocol pub sub protocol pubsubprotocol stop deliveri request stopdeliveryrequest returnm result result returnm builder merg from mergefrom com googl protobuf messag org apach hedwig protocol pub sub protocol pubsubprotocol stop deliveri request stopdeliveryrequest merg from mergefrom org apach hedwig protocol pub sub protocol pubsubprotocol stop deliveri request stopdeliveryrequest merg from mergefrom builder merg from mergefrom org apach hedwig protocol pub sub protocol pubsubprotocol stop deliveri request stopdeliveryrequest org apach hedwig protocol pub sub protocol pubsubprotocol stop deliveri request stopdeliveryrequest get instanc getdefaultinst ha subscrib id hassubscriberid set subscrib id setsubscriberid get subscrib id getsubscriberid merg unknown field mergeunknownfield get unknown field getunknownfield builder merg from mergefrom com googl protobuf code input stream codedinputstream input com googl protobuf extens registri lite extensionregistrylit extens registri extensionregistri java io io except ioexcept com googl protobuf unknown field set unknownfieldset builder unknown field unknownfield com googl protobuf unknown field set unknownfieldset builder newbuild get unknown field getunknownfield tag input read tag readtag tag set unknown field setunknownfield unknown field unknownfield build pars unknown field parseunknownfield input unknown field unknownfield extens registri extensionregistri tag set unknown field setunknownfield unknown field unknownfield build 18 set subscrib id setsubscriberid input read byte readbyt requir byte subscrib id subscriberid ha subscrib id hassubscriberid result ha subscrib id hassubscriberid com googl protobuf string bytestr get subscrib id getsubscriberid result get subscrib id getsubscriberid builder set subscrib id setsubscriberid com googl protobuf string bytestr valu valu pointer except nullpointerexcept result ha subscrib id hassubscriberid result subscrib id subscriberid_ valu builder clear subscrib id clearsubscriberid result ha subscrib id hassubscriberid result subscrib id subscriberid_ get instanc getdefaultinst get subscrib id getsubscriberid protoc insert point protoc_insertion_point builder scope builder_scop hedwig stop deliveri request stopdeliveryrequest instanc defaultinst stop deliveri request stopdeliveryrequest org apach hedwig protocol pub sub protocol pubsubprotocol intern forc init internalforceinit instanc defaultinst init field initfield protoc insert point protoc_insertion_point scope class_scop hedwig stop deliveri request stopdeliveryrequest start deliveri request startdeliveryrequest com googl protobuf gener messag generatedmessag us start deliveri request startdeliveryrequest builder newbuild construct start deliveri request startdeliveryrequest init field initfield start deliveri request startdeliveryrequest init noinit start deliveri request startdeliveryrequest instanc defaultinst start deliveri request startdeliveryrequest get instanc getdefaultinst instanc defaultinst start deliveri request startdeliveryrequest get instanc type getdefaultinstancefortyp instanc defaultinst com googl protobuf descriptor descriptor get descriptor getdescriptor org apach hedwig protocol pub sub protocol pubsubprotocol intern hedwig start deliveri request descriptor internal_static_hedwig_startdeliveryrequest_descriptor com googl protobuf gener messag generatedmessag field accessor tabl fieldaccessort intern get field accessor tabl internalgetfieldaccessort org apach hedwig protocol pub sub protocol pubsubprotocol intern hedwig start deliveri request field accessor tabl internal_static_hedwig_startdeliveryrequest_fieldaccessort requir byte subscrib id subscriberid subscriberid field number subscriberid_field_numb ha subscrib id hassubscriberid com googl protobuf string bytestr subscrib id subscriberid_ com googl protobuf string bytestr empti ha subscrib id hassubscriberid ha subscrib id hassubscriberid com googl protobuf string bytestr get subscrib id getsubscriberid subscrib id subscriberid_ init field initfield initi isiniti ha subscrib id hassubscriberid write writeto com googl protobuf code output stream codedoutputstream output java io io except ioexcept get serial size getserializeds ha subscrib id hassubscriberid output write byte writebyt get subscrib id getsubscriberid get unknown field getunknownfield write writeto output memoiz serial size memoizedserializeds get serial size getserializeds size memoiz serial size memoizedserializeds size size size ha subscrib id hassubscriberid size com googl protobuf code output stream codedoutputstream comput byte size computebytess get subscrib id getsubscriberid size get unknown field getunknownfield get serial size getserializeds memoiz serial size memoizedserializeds size size org apach hedwig protocol pub sub protocol pubsubprotocol start deliveri request startdeliveryrequest pars from parsefrom com googl protobuf string bytestr data com googl protobuf invalid protocol buffer except invalidprotocolbufferexcept builder newbuild merg from mergefrom data build pars buildpars org apach hedwig protocol pub sub protocol pubsubprotocol start deliveri request startdeliveryrequest pars from parsefrom com googl protobuf string bytestr data com googl protobuf extens registri lite extensionregistrylit extens registri extensionregistri com googl protobuf invalid protocol buffer except invalidprotocolbufferexcept builder newbuild merg from mergefrom data extens registri extensionregistri build pars buildpars org apach hedwig protocol pub sub protocol pubsubprotocol start deliveri request startdeliveryrequest pars from parsefrom data com googl protobuf invalid protocol buffer except invalidprotocolbufferexcept builder newbuild merg from mergefrom data build pars buildpars org apach hedwig protocol pub sub protocol pubsubprotocol start deliveri request startdeliveryrequest pars from parsefrom data com googl protobuf extens registri lite extensionregistrylit extens registri extensionregistri com googl protobuf invalid protocol buffer except invalidprotocolbufferexcept builder newbuild merg from mergefrom data extens registri extensionregistri build pars buildpars org apach hedwig protocol pub sub protocol pubsubprotocol start deliveri request startdeliveryrequest pars from parsefrom java io input stream inputstream input java io io except ioexcept builder newbuild merg from mergefrom input build pars buildpars org apach hedwig protocol pub sub protocol pubsubprotocol start deliveri request startdeliveryrequest pars from parsefrom java io input stream inputstream input com googl protobuf extens registri lite extensionregistrylit extens registri extensionregistri java io io except ioexcept builder newbuild merg from mergefrom input extens registri extensionregistri build pars buildpars org apach hedwig protocol pub sub protocol pubsubprotocol start deliveri request startdeliveryrequest pars delimit from parsedelimitedfrom java io input stream inputstream input java io io except ioexcept builder builder builder newbuild builder merg delimit from mergedelimitedfrom input builder build pars buildpars org apach hedwig protocol pub sub protocol pubsubprotocol start deliveri request startdeliveryrequest pars delimit from parsedelimitedfrom java io input stream inputstream input com googl protobuf extens registri lite extensionregistrylit extens registri extensionregistri java io io except ioexcept builder builder builder newbuild builder merg delimit from mergedelimitedfrom input extens registri extensionregistri builder build pars buildpars org apach hedwig protocol pub sub protocol pubsubprotocol start deliveri request startdeliveryrequest pars from parsefrom com googl protobuf code input stream codedinputstream input java io io except ioexcept builder newbuild merg from mergefrom input build pars buildpars org apach hedwig protocol pub sub protocol pubsubprotocol start deliveri request startdeliveryrequest pars from parsefrom com googl protobuf code input stream codedinputstream input com googl protobuf extens registri lite extensionregistrylit extens registri extensionregistri java io io except ioexcept builder newbuild merg from mergefrom input extens registri extensionregistri build pars buildpars builder builder newbuild builder creat builder builder type newbuilderfortyp builder newbuild builder builder newbuild org apach hedwig protocol pub sub protocol pubsubprotocol start deliveri request startdeliveryrequest prototyp builder newbuild merg from mergefrom prototyp builder builder tobuild builder newbuild builder com googl protobuf gener messag generatedmessag builder builder org apach hedwig protocol pub sub protocol pubsubprotocol start deliveri request startdeliveryrequest result construct org apach hedwig protocol pub sub protocol pubsubprotocol start deliveri request startdeliveryrequest builder newbuild builder builder creat builder builder builder builder result org apach hedwig protocol pub sub protocol pubsubprotocol start deliveri request startdeliveryrequest builder org apach hedwig protocol pub sub protocol pubsubprotocol start deliveri request startdeliveryrequest intern get result internalgetresult result builder clear result illeg state except illegalstateexcept call clear after build result org apach hedwig protocol pub sub protocol pubsubprotocol start deliveri request startdeliveryrequest builder clone creat merg from mergefrom result com googl protobuf descriptor descriptor get descriptor type getdescriptorfortyp org apach hedwig protocol pub sub protocol pubsubprotocol start deliveri request startdeliveryrequest get descriptor getdescriptor org apach hedwig protocol pub sub protocol pubsubprotocol start deliveri request startdeliveryrequest get instanc type getdefaultinstancefortyp org apach hedwig protocol pub sub protocol pubsubprotocol start deliveri request startdeliveryrequest get instanc getdefaultinst initi isiniti result initi isiniti org apach hedwig protocol pub sub protocol pubsubprotocol start deliveri request startdeliveryrequest build result initi isiniti uniniti messag except newuninitializedmessageexcept result build partial buildparti org apach hedwig protocol pub sub protocol pubsubprotocol start deliveri request startdeliveryrequest build pars buildpars com googl protobuf invalid protocol buffer except invalidprotocolbufferexcept initi isiniti uniniti messag except newuninitializedmessageexcept result invalid protocol buffer except asinvalidprotocolbufferexcept build partial buildparti org apach hedwig protocol pub sub protocol pubsubprotocol start deliveri request startdeliveryrequest build partial buildparti result illeg state except illegalstateexcept build ha call builder org apach hedwig protocol pub sub protocol pubsubprotocol start deliveri request startdeliveryrequest returnm result result returnm builder merg from mergefrom com googl protobuf messag org apach hedwig protocol pub sub protocol pubsubprotocol start deliveri request startdeliveryrequest merg from mergefrom org apach hedwig protocol pub sub protocol pubsubprotocol start deliveri request startdeliveryrequest merg from mergefrom builder merg from mergefrom org apach hedwig protocol pub sub protocol pubsubprotocol start deliveri request startdeliveryrequest org apach hedwig protocol pub sub protocol pubsubprotocol start deliveri request startdeliveryrequest get instanc getdefaultinst ha subscrib id hassubscriberid set subscrib id setsubscriberid get subscrib id getsubscriberid merg unknown field mergeunknownfield get unknown field getunknownfield builder merg from mergefrom com googl protobuf code input stream codedinputstream input com googl protobuf extens registri lite extensionregistrylit extens registri extensionregistri java io io except ioexcept com googl protobuf unknown field set unknownfieldset builder unknown field unknownfield com googl protobuf unknown field set unknownfieldset builder newbuild get unknown field getunknownfield tag input read tag readtag tag set unknown field setunknownfield unknown field unknownfield build pars unknown field parseunknownfield input unknown field unknownfield extens registri extensionregistri tag set unknown field setunknownfield unknown field unknownfield build 18 set subscrib id setsubscriberid input read byte readbyt requir byte subscrib id subscriberid ha subscrib id hassubscriberid result ha subscrib id hassubscriberid com googl protobuf string bytestr get subscrib id getsubscriberid result get subscrib id getsubscriberid builder set subscrib id setsubscriberid com googl protobuf string bytestr valu valu pointer except nullpointerexcept result ha subscrib id hassubscriberid result subscrib id subscriberid_ valu builder clear subscrib id clearsubscriberid result ha subscrib id hassubscriberid result subscrib id subscriberid_ get instanc getdefaultinst get subscrib id getsubscriberid protoc insert point protoc_insertion_point builder scope builder_scop hedwig start deliveri request startdeliveryrequest instanc defaultinst start deliveri request startdeliveryrequest org apach hedwig protocol pub sub protocol pubsubprotocol intern forc init internalforceinit instanc defaultinst init field initfield protoc insert point protoc_insertion_point scope class_scop hedwig start deliveri request startdeliveryrequest pub sub respons pubsubrespons com googl protobuf gener messag generatedmessag us pub sub respons pubsubrespons builder newbuild construct pub sub respons pubsubrespons init field initfield pub sub respons pubsubrespons init noinit pub sub respons pubsubrespons instanc defaultinst pub sub respons pubsubrespons get instanc getdefaultinst instanc defaultinst pub sub respons pubsubrespons get instanc type getdefaultinstancefortyp instanc defaultinst com googl protobuf descriptor descriptor get descriptor getdescriptor org apach hedwig protocol pub sub protocol pubsubprotocol intern hedwig pub sub respons descriptor internal_static_hedwig_pubsubresponse_descriptor com googl protobuf gener messag generatedmessag field accessor tabl fieldaccessort intern get field accessor tabl internalgetfieldaccessort org apach hedwig protocol pub sub protocol pubsubprotocol intern hedwig pub sub respons field accessor tabl internal_static_hedwig_pubsubresponse_fieldaccessort requir hedwig protocol version protocolvers protocol version protocolvers protocolvers field number protocolversion_field_numb ha protocol version hasprotocolvers org apach hedwig protocol pub sub protocol pubsubprotocol protocol version protocolvers protocol version protocolversion_ ha protocol version hasprotocolvers ha protocol version hasprotocolvers org apach hedwig protocol pub sub protocol pubsubprotocol protocol version protocolvers get protocol version getprotocolvers protocol version protocolversion_ requir hedwig statu code statuscod statu code statuscod statuscod field number statuscode_field_numb ha statu code hasstatuscod org apach hedwig protocol pub sub protocol pubsubprotocol statu code statuscod statu code statuscode_ ha statu code hasstatuscod ha statu code hasstatuscod org apach hedwig protocol pub sub protocol pubsubprotocol statu code statuscod get statu code getstatuscod statu code statuscode_ requir uint64 txn id txnid txnid field number txnid_field_numb ha txn id hastxnid txn id txnid_ 0l ha txn id hastxnid ha txn id hastxnid get txn id gettxnid txn id txnid_ option string statu msg statusmsg statusmsg field number statusmsg_field_numb ha statu msg hasstatusmsg java lang string statu msg statusmsg_ ha statu msg hasstatusmsg ha statu msg hasstatusmsg java lang string get statu msg getstatusmsg statu msg statusmsg_ option hedwig messag messag messag field number message_field_numb ha messag hasmessag org apach hedwig protocol pub sub protocol pubsubprotocol messag messag message_ ha messag hasmessag ha messag hasmessag org apach hedwig protocol pub sub protocol pubsubprotocol messag get messag getmessag messag message_ option byte topic topic field number topic_field_numb ha topic hastop com googl protobuf string bytestr topic topic_ com googl protobuf string bytestr empti ha topic hastop ha topic hastop com googl protobuf string bytestr get topic gettop topic topic_ option byte subscrib id subscriberid subscriberid field number subscriberid_field_numb ha subscrib id hassubscriberid com googl protobuf string bytestr subscrib id subscriberid_ com googl protobuf string bytestr empti ha subscrib id hassubscriberid ha subscrib id hassubscriberid com googl protobuf string bytestr get subscrib id getsubscriberid subscrib id subscriberid_ init field initfield protocol version protocolversion_ org apach hedwig protocol pub sub protocol pubsubprotocol protocol version protocolvers version on version_on statu code statuscode_ org apach hedwig protocol pub sub protocol pubsubprotocol statu code statuscod success messag message_ org apach hedwig protocol pub sub protocol pubsubprotocol messag get instanc getdefaultinst initi isiniti ha protocol version hasprotocolvers ha statu code hasstatuscod ha txn id hastxnid ha messag hasmessag get messag getmessag initi isiniti write writeto com googl protobuf code output stream codedoutputstream output java io io except ioexcept get serial size getserializeds ha protocol version hasprotocolvers output write writeenum get protocol version getprotocolvers get number getnumb ha statu code hasstatuscod output write writeenum get statu code getstatuscod get number getnumb ha txn id hastxnid output write int64 writeuint64 get txn id gettxnid ha statu msg hasstatusmsg output write string writestr get statu msg getstatusmsg ha messag hasmessag output write messag writemessag get messag getmessag ha topic hastop output write byte writebyt get topic gettop ha subscrib id hassubscriberid output write byte writebyt get subscrib id getsubscriberid get unknown field getunknownfield write writeto output memoiz serial size memoizedserializeds get serial size getserializeds size memoiz serial size memoizedserializeds size size size ha protocol version hasprotocolvers size com googl protobuf code output stream codedoutputstream comput size computeenums get protocol version getprotocolvers get number getnumb ha statu code hasstatuscod size com googl protobuf code output stream codedoutputstream comput size computeenums get statu code getstatuscod get number getnumb ha txn id hastxnid size com googl protobuf code output stream codedoutputstream comput int64 size computeuint64s get txn id gettxnid ha statu msg hasstatusmsg size com googl protobuf code output stream codedoutputstream comput string size computestrings get statu msg getstatusmsg ha messag hasmessag size com googl protobuf code output stream codedoutputstream comput messag size computemessages get messag getmessag ha topic hastop size com googl protobuf code output stream codedoutputstream comput byte size computebytess get topic gettop ha subscrib id hassubscriberid size com googl protobuf code output stream codedoutputstream comput byte size computebytess get subscrib id getsubscriberid size get unknown field getunknownfield get serial size getserializeds memoiz serial size memoizedserializeds size size org apach hedwig protocol pub sub protocol pubsubprotocol pub sub respons pubsubrespons pars from parsefrom com googl protobuf string bytestr data com googl protobuf invalid protocol buffer except invalidprotocolbufferexcept builder newbuild merg from mergefrom data build pars buildpars org apach hedwig protocol pub sub protocol pubsubprotocol pub sub respons pubsubrespons pars from parsefrom com googl protobuf string bytestr data com googl protobuf extens registri lite extensionregistrylit extens registri extensionregistri com googl protobuf invalid protocol buffer except invalidprotocolbufferexcept builder newbuild merg from mergefrom data extens registri extensionregistri build pars buildpars org apach hedwig protocol pub sub protocol pubsubprotocol pub sub respons pubsubrespons pars from parsefrom data com googl protobuf invalid protocol buffer except invalidprotocolbufferexcept builder newbuild merg from mergefrom data build pars buildpars org apach hedwig protocol pub sub protocol pubsubprotocol pub sub respons pubsubrespons pars from parsefrom data com googl protobuf extens registri lite extensionregistrylit extens registri extensionregistri com googl protobuf invalid protocol buffer except invalidprotocolbufferexcept builder newbuild merg from mergefrom data extens registri extensionregistri build pars buildpars org apach hedwig protocol pub sub protocol pubsubprotocol pub sub respons pubsubrespons pars from parsefrom java io input stream inputstream input java io io except ioexcept builder newbuild merg from mergefrom input build pars buildpars org apach hedwig protocol pub sub protocol pubsubprotocol pub sub respons pubsubrespons pars from parsefrom java io input stream inputstream input com googl protobuf extens registri lite extensionregistrylit extens registri extensionregistri java io io except ioexcept builder newbuild merg from mergefrom input extens registri extensionregistri build pars buildpars org apach hedwig protocol pub sub protocol pubsubprotocol pub sub respons pubsubrespons pars delimit from parsedelimitedfrom java io input stream inputstream input java io io except ioexcept builder builder builder newbuild builder merg delimit from mergedelimitedfrom input builder build pars buildpars org apach hedwig protocol pub sub protocol pubsubprotocol pub sub respons pubsubrespons pars delimit from parsedelimitedfrom java io input stream inputstream input com googl protobuf extens registri lite extensionregistrylit extens registri extensionregistri java io io except ioexcept builder builder builder newbuild builder merg delimit from mergedelimitedfrom input extens registri extensionregistri builder build pars buildpars org apach hedwig protocol pub sub protocol pubsubprotocol pub sub respons pubsubrespons pars from parsefrom com googl protobuf code input stream codedinputstream input java io io except ioexcept builder newbuild merg from mergefrom input build pars buildpars org apach hedwig protocol pub sub protocol pubsubprotocol pub sub respons pubsubrespons pars from parsefrom com googl protobuf code input stream codedinputstream input com googl protobuf extens registri lite extensionregistrylit extens registri extensionregistri java io io except ioexcept builder newbuild merg from mergefrom input extens registri extensionregistri build pars buildpars builder builder newbuild builder creat builder builder type newbuilderfortyp builder newbuild builder builder newbuild org apach hedwig protocol pub sub protocol pubsubprotocol pub sub respons pubsubrespons prototyp builder newbuild merg from mergefrom prototyp builder builder tobuild builder newbuild builder com googl protobuf gener messag generatedmessag builder builder org apach hedwig protocol pub sub protocol pubsubprotocol pub sub respons pubsubrespons result construct org apach hedwig protocol pub sub protocol pubsubprotocol pub sub respons pubsubrespons builder newbuild builder builder creat builder builder builder builder result org apach hedwig protocol pub sub protocol pubsubprotocol pub sub respons pubsubrespons builder org apach hedwig protocol pub sub protocol pubsubprotocol pub sub respons pubsubrespons intern get result internalgetresult result builder clear result illeg state except illegalstateexcept call clear after build result org apach hedwig protocol pub sub protocol pubsubprotocol pub sub respons pubsubrespons builder clone creat merg from mergefrom result com googl protobuf descriptor descriptor get descriptor type getdescriptorfortyp org apach hedwig protocol pub sub protocol pubsubprotocol pub sub respons pubsubrespons get descriptor getdescriptor org apach hedwig protocol pub sub protocol pubsubprotocol pub sub respons pubsubrespons get instanc type getdefaultinstancefortyp org apach hedwig protocol pub sub protocol pubsubprotocol pub sub respons pubsubrespons get instanc getdefaultinst initi isiniti result initi isiniti org apach hedwig protocol pub sub protocol pubsubprotocol pub sub respons pubsubrespons build result initi isiniti uniniti messag except newuninitializedmessageexcept result build partial buildparti org apach hedwig protocol pub sub protocol pubsubprotocol pub sub respons pubsubrespons build pars buildpars com googl protobuf invalid protocol buffer except invalidprotocolbufferexcept initi isiniti uniniti messag except newuninitializedmessageexcept result invalid protocol buffer except asinvalidprotocolbufferexcept build partial buildparti org apach hedwig protocol pub sub protocol pubsubprotocol pub sub respons pubsubrespons build partial buildparti result illeg state except illegalstateexcept build ha call builder org apach hedwig protocol pub sub protocol pubsubprotocol pub sub respons pubsubrespons returnm result result returnm builder merg from mergefrom com googl protobuf messag org apach hedwig protocol pub sub protocol pubsubprotocol pub sub respons pubsubrespons merg from mergefrom org apach hedwig protocol pub sub protocol pubsubprotocol pub sub respons pubsubrespons merg from mergefrom builder merg from mergefrom org apach hedwig protocol pub sub protocol pubsubprotocol pub sub respons pubsubrespons org apach hedwig protocol pub sub protocol pubsubprotocol pub sub respons pubsubrespons get instanc getdefaultinst ha protocol version hasprotocolvers set protocol version setprotocolvers get protocol version getprotocolvers ha statu code hasstatuscod set statu code setstatuscod get statu code getstatuscod ha txn id hastxnid set txn id settxnid get txn id gettxnid ha statu msg hasstatusmsg set statu msg setstatusmsg get statu msg getstatusmsg ha messag hasmessag merg messag mergemessag get messag getmessag ha topic hastop set topic settop get topic gettop ha subscrib id hassubscriberid set subscrib id setsubscriberid get subscrib id getsubscriberid merg unknown field mergeunknownfield get unknown field getunknownfield builder merg from mergefrom com googl protobuf code input stream codedinputstream input com googl protobuf extens registri lite extensionregistrylit extens registri extensionregistri java io io except ioexcept com googl protobuf unknown field set unknownfieldset builder unknown field unknownfield com googl protobuf unknown field set unknownfieldset builder newbuild get unknown field getunknownfield tag input read tag readtag tag set unknown field setunknownfield unknown field unknownfield build pars unknown field parseunknownfield input unknown field unknownfield extens registri extensionregistri tag set unknown field setunknownfield unknown field unknownfield build raw valu rawvalu input read readenum org apach hedwig protocol pub sub protocol pubsubprotocol protocol version protocolvers valu org apach hedwig protocol pub sub protocol pubsubprotocol protocol version protocolvers valu valueof raw valu rawvalu valu unknown field unknownfield merg varint field mergevarintfield raw valu rawvalu set protocol version setprotocolvers valu 16 raw valu rawvalu input read readenum org apach hedwig protocol pub sub protocol pubsubprotocol statu code statuscod valu org apach hedwig protocol pub sub protocol pubsubprotocol statu code statuscod valu valueof raw valu rawvalu valu unknown field unknownfield merg varint field mergevarintfield raw valu rawvalu set statu code setstatuscod valu 24 set txn id settxnid input read int64 readuint64 34 set statu msg setstatusmsg input read string readstr 42 org apach hedwig protocol pub sub protocol pubsubprotocol messag builder sub builder subbuild org apach hedwig protocol pub sub protocol pubsubprotocol messag builder newbuild ha messag hasmessag sub builder subbuild merg from mergefrom get messag getmessag input read messag readmessag sub builder subbuild extens registri extensionregistri set messag setmessag sub builder subbuild build partial buildparti 50 set topic settop input read byte readbyt 58 set subscrib id setsubscriberid input read byte readbyt requir hedwig protocol version protocolvers protocol version protocolvers ha protocol version hasprotocolvers result ha protocol version hasprotocolvers org apach hedwig protocol pub sub protocol pubsubprotocol protocol version protocolvers get protocol version getprotocolvers result get protocol version getprotocolvers builder set protocol version setprotocolvers org apach hedwig protocol pub sub protocol pubsubprotocol protocol version protocolvers valu valu pointer except nullpointerexcept result ha protocol version hasprotocolvers result protocol version protocolversion_ valu builder clear protocol version clearprotocolvers result ha protocol version hasprotocolvers result protocol version protocolversion_ org apach hedwig protocol pub sub protocol pubsubprotocol protocol version protocolvers version on version_on requir hedwig statu code statuscod statu code statuscod ha statu code hasstatuscod result ha statu code hasstatuscod org apach hedwig protocol pub sub protocol pubsubprotocol statu code statuscod get statu code getstatuscod result get statu code getstatuscod builder set statu code setstatuscod org apach hedwig protocol pub sub protocol pubsubprotocol statu code statuscod valu valu pointer except nullpointerexcept result ha statu code hasstatuscod result statu code statuscode_ valu builder clear statu code clearstatuscod result ha statu code hasstatuscod result statu code statuscode_ org apach hedwig protocol pub sub protocol pubsubprotocol statu code statuscod success requir uint64 txn id txnid ha txn id hastxnid result ha txn id hastxnid get txn id gettxnid result get txn id gettxnid builder set txn id settxnid valu result ha txn id hastxnid result txn id txnid_ valu builder clear txn id cleartxnid result ha txn id hastxnid result txn id txnid_ 0l option string statu msg statusmsg ha statu msg hasstatusmsg result ha statu msg hasstatusmsg java lang string get statu msg getstatusmsg result get statu msg getstatusmsg builder set statu msg setstatusmsg java lang string valu valu pointer except nullpointerexcept result ha statu msg hasstatusmsg result statu msg statusmsg_ valu builder clear statu msg clearstatusmsg result ha statu msg hasstatusmsg result statu msg statusmsg_ get instanc getdefaultinst get statu msg getstatusmsg option hedwig messag messag ha messag hasmessag result ha messag hasmessag org apach hedwig protocol pub sub protocol pubsubprotocol messag get messag getmessag result get messag getmessag builder set messag setmessag org apach hedwig protocol pub sub protocol pubsubprotocol messag valu valu pointer except nullpointerexcept result ha messag hasmessag result messag message_ valu builder set messag setmessag org apach hedwig protocol pub sub protocol pubsubprotocol messag builder builder valu builderforvalu result ha messag hasmessag result messag message_ builder valu builderforvalu build builder merg messag mergemessag org apach hedwig protocol pub sub protocol pubsubprotocol messag valu result ha messag hasmessag result messag message_ org apach hedwig protocol pub sub protocol pubsubprotocol messag get instanc getdefaultinst result messag message_ org apach hedwig protocol pub sub protocol pubsubprotocol messag builder newbuild result messag message_ merg from mergefrom valu build partial buildparti result messag message_ valu result ha messag hasmessag builder clear messag clearmessag result ha messag hasmessag result messag message_ org apach hedwig protocol pub sub protocol pubsubprotocol messag get instanc getdefaultinst option byte topic ha topic hastop result ha topic hastop com googl protobuf string bytestr get topic gettop result get topic gettop builder set topic settop com googl protobuf string bytestr valu valu pointer except nullpointerexcept result ha topic hastop result topic topic_ valu builder clear topic cleartop result ha topic hastop result topic topic_ get instanc getdefaultinst get topic gettop option byte subscrib id subscriberid ha subscrib id hassubscriberid result ha subscrib id hassubscriberid com googl protobuf string bytestr get subscrib id getsubscriberid result get subscrib id getsubscriberid builder set subscrib id setsubscriberid com googl protobuf string bytestr valu valu pointer except nullpointerexcept result ha subscrib id hassubscriberid result subscrib id subscriberid_ valu builder clear subscrib id clearsubscriberid result ha subscrib id hassubscriberid result subscrib id subscriberid_ get instanc getdefaultinst get subscrib id getsubscriberid protoc insert point protoc_insertion_point builder scope builder_scop hedwig pub sub respons pubsubrespons instanc defaultinst pub sub respons pubsubrespons org apach hedwig protocol pub sub protocol pubsubprotocol intern forc init internalforceinit instanc defaultinst init field initfield protoc insert point protoc_insertion_point scope class_scop hedwig pub sub respons pubsubrespons subscript state subscriptionst com googl protobuf gener messag generatedmessag us subscript state subscriptionst builder newbuild construct subscript state subscriptionst init field initfield subscript state subscriptionst init noinit subscript state subscriptionst instanc defaultinst subscript state subscriptionst get instanc getdefaultinst instanc defaultinst subscript state subscriptionst get instanc type getdefaultinstancefortyp instanc defaultinst com googl protobuf descriptor descriptor get descriptor getdescriptor org apach hedwig protocol pub sub protocol pubsubprotocol intern hedwig subscript state descriptor internal_static_hedwig_subscriptionstate_descriptor com googl protobuf gener messag generatedmessag field accessor tabl fieldaccessort intern get field accessor tabl internalgetfieldaccessort org apach hedwig protocol pub sub protocol pubsubprotocol intern hedwig subscript state field accessor tabl internal_static_hedwig_subscriptionstate_fieldaccessort requir hedwig messag seq id messageseqid msg id msgid msgid field number msgid_field_numb ha msg id hasmsgid org apach hedwig protocol pub sub protocol pubsubprotocol messag seq id messageseqid msg id msgid_ ha msg id hasmsgid ha msg id hasmsgid org apach hedwig protocol pub sub protocol pubsubprotocol messag seq id messageseqid get msg id getmsgid msg id msgid_ option uint32 messag bound messagebound messagebound field number messagebound_field_numb ha messag bound hasmessagebound messag bound messagebound_ ha messag bound hasmessagebound ha messag bound hasmessagebound get messag bound getmessagebound messag bound messagebound_ init field initfield msg id msgid_ org apach hedwig protocol pub sub protocol pubsubprotocol messag seq id messageseqid get instanc getdefaultinst initi isiniti ha msg id hasmsgid get msg id getmsgid initi isiniti write writeto com googl protobuf code output stream codedoutputstream output java io io except ioexcept get serial size getserializeds ha msg id hasmsgid output write messag writemessag get msg id getmsgid ha messag bound hasmessagebound output write int32 writeuint32 get messag bound getmessagebound get unknown field getunknownfield write writeto output memoiz serial size memoizedserializeds get serial size getserializeds size memoiz serial size memoizedserializeds size size size ha msg id hasmsgid size com googl protobuf code output stream codedoutputstream comput messag size computemessages get msg id getmsgid ha messag bound hasmessagebound size com googl protobuf code output stream codedoutputstream comput int32 size computeuint32s get messag bound getmessagebound size get unknown field getunknownfield get serial size getserializeds memoiz serial size memoizedserializeds size size org apach hedwig protocol pub sub protocol pubsubprotocol subscript state subscriptionst pars from parsefrom com googl protobuf string bytestr data com googl protobuf invalid protocol buffer except invalidprotocolbufferexcept builder newbuild merg from mergefrom data build pars buildpars org apach hedwig protocol pub sub protocol pubsubprotocol subscript state subscriptionst pars from parsefrom com googl protobuf string bytestr data com googl protobuf extens registri lite extensionregistrylit extens registri extensionregistri com googl protobuf invalid protocol buffer except invalidprotocolbufferexcept builder newbuild merg from mergefrom data extens registri extensionregistri build pars buildpars org apach hedwig protocol pub sub protocol pubsubprotocol subscript state subscriptionst pars from parsefrom data com googl protobuf invalid protocol buffer except invalidprotocolbufferexcept builder newbuild merg from mergefrom data build pars buildpars org apach hedwig protocol pub sub protocol pubsubprotocol subscript state subscriptionst pars from parsefrom data com googl protobuf extens registri lite extensionregistrylit extens registri extensionregistri com googl protobuf invalid protocol buffer except invalidprotocolbufferexcept builder newbuild merg from mergefrom data extens registri extensionregistri build pars buildpars org apach hedwig protocol pub sub protocol pubsubprotocol subscript state subscriptionst pars from parsefrom java io input stream inputstream input java io io except ioexcept builder newbuild merg from mergefrom input build pars buildpars org apach hedwig protocol pub sub protocol pubsubprotocol subscript state subscriptionst pars from parsefrom java io input stream inputstream input com googl protobuf extens registri lite extensionregistrylit extens registri extensionregistri java io io except ioexcept builder newbuild merg from mergefrom input extens registri extensionregistri build pars buildpars org apach hedwig protocol pub sub protocol pubsubprotocol subscript state subscriptionst pars delimit from parsedelimitedfrom java io input stream inputstream input java io io except ioexcept builder builder builder newbuild builder merg delimit from mergedelimitedfrom input builder build pars buildpars org apach hedwig protocol pub sub protocol pubsubprotocol subscript state subscriptionst pars delimit from parsedelimitedfrom java io input stream inputstream input com googl protobuf extens registri lite extensionregistrylit extens registri extensionregistri java io io except ioexcept builder builder builder newbuild builder merg delimit from mergedelimitedfrom input extens registri extensionregistri builder build pars buildpars org apach hedwig protocol pub sub protocol pubsubprotocol subscript state subscriptionst pars from parsefrom com googl protobuf code input stream codedinputstream input java io io except ioexcept builder newbuild merg from mergefrom input build pars buildpars org apach hedwig protocol pub sub protocol pubsubprotocol subscript state subscriptionst pars from parsefrom com googl protobuf code input stream codedinputstream input com googl protobuf extens registri lite extensionregistrylit extens registri extensionregistri java io io except ioexcept builder newbuild merg from mergefrom input extens registri extensionregistri build pars buildpars builder builder newbuild builder creat builder builder type newbuilderfortyp builder newbuild builder builder newbuild org apach hedwig protocol pub sub protocol pubsubprotocol subscript state subscriptionst prototyp builder newbuild merg from mergefrom prototyp builder builder tobuild builder newbuild builder com googl protobuf gener messag generatedmessag builder builder org apach hedwig protocol pub sub protocol pubsubprotocol subscript state subscriptionst result construct org apach hedwig protocol pub sub protocol pubsubprotocol subscript state subscriptionst builder newbuild builder builder creat builder builder builder builder result org apach hedwig protocol pub sub protocol pubsubprotocol subscript state subscriptionst builder org apach hedwig protocol pub sub protocol pubsubprotocol subscript state subscriptionst intern get result internalgetresult result builder clear result illeg state except illegalstateexcept call clear after build result org apach hedwig protocol pub sub protocol pubsubprotocol subscript state subscriptionst builder clone creat merg from mergefrom result com googl protobuf descriptor descriptor get descriptor type getdescriptorfortyp org apach hedwig protocol pub sub protocol pubsubprotocol subscript state subscriptionst get descriptor getdescriptor org apach hedwig protocol pub sub protocol pubsubprotocol subscript state subscriptionst get instanc type getdefaultinstancefortyp org apach hedwig protocol pub sub protocol pubsubprotocol subscript state subscriptionst get instanc getdefaultinst initi isiniti result initi isiniti org apach hedwig protocol pub sub protocol pubsubprotocol subscript state subscriptionst build result initi isiniti uniniti messag except newuninitializedmessageexcept result build partial buildparti org apach hedwig protocol pub sub protocol pubsubprotocol subscript state subscriptionst build pars buildpars com googl protobuf invalid protocol buffer except invalidprotocolbufferexcept initi isiniti uniniti messag except newuninitializedmessageexcept result invalid protocol buffer except asinvalidprotocolbufferexcept build partial buildparti org apach hedwig protocol pub sub protocol pubsubprotocol subscript state subscriptionst build partial buildparti result illeg state except illegalstateexcept build ha call builder org apach hedwig protocol pub sub protocol pubsubprotocol subscript state subscriptionst returnm result result returnm builder merg from mergefrom com googl protobuf messag org apach hedwig protocol pub sub protocol pubsubprotocol subscript state subscriptionst merg from mergefrom org apach hedwig protocol pub sub protocol pubsubprotocol subscript state subscriptionst merg from mergefrom builder merg from mergefrom org apach hedwig protocol pub sub protocol pubsubprotocol subscript state subscriptionst org apach hedwig protocol pub sub protocol pubsubprotocol subscript state subscriptionst get instanc getdefaultinst ha msg id hasmsgid merg msg id mergemsgid get msg id getmsgid ha messag bound hasmessagebound set messag bound setmessagebound get messag bound getmessagebound merg unknown field mergeunknownfield get unknown field getunknownfield builder merg from mergefrom com googl protobuf code input stream codedinputstream input com googl protobuf extens registri lite extensionregistrylit extens registri extensionregistri java io io except ioexcept com googl protobuf unknown field set unknownfieldset builder unknown field unknownfield com googl protobuf unknown field set unknownfieldset builder newbuild get unknown field getunknownfield tag input read tag readtag tag set unknown field setunknownfield unknown field unknownfield build pars unknown field parseunknownfield input unknown field unknownfield extens registri extensionregistri tag set unknown field setunknownfield unknown field unknownfield build 10 org apach hedwig protocol pub sub protocol pubsubprotocol messag seq id messageseqid builder sub builder subbuild org apach hedwig protocol pub sub protocol pubsubprotocol messag seq id messageseqid builder newbuild ha msg id hasmsgid sub builder subbuild merg from mergefrom get msg id getmsgid input read messag readmessag sub builder subbuild extens registri extensionregistri set msg id setmsgid sub builder subbuild build partial buildparti 16 set messag bound setmessagebound input read int32 readuint32 requir hedwig messag seq id messageseqid msg id msgid ha msg id hasmsgid result ha msg id hasmsgid org apach hedwig protocol pub sub protocol pubsubprotocol messag seq id messageseqid get msg id getmsgid result get msg id getmsgid builder set msg id setmsgid org apach hedwig protocol pub sub protocol pubsubprotocol messag seq id messageseqid valu valu pointer except nullpointerexcept result ha msg id hasmsgid result msg id msgid_ valu builder set msg id setmsgid org apach hedwig protocol pub sub protocol pubsubprotocol messag seq id messageseqid builder builder valu builderforvalu result ha msg id hasmsgid result msg id msgid_ builder valu builderforvalu build builder merg msg id mergemsgid org apach hedwig protocol pub sub protocol pubsubprotocol messag seq id messageseqid valu result ha msg id hasmsgid result msg id msgid_ org apach hedwig protocol pub sub protocol pubsubprotocol messag seq id messageseqid get instanc getdefaultinst result msg id msgid_ org apach hedwig protocol pub sub protocol pubsubprotocol messag seq id messageseqid builder newbuild result msg id msgid_ merg from mergefrom valu build partial buildparti result msg id msgid_ valu result ha msg id hasmsgid builder clear msg id clearmsgid result ha msg id hasmsgid result msg id msgid_ org apach hedwig protocol pub sub protocol pubsubprotocol messag seq id messageseqid get instanc getdefaultinst option uint32 messag bound messagebound ha messag bound hasmessagebound result ha messag bound hasmessagebound get messag bound getmessagebound result get messag bound getmessagebound builder set messag bound setmessagebound valu result ha messag bound hasmessagebound result messag bound messagebound_ valu builder clear messag bound clearmessagebound result ha messag bound hasmessagebound result messag bound messagebound_ protoc insert point protoc_insertion_point builder scope builder_scop hedwig subscript state subscriptionst instanc defaultinst subscript state subscriptionst org apach hedwig protocol pub sub protocol pubsubprotocol intern forc init internalforceinit instanc defaultinst init field initfield protoc insert point protoc_insertion_point scope class_scop hedwig subscript state subscriptionst ledger rang ledgerrang com googl protobuf gener messag generatedmessag us ledger rang ledgerrang builder newbuild construct ledger rang ledgerrang init field initfield ledger rang ledgerrang init noinit ledger rang ledgerrang instanc defaultinst ledger rang ledgerrang get instanc getdefaultinst instanc defaultinst ledger rang ledgerrang get instanc type getdefaultinstancefortyp instanc defaultinst com googl protobuf descriptor descriptor get descriptor getdescriptor org apach hedwig protocol pub sub protocol pubsubprotocol intern hedwig ledger rang descriptor internal_static_hedwig_ledgerrange_descriptor com googl protobuf gener messag generatedmessag field accessor tabl fieldaccessort intern get field accessor tabl internalgetfieldaccessort org apach hedwig protocol pub sub protocol pubsubprotocol intern hedwig ledger rang field accessor tabl internal_static_hedwig_ledgerrange_fieldaccessort requir uint64 ledger id ledgerid ledgerid field number ledgerid_field_numb ha ledger id hasledgerid ledger id ledgerid_ 0l ha ledger id hasledgerid ha ledger id hasledgerid get ledger id getledgerid ledger id ledgerid_ option hedwig messag seq id messageseqid end seq id includ endseqidinclud endseqidinclud field number endseqidincluded_field_numb ha end seq id includ hasendseqidinclud org apach hedwig protocol pub sub protocol pubsubprotocol messag seq id messageseqid end seq id includ endseqidincluded_ ha end seq id includ hasendseqidinclud ha end seq id includ hasendseqidinclud org apach hedwig protocol pub sub protocol pubsubprotocol messag seq id messageseqid get end seq id includ getendseqidinclud end seq id includ endseqidincluded_ init field initfield end seq id includ endseqidincluded_ org apach hedwig protocol pub sub protocol pubsubprotocol messag seq id messageseqid get instanc getdefaultinst initi isiniti ha ledger id hasledgerid ha end seq id includ hasendseqidinclud get end seq id includ getendseqidinclud initi isiniti write writeto com googl protobuf code output stream codedoutputstream output java io io except ioexcept get serial size getserializeds ha ledger id hasledgerid output write int64 writeuint64 get ledger id getledgerid ha end seq id includ hasendseqidinclud output write messag writemessag get end seq id includ getendseqidinclud get unknown field getunknownfield write writeto output memoiz serial size memoizedserializeds get serial size getserializeds size memoiz serial size memoizedserializeds size size size ha ledger id hasledgerid size com googl protobuf code output stream codedoutputstream comput int64 size computeuint64s get ledger id getledgerid ha end seq id includ hasendseqidinclud size com googl protobuf code output stream codedoutputstream comput messag size computemessages get end seq id includ getendseqidinclud size get unknown field getunknownfield get serial size getserializeds memoiz serial size memoizedserializeds size size org apach hedwig protocol pub sub protocol pubsubprotocol ledger rang ledgerrang pars from parsefrom com googl protobuf string bytestr data com googl protobuf invalid protocol buffer except invalidprotocolbufferexcept builder newbuild merg from mergefrom data build pars buildpars org apach hedwig protocol pub sub protocol pubsubprotocol ledger rang ledgerrang pars from parsefrom com googl protobuf string bytestr data com googl protobuf extens registri lite extensionregistrylit extens registri extensionregistri com googl protobuf invalid protocol buffer except invalidprotocolbufferexcept builder newbuild merg from mergefrom data extens registri extensionregistri build pars buildpars org apach hedwig protocol pub sub protocol pubsubprotocol ledger rang ledgerrang pars from parsefrom data com googl protobuf invalid protocol buffer except invalidprotocolbufferexcept builder newbuild merg from mergefrom data build pars buildpars org apach hedwig protocol pub sub protocol pubsubprotocol ledger rang ledgerrang pars from parsefrom data com googl protobuf extens registri lite extensionregistrylit extens registri extensionregistri com googl protobuf invalid protocol buffer except invalidprotocolbufferexcept builder newbuild merg from mergefrom data extens registri extensionregistri build pars buildpars org apach hedwig protocol pub sub protocol pubsubprotocol ledger rang ledgerrang pars from parsefrom java io input stream inputstream input java io io except ioexcept builder newbuild merg from mergefrom input build pars buildpars org apach hedwig protocol pub sub protocol pubsubprotocol ledger rang ledgerrang pars from parsefrom java io input stream inputstream input com googl protobuf extens registri lite extensionregistrylit extens registri extensionregistri java io io except ioexcept builder newbuild merg from mergefrom input extens registri extensionregistri build pars buildpars org apach hedwig protocol pub sub protocol pubsubprotocol ledger rang ledgerrang pars delimit from parsedelimitedfrom java io input stream inputstream input java io io except ioexcept builder builder builder newbuild builder merg delimit from mergedelimitedfrom input builder build pars buildpars org apach hedwig protocol pub sub protocol pubsubprotocol ledger rang ledgerrang pars delimit from parsedelimitedfrom java io input stream inputstream input com googl protobuf extens registri lite extensionregistrylit extens registri extensionregistri java io io except ioexcept builder builder builder newbuild builder merg delimit from mergedelimitedfrom input extens registri extensionregistri builder build pars buildpars org apach hedwig protocol pub sub protocol pubsubprotocol ledger rang ledgerrang pars from parsefrom com googl protobuf code input stream codedinputstream input java io io except ioexcept builder newbuild merg from mergefrom input build pars buildpars org apach hedwig protocol pub sub protocol pubsubprotocol ledger rang ledgerrang pars from parsefrom com googl protobuf code input stream codedinputstream input com googl protobuf extens registri lite extensionregistrylit extens registri extensionregistri java io io except ioexcept builder newbuild merg from mergefrom input extens registri extensionregistri build pars buildpars builder builder newbuild builder creat builder builder type newbuilderfortyp builder newbuild builder builder newbuild org apach hedwig protocol pub sub protocol pubsubprotocol ledger rang ledgerrang prototyp builder newbuild merg from mergefrom prototyp builder builder tobuild builder newbuild builder com googl protobuf gener messag generatedmessag builder builder org apach hedwig protocol pub sub protocol pubsubprotocol ledger rang ledgerrang result construct org apach hedwig protocol pub sub protocol pubsubprotocol ledger rang ledgerrang builder newbuild builder builder creat builder builder builder builder result org apach hedwig protocol pub sub protocol pubsubprotocol ledger rang ledgerrang builder org apach hedwig protocol pub sub protocol pubsubprotocol ledger rang ledgerrang intern get result internalgetresult result builder clear result illeg state except illegalstateexcept call clear after build result org apach hedwig protocol pub sub protocol pubsubprotocol ledger rang ledgerrang builder clone creat merg from mergefrom result com googl protobuf descriptor descriptor get descriptor type getdescriptorfortyp org apach hedwig protocol pub sub protocol pubsubprotocol ledger rang ledgerrang get descriptor getdescriptor org apach hedwig protocol pub sub protocol pubsubprotocol ledger rang ledgerrang get instanc type getdefaultinstancefortyp org apach hedwig protocol pub sub protocol pubsubprotocol ledger rang ledgerrang get instanc getdefaultinst initi isiniti result initi isiniti org apach hedwig protocol pub sub protocol pubsubprotocol ledger rang ledgerrang build result initi isiniti uniniti messag except newuninitializedmessageexcept result build partial buildparti org apach hedwig protocol pub sub protocol pubsubprotocol ledger rang ledgerrang build pars buildpars com googl protobuf invalid protocol buffer except invalidprotocolbufferexcept initi isiniti uniniti messag except newuninitializedmessageexcept result invalid protocol buffer except asinvalidprotocolbufferexcept build partial buildparti org apach hedwig protocol pub sub protocol pubsubprotocol ledger rang ledgerrang build partial buildparti result illeg state except illegalstateexcept build ha call builder org apach hedwig protocol pub sub protocol pubsubprotocol ledger rang ledgerrang returnm result result returnm builder merg from mergefrom com googl protobuf messag org apach hedwig protocol pub sub protocol pubsubprotocol ledger rang ledgerrang merg from mergefrom org apach hedwig protocol pub sub protocol pubsubprotocol ledger rang ledgerrang merg from mergefrom builder merg from mergefrom org apach hedwig protocol pub sub protocol pubsubprotocol ledger rang ledgerrang org apach hedwig protocol pub sub protocol pubsubprotocol ledger rang ledgerrang get instanc getdefaultinst ha ledger id hasledgerid set ledger id setledgerid get ledger id getledgerid ha end seq id includ hasendseqidinclud merg end seq id includ mergeendseqidinclud get end seq id includ getendseqidinclud merg unknown field mergeunknownfield get unknown field getunknownfield builder merg from mergefrom com googl protobuf code input stream codedinputstream input com googl protobuf extens registri lite extensionregistrylit extens registri extensionregistri java io io except ioexcept com googl protobuf unknown field set unknownfieldset builder unknown field unknownfield com googl protobuf unknown field set unknownfieldset builder newbuild get unknown field getunknownfield tag input read tag readtag tag set unknown field setunknownfield unknown field unknownfield build pars unknown field parseunknownfield input unknown field unknownfield extens registri extensionregistri tag set unknown field setunknownfield unknown field unknownfield build set ledger id setledgerid input read int64 readuint64 18 org apach hedwig protocol pub sub protocol pubsubprotocol messag seq id messageseqid builder sub builder subbuild org apach hedwig protocol pub sub protocol pubsubprotocol messag seq id messageseqid builder newbuild ha end seq id includ hasendseqidinclud sub builder subbuild merg from mergefrom get end seq id includ getendseqidinclud input read messag readmessag sub builder subbuild extens registri extensionregistri set end seq id includ setendseqidinclud sub builder subbuild build partial buildparti requir uint64 ledger id ledgerid ha ledger id hasledgerid result ha ledger id hasledgerid get ledger id getledgerid result get ledger id getledgerid builder set ledger id setledgerid valu result ha ledger id hasledgerid result ledger id ledgerid_ valu builder clear ledger id clearledgerid result ha ledger id hasledgerid result ledger id ledgerid_ 0l option hedwig messag seq id messageseqid end seq id includ endseqidinclud ha end seq id includ hasendseqidinclud result ha end seq id includ hasendseqidinclud org apach hedwig protocol pub sub protocol pubsubprotocol messag seq id messageseqid get end seq id includ getendseqidinclud result get end seq id includ getendseqidinclud builder set end seq id includ setendseqidinclud org apach hedwig protocol pub sub protocol pubsubprotocol messag seq id messageseqid valu valu pointer except nullpointerexcept result ha end seq id includ hasendseqidinclud result end seq id includ endseqidincluded_ valu builder set end seq id includ setendseqidinclud org apach hedwig protocol pub sub protocol pubsubprotocol messag seq id messageseqid builder builder valu builderforvalu result ha end seq id includ hasendseqidinclud result end seq id includ endseqidincluded_ builder valu builderforvalu build builder merg end seq id includ mergeendseqidinclud org apach hedwig protocol pub sub protocol pubsubprotocol messag seq id messageseqid valu result ha end seq id includ hasendseqidinclud result end seq id includ endseqidincluded_ org apach hedwig protocol pub sub protocol pubsubprotocol messag seq id messageseqid get instanc getdefaultinst result end seq id includ endseqidincluded_ org apach hedwig protocol pub sub protocol pubsubprotocol messag seq id messageseqid builder newbuild result end seq id includ endseqidincluded_ merg from mergefrom valu build partial buildparti result end seq id includ endseqidincluded_ valu result ha end seq id includ hasendseqidinclud builder clear end seq id includ clearendseqidinclud result ha end seq id includ hasendseqidinclud result end seq id includ endseqidincluded_ org apach hedwig protocol pub sub protocol pubsubprotocol messag seq id messageseqid get instanc getdefaultinst protoc insert point protoc_insertion_point builder scope builder_scop hedwig ledger rang ledgerrang instanc defaultinst ledger rang ledgerrang org apach hedwig protocol pub sub protocol pubsubprotocol intern forc init internalforceinit instanc defaultinst init field initfield protoc insert point protoc_insertion_point scope class_scop hedwig ledger rang ledgerrang ledger rang ledgerrang com googl protobuf gener messag generatedmessag us ledger rang ledgerrang builder newbuild construct ledger rang ledgerrang init field initfield ledger rang ledgerrang init noinit ledger rang ledgerrang instanc defaultinst ledger rang ledgerrang get instanc getdefaultinst instanc defaultinst ledger rang ledgerrang get instanc type getdefaultinstancefortyp instanc defaultinst com googl protobuf descriptor descriptor get descriptor getdescriptor org apach hedwig protocol pub sub protocol pubsubprotocol intern hedwig ledger rang descriptor internal_static_hedwig_ledgerranges_descriptor com googl protobuf gener messag generatedmessag field accessor tabl fieldaccessort intern get field accessor tabl internalgetfieldaccessort org apach hedwig protocol pub sub protocol pubsubprotocol intern hedwig ledger rang field accessor tabl internal_static_hedwig_ledgerranges_fieldaccessort repeat hedwig ledger rang ledgerrang rang rang field number ranges_field_numb java util list org apach hedwig protocol pub sub protocol pubsubprotocol ledger rang ledgerrang rang ranges_ java util collect empti list emptylist java util list org apach hedwig protocol pub sub protocol pubsubprotocol ledger rang ledgerrang get rang list getrangeslist rang ranges_ get rang count getrangescount rang ranges_ size org apach hedwig protocol pub sub protocol pubsubprotocol ledger rang ledgerrang get rang getrang index rang ranges_ get index init field initfield initi isiniti org apach hedwig protocol pub sub protocol pubsubprotocol ledger rang ledgerrang element get rang list getrangeslist element initi isiniti write writeto com googl protobuf code output stream codedoutputstream output java io io except ioexcept get serial size getserializeds org apach hedwig protocol pub sub protocol pubsubprotocol ledger rang ledgerrang element get rang list getrangeslist output write messag writemessag element get unknown field getunknownfield write writeto output memoiz serial size memoizedserializeds get serial size getserializeds size memoiz serial size memoizedserializeds size size size org apach hedwig protocol pub sub protocol pubsubprotocol ledger rang ledgerrang element get rang list getrangeslist size com googl protobuf code output stream codedoutputstream comput messag size computemessages element size get unknown field getunknownfield get serial size getserializeds memoiz serial size memoizedserializeds size size org apach hedwig protocol pub sub protocol pubsubprotocol ledger rang ledgerrang pars from parsefrom com googl protobuf string bytestr data com googl protobuf invalid protocol buffer except invalidprotocolbufferexcept builder newbuild merg from mergefrom data build pars buildpars org apach hedwig protocol pub sub protocol pubsubprotocol ledger rang ledgerrang pars from parsefrom com googl protobuf string bytestr data com googl protobuf extens registri lite extensionregistrylit extens registri extensionregistri com googl protobuf invalid protocol buffer except invalidprotocolbufferexcept builder newbuild merg from mergefrom data extens registri extensionregistri build pars buildpars org apach hedwig protocol pub sub protocol pubsubprotocol ledger rang ledgerrang pars from parsefrom data com googl protobuf invalid protocol buffer except invalidprotocolbufferexcept builder newbuild merg from mergefrom data build pars buildpars org apach hedwig protocol pub sub protocol pubsubprotocol ledger rang ledgerrang pars from parsefrom data com googl protobuf extens registri lite extensionregistrylit extens registri extensionregistri com googl protobuf invalid protocol buffer except invalidprotocolbufferexcept builder newbuild merg from mergefrom data extens registri extensionregistri build pars buildpars org apach hedwig protocol pub sub protocol pubsubprotocol ledger rang ledgerrang pars from parsefrom java io input stream inputstream input java io io except ioexcept builder newbuild merg from mergefrom input build pars buildpars org apach hedwig protocol pub sub protocol pubsubprotocol ledger rang ledgerrang pars from parsefrom java io input stream inputstream input com googl protobuf extens registri lite extensionregistrylit extens registri extensionregistri java io io except ioexcept builder newbuild merg from mergefrom input extens registri extensionregistri build pars buildpars org apach hedwig protocol pub sub protocol pubsubprotocol ledger rang ledgerrang pars delimit from parsedelimitedfrom java io input stream inputstream input java io io except ioexcept builder builder builder newbuild builder merg delimit from mergedelimitedfrom input builder build pars buildpars org apach hedwig protocol pub sub protocol pubsubprotocol ledger rang ledgerrang pars delimit from parsedelimitedfrom java io input stream inputstream input com googl protobuf extens registri lite extensionregistrylit extens registri extensionregistri java io io except ioexcept builder builder builder newbuild builder merg delimit from mergedelimitedfrom input extens registri extensionregistri builder build pars buildpars org apach hedwig protocol pub sub protocol pubsubprotocol ledger rang ledgerrang pars from parsefrom com googl protobuf code input stream codedinputstream input java io io except ioexcept builder newbuild merg from mergefrom input build pars buildpars org apach hedwig protocol pub sub protocol pubsubprotocol ledger rang ledgerrang pars from parsefrom com googl protobuf code input stream codedinputstream input com googl protobuf extens registri lite extensionregistrylit extens registri extensionregistri java io io except ioexcept builder newbuild merg from mergefrom input extens registri extensionregistri build pars buildpars builder builder newbuild builder creat builder builder type newbuilderfortyp builder newbuild builder builder newbuild org apach hedwig protocol pub sub protocol pubsubprotocol ledger rang ledgerrang prototyp builder newbuild merg from mergefrom prototyp builder builder tobuild builder newbuild builder com googl protobuf gener messag generatedmessag builder builder org apach hedwig protocol pub sub protocol pubsubprotocol ledger rang ledgerrang result construct org apach hedwig protocol pub sub protocol pubsubprotocol ledger rang ledgerrang builder newbuild builder builder creat builder builder builder builder result org apach hedwig protocol pub sub protocol pubsubprotocol ledger rang ledgerrang builder org apach hedwig protocol pub sub protocol pubsubprotocol ledger rang ledgerrang intern get result internalgetresult result builder clear result illeg state except illegalstateexcept call clear after build result org apach hedwig protocol pub sub protocol pubsubprotocol ledger rang ledgerrang builder clone creat merg from mergefrom result com googl protobuf descriptor descriptor get descriptor type getdescriptorfortyp org apach hedwig protocol pub sub protocol pubsubprotocol ledger rang ledgerrang get descriptor getdescriptor org apach hedwig protocol pub sub protocol pubsubprotocol ledger rang ledgerrang get instanc type getdefaultinstancefortyp org apach hedwig protocol pub sub protocol pubsubprotocol ledger rang ledgerrang get instanc getdefaultinst initi isiniti result initi isiniti org apach hedwig protocol pub sub protocol pubsubprotocol ledger rang ledgerrang build result initi isiniti uniniti messag except newuninitializedmessageexcept result build partial buildparti org apach hedwig protocol pub sub protocol pubsubprotocol ledger rang ledgerrang build pars buildpars com googl protobuf invalid protocol buffer except invalidprotocolbufferexcept initi isiniti uniniti messag except newuninitializedmessageexcept result invalid protocol buffer except asinvalidprotocolbufferexcept build partial buildparti org apach hedwig protocol pub sub protocol pubsubprotocol ledger rang ledgerrang build partial buildparti result illeg state except illegalstateexcept build ha call builder result rang ranges_ java util collect empti list empty_list result rang ranges_ java util collect unmodifi list unmodifiablelist result rang ranges_ org apach hedwig protocol pub sub protocol pubsubprotocol ledger rang ledgerrang returnm result result returnm builder merg from mergefrom com googl protobuf messag org apach hedwig protocol pub sub protocol pubsubprotocol ledger rang ledgerrang merg from mergefrom org apach hedwig protocol pub sub protocol pubsubprotocol ledger rang ledgerrang merg from mergefrom builder merg from mergefrom org apach hedwig protocol pub sub protocol pubsubprotocol ledger rang ledgerrang org apach hedwig protocol pub sub protocol pubsubprotocol ledger rang ledgerrang get instanc getdefaultinst rang ranges_ empti isempti result rang ranges_ empti isempti result rang ranges_ java util arrai list arraylist org apach hedwig protocol pub sub protocol pubsubprotocol ledger rang ledgerrang result rang ranges_ add addal rang ranges_ merg unknown field mergeunknownfield get unknown field getunknownfield builder merg from mergefrom com googl protobuf code input stream codedinputstream input com googl protobuf extens registri lite extensionregistrylit extens registri extensionregistri java io io except ioexcept com googl protobuf unknown field set unknownfieldset builder unknown field unknownfield com googl protobuf unknown field set unknownfieldset builder newbuild get unknown field getunknownfield tag input read tag readtag tag set unknown field setunknownfield unknown field unknownfield build pars unknown field parseunknownfield input unknown field unknownfield extens registri extensionregistri tag set unknown field setunknownfield unknown field unknownfield build 10 org apach hedwig protocol pub sub protocol pubsubprotocol ledger rang ledgerrang builder sub builder subbuild org apach hedwig protocol pub sub protocol pubsubprotocol ledger rang ledgerrang builder newbuild input read messag readmessag sub builder subbuild extens registri extensionregistri add rang addrang sub builder subbuild build partial buildparti repeat hedwig ledger rang ledgerrang rang java util list org apach hedwig protocol pub sub protocol pubsubprotocol ledger rang ledgerrang get rang list getrangeslist java util collect unmodifi list unmodifiablelist result rang ranges_ get rang count getrangescount result get rang count getrangescount org apach hedwig protocol pub sub protocol pubsubprotocol ledger rang ledgerrang get rang getrang index result get rang getrang index builder set rang setrang index org apach hedwig protocol pub sub protocol pubsubprotocol ledger rang ledgerrang valu valu pointer except nullpointerexcept result rang ranges_ set index valu builder set rang setrang index org apach hedwig protocol pub sub protocol pubsubprotocol ledger rang ledgerrang builder builder valu builderforvalu result rang ranges_ set index builder valu builderforvalu build builder add rang addrang org apach hedwig protocol pub sub protocol pubsubprotocol ledger rang ledgerrang valu valu pointer except nullpointerexcept result rang ranges_ empti isempti result rang ranges_ java util arrai list arraylist org apach hedwig protocol pub sub protocol pubsubprotocol ledger rang ledgerrang result rang ranges_ add valu builder add rang addrang org apach hedwig protocol pub sub protocol pubsubprotocol ledger rang ledgerrang builder builder valu builderforvalu result rang ranges_ empti isempti result rang ranges_ java util arrai list arraylist org apach hedwig protocol pub sub protocol pubsubprotocol ledger rang ledgerrang result rang ranges_ add builder valu builderforvalu build builder add rang addallrang java lang iter org apach hedwig protocol pub sub protocol pubsubprotocol ledger rang ledgerrang valu result rang ranges_ empti isempti result rang ranges_ java util arrai list arraylist org apach hedwig protocol pub sub protocol pubsubprotocol ledger rang ledgerrang add addal valu result rang ranges_ builder clear rang clearrang result rang ranges_ java util collect empti list emptylist protoc insert point protoc_insertion_point builder scope builder_scop hedwig ledger rang ledgerrang instanc defaultinst ledger rang ledgerrang org apach hedwig protocol pub sub protocol pubsubprotocol intern forc init internalforceinit instanc defaultinst init field initfield protoc insert point protoc_insertion_point scope class_scop hedwig ledger rang ledgerrang com googl protobuf descriptor descriptor intern hedwig messag descriptor internal_static_hedwig_message_descriptor com googl protobuf gener messag generatedmessag field accessor tabl fieldaccessort intern hedwig messag field accessor tabl internal_static_hedwig_message_fieldaccessort com googl protobuf descriptor descriptor intern hedwig region specif seq id descriptor internal_static_hedwig_regionspecificseqid_descriptor com googl protobuf gener messag generatedmessag field accessor tabl fieldaccessort intern hedwig region specif seq id field accessor tabl internal_static_hedwig_regionspecificseqid_fieldaccessort com googl protobuf descriptor descriptor intern hedwig messag seq id descriptor internal_static_hedwig_messageseqid_descriptor com googl protobuf gener messag generatedmessag field accessor tabl fieldaccessort intern hedwig messag seq id field accessor tabl internal_static_hedwig_messageseqid_fieldaccessort com googl protobuf descriptor descriptor intern hedwig pub sub request descriptor internal_static_hedwig_pubsubrequest_descriptor com googl protobuf gener messag generatedmessag field accessor tabl fieldaccessort intern hedwig pub sub request field accessor tabl internal_static_hedwig_pubsubrequest_fieldaccessort com googl protobuf descriptor descriptor intern hedwig publish request descriptor internal_static_hedwig_publishrequest_descriptor com googl protobuf gener messag generatedmessag field accessor tabl fieldaccessort intern hedwig publish request field accessor tabl internal_static_hedwig_publishrequest_fieldaccessort com googl protobuf descriptor descriptor intern hedwig subscrib request descriptor internal_static_hedwig_subscriberequest_descriptor com googl protobuf gener messag generatedmessag field accessor tabl fieldaccessort intern hedwig subscrib request field accessor tabl internal_static_hedwig_subscriberequest_fieldaccessort com googl protobuf descriptor descriptor intern hedwig subscript option descriptor internal_static_hedwig_subscriptionoptions_descriptor com googl protobuf gener messag generatedmessag field accessor tabl fieldaccessort intern hedwig subscript option field accessor tabl internal_static_hedwig_subscriptionoptions_fieldaccessort com googl protobuf descriptor descriptor intern hedwig consum request descriptor internal_static_hedwig_consumerequest_descriptor com googl protobuf gener messag generatedmessag field accessor tabl fieldaccessort intern hedwig consum request field accessor tabl internal_static_hedwig_consumerequest_fieldaccessort com googl protobuf descriptor descriptor intern hedwig unsubscrib request descriptor internal_static_hedwig_unsubscriberequest_descriptor com googl protobuf gener messag generatedmessag field accessor tabl fieldaccessort intern hedwig unsubscrib request field accessor tabl internal_static_hedwig_unsubscriberequest_fieldaccessort com googl protobuf descriptor descriptor intern hedwig stop deliveri request descriptor internal_static_hedwig_stopdeliveryrequest_descriptor com googl protobuf gener messag generatedmessag field accessor tabl fieldaccessort intern hedwig stop deliveri request field accessor tabl internal_static_hedwig_stopdeliveryrequest_fieldaccessort com googl protobuf descriptor descriptor intern hedwig start deliveri request descriptor internal_static_hedwig_startdeliveryrequest_descriptor com googl protobuf gener messag generatedmessag field accessor tabl fieldaccessort intern hedwig start deliveri request field accessor tabl internal_static_hedwig_startdeliveryrequest_fieldaccessort com googl protobuf descriptor descriptor intern hedwig pub sub respons descriptor internal_static_hedwig_pubsubresponse_descriptor com googl protobuf gener messag generatedmessag field accessor tabl fieldaccessort intern hedwig pub sub respons field accessor tabl internal_static_hedwig_pubsubresponse_fieldaccessort com googl protobuf descriptor descriptor intern hedwig subscript state descriptor internal_static_hedwig_subscriptionstate_descriptor com googl protobuf gener messag generatedmessag field accessor tabl fieldaccessort intern hedwig subscript state field accessor tabl internal_static_hedwig_subscriptionstate_fieldaccessort com googl protobuf descriptor descriptor intern hedwig ledger rang descriptor internal_static_hedwig_ledgerrange_descriptor com googl protobuf gener messag generatedmessag field accessor tabl fieldaccessort intern hedwig ledger rang field accessor tabl internal_static_hedwig_ledgerrange_fieldaccessort com googl protobuf descriptor descriptor intern hedwig ledger rang descriptor internal_static_hedwig_ledgerranges_descriptor com googl protobuf gener messag generatedmessag field accessor tabl fieldaccessort intern hedwig ledger rang field accessor tabl internal_static_hedwig_ledgerranges_fieldaccessort com googl protobuf descriptor file descriptor filedescriptor get descriptor getdescriptor descriptor com googl protobuf descriptor file descriptor filedescriptor descriptor java lang string descriptor data descriptordata src main protobuf pub sub protocol pubsubprotocol proto 022 006 hedwig 006hedwig 007 messag 007messag 022 014 004 bodi 004bodi 030 001 002 014 022 021 tsrc region 030 002 001 014 022 005 msg id 005msgid 030 003 001 0132 024 hedwig me sage seq id sageseqid 023 region specif seq id 023regionspecificseqid 022 016 006 regi 006regi 030 001 002 014 022 005 seq id 005seqid 030 002 002 004 014 messag seq id 014messageseqid 022 026 016 local compon 016localcompon 030 001 001 004 0225 020 remot compon 020remotecompon nt 030 002 003 0132 033 hedwig region specif seq id regionspecificseqid 361 003 pub sub request rpubsubrequest 0220 017 protocol version 017protocolvers 030 001 002 0162 027 hedwig protocol version protocolvers 022 004 type 004type 030 002 002 016 025 hedwig oper type operationtyp 022 024 014 server 014triedserv 030 003 003 014 022 005 txn id 005txnid 030 004 002 004 022 023 013 claim 013shouldclaim 030 005 001 010 022 005 topic 005topic 030 006 002 014 022 016 publish request 016publishrequest 0304 001 013 026 hedwig publish request publishrequest 0222 020 subscrib req 020subscribereq uest 0305 001 0132 030 hedwig subscrib request subscriberequest 022 016 consum request consumerequest 0306 001 0132 026 hedwig consum req consumereq uest 0226 022 unsubscrib request 022unsubscriberequest 0307 001 0132 032 hedwi unsubscrib request unsubscriberequest 0228 023 stop deliveri requ 023stopdeliveryrequ est 0308 001 0132 033 hedwig stop deliveri request stopdeliveryrequest 022 024 start deliveri request 024startdeliveryrequest 0309 001 0132 034 hedwig st art deliveri request artdeliveryrequest 016 publish request 016publishrequest 022 034 003 msg 030 002 002 0132 017 hedwig messag 355 001 020 subscrib 020subscrib request 022 024 014 subscrib id 014subscriberid 030 002 002 014 022q 016 createo 016createo attach rattach 030 003 001 0162 hedwig subscrib request subscriberequest creat attach createorattach 020 creat attach 020create_or_attach 022 032 013 sync 013sync hronou 030 004 001 010 005 005fals 022 024 014 messag bound 014messagebound 030 005 001 016 creat attach 016createorattach 022 006 creat 006creat 020 000 022 006 atta 006atta ch 020 001 022 024 020 creat attach 020create_or_attach 020 002 201 001 023 subscript 023subscript ion option ionopt 022q 016 creat attach 016createorattach 030 002 001 0162 hed wig subscrib request subscriberequest creat attach createorattach 020 cre 020cre at attach ate_or_attach 022 027 014 messag bound 014messagebound 030 003 001 0010 016 consum request 016consumerequest 022 024 014 subscrib id 014subscriberid 030 002 002 014 022 005 msg id 005msgid 030 003 002 0132 024 hedwig messag seq id messageseqid 022u nsubscrib request nsubscriberequest 022 024 014 subscrib id 014subscriberid 030 002 002 014 023 stop deliveri request 023stopdeliveryrequest 022 024 014 subscrib id 014subscriberid 030 002 002 014 024 start deliveri request 024startdeliveryrequest 022 024 014 subscrib 014subscrib er id erid 030 002 002 014 323 001 016 pub sub respons 016pubsubrespons 0220 017 protoco 017protoco version lversion 030 001 002 0162 027 hedwig protocol version protocolvers 022 nstatu code nstatuscod 030 002 002 0162 022 hedwig statu code statuscod 022 005 txn id 005txnid 030 003 002 004 022 021 tstatu msg tstatusmsg 030 004 001 022 007 me 007me sage 030 005 001 0132 017 hedwig messag 022 005 topic 005topic 030 006 001 014 022 024 014 subscrib id 014subscriberid 030 007 001 014 021 subscript 021subscript state 022 005 msg id 005msgid 030 001 002 0132 024 hedwig messag seq messageseq id 022 024 014 messag bound 014messagebound 030 002 001 013 ledger rang 013ledgerrang 022 020 010 ledger id 010ledgerid 030 001 002 004 022 020 end seq id includ 020endseqidinclud 030 002 001 0132 024 hedwig messag seq id messageseqid 014 ledger rang 014ledgerrang 022 006 rang 006rang 030 001 003 0132 023 hedwig ledger rang ledgerrang 017 protocol version 017protocolvers 022 017 013 version on 013version_on 020 001 op rop erat type erationtyp 022 013 007 publish 007publish 020 000 022 subscrib tsubscrib 020 001 022 013 007 consum 007consum 020 002 022 017 013 unsubscrib 013unsubscrib 020 003 022 022 016 start 016start_d eliveri 020 004 022 021 stop deliveri rstop_deliveri 020 005 236 002 statusc nstatusc od 022 013 007 success 007success 020 000 022 026 021 malform request 021malformed_request 020 221 003 022 022 topic rno_such_top 020 222 003 022 036 031 client 031client_already_ ubscrib 020 223 003 022 032 025 client subscrib 025client_not_subscrib 020 224 003 022 026 021 connect 021could_not_connect 020 225 003 022 017 topic busi ntopic_busi 020 226 003 022 036 031 respons topic 031not_responsible_for_top 020 365 003 022 021 014 ser 014ser vice down vice_down 020 366 003 022 024 017 uncertain state 017uncertain_st 020 367 003 022 031 024 024un expect condit expected_condit 020 330 004 022 016 composit tcomposit 020 274 005b 036 032 org 032org apach hedwig protocolh 001 com googl protobuf descriptor file descriptor filedescriptor intern descriptor assign internaldescriptorassign assign com googl protobuf descriptor file descriptor filedescriptor intern descriptor assign internaldescriptorassign com googl protobuf extens registri extensionregistri assign descriptor assigndescriptor com googl protobuf descriptor file descriptor filedescriptor root descriptor root intern hedwig messag descriptor internal_static_hedwig_message_descriptor get descriptor getdescriptor get messag type getmessagetyp get intern hedwig messag field accessor tabl internal_static_hedwig_message_fieldaccessort com googl protobuf gener messag generatedmessag field accessor tabl fieldaccessort intern hedwig messag descriptor internal_static_hedwig_message_descriptor java lang string bodi src region srcregion msg id msgid org apach hedwig protocol pub sub protocol pubsubprotocol messag org apach hedwig protocol pub sub protocol pubsubprotocol messag builder intern hedwig region specif seq id descriptor internal_static_hedwig_regionspecificseqid_descriptor get descriptor getdescriptor get messag type getmessagetyp get intern hedwig region specif seq id field accessor tabl internal_static_hedwig_regionspecificseqid_fieldaccessort com googl protobuf gener messag generatedmessag field accessor tabl fieldaccessort intern hedwig region specif seq id descriptor internal_static_hedwig_regionspecificseqid_descriptor java lang string region seq id seqid org apach hedwig protocol pub sub protocol pubsubprotocol region specif seq id regionspecificseqid org apach hedwig protocol pub sub protocol pubsubprotocol region specif seq id regionspecificseqid builder intern hedwig messag seq id descriptor internal_static_hedwig_messageseqid_descriptor get descriptor getdescriptor get messag type getmessagetyp get intern hedwig messag seq id field accessor tabl internal_static_hedwig_messageseqid_fieldaccessort com googl protobuf gener messag generatedmessag field accessor tabl fieldaccessort intern hedwig messag seq id descriptor internal_static_hedwig_messageseqid_descriptor java lang string local compon localcompon remot compon remotecompon org apach hedwig protocol pub sub protocol pubsubprotocol messag seq id messageseqid org apach hedwig protocol pub sub protocol pubsubprotocol messag seq id messageseqid builder intern hedwig pub sub request descriptor internal_static_hedwig_pubsubrequest_descriptor get descriptor getdescriptor get messag type getmessagetyp get intern hedwig pub sub request field accessor tabl internal_static_hedwig_pubsubrequest_fieldaccessort com googl protobuf gener messag generatedmessag field accessor tabl fieldaccessort intern hedwig pub sub request descriptor internal_static_hedwig_pubsubrequest_descriptor java lang string protocol version protocolvers type server triedserv txn id txnid claim shouldclaim topic publish request publishrequest subscrib request subscriberequest consum request consumerequest unsubscrib request unsubscriberequest stop deliveri request stopdeliveryrequest start deliveri request startdeliveryrequest org apach hedwig protocol pub sub protocol pubsubprotocol pub sub request pubsubrequest org apach hedwig protocol pub sub protocol pubsubprotocol pub sub request pubsubrequest builder intern hedwig publish request descriptor internal_static_hedwig_publishrequest_descriptor get descriptor getdescriptor get messag type getmessagetyp get intern hedwig publish request field accessor tabl internal_static_hedwig_publishrequest_fieldaccessort com googl protobuf gener messag generatedmessag field accessor tabl fieldaccessort intern hedwig publish request descriptor internal_static_hedwig_publishrequest_descriptor java lang string msg org apach hedwig protocol pub sub protocol pubsubprotocol publish request publishrequest org apach hedwig protocol pub sub protocol pubsubprotocol publish request publishrequest builder intern hedwig subscrib request descriptor internal_static_hedwig_subscriberequest_descriptor get descriptor getdescriptor get messag type getmessagetyp get intern hedwig subscrib request field accessor tabl internal_static_hedwig_subscriberequest_fieldaccessort com googl protobuf gener messag generatedmessag field accessor tabl fieldaccessort intern hedwig subscrib request descriptor internal_static_hedwig_subscriberequest_descriptor java lang string subscrib id subscriberid creat attach createorattach synchron messag bound messagebound org apach hedwig protocol pub sub protocol pubsubprotocol subscrib request subscriberequest org apach hedwig protocol pub sub protocol pubsubprotocol subscrib request subscriberequest builder intern hedwig subscript option descriptor internal_static_hedwig_subscriptionoptions_descriptor get descriptor getdescriptor get messag type getmessagetyp get intern hedwig subscript option field accessor tabl internal_static_hedwig_subscriptionoptions_fieldaccessort com googl protobuf gener messag generatedmessag field accessor tabl fieldaccessort intern hedwig subscript option descriptor internal_static_hedwig_subscriptionoptions_descriptor java lang string creat attach createorattach messag bound messagebound org apach hedwig protocol pub sub protocol pubsubprotocol subscript option subscriptionopt org apach hedwig protocol pub sub protocol pubsubprotocol subscript option subscriptionopt builder intern hedwig consum request descriptor internal_static_hedwig_consumerequest_descriptor get descriptor getdescriptor get messag type getmessagetyp get intern hedwig consum request field accessor tabl internal_static_hedwig_consumerequest_fieldaccessort com googl protobuf gener messag generatedmessag field accessor tabl fieldaccessort intern hedwig consum request descriptor internal_static_hedwig_consumerequest_descriptor java lang string subscrib id subscriberid msg id msgid org apach hedwig protocol pub sub protocol pubsubprotocol consum request consumerequest org apach hedwig protocol pub sub protocol pubsubprotocol consum request consumerequest builder intern hedwig unsubscrib request descriptor internal_static_hedwig_unsubscriberequest_descriptor get descriptor getdescriptor get messag type getmessagetyp get intern hedwig unsubscrib request field accessor tabl internal_static_hedwig_unsubscriberequest_fieldaccessort com googl protobuf gener messag generatedmessag field accessor tabl fieldaccessort intern hedwig unsubscrib request descriptor internal_static_hedwig_unsubscriberequest_descriptor java lang string subscrib id subscriberid org apach hedwig protocol pub sub protocol pubsubprotocol unsubscrib request unsubscriberequest org apach hedwig protocol pub sub protocol pubsubprotocol unsubscrib request unsubscriberequest builder intern hedwig stop deliveri request descriptor internal_static_hedwig_stopdeliveryrequest_descriptor get descriptor getdescriptor get messag type getmessagetyp get intern hedwig stop deliveri request field accessor tabl internal_static_hedwig_stopdeliveryrequest_fieldaccessort com googl protobuf gener messag generatedmessag field accessor tabl fieldaccessort intern hedwig stop deliveri request descriptor internal_static_hedwig_stopdeliveryrequest_descriptor java lang string subscrib id subscriberid org apach hedwig protocol pub sub protocol pubsubprotocol stop deliveri request stopdeliveryrequest org apach hedwig protocol pub sub protocol pubsubprotocol stop deliveri request stopdeliveryrequest builder intern hedwig start deliveri request descriptor internal_static_hedwig_startdeliveryrequest_descriptor get descriptor getdescriptor get messag type getmessagetyp get 10 intern hedwig start deliveri request field accessor tabl internal_static_hedwig_startdeliveryrequest_fieldaccessort com googl protobuf gener messag generatedmessag field accessor tabl fieldaccessort intern hedwig start deliveri request descriptor internal_static_hedwig_startdeliveryrequest_descriptor java lang string subscrib id subscriberid org apach hedwig protocol pub sub protocol pubsubprotocol start deliveri request startdeliveryrequest org apach hedwig protocol pub sub protocol pubsubprotocol start deliveri request startdeliveryrequest builder intern hedwig pub sub respons descriptor internal_static_hedwig_pubsubresponse_descriptor get descriptor getdescriptor get messag type getmessagetyp get 11 intern hedwig pub sub respons field accessor tabl internal_static_hedwig_pubsubresponse_fieldaccessort com googl protobuf gener messag generatedmessag field accessor tabl fieldaccessort intern hedwig pub sub respons descriptor internal_static_hedwig_pubsubresponse_descriptor java lang string protocol version protocolvers statu code statuscod txn id txnid statu msg statusmsg messag topic subscrib id subscriberid org apach hedwig protocol pub sub protocol pubsubprotocol pub sub respons pubsubrespons org apach hedwig protocol pub sub protocol pubsubprotocol pub sub respons pubsubrespons builder intern hedwig subscript state descriptor internal_static_hedwig_subscriptionstate_descriptor get descriptor getdescriptor get messag type getmessagetyp get 12 intern hedwig subscript state field accessor tabl internal_static_hedwig_subscriptionstate_fieldaccessort com googl protobuf gener messag generatedmessag field accessor tabl fieldaccessort intern hedwig subscript state descriptor internal_static_hedwig_subscriptionstate_descriptor java lang string msg id msgid messag bound messagebound org apach hedwig protocol pub sub protocol pubsubprotocol subscript state subscriptionst org apach hedwig protocol pub sub protocol pubsubprotocol subscript state subscriptionst builder intern hedwig ledger rang descriptor internal_static_hedwig_ledgerrange_descriptor get descriptor getdescriptor get messag type getmessagetyp get 13 intern hedwig ledger rang field accessor tabl internal_static_hedwig_ledgerrange_fieldaccessort com googl protobuf gener messag generatedmessag field accessor tabl fieldaccessort intern hedwig ledger rang descriptor internal_static_hedwig_ledgerrange_descriptor java lang string ledger id ledgerid end seq id includ endseqidinclud org apach hedwig protocol pub sub protocol pubsubprotocol ledger rang ledgerrang org apach hedwig protocol pub sub protocol pubsubprotocol ledger rang ledgerrang builder intern hedwig ledger rang descriptor internal_static_hedwig_ledgerranges_descriptor get descriptor getdescriptor get messag type getmessagetyp get 14 intern hedwig ledger rang field accessor tabl internal_static_hedwig_ledgerranges_fieldaccessort com googl protobuf gener messag generatedmessag field accessor tabl fieldaccessort intern hedwig ledger rang descriptor internal_static_hedwig_ledgerranges_descriptor java lang string rang org apach hedwig protocol pub sub protocol pubsubprotocol ledger rang ledgerrang org apach hedwig protocol pub sub protocol pubsubprotocol ledger rang ledgerrang builder com googl protobuf descriptor file descriptor filedescriptor intern build gener file from internalbuildgeneratedfilefrom descriptor data descriptordata com googl protobuf descriptor file descriptor filedescriptor assign intern forc init internalforceinit protoc insert point protoc_insertion_point outer scope outer_class_scop 
context local start time localstarttim id context id time id id local start time localstarttim time 
data wrapper basic inet socket address inetsocketaddress on extra piec inform ssl port option us hedwig encapsul regular ssl port inform on data structur hedwig hub server configur listen standard regular port addition option ssl port string represent hedwig socket address hedwigsocketaddress hostnam port ssl port option hedwig socket address hedwigsocketaddress member field make up string hostnam port ssl port sslport inet socket address inetsocketaddress socket address socketaddress inet socket address inetsocketaddress ssl socket address sslsocketaddress constant us string colon ssl port no_ssl_port constructor take regular ssl port hedwig socket address hedwigsocketaddress string hostnam port ssl port sslport hostnam hostnam port port ssl port sslport ssl port sslport socket address socketaddress inet socket address inetsocketaddress hostnam port ssl port sslport ssl port no_ssl_port ssl socket address sslsocketaddress inet socket address inetsocketaddress hostnam ssl port sslport ssl socket address sslsocketaddress constructor take regular port hedwig socket address hedwigsocketaddress string hostnam port hostnam port ssl port no_ssl_port constructor from string serial version hedwig socket address hedwigsocketaddress string addr string part addr split colon hostnam part port integ pars parseint part part length ssl port sslport integ pars parseint part ssl port sslport ssl port no_ssl_port socket address socketaddress inet socket address inetsocketaddress hostnam port ssl port sslport ssl port no_ssl_port ssl socket address sslsocketaddress inet socket address inetsocketaddress hostnam ssl port sslport ssl socket address sslsocketaddress getter string get hostnam gethostnam hostnam get port getport port get ssl port getsslport ssl port sslport method inet socket address inetsocketaddress regular port inet socket address inetsocketaddress get socket address getsocketaddress socket address socketaddress method inet socket address inetsocketaddress ssl port note ssl port invalid valu pass object creation call illeg argument except illegalargumentexcept runtim except inet socket address inetsocketaddress get ssl socket address getsslsocketaddress ssl socket address sslsocketaddress method determin object instanc ssl enabl contain valid ssl port ssl enabl issslen ssl port sslport ssl port no_ssl_port string serial version object overrid string string tostr string builder stringbuild sb string builder stringbuild sb append hostnam append colon append port append colon append ssl port sslport sb string tostr implement equal method compar two hedwig socket address hedwigsocketaddress object overrid equal object obj obj hedwig socket address hedwigsocketaddress hedwig socket address hedwigsocketaddress hedwig socket address hedwigsocketaddress obj hostnam equal hostnam port port ssl port sslport ssl port sslport overrid hash code hashcod hostnam port ssl port sslport hash code hashcod helper method string represent inet socket address inetsocketaddress hedwig client hedwigcli oper ssl non ssl mode server host connect inet socket address inetsocketaddress hedwig socket address hedwigsocketaddress util method us store server host string string bytestr place list server host ve connect wrote unsuccessfulli string sock addr str sockaddrstr inet socket address inetsocketaddress addr addr get address getaddress get host address gethostaddress addr get port getport 
test test read write synchron asynchron string integ book keeper bookkeep client test deploy us zoo keeper zookeep server three book keeper bookkeep booki failur test bookiefailuretest base test basetestcas add callback addcallback read callback readcallback depend tast select amount log decom on two line logger log logger get root logger getrootlogg logger log logger factori loggerfactori get logger getlogg booki failur test bookiefailuretest ledger password ledgerpassword aaa get byte getbyt ledger handl ledgerhandl lh lh2 ledger id ledgerid enumer ledger entri ledgerentri ls test relat variabl num entri write numentriestowrit 200 max maxint 2147483647 random rng random number gener arrai list arraylist entri gener entri arrai list arraylist integ entri size entriess digest type digesttyp digest type digesttyp synchron sync obj syncobj sync set object sync obj syncobj sync obj syncobj counter valu sync obj syncobj counter valu booki failur test bookiefailuretest digest type digesttyp digest type digesttyp digest type digesttyp digest type digesttyp test write read booki fail link io except ioexcept test test async bk1 testasyncbk1 io except ioexcept log info bk1 aux test read write async singl client auxtestreadwriteasyncsinglecli bs get test test async bk2 testasyncbk2 io except ioexcept log info bk2 aux test read write async singl client auxtestreadwriteasyncsinglecli bs get test test async bk3 testasyncbk3 io except ioexcept log info bk3 aux test read write async singl client auxtestreadwriteasyncsinglecli bs get test test async bk4 testasyncbk4 io except ioexcept log info bk4 aux test read write async singl client auxtestreadwriteasyncsinglecli bs get test test booki recoveri testbookierecoveri except shutdown booki bs get shutdown bs get shutdown bs get shutdown passwd blah get byte getbyt ledger handl ledgerhandl lh bkc creat ledger createledg digest type digesttyp passwd num entri numentri 100 num entri numentri data get byte getbyt lh add entri addentri data bs get shutdown booki server bookieserv server booki server bookieserv bs conf bsconf get server start bs set server equal assertequ num entri numentri lh get last add confirm getlastaddconfirm enumer ledger entri ledgerentri entri lh read entri readentri lh get last add confirm getlastaddconfirm num scan numscan entri ha more element hasmoreel equal assertequ num scan numscan string entri next element nextel get entri getentri num scan numscan equal assertequ num entri numentri num scan numscan aux test read write async singl client auxtestreadwriteasyncsinglecli booki server bookieserv bs io except ioexcept creat ledger lh bkc creat ledger createledg digest type digesttyp ledger password ledgerpassword ledger id ledgerid lh get id getid log info ledger id lh get id getid num entri write numentriestowrit buffer bytebuff entri buffer bytebuff alloc entri put putint rng next nextint max maxint entri posit entri add entri arrai entri size entriess add entri arrai length lh async add entri asyncaddentri entri arrai sync log info wrote num entri write numentriestowrit fail booki booki fail bs shutdown wait entri acknowledg sync sync counter num entri write numentriestowrit log debug entri counter sync counter sync wait log debug write complet close ledger lh close write part complet read part begin open ledger bkc close bkc book keeper test client bookkeepertestcli base client conf baseclientconf lh bkc open ledger openledg ledger id ledgerid digest type digesttyp ledger password ledgerpassword log debug number entri written lh get last add confirm getlastaddconfirm asserttru verifi number entri written lh get last add confirm getlastaddconfirm num entri write numentriestowrit read entri lh async read entri asyncreadentri num entri write numentriestowrit sync sync sync valu sync wait 10000 asserttru haven receiv entri sync valu log debug read complet point enumer ledger entri ledgerentri ls fill return valu ls ha more element hasmoreel buffer bytebuff origbb buffer bytebuff wrap entri get integ orig entri origentri origbb get getint entri ls next element nextel get entri getentri buffer bytebuff result buffer bytebuff wrap entri integ retr entri retrentri result get getint log debug retriev entri asserttru check entri equal orig entri origentri equal retr entri retrentri asserttru check entri size entri length entri size entriess get valu intvalu asserttru check number read entri num entri write numentriestowrit log info verifi entri close ledger lh close keeper except keeperexcept log error caught keeper except keeperexcept fail string tostr bk except bkexcept log error caught bk except bkexcept fail string tostr interrupt except interruptedexcept log error caught interrupt except interruptedexcept fail string tostr add complet addcomplet rc ledger handl ledgerhandl lh entri id entryid object ctx rc fail fail write entri entri id entryid sync obj syncobj sync obj syncobj ctx counter notifi read complet readcomplet rc ledger handl ledgerhandl lh enumer ledger entri ledgerentri seq object ctx rc fail fail write entri ls seq sync sync valu sync notifi befor overrid set up setup except set up setup rng random current time milli currenttimemilli initi random number gener entri arrai list arraylist initi entri list entri size entriess arrai list arraylist integ sync sync obj syncobj initi synchron data structur zkc close test test ledger recoveri open after bk crash testledgernorecoveryopenafterbkcrash except creat ledger ledger handl ledgerhandl beforelh bkc creat ledger createledg num booki numbooki num booki numbooki digest type digesttyp get byte getbyt num entri numentri 10 string tmp book keeper bookkeep cool num entri numentri beforelh add entri addentri tmp get byte getbyt shutdown first booki server kill booki killbooki open ledger recoveri ledger handl ledgerhandl afterlh bkc open ledger recoveri openledgernorecoveri beforelh get id getid digest type digesttyp get byte getbyt equal assertequ num entri numentri afterlh get last add confirm getlastaddconfirm start booki startnewbooki ledger handl ledgerhandl beforelh2 bkc creat ledger createledg num booki numbooki digest type digesttyp get byte getbyt num entri numentri beforelh2 add entri addentri tmp get byte getbyt shutdown first booki server kill booki killbooki open ledger recoveri bkc open ledger recoveri openledgernorecoveri beforelh2 get id getid digest type digesttyp get byte getbyt fail thrown except bk except bkexcept bk read except bkreadexcept correct behaviour test test ledger open after bk crash testledgeropenafterbkcrash except creat ledger ledger handl ledgerhandl beforelh bkc creat ledger createledg num booki numbooki num booki numbooki digest type digesttyp get byte getbyt num entri numentri 10 string tmp book keeper bookkeep cool num entri numentri beforelh add entri addentri tmp get byte getbyt shutdown first booki server kill booki killbooki start booki startnewbooki open ledger recoveri ledger handl ledgerhandl afterlh bkc open ledger openledg beforelh get id getid digest type digesttyp get byte getbyt equal assertequ beforelh get last add push getlastaddpush afterlh get last add confirm getlastaddconfirm ledger handl ledgerhandl beforelh2 bkc creat ledger createledg num booki numbooki digest type digesttyp get byte getbyt num entri numentri beforelh2 add entri addentri tmp get byte getbyt shutdown first booki server kill booki killbooki open ledger recoveri bkc open ledger openledg beforelh2 get id getid digest type digesttyp get byte getbyt fail thrown except bk except bkexcept bk ledger recoveri except bkledgerrecoveryexcept correct behaviour 
channel end point channelendpoint deliveri end point deliveryendpoint channel futur listen channelfuturelisten channel channel channel get channel getchannel channel map channel futur channelfutur deliveri callback deliverycallback callback hash map hashmap channel futur channelfutur deliveri callback deliverycallback channel end point channelendpoint channel channel channel channel close channel close send pub sub respons pubsubrespons respons deliveri callback deliverycallback callback channel futur channelfutur futur channel write respons callback put futur callback futur add listen addlisten oper complet operationcomplet channel futur channelfutur futur except deliveri callback deliverycallback callback callback get futur callback remov futur callback unexpect error unexpectederror locat callback channel futur futur success issuccess callback send finish sendingfinish treat channel error perman callback perman error send permanenterroronsend overrid equal object obj obj channel end point channelendpoint channel end point channelendpoint channel end point channelendpoint channel end point channelendpoint obj channel equal channel end point channelendpoint channel overrid hash code hashcod channel hash code hashcod 
get owner op getownerop topic op queuer topicopqueu asynchron op asynchronousop hedwig socket address hedwigsocketaddress claim shouldclaim get owner op getownerop string bytestr topic claim shouldclaim callback hedwig socket address hedwigsocketaddress cb object ctx queuer topic cb ctx claim shouldclaim claim shouldclaim overrid run real get owner realgetown topic claim shouldclaim cb ctx 
test client configur testclientconfigur client configur clientconfigur overrid send consum messag enabl isautosendconsumemessageen 
ledger entri simpl tupl contain ledger id entri id entri content ledger entri ledgerentri logger log logger factori loggerfactori get logger getlogg ledger entri ledgerentri ledger id ledgerid entri id entryid length channel buffer input stream channelbufferinputstream entri data stream entrydatastream next replica index read from nextreplicaindextoreadfrom ledger entri ledgerentri id lid id eid ledger id ledgerid id lid entri id entryid id eid get ledger id getledgerid ledger id ledgerid get entri id getentryid entri id entryid get length getlength length get entri getentri gener reli avail method input stream channel buffer input stream channelbufferinputstream back accur byte avail ret entri data stream entrydatastream avail entri data stream entrydatastream read fulli readfulli ret ret io except ioexcept channelbufferinput stream doesnt ioexcept ha signatur input stream inputstream code reach log error unexpect io except ioexcept read from channel buffer input stream inputstream get entri input stream getentryinputstream entri data stream entrydatastream 
delet callback deletecallback callback definit delet oper param rc code param ctx context object delet complet deletecomplet rc object ctx 
protocol version protocolvers com googl protobuf protocol messag protocolmessageenum version on version_on get number getnumb valu protocol version protocolvers valu valueof valu valu version on version_on com googl protobuf intern lite map enumlitemap protocol version protocolvers intern get valu map internalgetvaluemap intern valu map internalvaluemap com googl protobuf intern lite map enumlitemap protocol version protocolvers intern valu map internalvaluemap com googl protobuf intern lite map enumlitemap protocol version protocolvers protocol version protocolvers find valu number findvaluebynumb number protocol version protocolvers valu valueof number com googl protobuf descriptor valu descriptor enumvaluedescriptor get valu descriptor getvaluedescriptor get descriptor getdescriptor get valu getvalu get index com googl protobuf descriptor descriptor enumdescriptor get descriptor type getdescriptorfortyp get descriptor getdescriptor com googl protobuf descriptor descriptor enumdescriptor get descriptor getdescriptor org apach hedwig protocol pub sub protocol pubsubprotocol get descriptor getdescriptor get type getenumtyp get protocol version protocolvers valu version on version_on protocol version protocolvers valu valueof com googl protobuf descriptor valu descriptor enumvaluedescriptor desc desc get type gettyp get descriptor getdescriptor java lang illeg argument except illegalargumentexcept valu descriptor enumvaluedescriptor type valu desc get index getindex index valu protocol version protocolvers index valu index index valu valu org apach hedwig protocol pub sub protocol pubsubprotocol get descriptor getdescriptor protoc insert point protoc_insertion_point scope enum_scop hedwig protocol version protocolvers 
object us implement booki recov callback recovercallback unit junit test verifi oper complet successfulli booki recov callback bookierecovercallback recov callback recovercallback success overrid recov complet recovercomplet rc object ctx log info recov booki oper complet rc rc success rc code valu intvalu sync object syncobject sync sync object syncobject ctx sync sync valu sync notifi 
exit cmd exitcmd command mycommand overrid run cmd runcmd string arg except print messag printmessag quit hub client hubclient close admin close runtim get runtim getruntim exit 
watcher mywatch watcher process watch event watchedev event get print watch getprintwatch print messag printmessag watcher print messag printmessag event string tostr 
unifi regist unregist hedwig bean mbean platform bean mbean server hedwig bean registri hedwigmbeanregistri bkm bean registri bkmbeanregistri string servic org apach hedwig server hedwigserv hedwig bean registri hedwigmbeanregistri instanc hedwig bean registri hedwigmbeanregistri hedwig bean registri hedwigmbeanregistri get instanc getinst instanc overrid string get domain name getdomainnam servic 
callback insert persist request path callback simpli form link persist respons persistrespons object insert request queue handl serial cach maintain thread persist callback persistcallback callback failur persist pass origin callback oper fail operationfail object ctx pub sub except pubsubexcept except persist request persistrequest origin request originalrequest persist request persistrequest ctx callback origin callback originalcallback origin request originalrequest get callback getcallback object origin context originalcontext origin request originalrequest get ctx getctx origin callback originalcallback oper fail operationfail origin context originalcontext except persist finish first notifi origin callback success opportunist treat messag scan oper finish operationfinish object ctx result oper resultofoper persist request persistrequest origin request originalrequest persist request persistrequest ctx let call origin callback first publish hear success origin request originalrequest get callback getcallback oper finish operationfinish origin request originalrequest get ctx getctx result oper resultofoper origin messag persist didn local seq id let add messag messag local seq id messagewithlocalseqid messag id util messageidutil merg local seq id mergelocalseqid origin request originalrequest get messag getmessag result oper resultofoper enqueu request add newli persist messag cach cach kei cachekei cach kei cachekei cach kei cachekei origin request originalrequest get topic gettop result oper resultofoper enqueu failur enqueuewithoutfailur scan respons scanrespons cach kei cachekei messag local seq id messagewithlocalseqid 
cnxn stat cnxnstat packet sent packetss packet receiv packetsreceiv number request submit respond get outstand request getoutstandingrequest cnxn outstand request outstandingrequest get packet receiv getpacketsreceiv packet receiv packetsreceiv get packet sent getpacketss packet sent packetss overrid string string tostr string builder stringbuild sb string builder stringbuild channel channel sk channel channel socket channel socketchannel sb append append socket channel socketchannel channel socket get remot socket address getremotesocketaddress append append integ hex string tohexstr sk interest op interestop append queu append get outstand request getoutstandingrequest append recv append get packet receiv getpacketsreceiv append sent append get packet sent getpacketss append sb string tostr 
test implement subscrib messag handler test messag handler testmessagehandl messag handler messagehandl synchron queue synchronousqueu consum queue consumequeu add doadd test messag handler testmessagehandl synchron queue synchronousqueu consum queue consumequeu consum queue consumequeu consum queue consumequeu deliv string bytestr string bytestr sub messag msg callback callback object context add doadd after receiv first messag send publish obtain permit second ledger add doadd thread runnabl overrid run publish messag obtain permit logger info start publish messag obtain permit obtain permit wait respons respons delai read entri readentri call read complet readcomplet callback read entri ledger permit block count down latch countdownlatch latch count down latch countdownlatch sleep booki sleepbooki latch latch await synchron queue synchronousqueu queue synchron queue synchronousqueu publish async publish asyncpublish topic get msg getmsg 9999 test callback testcallback queue asserttru queue except logger error fail publish messag obtain permit start thread runnabl overrid run concurr util concurrencyutil put consum queue consumequeu start callback oper finish operationfinish context 
ledger cach bean mbean ledger cach mx bean ledgercachemxbean number page us cach get page count getpagecount page size get page size getpages limit open file get open file limit getopenfilelimit limit number page get page limit getpagelimit number clean ledger get num clean ledger getnumcleanledg number dirti ledger get num dirti ledger getnumdirtyledg number open ledger get num open ledger getnumopenledg 
booki throttl test bookiethrottletest book keeper cluster test bookkeeperclustertestcas logger log logger factori loggerfactori get logger getlogg booki failur test bookiefailuretest digest type digesttyp digest type digesttyp ledger handl ledgerhandl lh count down latch countdownlatch count down latch countdownlatch throttl time time_out 30 constructor booki throttl test bookiethrottletest digest type digesttyp digest type digesttyp crc32 test test verifi permit relas read failur testverifypermitrelaseinreadfailur except base client conf baseclientconf set throttl valu setthrottlevalu num booki numbooki num entri numentri throttl set properti setproperti throttl string valu valueof throttl lh bkc creat ledger createledg num booki numbooki digest type digesttyp get byte getbyt add ledger entri num entri numentri lh add entri addentri ledger id ledgerid lh get id getid entri id entryid get byte getbyt log info finish write ledger entri shutdown booki verifi read permit num booki numbooki bs get shutdown lh read entri readentri throttl bk except bkexcept log info except read entri booki stop log debug read complet grace period avoid random thread sleep 2000 equal assertequ permit releas read ha fail from replica throttl lh get avail permit getavailablepermit avail permit availablepermit lh close test test verifi permit relas async read failur testverifypermitrelaseinasyncreadfailur except base client conf baseclientconf set throttl valu setthrottlevalu num booki numbooki set properti setproperti throttl string valu valueof throttl lh bkc creat ledger createledg num booki numbooki digest type digesttyp get byte getbyt add ledger entri num entri numentri throttl num entri numentri lh add entri addentri ledger id ledgerid lh get id getid entri id entryid get byte getbyt log info finish write ledger entri shutdown booki verifi read permit num booki numbooki bs get shutdown booki read callback bookiereadcallback booki read callback bookiereadcallback booki read callback bookiereadcallback count down latch countdownlatch count down latch countdownlatch throttl lh async read entri asyncreadentri throttl booki read callback bookiereadcallback except log info except read entri booki stop count down latch countdownlatch await time time_out time unit timeunit second log debug read complet grace period avoid random thread sleep 2000 equal assertequ permit releas read ha fail from replica throttl lh get avail permit getavailablepermit avail permit availablepermit lh close booki read callback bookiereadcallback read callback readcallback overrid read complet readcomplet rc ledger handl ledgerhandl lh enumer ledger entri ledgerentri seq object ctx asserttru expect booki stop rc bk except bkexcept code count down latch countdownlatch count down countdown 
ssl client context factori sslclientcontextfactori ssl context factori sslcontextfactori ssl client context factori sslclientcontextfactori client configur clientconfigur cfg creat ssl context ctx ssl context sslcontext get instanc getinst tl ctx init get trust manag gettrustmanag except ex runtim except runtimeexcept ex overrid client isclient 
publish respons handler publishresponsehandl logger logger logger factori loggerfactori get logger getlogg publish respons handler publishresponsehandl respons handler responsehandl respons handler responsehandl publish respons handler publishresponsehandl respons handler responsehandl respons handler responsehandl respons handler responsehandl respons handler responsehandl main method handl publish respons messag from server handl publish respons handlepublishrespons pub sub respons pubsubrespons respons pub sub data pubsubdata pub sub data pubsubdata channel channel except logger debug enabl isdebugen logger debug handl publish respons respons pub sub data pubsubdata pub sub data pubsubdata host hedwig client impl hedwigclientimpl get host from channel gethostfromchannel channel respons get statu code getstatuscod success respons success invok callback oper finish operationfinish method pub sub data pubsubdata callback oper finish operationfinish pub sub data pubsubdata context servic down service_down respons servic down failur invok callback oper fail operationfail method pub sub data pubsubdata callback oper fail operationfail pub sub data pubsubdata context servic down except servicedownexcept server respond servic down service_down statu respons topic not_responsible_for_top redirect respons ll repost origin publish request respons handler responsehandl handl redirect respons handleredirectrespons respons pub sub data pubsubdata channel statu code error oper fail case logger error unexpect error respons from server pub sub respons pubsubrespons respons pub sub data pubsubdata callback oper fail operationfail pub sub data pubsubdata context servic down except servicedownexcept server respond statu code respons get statu code getstatuscod 
factori instanc newinst 
record total size remain size set ledger compris entri log entri log metadata entrylogmetadata entri log id entrylogid total size totals remain size remainings concurr hash map concurrenthashmap ledger map ledgersmap entri log metadata entrylogmetadata log id logid entri log id entrylogid log id logid total size totals remain size remainings ledger map ledgersmap concurr hash map concurrenthashmap add ledger size addledgers ledger id ledgerid size total size totals size remain size remainings size ledger size ledgers ledger map ledgersmap get ledger id ledgerid ledger size ledgers ledger size ledgers 0l ledger size ledgers size ledger map ledgersmap put ledger id ledgerid ledger size ledgers remov ledger removeledg ledger id ledgerid size ledger map ledgersmap remov ledger id ledgerid size remain size remainings size contain ledger containsledg ledger id ledgerid ledger map ledgersmap contain kei containskei ledger id ledgerid get usag getusag total size totals 0l 0f remain size remainings total size totals empti isempti ledger map ledgersmap empti isempti overrid string string tostr string builder stringbuild sb string builder stringbuild sb append total size totals append total size totals append remain size remainings append remain size remainings append ledger map ledgersmap append ledger map ledgersmap append sb string tostr 
take entri attach digest packag relev data ship booki side get packet check digest match extract origin entri packet current type digest support mac base sha crc32 abstract digest manag digestmanag logger logger logger factori loggerfactori get logger getlogg digest manag digestmanag metadata length metadata_length 32 ledger id ledgerid abstract get mac code length getmaccodelength updat data updat data data length abstract updat data offset length abstract get valu reset getvalueandreset mac code length maccodelength digest manag digestmanag ledger id ledgerid ledger id ledgerid ledger id ledgerid mac code length maccodelength get mac code length getmaccodelength digest manag digestmanag instanti ledger id ledgerid passwd digest type digesttyp digest type digesttyp gener secur except generalsecurityexcept digest type digesttyp mac mac digest manag macdigestmanag ledger id ledgerid passwd crc32 crc32 digest manag crc32digestmanag ledger id ledgerid gener secur except generalsecurityexcept unknown checksum type digest type digesttyp comput digest entri put byte send param entri id entryid param last add confirm lastaddconfirm param length param data channel buffer channelbuff comput digest send computedigestandpackageforsend entri id entryid last add confirm lastaddconfirm length data doffset dlength buffer arrai bufferarrai metadata length metadata_length mac code length maccodelength buffer bytebuff buffer buffer bytebuff wrap buffer arrai bufferarrai buffer put putlong ledger id ledgerid buffer put putlong entri id entryid buffer put putlong last add confirm lastaddconfirm buffer put putlong length buffer flip updat buffer arrai metadata length metadata_length updat data doffset dlength digest get valu reset getvalueandreset buffer limit buffer capac buffer posit metadata length metadata_length buffer put digest buffer flip channel buffer channelbuff wrap buffer wrappedbuff channel buffer channelbuff wrap buffer wrappedbuff buffer channel buffer channelbuff wrap buffer wrappedbuff data doffset dlength verifi digest verifydigest channel buffer channelbuff data receiv datareceiv bk digest match except bkdigestmatchexcept verifi digest verifydigest ledger handl ledgerhandl invalid entri id invalid_entry_id data receiv datareceiv verifi digest verifydigest entri id entryid channel buffer channelbuff data receiv datareceiv bk digest match except bkdigestmatchexcept verifi digest verifydigest entri id entryid data receiv datareceiv verifi digest verifydigest entri id entryid channel buffer channelbuff data receiv datareceiv skip entri id check skipentryidcheck bk digest match except bkdigestmatchexcept buffer bytebuff data receiv buffer datareceivedbuff data receiv datareceiv buffer tobytebuff digest updat data receiv buffer datareceivedbuff arrai data receiv buffer datareceivedbuff posit metadata length metadata_length offset metadata length metadata_length mac code length maccodelength updat data receiv buffer datareceivedbuff arrai data receiv buffer datareceivedbuff posit offset data receiv datareceiv readabl byte readablebyt offset digest get valu reset getvalueandreset digest length digest data receiv datareceiv get getbyt metadata length metadata_length logger error mac mismatch ledger id ledger id ledgerid entri id entri id entryid bk digest match except bkdigestmatchexcept actual ledger id actualledgerid data receiv datareceiv read readlong actual entri id actualentryid data receiv datareceiv read readlong actual ledger id actualledgerid ledger id ledgerid logger error ledger id mismatch authent messag expect ledger id ledgerid actual actual ledger id actualledgerid bk digest match except bkdigestmatchexcept skip entri id check skipentryidcheck actual entri id actualentryid entri id entryid logger error entri id mismatch authent messag expect entri id entryid actual actual entri id actualentryid bk digest match except bkdigestmatchexcept verifi digest match return data entri param entri id entryid param data receiv datareceiv bk digest match except bkdigestmatchexcept channel buffer input stream channelbufferinputstream verifi digest data verifydigestandreturndata entri id entryid channel buffer channelbuff data receiv datareceiv bk digest match except bkdigestmatchexcept verifi digest verifydigest entri id entryid data receiv datareceiv data receiv datareceiv reader index readerindex metadata length metadata_length mac code length maccodelength channel buffer input stream channelbufferinputstream data receiv datareceiv recoveri data recoverydata last add confirm lastaddconfirm length recoveri data recoverydata last add confirm lastaddconfirm length last add confirm lastaddconfirm last add confirm lastaddconfirm length length recoveri data recoverydata verifi digest last confirm verifydigestandreturnlastconfirm channel buffer channelbuff data receiv datareceiv bk digest match except bkdigestmatchexcept verifi digest verifydigest data receiv datareceiv data receiv datareceiv reader index readerindex data receiv datareceiv read readlong skip unus entri id entryid last add confirm lastaddconfirm data receiv datareceiv read readlong length data receiv datareceiv read readlong recoveri data recoverydata last add confirm lastaddconfirm length 
encapsul ledger layout inform persist store zookeep pars serial method inform ledger layout ledgerlayout logger log logger factori loggerfactori get logger getlogg ledger layout ledgerlayout znode name store layout inform string layout znode layout_znod layout version ledger layout metadata layout format version layout_format_vers read ledger layout from zookeep param zk zoo keeper zookeep client param ledger root ledgersroot root ledger check ledger layout set zookeep ledger layout ledgerlayout read layout readlayout zoo keeper zookeep zk string ledger root ledgersroot io except ioexcept keeper except keeperexcept string ledger layout ledgerslayout ledger root ledgersroot layout znode layout_znod ledger layout ledgerlayout layout layout data layoutdata zk get data getdata ledger layout ledgerslayout layout pars layout parselayout layout data layoutdata keeper except keeperexcept node except nonodeexcept nne layout interrupt except interruptedexcept io except ioexcept string splitter string splitter lsplitter ledger manag string manag type managertyp ledger manag version manag version managervers layout version store layout inform layout format version layoutformatvers layout format version layout_format_vers ledger layout constructor param type ledger manag type param manag version managervers ledger manag version param layout format version layoutformatvers ledger layout format version ledger layout ledgerlayout string manag type managertyp manag version managervers manag type managertyp manag type managertyp manag version managervers manag version managervers string get manag type getmanagertyp manag type managertyp get manag version getmanagervers manag version managervers store ledger layout zookeep store zoo keeper zookeep zk string ledger root ledgersroot io except ioexcept keeper except keeperexcept interrupt except interruptedexcept string ledger layout ledgerslayout ledger root ledgersroot layout znode layout_znod zk creat ledger layout ledgerslayout serial id open acl unsaf open_acl_unsaf creat mode createmod persist gener arrai base ledger layout ledgerlayout object serial io except ioexcept string builder stringbuild sb string builder stringbuild sb append layout format version layoutformatvers append splitter lsplitter append manag type managertyp append splitter append manag version managervers log debug enabl isdebugen log debug serial layout info sb string tostr sb string tostr get byte getbyt utf pars arrai transform ledger layout ledgerlayout object param byte arrai pars param znode version znodevers version znode ledger layout ledgerlayout io except ioexcept pars ledger layout ledgerlayout pars layout parselayout byte io except ioexcept string layout string byte utf log debug enabl isdebugen log debug pars layout layout string line layout split splitter lsplitter layout format version layoutformatvers integ line layout format version layout_format_vers layout format version layoutformatvers io except ioexcept metadata version compat expect layout format version layout_format_vers layout format version layoutformatvers line length io except ioexcept ledger manag version absent from layout layout string part line split splitter part length io except ioexcept invalid ledger manag defin layout layout ledger manag string manag type managertyp part ledger manag version manag version managervers integ part ledger layout ledgerlayout manag type managertyp manag version managervers number format except numberformatexcept io except ioexcept overrid equal object obj obj obj ledger layout ledgerlayout ledger layout ledgerlayout ledger layout ledgerlayout obj manag type managertyp equal manag type managertyp manag version managervers manag version managervers overrid hash code hashcod manag type managertyp manag version managervers hash code hashcod overrid string string tostr string builder stringbuild sb string builder stringbuild sb append lv append layout format version layoutformatvers append append type append manag type managertyp append append manag version managervers sb string tostr 
main usag err println usag bookeep client booki param arg interrupt except interruptedexcept io except ioexcept main string arg except arg length arg equal client arg equal booki usag string arg newarg string arg length arraycopi arg arg newarg arg newarg length arg equal booki booki server bookieserv main arg newarg booki client bookiecli main arg newarg 
user test purpos empti watcher emptywatch watcher process watch event watchedev event 
channel pipelin coverag channelpipelinecoverag fake booki fakebooki simpl channel handler simplechannelhandl channel pipelin factori channelpipelinefactori logger logger logger factori loggerfactori get logger getlogg fake booki fakebooki server socket channel factori serversocketchannelfactori server channel factori serverchannelfactori nio server socket channel factori nioserversocketchannelfactori executor cach thread pool newcachedthreadpool executor cach thread pool newcachedthreadpool fake booki fakebooki port intern logger factori internalloggerfactori set factori setdefaultfactori log4 logger factori log4jloggerfactori server bootstrap serverbootstrap bootstrap server bootstrap serverbootstrap server channel factori serverchannelfactori bootstrap set pipelin factori setpipelinefactori bootstrap set option setopt child tcp delai tcpnodelai bootstrap set option setopt child keep aliv keepal bootstrap set option setopt reus address reuseaddress logger info receiv loop bind start accept incom connect bootstrap bind inet socket address inetsocketaddress port overrid channel pipelin channelpipelin get pipelin getpipelin except channel pipelin channelpipelin pipelin channel pipelin pipelin add last addlast lengthbaseddecod length field base frame decod lengthfieldbasedframedecod 1024 1024 pipelin add last addlast lengthprepend length field prepend lengthfieldprepend pipelin add last addlast main pipelin overrid messag receiv messagereceiv channel handler context channelhandlercontext ctx messag event messageev except get messag getmessag channel buffer channelbuff ctx send upstream sendupstream channel buffer channelbuff buffer channel buffer channelbuff get messag getmessag type buffer read readint buffer reader index readerindex 24 ledger id ledgerid buffer read readlong entri id entryid buffer read readlong channel buffer channelbuff buf outbuf ctx get channel getchannel get config getconfig get buffer factori getbufferfactori get buffer getbuff 24 buf outbuf write writeint type buf outbuf write writeint rc buf outbuf write writelong ledger id ledgerid buf outbuf write writelong entri id entryid get channel getchannel write buf outbuf main string arg fake booki fakebooki integ pars parseint arg 
statu code statuscod com googl protobuf protocol messag protocolmessageenum success malform request malformed_request 401 topic no_such_top 402 client subscrib client_already_subscrib 403 client subscrib client_not_subscrib 404 connect could_not_connect 405 topic busi topic_busi 406 respons topic not_responsible_for_top 501 servic down service_down 502 uncertain state uncertain_st 503 unexpect condit unexpected_condit 10 600 composit 11 700 get number getnumb valu statu code statuscod valu valueof valu valu success 401 malform request malformed_request 402 topic no_such_top 403 client subscrib client_already_subscrib 404 client subscrib client_not_subscrib 405 connect could_not_connect 406 topic busi topic_busi 501 respons topic not_responsible_for_top 502 servic down service_down 503 uncertain state uncertain_st 600 unexpect condit unexpected_condit 700 composit com googl protobuf intern lite map enumlitemap statu code statuscod intern get valu map internalgetvaluemap intern valu map internalvaluemap com googl protobuf intern lite map enumlitemap statu code statuscod intern valu map internalvaluemap com googl protobuf intern lite map enumlitemap statu code statuscod statu code statuscod find valu number findvaluebynumb number statu code statuscod valu valueof number com googl protobuf descriptor valu descriptor enumvaluedescriptor get valu descriptor getvaluedescriptor get descriptor getdescriptor get valu getvalu get index com googl protobuf descriptor descriptor enumdescriptor get descriptor type getdescriptorfortyp get descriptor getdescriptor com googl protobuf descriptor descriptor enumdescriptor get descriptor getdescriptor org apach hedwig protocol pub sub protocol pubsubprotocol get descriptor getdescriptor get type getenumtyp get statu code statuscod valu success malform request malformed_request topic no_such_top client subscrib client_already_subscrib client subscrib client_not_subscrib connect could_not_connect topic busi topic_busi respons topic not_responsible_for_top servic down service_down uncertain state uncertain_st unexpect condit unexpected_condit composit statu code statuscod valu valueof com googl protobuf descriptor valu descriptor enumvaluedescriptor desc desc get type gettyp get descriptor getdescriptor java lang illeg argument except illegalargumentexcept valu descriptor enumvaluedescriptor type valu desc get index getindex index valu statu code statuscod index valu index index valu valu org apach hedwig protocol pub sub protocol pubsubprotocol get descriptor getdescriptor protoc insert point protoc_insertion_point scope enum_scop hedwig statu code statuscod 
bk client bkclient callabl add callback addcallback list ledger handl ledgerhandl handl data time random sync atom atomiclong success atom atomiclong atom atomiclong outstand atom atomiclong bk client bkclient list ledger handl ledgerhandl handl data time sync handl handl data data time time random ident hash code identityhashcod sync sync call start current time milli currenttimemilli stopat start time current time milli currenttimemilli stopat ledger handl ledgerhandl lh handl get next nextint handl size sync lh add entri addentri data success increment get incrementandget lh async add entri asyncaddentri data outstand increment get incrementandget tick 10 don wait more 10 second outstand get tick thread sleep 10 time current time milli currenttimemilli start log info worker finish process write ms tpt op time success get time 1000 success get bk except bkexcept log error except worker thread 0l interrupt except interruptedexcept log error except worker thread 0l overrid add complet addcomplet rc ledger handl ledgerhandl lh entri id entryid object ctx rc bk except bkexcept code success increment get incrementandget outstand decrement get decrementandget 
manag detail connect booki ha reconnect logic connect booki fail channel pipelin coverag channelpipelinecoverag on channel booki client perchannelbookiecli simpl channel handler simplechannelhandl channel pipelin factori channelpipelinefactori logger log logger factori loggerfactori get logger getlogg channel booki client perchannelbookiecli max memori maxmemori runtim get runtim getruntim max memori maxmemori max frame length max_frame_length 1024 1024 2m inet socket address inetsocketaddress addr semaphor op counter sem opcountersem semaphor 2000 atom atomiclong total byte outstand totalbytesoutstand client socket channel factori clientsocketchannelfactori channel factori channelfactori order safe executor orderedsafeexecutor executor timer read timeout timer readtimeouttim concurr hash map concurrenthashmap complet kei completionkei add complet addcomplet add complet addcomplet concurr hash map concurrenthashmap complet kei completionkei add complet addcomplet concurr hash map concurrenthashmap complet kei completionkei read complet readcomplet read complet readcomplet concurr hash map concurrenthashmap complet kei completionkei read complet readcomplet follow member variabl concurr updat lock queue gener callback genericcallback pend op pendingop arrai dequ arraydequ gener callback genericcallback channel channel connect state connectionst disconnect connect connect connect state connectionst state client configur clientconfigur conf channel booki client perchannelbookiecli order safe executor orderedsafeexecutor executor client socket channel factori clientsocketchannelfactori channel factori channelfactori inet socket address inetsocketaddress addr atom atomiclong total byte outstand totalbytesoutstand client configur clientconfigur executor channel factori channelfactori addr total byte outstand totalbytesoutstand channel booki client perchannelbookiecli client configur clientconfigur conf order safe executor orderedsafeexecutor executor client socket channel factori clientsocketchannelfactori channel factori channelfactori inet socket address inetsocketaddress addr atom atomiclong total byte outstand totalbytesoutstand conf conf addr addr executor executor total byte outstand totalbytesoutstand total byte outstand totalbytesoutstand channel factori channelfactori channel factori channelfactori state connect state connectionst disconnect read timeout timer readtimeouttim connect state connect state connectionst connect start connect attempt input server host state connect state connectionst connect log debug enabl isdebugen log debug connect booki addr set up client boot strap clientbootstrap creat channel connect booki client bootstrap clientbootstrap bootstrap client bootstrap clientbootstrap channel factori channelfactori bootstrap set pipelin factori setpipelinefactori bootstrap set option setopt tcp delai tcpnodelai conf get client tcp delai getclienttcpnodelai bootstrap set option setopt keep aliv keepal channel futur channelfutur futur bootstrap connect addr futur add listen addlisten channel futur listen channelfuturelisten overrid oper complet operationcomplet channel futur channelfutur futur except rc queue gener callback genericcallback old pend op oldpendingop channel booki client perchannelbookiecli futur success issuccess log info successfulli connect booki addr rc bk except bkexcept code channel futur get channel getchannel state connect state connectionst connect log error connect booki addr rc bk except bkexcept code booki handl avail except bookiehandlenotavailableexcept channel state connect state connectionst disconnect channel booki client perchannelbookiecli channel channel trick oper lock list pend op assign variabl empti pend op assign list old pend op oldpendingop pend op pendingop pend op pendingop arrai dequ arraydequ gener callback genericcallback gener callback genericcallback pend op pendingop old pend op oldpendingop pend op pendingop oper complet operationcomplet rc connect need op connectifneededanddoop gener callback genericcallback op op doopnow common lock first channel state connect state connectionst connect op doopnow check lock channel state connect state connectionst connect op doopnow reach here channel first connect attempt channel disconnect op doopnow connect attempt progress queue up op op execut connect attempt fail succe pend op pendingop add op connect op doopnow op oper complet operationcomplet bk except bkexcept code method call after connect ha check link connect need op connectifneededanddoop gener callback genericcallback param ledger id ledgerid param master kei masterkei param entri id entryid param last confirm lastconfirm param mac code maccod param data param cb param ctx add entri addentri ledger id ledgerid master kei masterkei entri id entryid channel buffer channelbuff send tosend write callback writecallback cb object ctx option entri size entrys send tosend readabl byte readablebyt complet kei completionkei complet kei completionkei complet kei completionkei ledger id ledgerid entri id entryid add complet addcomplet put complet kei completionkei add complet addcomplet cb entri size entrys ctx total header size totalheaders length packet type request booki protocol bookieprotocol master kei length master_key_length master kei channel buffer channelbuff header channel get config getconfig get buffer factori getbufferfactori get buffer getbuff total header size totalheaders header write writeint total header size totalheaders entri size entrys header write writeint packet header packethead booki protocol bookieprotocol current protocol version current_protocol_vers booki protocol bookieprotocol addentri option toint header write byte writebyt master kei masterkei booki protocol bookieprotocol master kei length master_key_length channel buffer channelbuff wrap buffer wrappedbuff channel buffer channelbuff wrap buffer wrappedbuff header send tosend channel futur channelfutur futur channel write wrap buffer wrappedbuff futur add listen addlisten channel futur listen channelfuturelisten overrid oper complet operationcomplet channel futur channelfutur futur except futur success issuccess log debug enabl isdebugen log debug successfulli wrote request ad entri entri id entryid ledger id ledger id ledgerid booki channel get remot address getremoteaddress entri length entri size entrys total byte outstand totalbytesoutstand add get addandget entri size entrys error add kei erroroutaddkei complet kei completionkei throwabl log warn add entri oper fail error add kei erroroutaddkei complet kei completionkei read entri fenc ledger readentryandfenceledg ledger id ledgerid master kei masterkei entri id entryid read entri callback readentrycallback cb object ctx complet kei completionkei kei complet kei completionkei ledger id ledgerid entri id entryid read complet readcomplet put kei read complet readcomplet cb ctx total header size totalheaders length packet request type ledger id ledgerid entri id entryid booki protocol bookieprotocol master kei length master_key_length master kei masterkei channel buffer channelbuff tmp entri tmpentri channel get config getconfig get buffer factori getbufferfactori get buffer getbuff total header size totalheaders tmp entri tmpentri write writeint total header size totalheaders tmp entri tmpentri write writeint packet header packethead booki protocol bookieprotocol current protocol version current_protocol_vers booki protocol bookieprotocol readentri booki protocol bookieprotocol flag fenc flag_do_fenc toint tmp entri tmpentri write writelong ledger id ledgerid tmp entri tmpentri write writelong entri id entryid tmp entri tmpentri write byte writebyt master kei masterkei booki protocol bookieprotocol master kei length master_key_length channel futur channelfutur futur channel write tmp entri tmpentri futur add listen addlisten channel futur listen channelfuturelisten overrid oper complet operationcomplet channel futur channelfutur futur except futur success issuccess log debug enabl isdebugen log debug successfulli wrote request read entri entri id entryid ledger id ledger id ledgerid booki channel get remot address getremoteaddress error read kei erroroutreadkei kei read entri readentri ledger id ledgerid entri id entryid read entri callback readentrycallback cb object ctx complet kei completionkei kei complet kei completionkei ledger id ledgerid entri id entryid read complet readcomplet put kei read complet readcomplet cb ctx total header size totalheaders length packet request type ledger id ledgerid entri id entryid channel buffer channelbuff tmp entri tmpentri channel get config getconfig get buffer factori getbufferfactori get buffer getbuff total header size totalheaders tmp entri tmpentri write writeint total header size totalheaders tmp entri tmpentri write writeint packet header packethead booki protocol bookieprotocol current protocol version current_protocol_vers booki protocol bookieprotocol readentri booki protocol bookieprotocol flag flag_non toint tmp entri tmpentri write writelong ledger id ledgerid tmp entri tmpentri write writelong entri id entryid channel futur channelfutur futur channel write tmp entri tmpentri futur add listen addlisten channel futur listen channelfuturelisten overrid oper complet operationcomplet channel futur channelfutur futur except futur success issuccess log debug enabl isdebugen log debug successfulli wrote request read entri entri id entryid ledger id ledger id ledgerid booki channel get remot address getremoteaddress error read kei erroroutreadkei kei throwabl log warn read entri oper fail error read kei erroroutreadkei kei close channel channel close await uninterrupt awaituninterrupt read timeout timer readtimeouttim read timeout timer readtimeouttim stop read timeout timer readtimeouttim error read kei erroroutreadkei complet kei completionkei kei executor submit order submitord kei ledger id ledgerid safe runnabl saferunn overrid safe run saferun read complet readcomplet read complet readcomplet read complet readcomplet remov kei read complet readcomplet log error write request read entri kei entri id entryid ledger id kei ledger id ledgerid booki channel get remot address getremoteaddress read complet readcomplet cb read entri complet readentrycomplet bk except bkexcept code booki handl avail except bookiehandlenotavailableexcept kei ledger id ledgerid kei entri id entryid read complet readcomplet ctx error add kei erroroutaddkei complet kei completionkei kei executor submit order submitord kei ledger id ledgerid safe runnabl saferunn overrid safe run saferun add complet addcomplet add complet addcomplet add complet addcomplet remov kei add complet addcomplet string address baddress channel address baddress channel get remot address getremoteaddress string tostr log error write request ad entri kei entri id entryid ledger id kei ledger id ledgerid booki address baddress add complet addcomplet cb write complet writecomplet bk except bkexcept code booki handl avail except bookiehandlenotavailableexcept kei ledger id ledgerid kei entri id entryid addr add complet addcomplet ctx log error invok callback method kei entri id entryid error pend entri call method from on thread avoid concurr execut quorum op monitor quorumopmonitor callback simpler call from booki handl bookiehandl call directli from here error outstand entri erroroutoutstandingentri rewrit map entri iter iter kei successfulli abl remov kei from map add read method thing get write failur socket on successfulli remov kei from map on respons call applic callback complet kei completionkei kei add complet addcomplet kei set keyset error add kei erroroutaddkei kei complet kei completionkei kei read complet readcomplet kei set keyset error read kei erroroutreadkei kei netti pipelin split packet base length us link length field base frame decod lengthfieldbasedframedecod action carri make sens receiv messag prepend length outgo packet overrid channel pipelin channelpipelin get pipelin getpipelin except channel pipelin channelpipelin pipelin channel pipelin read timeout timer readtimeouttim read timeout timer readtimeouttim hash wheel timer hashedwheeltim pipelin add last addlast read timeout readtimeout read timeout handler readtimeouthandl read timeout timer readtimeouttim conf get read timeout getreadtimeout pipelin add last addlast lengthbasedframedecod length field base frame decod lengthfieldbasedframedecod max frame length max_frame_length pipelin add last addlast mainhandl pipelin channel ha disconnect error pend entri overrid channel disconnect channeldisconnect channel handler context channelhandlercontext ctx channel state event channelstateev except log info disconnect from booki addr error outstand entri erroroutoutstandingentri channel close state connect state connectionst disconnect don reconnect right awai send request address reconnect call netti except on netti thread netti thread overrid except caught exceptioncaught channel handler context channelhandlercontext ctx except event exceptionev except throwabl get caus getcaus corrupt frame except corruptedframeexcept frame except toolongframeexcept log error corrupt fram receiv from booki get channel getchannel get remot address getremoteaddress read timeout except readtimeoutexcept complet kei completionkei kei add complet addcomplet kei set keyset kei timeout shouldtimeout error add kei erroroutaddkei kei complet kei completionkei kei read complet readcomplet kei set keyset kei timeout shouldtimeout error read kei erroroutreadkei kei io except ioexcept thrown booki fail log pollut log failur log from listen write oper ll ignor here log error unexpect except caught booki client channel handler librari termin app here call netti messag receiv channel overrid messag receiv messagereceiv channel handler context channelhandlercontext ctx messag event messageev except get messag getmessag channel buffer channelbuff ctx send upstream sendupstream channel buffer channelbuff buffer channel buffer channelbuff get messag getmessag type rc ledger id ledgerid entri id entryid packet header packethead header header packet header packethead from fromint buffer read readint rc buffer read readint ledger id ledgerid buffer read readlong entri id entryid buffer read readlong index bound except indexoutofboundsexcept ex log error unpars respons from booki addr ex executor submit order submitord ledger id ledgerid safe runnabl saferunn overrid safe run saferun header get op code getopcod booki protocol bookieprotocol addentri handl add respons handleaddrespons ledger id ledgerid entri id entryid rc booki protocol bookieprotocol readentri handl read respons handlereadrespons ledger id ledgerid entri id entryid rc buffer log error unexpect respons type header get op code getopcod receiv from booki addr ignor handl add respons handleaddrespons ledger id ledgerid entri id entryid rc log debug enabl isdebugen log debug respons add request from booki addr ledger ledger id ledgerid entri entri id entryid rc rc convert bk except bkexcept code uppper layer expect ugli on set error code rc booki protocol bookieprotocol eok rc bk except bkexcept code booki protocol bookieprotocol ebadvers rc bk except bkexcept code protocol version except protocolversionexcept booki protocol bookieprotocol efenc rc bk except bkexcept code ledger fenc except ledgerfencedexcept booki protocol bookieprotocol eua rc bk except bkexcept code unauthor access except unauthorizedaccessexcept log error add ledger ledger id ledgerid entri entri id entryid fail booki addr code rc rc bk except bkexcept code write except writeexcept add complet addcomplet ac ac add complet addcomplet remov complet kei completionkei ledger id ledgerid entri id entryid ac log error unexpect add respons receiv from booki addr ledger ledger id ledgerid entri entri id entryid ignor total byte outstand totalbytesoutstand add get addandget ac size ac cb write complet writecomplet rc ledger id ledgerid entri id entryid addr ac ctx handl read respons handlereadrespons ledger id ledgerid entri id entryid rc channel buffer channelbuff buffer log debug enabl isdebugen log debug respons read request from booki addr ledger ledger id ledgerid entri entri id entryid rc rc entri length buffer readabl byte readablebyt convert bk except bkexcept code uppper layer expect ugli on set error code rc booki protocol bookieprotocol eok rc bk except bkexcept code rc booki protocol bookieprotocol enoentri rc booki protocol bookieprotocol enoledg rc bk except bkexcept code entri except nosuchentryexcept rc booki protocol bookieprotocol ebadvers rc bk except bkexcept code protocol version except protocolversionexcept rc booki protocol bookieprotocol eua rc bk except bkexcept code unauthor access except unauthorizedaccessexcept log error read ledger ledger id ledgerid entri entri id entryid fail booki addr code rc rc bk except bkexcept code read except readexcept complet kei completionkei kei complet kei completionkei ledger id ledgerid entri id entryid read complet readcomplet read complet readcomplet read complet readcomplet remov kei read complet readcomplet special recov ledger client submit read request id receiv respons differ entri id read complet readcomplet read complet readcomplet remov complet kei completionkei ledger id ledgerid booki protocol bookieprotocol last add confirm last_add_confirm read complet readcomplet log error unexpect read respons receiv from booki addr ledger ledger id ledgerid entri entri id entryid ignor read complet readcomplet cb read entri complet readentrycomplet rc ledger id ledgerid entri id entryid buffer slice read complet readcomplet ctx boiler plate wrapper class follow visibl test read complet readcomplet read entri callback readentrycallback cb object ctx read complet readcomplet read entri callback readentrycallback cb object ctx cb cb ctx ctx visibl test add complet addcomplet write callback writecallback cb size object ctx add complet addcomplet write callback writecallback cb size object ctx cb cb size size ctx ctx visabl test complet kei completionkei complet kei newcompletionkei ledger id ledgerid entri id entryid complet kei completionkei ledger id ledgerid entri id entryid visabl test complet kei completionkei ledger id ledgerid entri id entryid timeout timeoutat complet kei completionkei ledger id ledgerid entri id entryid ledger id ledgerid ledger id ledgerid entri id entryid entri id entryid timeout timeoutat current time milli currenttimemilli conf get read timeout getreadtimeout 1000 overrid equal object obj obj complet kei completionkei obj complet kei completionkei complet kei completionkei obj ledger id ledgerid ledger id ledgerid entri id entryid entri id entryid overrid hash code hashcod ledger id ledgerid 16 entri id entryid string string tostr string format ledger entri ledgerentri ledger id ledgerid entri id entryid timeout shouldtimeout timeout timeoutat current time milli currenttimemilli 
abstract synchron op synchronousop op string bytestr topic synchron op synchronousop string bytestr topic topic topic overrid run run intern runintern pop run next popandrunnext topic abstract run intern runintern 
test booki server testbookieserv booki server bookieserv test booki server testbookieserv server configur serverconfigur conf io except ioexcept keeper except keeperexcept interrupt except interruptedexcept booki except bookieexcept conf booki booki newbooki server configur serverconfigur conf io except ioexcept keeper except keeperexcept interrupt except interruptedexcept booki except bookieexcept test booki testbooki conf read delai readdelai 
bk ledger recoveri except bkledgerrecoveryexcept bk except bkexcept bk ledger recoveri except bkledgerrecoveryexcept code ledger recoveri except ledgerrecoveryexcept 
releas op releaseop topic op queuer topicopqueu synchron op synchronousop releas op releaseop string bytestr topic queuer topic overrid run intern runintern topic info topicinfo topic info topicinfo topic info topicinfo remov topic topic info topicinfo memori ledger rang inmemoryledgerrang imlr topic info topicinfo ledger rang ledgerrang valu imlr handl close ledger closeledg imlr handl topic info topicinfo current ledger rang currentledgerrang topic info topicinfo current ledger rang currentledgerrang handl close ledger closeledg topic info topicinfo current ledger rang currentledgerrang handl 
local book keeper localbookkeep logger log logger factori loggerfactori get logger getlogg local book keeper localbookkeep connect timeout connection_timeout 30000 number booki numberofbooki local book keeper localbookkeep number booki numberofbooki local book keeper localbookkeep number booki numberofbooki number booki numberofbooki number booki numberofbooki log info run number booki numberofbooki booki string hostport 127 2181 nio server cnxn factori nioservercnxnfactori server factori serverfactori zoo keeper server zookeeperserv zk zoo keeper zookeep zkc zoo keeper port zookeeperdefaultport 2181 file zk tmp dir zktmpdir book keeper bookkeep variabl file tmp dir tmpdir booki server bookieserv bs server configur serverconfigur bs conf bsconf integ initi port initialport 5000 param arg run zookeep runzookeep max cc maxcc io except ioexcept creat zoo keeper zookeep server data dir datadir data log dir datalogdir port log info start zk server server stat serverstat concret registerasconcret client base clientbas setup test env setuptestenv zk tmp dir zktmpdir file creat temp file createtempfil zookeep test zk tmp dir zktmpdir delet zk tmp dir zktmpdir mkdir io except ioexcept couldn creat zk directori zk tmp dir zktmpdir zk zoo keeper server zookeeperserv zk tmp dir zktmpdir zk tmp dir zktmpdir zoo keeper port zookeeperdefaultport server factori serverfactori nio server cnxn factori nioservercnxnfactori server factori serverfactori configur inet socket address inetsocketaddress zoo keeper port zookeeperdefaultport max cc maxcc server factori serverfactori startup zk except todo gener block log error except instanti zoo keeper zookeep wait server up waitforserverup hostport connect timeout connection_timeout log debug zoo keeper zookeep server up initi zookep initializezookep log info instanti zk client initi zk client valu zkc zoo keeper zookeep 127 zoo keeper port zookeeperdefaultport empti watcher emptywatch zkc creat ledger id open acl unsaf open_acl_unsaf creat mode createmod persist zkc creat ledger avail id open acl unsaf open_acl_unsaf creat mode createmod persist creat entri request booki anymor booki server bookieserv zoo keeper zookeep startup keeper except keeperexcept todo gener block log error except creat znode interrupt except interruptedexcept todo gener block log error interrupt creat znode io except ioexcept todo gener block log error except creat znode run booki runbooki server configur serverconfigur base conf baseconf io except ioexcept keeper except keeperexcept interrupt except interruptedexcept booki except bookieexcept log info start booki creat booki server b1 b2 b3 tmp dir tmpdir file number booki numberofbooki bs booki server bookieserv number booki numberofbooki bs conf bsconf server configur serverconfigur number booki numberofbooki number booki numberofbooki tmp dir tmpdir file creat temp file createtempfil booki integ string tostr test tmp dir tmpdir delet tmp dir tmpdir mkdir io except ioexcept couldn creat booki dir tmp dir tmpdir bs conf bsconf server configur serverconfigur base conf baseconf overrid set bs conf bsconf set booki port setbookieport initi port initialport bs conf bsconf set zk server setzkserv inet address inetaddress get local host getlocalhost get host address gethostaddress zoo keeper port zookeeperdefaultport bs conf bsconf set journal dir name setjournaldirnam tmp dir tmpdir get path getpath bs conf bsconf set ledger dir name setledgerdirnam string tmp dir tmpdir get path getpath bs booki server bookieserv bs conf bsconf bs start main string arg io except ioexcept keeper except keeperexcept interrupt except interruptedexcept booki except bookieexcept arg length usag exit local book keeper localbookkeep lb local book keeper localbookkeep integ pars parseint arg server configur serverconfigur conf server configur serverconfigur arg length string conf file conffil arg conf load conf loadconf file conf file conffil uri touri url tourl log info configur file conf file conffil except load conf fail log warn error load configur file conf file conffil lb run zookeep runzookeep 1000 lb initi zookep initializezookep lb run booki runbooki conf thread sleep 5000 usag err println usag local book keeper localbookkeep number booki user test purpos empti watcher emptywatch watcher process watch event watchedev event wait server up waitforserverup string hp timeout start current time milli currenttimemilli string split hp split string host split port integ pars parseint split socket sock socket host port buffer reader bufferedread reader output stream outputstream outstream sock get output stream getoutputstream outstream write stat get byte getbyt outstream flush reader buffer reader bufferedread input stream reader inputstreamread sock get input stream getinputstream string line reader read line readlin line line start startswith zookeep version log info server up sock close reader reader close io except ioexcept ignor expect log info server hp up current time milli currenttimemilli start timeout thread sleep 250 interrupt except interruptedexcept ignor 
start deliveri request startdeliveryrequest com googl protobuf gener messag generatedmessag us start deliveri request startdeliveryrequest builder newbuild construct start deliveri request startdeliveryrequest init field initfield start deliveri request startdeliveryrequest init noinit start deliveri request startdeliveryrequest instanc defaultinst start deliveri request startdeliveryrequest get instanc getdefaultinst instanc defaultinst start deliveri request startdeliveryrequest get instanc type getdefaultinstancefortyp instanc defaultinst com googl protobuf descriptor descriptor get descriptor getdescriptor org apach hedwig protocol pub sub protocol pubsubprotocol intern hedwig start deliveri request descriptor internal_static_hedwig_startdeliveryrequest_descriptor com googl protobuf gener messag generatedmessag field accessor tabl fieldaccessort intern get field accessor tabl internalgetfieldaccessort org apach hedwig protocol pub sub protocol pubsubprotocol intern hedwig start deliveri request field accessor tabl internal_static_hedwig_startdeliveryrequest_fieldaccessort requir byte subscrib id subscriberid subscriberid field number subscriberid_field_numb ha subscrib id hassubscriberid com googl protobuf string bytestr subscrib id subscriberid_ com googl protobuf string bytestr empti ha subscrib id hassubscriberid ha subscrib id hassubscriberid com googl protobuf string bytestr get subscrib id getsubscriberid subscrib id subscriberid_ init field initfield initi isiniti ha subscrib id hassubscriberid write writeto com googl protobuf code output stream codedoutputstream output java io io except ioexcept get serial size getserializeds ha subscrib id hassubscriberid output write byte writebyt get subscrib id getsubscriberid get unknown field getunknownfield write writeto output memoiz serial size memoizedserializeds get serial size getserializeds size memoiz serial size memoizedserializeds size size size ha subscrib id hassubscriberid size com googl protobuf code output stream codedoutputstream comput byte size computebytess get subscrib id getsubscriberid size get unknown field getunknownfield get serial size getserializeds memoiz serial size memoizedserializeds size size org apach hedwig protocol pub sub protocol pubsubprotocol start deliveri request startdeliveryrequest pars from parsefrom com googl protobuf string bytestr data com googl protobuf invalid protocol buffer except invalidprotocolbufferexcept builder newbuild merg from mergefrom data build pars buildpars org apach hedwig protocol pub sub protocol pubsubprotocol start deliveri request startdeliveryrequest pars from parsefrom com googl protobuf string bytestr data com googl protobuf extens registri lite extensionregistrylit extens registri extensionregistri com googl protobuf invalid protocol buffer except invalidprotocolbufferexcept builder newbuild merg from mergefrom data extens registri extensionregistri build pars buildpars org apach hedwig protocol pub sub protocol pubsubprotocol start deliveri request startdeliveryrequest pars from parsefrom data com googl protobuf invalid protocol buffer except invalidprotocolbufferexcept builder newbuild merg from mergefrom data build pars buildpars org apach hedwig protocol pub sub protocol pubsubprotocol start deliveri request startdeliveryrequest pars from parsefrom data com googl protobuf extens registri lite extensionregistrylit extens registri extensionregistri com googl protobuf invalid protocol buffer except invalidprotocolbufferexcept builder newbuild merg from mergefrom data extens registri extensionregistri build pars buildpars org apach hedwig protocol pub sub protocol pubsubprotocol start deliveri request startdeliveryrequest pars from parsefrom java io input stream inputstream input java io io except ioexcept builder newbuild merg from mergefrom input build pars buildpars org apach hedwig protocol pub sub protocol pubsubprotocol start deliveri request startdeliveryrequest pars from parsefrom java io input stream inputstream input com googl protobuf extens registri lite extensionregistrylit extens registri extensionregistri java io io except ioexcept builder newbuild merg from mergefrom input extens registri extensionregistri build pars buildpars org apach hedwig protocol pub sub protocol pubsubprotocol start deliveri request startdeliveryrequest pars delimit from parsedelimitedfrom java io input stream inputstream input java io io except ioexcept builder builder builder newbuild builder merg delimit from mergedelimitedfrom input builder build pars buildpars org apach hedwig protocol pub sub protocol pubsubprotocol start deliveri request startdeliveryrequest pars delimit from parsedelimitedfrom java io input stream inputstream input com googl protobuf extens registri lite extensionregistrylit extens registri extensionregistri java io io except ioexcept builder builder builder newbuild builder merg delimit from mergedelimitedfrom input extens registri extensionregistri builder build pars buildpars org apach hedwig protocol pub sub protocol pubsubprotocol start deliveri request startdeliveryrequest pars from parsefrom com googl protobuf code input stream codedinputstream input java io io except ioexcept builder newbuild merg from mergefrom input build pars buildpars org apach hedwig protocol pub sub protocol pubsubprotocol start deliveri request startdeliveryrequest pars from parsefrom com googl protobuf code input stream codedinputstream input com googl protobuf extens registri lite extensionregistrylit extens registri extensionregistri java io io except ioexcept builder newbuild merg from mergefrom input extens registri extensionregistri build pars buildpars builder builder newbuild builder creat builder builder type newbuilderfortyp builder newbuild builder builder newbuild org apach hedwig protocol pub sub protocol pubsubprotocol start deliveri request startdeliveryrequest prototyp builder newbuild merg from mergefrom prototyp builder builder tobuild builder newbuild builder com googl protobuf gener messag generatedmessag builder builder org apach hedwig protocol pub sub protocol pubsubprotocol start deliveri request startdeliveryrequest result construct org apach hedwig protocol pub sub protocol pubsubprotocol start deliveri request startdeliveryrequest builder newbuild builder builder creat builder builder builder builder result org apach hedwig protocol pub sub protocol pubsubprotocol start deliveri request startdeliveryrequest builder org apach hedwig protocol pub sub protocol pubsubprotocol start deliveri request startdeliveryrequest intern get result internalgetresult result builder clear result illeg state except illegalstateexcept call clear after build result org apach hedwig protocol pub sub protocol pubsubprotocol start deliveri request startdeliveryrequest builder clone creat merg from mergefrom result com googl protobuf descriptor descriptor get descriptor type getdescriptorfortyp org apach hedwig protocol pub sub protocol pubsubprotocol start deliveri request startdeliveryrequest get descriptor getdescriptor org apach hedwig protocol pub sub protocol pubsubprotocol start deliveri request startdeliveryrequest get instanc type getdefaultinstancefortyp org apach hedwig protocol pub sub protocol pubsubprotocol start deliveri request startdeliveryrequest get instanc getdefaultinst initi isiniti result initi isiniti org apach hedwig protocol pub sub protocol pubsubprotocol start deliveri request startdeliveryrequest build result initi isiniti uniniti messag except newuninitializedmessageexcept result build partial buildparti org apach hedwig protocol pub sub protocol pubsubprotocol start deliveri request startdeliveryrequest build pars buildpars com googl protobuf invalid protocol buffer except invalidprotocolbufferexcept initi isiniti uniniti messag except newuninitializedmessageexcept result invalid protocol buffer except asinvalidprotocolbufferexcept build partial buildparti org apach hedwig protocol pub sub protocol pubsubprotocol start deliveri request startdeliveryrequest build partial buildparti result illeg state except illegalstateexcept build ha call builder org apach hedwig protocol pub sub protocol pubsubprotocol start deliveri request startdeliveryrequest returnm result result returnm builder merg from mergefrom com googl protobuf messag org apach hedwig protocol pub sub protocol pubsubprotocol start deliveri request startdeliveryrequest merg from mergefrom org apach hedwig protocol pub sub protocol pubsubprotocol start deliveri request startdeliveryrequest merg from mergefrom builder merg from mergefrom org apach hedwig protocol pub sub protocol pubsubprotocol start deliveri request startdeliveryrequest org apach hedwig protocol pub sub protocol pubsubprotocol start deliveri request startdeliveryrequest get instanc getdefaultinst ha subscrib id hassubscriberid set subscrib id setsubscriberid get subscrib id getsubscriberid merg unknown field mergeunknownfield get unknown field getunknownfield builder merg from mergefrom com googl protobuf code input stream codedinputstream input com googl protobuf extens registri lite extensionregistrylit extens registri extensionregistri java io io except ioexcept com googl protobuf unknown field set unknownfieldset builder unknown field unknownfield com googl protobuf unknown field set unknownfieldset builder newbuild get unknown field getunknownfield tag input read tag readtag tag set unknown field setunknownfield unknown field unknownfield build pars unknown field parseunknownfield input unknown field unknownfield extens registri extensionregistri tag set unknown field setunknownfield unknown field unknownfield build 18 set subscrib id setsubscriberid input read byte readbyt requir byte subscrib id subscriberid ha subscrib id hassubscriberid result ha subscrib id hassubscriberid com googl protobuf string bytestr get subscrib id getsubscriberid result get subscrib id getsubscriberid builder set subscrib id setsubscriberid com googl protobuf string bytestr valu valu pointer except nullpointerexcept result ha subscrib id hassubscriberid result subscrib id subscriberid_ valu builder clear subscrib id clearsubscriberid result ha subscrib id hassubscriberid result subscrib id subscriberid_ get instanc getdefaultinst get subscrib id getsubscriberid protoc insert point protoc_insertion_point builder scope builder_scop hedwig start deliveri request startdeliveryrequest instanc defaultinst start deliveri request startdeliveryrequest org apach hedwig protocol pub sub protocol pubsubprotocol intern forc init internalforceinit instanc defaultinst init field initfield protoc insert point protoc_insertion_point scope class_scop hedwig start deliveri request startdeliveryrequest 
booki server bean booki server bean bookieserverbean booki server mx bean bookieservermxbean bkm bean info bkmbeaninfo booki server bookieserv bk server configur serverconfigur conf string name booki server bean bookieserverbean server configur serverconfigur conf booki server bookieserv bk conf conf bk bk name booki server bookieserver_ conf get booki port getbookieport overrid string get name getnam name overrid hidden ishidden overrid get num packet receiv getnumpacketsreceiv server stat serverstat get instanc getinst get packet receiv getpacketsreceiv overrid get num packet sent getnumpacketss server stat serverstat get instanc getinst get packet sent getpacketss overrid op stat data opstatdata get add stat getaddstat bk bk stat bkstat get op stat getopstat bk stat bkstat stat add stats_add op stat data toopstatdata overrid op stat data opstatdata get read stat getreadstat bk bk stat bkstat get op stat getopstat bk stat bkstat stat read stats_read op stat data toopstatdata overrid string get server state getserverst bk nio server factori nioserverfactori stat get server state getserverst overrid string get server port getserverport inet address inetaddress get local host getlocalhost get host address gethostaddress conf get booki port getbookieport unknown host except unknownhostexcept localhost conf get booki port getbookieport 
cnxn socket channel socketchannel sock select kei selectionkei sk initi buffer bytebuff len buffer lenbuff buffer bytebuff alloc buffer bytebuff incom buffer incomingbuff len buffer lenbuff link block queue linkedblockingqueu buffer bytebuff outgo buffer outgoingbuff link block queue linkedblockingqueu buffer bytebuff session timeout sessiontimeout io doio select kei selectionkei interrupt except interruptedexcept sock readabl isread rc sock read incom buffer incomingbuff rc io except ioexcept read error incom buffer incomingbuff remain incom buffer incomingbuff flip incom buffer incomingbuff len buffer lenbuff read length readlength cnxn stat cnxnstat packet receiv packetsreceiv server stat serverstat get instanc getinst increment packet receiv incrementpacketsreceiv read request readrequest len buffer lenbuff clear incom buffer incomingbuff len buffer lenbuff writabl iswrit outgo buffer outgoingbuff size zoo log zoolog log trace messag logtracemessag log zoo log zoolog client data packet trace mask client_data_packet_trace_mask sk valid valid isvalid reset buffer posit limit size buffer fill data from non direct buffer send direct buffer directbuff clear buffer bytebuff outgo buffer outgoingbuff direct buffer directbuff remain remain call put direct buffer directbuff small hold copi ve slice buffer big buffer bytebuff slice limit direct buffer directbuff remain put modifi posit buffer put don chang posit sourc buffer ll after send need save reset posit after copi posit direct buffer directbuff put posit direct buffer directbuff remain flip limit posit posit get set set up write direct buffer directbuff flip sent sock write direct buffer directbuff buffer bytebuff bb remov buffer sent outgo buffer outgoingbuff size bb outgo buffer outgoingbuff peek bb close conn closeconn io except ioexcept close left bb remain sent left partial sent buffer updat posit exit loop bb posit bb posit sent cnxn stat cnxnstat packet sent packetss ve sent buffer drop buffer sent bb remain server stat serverstat get instanc getinst increment packet sent incrementpacketss outgo buffer outgoingbuff remov zoo log zoolog log trace messag logtracemessag log zoo log zoolog client data packet trace mask client_data_packet_trace_mask after send outgo buffer outgoingbuff size outgo buffer outgoingbuff size outgo buffer outgoingbuff size initi sk interest op interestop select kei selectionkei op read op_read io except ioexcept respond info probe sk interest op interestop sk interest op interestop select kei selectionkei op write op_writ sk interest op interestop sk interest op interestop select kei selectionkei op write op_writ cancel kei except cancelledkeyexcept close io except ioexcept log error fixmsg close read request readrequest io except ioexcept incom buffer incomingbuff incom buffer incomingbuff slice processor process packet processpacket incom buffer incomingbuff disabl recv disablerecv sk interest op interestop sk interest op interestop select kei selectionkei op read op_read enabl recv enablerecv sk valid isvalid interest sk interest op interestop interest select kei selectionkei op read op_read sk interest op interestop interest select kei selectionkei op read op_read read length readlength select kei selectionkei io except ioexcept read length get buffer len len buffer lenbuff get getint len len xfffff 0xfffff io except ioexcept len error len incom buffer incomingbuff buffer bytebuff alloc len number request submit respond outstand request outstandingrequest non javadoc org apach zookeep server server cnxn ifac servercnxnifac get session timeout getsessiontimeout get session timeout getsessiontimeout session timeout sessiontimeout string peer name peernam cnxn socket channel socketchannel sock select kei selectionkei sk io except ioexcept sock sock sk sk sock socket set tcp delai settcpnodelai conf get server tcp delai getservertcpnodelai sock socket set linger setsoling sk interest op interestop select kei selectionkei op read op_read log trace enabl istraceen peer name peernam sock socket string tostr len buffer lenbuff clear incom buffer incomingbuff len buffer lenbuff overrid string string tostr nio server cnxn nioservercnxn object sock sock sk sk string get peer name getpeernam peer name peernam peer name peernam sock socket string tostr peer name peernam close non javadoc org apach zookeep server server cnxn ifac servercnxnifac close close close close cnxn cnxn remov log debug close nio server cnxn nioservercnxn sock follow sequenc code stupid sock close need ala doesn work sock close case socket doesn close sock socket shutdown output shutdownoutput io except ioexcept common except avoid sock socket shutdown input shutdowninput io except ioexcept sock socket close io except ioexcept log error fixmsg sock close xxx next line doesn need post forum suggest need keep mind error section aris factori selector wakeup io except ioexcept log error fixmsg sock sk cancel select kei from selector sk cancel except make writabl makewrit select kei selectionkei sk selector wakeup sk valid isvalid sk interest op interestop sk interest op interestop select kei selectionkei op write op_writ runtim except runtimeexcept log error problem set writabl send buffer sendbuff buffer bytebuff bb buffer bytebuff len buffer bytebuff alloc total bb length bb total bb remain log trace enabl istraceen log debug send respons size total peer name peernam len put putint total len flip outgo buffer outgoingbuff add len bb length bb outgo buffer outgoingbuff add bb make writabl makewrit sk send respons sendrespons buffer bytebuff bb close send buffer sendbuff bb nio server factori nioserverfactori outstand request outstandingrequest check throttl outstand request outstandingrequest outstand limit outstandinglimit sk selector wakeup enabl recv enablerecv inet socket address inetsocketaddress get remot address getremoteaddress inet socket address inetsocketaddress sock socket get remot socket address getremotesocketaddress cnxn stat cnxnstat packet sent packetss packet receiv packetsreceiv number request submit respond get outstand request getoutstandingrequest cnxn outstand request outstandingrequest get packet receiv getpacketsreceiv packet receiv packetsreceiv get packet sent getpacketss packet sent packetss overrid string string tostr string builder stringbuild sb string builder stringbuild channel channel sk channel channel socket channel socketchannel sb append append socket channel socketchannel channel socket get remot socket address getremotesocketaddress append append integ hex string tohexstr sk interest op interestop append queu append get outstand request getoutstandingrequest append recv append get packet receiv getpacketsreceiv append sent append get packet sent getpacketss append sb string tostr cnxn stat cnxnstat cnxn stat cnxnstat cnxn stat cnxnstat cnxn stat cnxnstat get stat getstat cnxn stat cnxnstat 
test zk topic manag testzktopicmanag zoo keeper test base zookeepertestbas logger log logger factori loggerfactori get logger getlogg test zk topic manag testzktopicmanag zk topic manag zktopicmanag tm callback queue callbackqueu callback synchron queue synchronousqueu except synchron queue synchronousqueu except synchron queue synchronousqueu except get queue getqueu except interrupt except interruptedexcept overrid oper fail operationfail object ctx pub sub except pubsubexcept except log error except except thread runnabl overrid run concurr util concurrencyutil put except except start overrid oper finish operationfinish object ctx result oper resultofoper thread runnabl overrid run concurr util concurrencyutil put result oper resultofoper except start callback queue callbackqueu hedwig socket address hedwigsocketaddress addr cbq addrcbq callback queue callbackqueu hedwig socket address hedwigsocketaddress callback queue callbackqueu string bytestr bs cbq bscbq callback queue callbackqueu string bytestr callback queue callbackqueu cbq voidcbq callback queue callbackqueu string bytestr topic string bytestr copi from utf8 copyfromutf8 topic server configur serverconfigur cfg hedwig socket address hedwigsocketaddress schedul executor servic scheduledexecutorservic schedul overrid befor set up setup except set up setup cfg server configur serverconfigur cfg get server addr getserveraddr schedul executor singl thread schedul executor newsinglethreadscheduledexecutor tm zk topic manag zktopicmanag zk cfg schedul test test get owner singl testgetownersingl except tm get owner getown topic addr cbq addrcbq equal assertequ check addr cbq addrcbq string bytestr mk topic mktopic string bytestr copi from utf8 copyfromutf8 topic string utf8 tostringutf8 check except ex except ex left ex right ex left custom server configur customserverconfigur server configur serverconfigur port custom server configur customserverconfigur port port port overrid get server port getserverport port test test get owner multi testgetownermulti except server configur serverconfigur cfg1 custom server configur customserverconfigur cfg get server port getserverport cfg2 custom server configur customserverconfigur cfg get server port getserverport todo chang cfg1 cfg2 param zk topic manag zktopicmanag tm1 zk topic manag zktopicmanag zk cfg1 schedul tm2 zk topic manag zktopicmanag zk cfg2 schedul tm get owner getown topic addr cbq addrcbq hedwig socket address hedwigsocketaddress owner check addr cbq addrcbq told person claim topic make claim topic owner get port getport cfg1 get server port getserverport tm1 get owner getown topic addr cbq addrcbq owner get port getport cfg2 get server port getserverport tm2 get owner getown topic addr cbq addrcbq owner get port getport cfg get server port getserverport equal assertequ owner check addr cbq addrcbq 100 tm get owner getown topic addr cbq addrcbq equal assertequ owner check addr cbq addrcbq tm1 get owner getown topic addr cbq addrcbq equal assertequ owner check addr cbq addrcbq tm2 get owner getown topic addr cbq addrcbq equal assertequ owner check addr cbq addrcbq 100 chanc choos owner claim shouldclaim 100 owner equal tm get owner getown mk topic mktopic addr cbq addrcbq owner check addr cbq addrcbq 99 fail chose owner make choos claim shouldclaim 100 tm get owner getown mk topic mktopic 100 addr cbq addrcbq equal assertequ check addr cbq addrcbq test test load balanc testloadbalanc except tm get owner getown topic addr cbq addrcbq equal assertequ check addr cbq addrcbq server configur serverconfigur cfg1 custom server configur customserverconfigur cfg get server port getserverport zk topic manag zktopicmanag zk cfg1 schedul string bytestr topic1 mk topic mktopic tm get owner getown topic1 addr cbq addrcbq equal assertequ cfg1 get server addr getserveraddr check addr cbq addrcbq stub ownership chang listen stubownershipchangelisten topic ownership chang listen topicownershipchangelisten failur synchron queue synchronousqueu pair string bytestr bs queue bsqueue stub ownership chang listen stubownershipchangelisten synchron queue synchronousqueu pair string bytestr bs queue bsqueue bs queue bsqueue bs queue bsqueue set failur setfailur failur failur failur overrid lost topic losttop string bytestr topic thread runnabl overrid run concurr util concurrencyutil put bs queue bsqueue pair topic start acquir topic acquiredtop string bytestr topic callback callback object ctx thread runnabl overrid run concurr util concurrencyutil put bs queue bsqueue pair topic failur callback oper fail operationfail ctx pub sub except pubsubexcept servic down except servicedownexcept ask fail callback oper finish operationfinish ctx start test test ownership chang testownershipchang except synchron queue synchronousqueu pair string bytestr bs queue bsqueue synchron queue synchronousqueu pair string bytestr stub ownership chang listen stubownershipchangelisten listen stub ownership chang listen stubownershipchangelisten bs queue bsqueue tm add topic ownership chang listen addtopicownershipchangelisten listen regular acquir tm get owner getown topic addr cbq addrcbq pair string bytestr pair bs queue bsqueue equal assertequ topic pair first asserttru pair second equal assertequ check addr cbq addrcbq ownership node exist assertownershipnodeexist topic tm get owner getown topic addr cbq addrcbq equal assertequ check addr cbq addrcbq asserttru bs queue bsqueue empti isempti ownership node exist assertownershipnodeexist regular releas tm releas topic releasetop topic cb pair bs queue bsqueue equal assertequ topic pair first assertfals pair second asserttru queue ownership node doesnt exist assertownershipnodedoesntexist releas topic don tm releas topic releasetop mk topic mktopic cb asserttru queue asserttru bs queue bsqueue empti isempti set listen error listen set failur setfailur tm get owner getown topic addr cbq addrcbq pair bs queue bsqueue equal assertequ topic pair first asserttru pair second equal assertequ pub sub except pubsubexcept servic down except servicedownexcept composit except compositeexcept addr cbq addrcbq right get except getexcept iter next get getclass assertfals tm topic contain topic thread sleep 100 ownership node doesnt exist assertownershipnodedoesntexist ownership node exist assertownershipnodeexist except data zk get data getdata tm hub path hubpath topic equal assertequ hedwig socket address hedwigsocketaddress string data tm addr ownership node doesnt exist assertownershipnodedoesntexist except zk get data getdata tm hub path hubpath topic asserttru keeper except keeperexcept equal assertequ code keeper except keeperexcept code nonod test test zk client disconnect testzkclientdisconnect except first ownership topic tm get owner getown topic addr cbq addrcbq equal assertequ check addr cbq addrcbq suspend zk topic manag zktopicmanag make call get owner getown error tm suspend issuspend tm get owner getown topic addr cbq addrcbq equal assertequ pub sub except pubsubexcept servic down except servicedownexcept addr cbq addrcbq right get getclass releas topic error even suspend tm releas topic releasetop topic cb asserttru queue ownership node doesnt exist assertownershipnodedoesntexist restart zk topic manag zktopicmanag make call get owner getown tm suspend issuspend tm get owner getown topic addr cbq addrcbq equal assertequ check addr cbq addrcbq ownership node exist assertownershipnodeexist 
histori cmd historycmd command mycommand overrid run cmd runcmd string arg except command count commandcount 10 command count commandcount println histori get 
local db persist manag localdbpersistencemanag persist manag rang scan persistencemanagerwithrangescan logger logger logger factori loggerfactori get logger getlogg local db persist manag localdbpersistencemanag string connect url connectionurl file temp dir tempdir file util fileutil creat temp directori createtempdirectori derbi derbi creat delet first temp dir tempdir delet io except ioexcept delet dir temp dir tempdir get absolut path getabsolutepath connect url connectionurl jdbc derbi temp dir tempdir get absolut path getabsolutepath creat io except ioexcept runtim except runtimeexcept thread local threadloc connect thread local connect threadlocalconnect thread local threadloc connect overrid connect initi valu initialvalu driver manag drivermanag get connect getconnect connect url connectionurl sql except sqlexcept logger error connect derbi thread local threadloc messag digest messagedigest thread local digest threadlocaldigest thread local threadloc messag digest messagedigest overrid messag digest messagedigest initi valu initialvalu messag digest messagedigest get instanc getinst md5 algorithm except nosuchalgorithmexcept logger error find md5 hash string id field name id_field_nam id string msg field name msg_field_nam msg string driver org apach derbi jdbc embed driver embeddeddriv scan chunk scan_chunk 1000 troubl restart databas multipl time from jvm facilit unit test version number append tabl name version number increment lieu shut down databas restart get differ tabl name behav brand databas version concurr map concurrentmap string bytestr messag seq id messageseqid curr topic seq id currtopicseqid concurr hash map concurrenthashmap string bytestr messag seq id messageseqid local db persist manag localdbpersistencemanag instanc local db persist manag localdbpersistencemanag local db persist manag localdbpersistencemanag instanc instanc local db persist manag localdbpersistencemanag name fornam driver instanc newinst logger info derbi driver load java lang found except classnotfoundexcept logger error derbi driver found instanti except instantiationexcept logger error instanti derbi driver illeg access except illegalaccessexcept logger error instanti derbi driver ensur least seq id exist map topic check race condit thread insert id befor return latest seq id valu map param topic messag seq id messageseqid ensur seq id exist topic ensureseqidexistsfortop string bytestr topic messag seq id messageseqid present seq id map presentseqidinmap curr topic seq id currtopicseqid get topic present seq id map presentseqidinmap present seq id map presentseqidinmap present seq id map presentseqidinmap messag seq id messageseqid builder newbuild set local compon setlocalcompon build messag seq id messageseqid old seq id map oldseqidinmap curr topic seq id currtopicseqid put absent putifabs topic present seq id map presentseqidinmap old seq id map oldseqidinmap old seq id map oldseqidinmap present seq id map presentseqidinmap adjust current seq id topic base messag publish local compon current seq id increment compon two case messag publish doesn seq id local publish messag compon left messag publish ha seq id max current on messag publish param topic param messag publish messagetopublish valu local seq id obtain after increment local compon valu us id persist derbi unexpect condit except unexpectedconditionexcept adjust topic seq id publish adjusttopicseqidforpublish string bytestr topic messag messag publish messagetopublish unexpect condit except unexpectedconditionexcept ret valu retvalu messag seq id messageseqid old id oldid messag seq id messageseqid builder id builder newidbuild messag seq id messageseqid builder newbuild old id oldid ensur seq id exist topic ensureseqidexistsfortop topic increment compon ret valu retvalu old id oldid get local compon getlocalcompon id builder newidbuild set local compon setlocalcompon ret valu retvalu messag publish messagetopublish ha msg id hasmsgid region wise max messag id util messageidutil region maximum takeregionmaximum id builder newidbuild messag publish messagetopublish get msg id getmsgid old id oldid id builder newidbuild add remot compon addallremotecompon old id oldid get remot compon list getremotecomponentslist curr topic seq id currtopicseqid replac topic old id oldid id builder newidbuild build ret valu retvalu get seq id after skip getseqidafterskip string bytestr topic seq id seqid skip amount skipamount seq id seqid skip amount skipamount persist messag persistmessag persist request persistrequest request connect conn thread local connect threadlocalconnect get callback callback request get callback getcallback object ctx request get ctx getctx string bytestr topic request get topic gettop messag messag request get messag getmessag conn callback oper fail operationfail ctx servic down except servicedownexcept connect derbi seq id seqid seq id seqid adjust topic seq id publish adjusttopicseqidforpublish topic messag unexpect condit except unexpectedconditionexcept callback oper fail operationfail ctx prepar statement preparedstat stmt creat tabl triedcreatingt messag get bodi getbodi stmt conn prepar statement preparestat insert get tabl name topic gettablenamefortop topic valu stmt set setlong seq id seqid stmt set blob setblob serial blob serialblob messag arrai tobytearrai row count rowcount stmt execut updat executeupd stmt close row count rowcount logger error unexpect number affect row from derbi callback oper fail operationfail ctx servic down except servicedownexcept unexpect respons from derbi sql except sqlexcept sqle string error theerror sqle get sql state getsqlstat error theerror equal 42 x05 42x05 creat tabl triedcreatingt creat tabl createt conn topic creat tabl triedcreatingt logger error error execut derbi insert sqle callback oper fail operationfail ctx servic down except servicedownexcept sqle callback oper finish operationfinish ctx seq id seqid method except thread sneak creat tabl befor creat tabl createt connect conn string bytestr topic statement stmt stmt conn creat statement createstat string tabl name tablenam get tabl name topic gettablenamefortop topic stmt execut creat tabl tabl name tablenam id field name id_field_nam bigint constraint id pk id_pk_ tabl name tablenam primari kei msg field name msg_field_nam blob 2m sql except sqlexcept logger debug creat tabl stmt stmt close sql except sqlexcept logger error error close statement messag seq id messageseqid get current seq id topic getcurrentseqidfortop string bytestr topic ensur seq id exist topic ensureseqidexistsfortop topic scan singl messag scansinglemessag scan request scanrequest request scan messag intern scanmessagesintern request get topic gettop request get start seq id getstartseqid max valu max_valu request get callback getcallback request get ctx getctx scan messag scanmessag rang scan request rangescanrequest request scan messag intern scanmessagesintern request get topic gettop request get start seq id getstartseqid request get messag limit getmessagelimit request get size limit getsizelimit request get callback getcallback request get ctx getctx scan chunk scan_chunk string get tabl name topic gettablenamefortop string bytestr topic string src topic string utf8 tostringutf8 version thread local digest threadlocaldigest get reset digest thread local digest threadlocaldigest get digest src get byte getbyt big integ biginteg big bigint big integ biginteg digest string format tabl table_ 032x big bigint scan messag intern scanmessagesintern string bytestr topic start seq id startseqid messag limit messagelimit size limit sizelimit scan callback scancallback callback object ctx scan chunk scanchunk connect conn thread local connect threadlocalconnect get conn callback scan fail scanfail ctx servic down except servicedownexcept connect derbi current seq id currentseqid current seq id currentseqid start seq id startseqid prepar statement preparedstat stmt stmt conn prepar statement preparestat select from get tabl name topic gettablenamefortop topic id field name id_field_nam id field name id_field_nam sql except sqlexcept sqle string error theerror sqle get sql state getsqlstat error theerror equal 42 x05 42x05 tabl scan callback scan finish scanfinish ctx reason finish reasonforfinish more messag no_more_messag sqle num messag nummessag total size totals stmt set setlong current seq id currentseqid stmt set setlong current seq id currentseqid scan chunk scanchunk stmt execut string error msg errormsg select queri result set logger error error msg errormsg stmt close callback scan fail scanfail ctx servic down except servicedownexcept error msg errormsg result set resultset result set resultset stmt get result set getresultset result set resultset next stmt close callback scan finish scanfinish ctx reason finish reasonforfinish more messag no_more_messag local seq id localseqid result set resultset get getlong messag builder messag builder messagebuild messag builder newbuild merg from mergefrom result set resultset get binari stream getbinarystream merg local seq id store messag messag messag messag id util messageidutil merg local seq id mergelocalseqid messag builder messagebuild local seq id localseqid callback messag scan messagescan ctx messag num messag nummessag total size totals messag get bodi getbodi size num messag nummessag messag limit messagelimit stmt close callback scan finish scanfinish ctx reason finish reasonforfinish num messag limit exceed num_messages_limit_exceed total size totals size limit sizelimit stmt close callback scan finish scanfinish ctx reason finish reasonforfinish size limit exceed size_limit_exceed result set resultset next current seq id currentseqid scan chunk scan_chunk sql except sqlexcept logger error sql except callback scan fail scanfail ctx servic down except servicedownexcept io except ioexcept logger error messag store derbi parseabl callback scan fail scanfail ctx servic down except servicedownexcept stmt stmt close sql except sqlexcept logger error error close statement deliv delivereduntil string bytestr topic seq id seqid noop consum consumeduntil string bytestr topic seq id seqid connect conn thread local connect threadlocalconnect get conn logger error connect derbi prepar statement preparedstat stmt stmt conn prepar statement preparestat delet from get tabl name topic gettablenamefortop topic id field name id_field_nam stmt set setlong seq id seqid row count rowcount stmt execut updat executeupd logger debug delet row count rowcount record topic topic string utf8 tostringutf8 seq id seqid seq id seqid sql except sqlexcept sqle string error theerror sqle get sql state getsqlstat error theerror equal 42 x05 42x05 logger warn tabl topic topic exist consum messag delet logger error error execut derbi delet consum messag sqle stmt stmt close sql except sqlexcept logger error error close statement set messag bound setmessagebound string bytestr topic integ bound noop implement clear messag bound clearmessagebound string bytestr topic noop implement consum bound consumetobound string bytestr topic noop implement overrid final throwabl driver equal org apach derbi jdbc embed driver embeddeddriv sql exc gotsqlexc weird normal shutdown except driver manag drivermanag get connect getconnect jdbc derbi shutdown close sql except sqlexcept se se get sql state getsqlstat equal xj015 sql exc gotsqlexc sql exc gotsqlexc logger error databas shut down logger info databas shut down final reset move next on version curr topic seq id currtopicseqid clear 
last log mark last log mark lastlogmark txn log id txnlogid txn log posit txnlogposit last log mark lastlogmark last mark lastmark last log mark lastlogmark log id logid log posit logposit txn log id txnlogid log id logid txn log posit txnlogposit log posit logposit set last log mark setlastlogmark log id logid log posit logposit txn log id txnlogid log id logid txn log posit txnlogposit log posit logposit mark log marklog last mark lastmark last log mark lastlogmark txn log id txnlogid txn log posit txnlogposit last log mark lastlogmark get last mark getlastmark last mark lastmark get txn log id gettxnlogid txn log id txnlogid get txn log posit gettxnlogposit txn log posit txnlogposit roll log rolllog buff 16 buffer bytebuff bb buffer bytebuff wrap buff record log id logid log posit logposit mark mark log marklog safe record befor last mark lastmark persist disk index entri logger bb put putlong last mark lastmark get txn log id gettxnlogid bb put putlong last mark lastmark get txn log posit gettxnlogposit log debug enabl isdebugen log debug roll log rolllog persist last mark log last mark lastmark file dir ledger directori ledgerdirectori file file file dir last mark lastmark file output stream fileoutputstream fo file output stream fileoutputstream file fo write buff fo get channel getchannel forc fo close io except ioexcept log error problem write file read last mark from last mark lastmark file last mark first max journal log id max log posit max journal log read log readlog buff 16 buffer bytebuff bb buffer bytebuff wrap buff file dir ledger directori ledgerdirectori file file file dir last mark lastmark file input stream fileinputstream fi file input stream fileinputstream file byte read bytesread fi read buff byte read bytesread 16 io except ioexcept couldn read byte from last mark lastmark want 16 byte read bytesread fi close bb clear bb get getlong bb get getlong txn log id txnlogid txn log id txnlogid txn log posit txnlogposit txn log posit txnlogposit io except ioexcept log error problem read from file first time start booki overrid string string tostr string builder stringbuild sb string builder stringbuild sb append last mark lastmark log id logid append txn log id txnlogid append posit append txn log posit txnlogposit sb string tostr 
read ahead cach bean mbean read ahead cach mx bean readaheadcachemxbean max cach size get max cach size getmaxcaches present cach size get present cach size getpresentcaches number cach entri get num cach entri getnumcachedentri number pend cach request get num pend cach request getnumpendingcacherequest 
hub specif child hedwig subscrib hedwigsubscrib main thing wrap subscrib unsubscrib method call overload pass valu input paramet hub ishub make valid subscrib id subscriberid pass ensur right format local hub subscrib hedwig hub subscrib hedwighubsubscrib hedwig subscrib hedwigsubscrib hedwig hub subscrib hedwighubsubscrib hedwig client impl hedwigclientimpl client client overrid subscrib string bytestr topic string bytestr subscrib id subscriberid creat attach createorattach mode connect except couldnotconnectexcept client subscrib except clientalreadysubscribedexcept servic down except servicedownexcept invalid subscrib id except invalidsubscriberidexcept subscript option subscriptionopt option subscript option subscriptionopt builder newbuild set creat attach setcreateorattach mode build subscrib topic subscrib id subscriberid option overrid async subscrib asyncsubscrib string bytestr topic string bytestr subscrib id subscriberid creat attach createorattach mode callback callback object context subscript option subscriptionopt option subscript option subscriptionopt builder newbuild set creat attach setcreateorattach mode build async subscrib asyncsubscrib topic subscrib id subscriberid option callback context overrid subscrib string bytestr topic string bytestr subscrib id subscriberid subscript option subscriptionopt option connect except couldnotconnectexcept client subscrib except clientalreadysubscribedexcept servic down except servicedownexcept invalid subscrib id except invalidsubscriberidexcept subscrib topic subscrib id subscriberid option overrid async subscrib asyncsubscrib string bytestr topic string bytestr subscrib id subscriberid subscript option subscriptionopt option callback callback object context async subscrib asyncsubscrib topic subscrib id subscriberid option callback context overrid unsubscrib string bytestr topic string bytestr subscrib id subscriberid connect except couldnotconnectexcept client subscrib except clientnotsubscribedexcept servic down except servicedownexcept invalid subscrib id except invalidsubscriberidexcept unsubscrib topic subscrib id subscriberid overrid async unsubscrib asyncunsubscrib string bytestr topic string bytestr subscrib id subscriberid callback callback object context async unsubscrib asyncunsubscrib topic subscrib id subscriberid callback context 
read topic cmd readtopiccmd command mycommand overrid run cmd runcmd string arg except arg length read topic readtop rt string bytestr topic string bytestr copi from utf8 copyfromutf8 arg arg length rt read topic readtop admin topic consol inconsol rt read topic readtop admin topic pars parselong arg consol inconsol rt read topic readtop 
code unauthor access except unauthorizedaccessexcept illeg op except illegalopexcept 100 ledger fenc except ledgerfencedexcept 101 invalid cooki except invalidcookieexcept 102 upgrad except upgradeexcept 103 
encapsul asynchron ledger creat oper ledger creat op ledgercreateop gener callback genericcallback string logger log logger factori loggerfactori get logger getlogg ledger creat op ledgercreateop creat callback createcallback cb ledger metadata ledgermetadata metadata ledger handl ledgerhandl lh object ctx passwd book keeper bookkeep bk digest type digesttyp digest type digesttyp constructor param bk book keeper bookkeep object param ensembl size ensembles ensembl size param quorum size quorums quorum size param digest type digesttyp digest type mac crc32 param passwd passowrd param cb callback implement param ctx option control object ledger creat op ledgercreateop book keeper bookkeep bk ensembl size ensembles quorum size quorums digest type digesttyp digest type digesttyp passwd creat callback createcallback cb object ctx bk bk metadata ledger metadata ledgermetadata ensembl size ensembles quorum size quorums digest type digesttyp digest type digesttyp passwd passwd cb cb ctx ctx initi oper initi alloc ensembl first ad booki ledger handl arrai list arraylist inet socket address inetsocketaddress ensembl ensembl bk booki watcher bookiewatch get booki getnewbooki metadata ensembl size ensembles bk booki except bknotenoughbookiesexcept log error booki creat ledger cb creat complet createcomplet get code getcod ctx add ensembl configur metadata add ensembl addensembl 0l ensembl creat ledger path metadata bk get ledger manag getledgermanag ledger path newledgerpath metadata callback creat ledger path overrid oper complet operationcomplet rc string ledger path ledgerpath rc keeper except keeperexcept code valu intvalu log error creat node ledger keeper except keeperexcept creat keeper except keeperexcept code get rc ledger path ledgerpath cb creat complet createcomplet bk except bkexcept code zk except zkexcept ctx extract ledger id ledger id ledgerid ledger id ledgerid bk get ledger manag getledgermanag get ledger id getledgerid ledger path ledgerpath io except ioexcept log error extract ledger id from path ledger path ledgerpath cb creat complet createcomplet bk except bkexcept code zk except zkexcept ctx lh ledger handl ledgerhandl bk ledger id ledgerid metadata digest type digesttyp passwd gener secur except generalsecurityexcept log error secur except creat ledger ledger id ledgerid cb creat complet createcomplet bk except bkexcept code digest initi except digestnotinitializedexcept ctx number format except numberformatexcept log error incorrectli enter paramet throttl bk get conf getconf get throttl valu getthrottlevalu cb creat complet createcomplet bk except bkexcept code incorrect paramet except incorrectparameterexcept ctx ledger handl back cb creat complet createcomplet bk except bkexcept code lh ctx 
creat attach createorattach com googl protobuf protocol messag protocolmessageenum creat attach creat attach create_or_attach get number getnumb valu creat attach createorattach valu valueof valu valu creat attach creat attach create_or_attach com googl protobuf intern lite map enumlitemap creat attach createorattach intern get valu map internalgetvaluemap intern valu map internalvaluemap com googl protobuf intern lite map enumlitemap creat attach createorattach intern valu map internalvaluemap com googl protobuf intern lite map enumlitemap creat attach createorattach creat attach createorattach find valu number findvaluebynumb number creat attach createorattach valu valueof number com googl protobuf descriptor valu descriptor enumvaluedescriptor get valu descriptor getvaluedescriptor get descriptor getdescriptor get valu getvalu get index com googl protobuf descriptor descriptor enumdescriptor get descriptor type getdescriptorfortyp get descriptor getdescriptor com googl protobuf descriptor descriptor enumdescriptor get descriptor getdescriptor org apach hedwig protocol pub sub protocol pubsubprotocol subscrib request subscriberequest get descriptor getdescriptor get type getenumtyp get creat attach createorattach valu creat attach creat attach create_or_attach creat attach createorattach valu valueof com googl protobuf descriptor valu descriptor enumvaluedescriptor desc desc get type gettyp get descriptor getdescriptor java lang illeg argument except illegalargumentexcept valu descriptor enumvaluedescriptor type valu desc get index getindex index valu creat attach createorattach index valu index index valu valu org apach hedwig protocol pub sub protocol pubsubprotocol get descriptor getdescriptor protoc insert point protoc_insertion_point scope enum_scop hedwig subscrib request subscriberequest creat attach createorattach 
ledger input stream ledgerinputstream input stream inputstream logger log logger factori loggerfactori get logger getlogg ledger input stream ledgerinputstream ledger handl ledgerhandl lh buffer bytebuff bytebuff bbyte last entri lastentri increment 50 size defaults 1024 1024 mb 1mb size enumer ledger entri ledgerentri ledger seq ledgerseq construct outputstream from ledger handl param lh ledger handl link bk except bkexcept link interrupt except interruptedexcept ledger input stream ledgerinputstream ledger handl ledgerhandl lh bk except bkexcept interrupt except interruptedexcept lh lh bbyte size defaults bytebuff buffer bytebuff wrap bbyte bytebuff posit bytebuff limit last entri lastentri math min lh get last add confirm getlastaddconfirm increment ledger seq ledgerseq lh read entri readentri last entri lastentri construct outputstream from ledger handl param lh ledger handl param size size buffer link bk except bkexcept link interrupt except interruptedexcept ledger input stream ledgerinputstream ledger handl ledgerhandl lh size bk except bkexcept interrupt except interruptedexcept lh lh bbyte size bytebuff buffer bytebuff wrap bbyte bytebuff posit bytebuff limit last entri lastentri math min lh get last add confirm getlastaddconfirm increment ledger seq ledgerseq lh read entri readentri last entri lastentri method close current doesn applic suppos open close ledger handl back up stream link ledger handl ledgerhandl overrid close let applic close ledger refil buffer read more byte refil refil io except ioexcept bytebuff clear ledger seq ledgerseq ha more element hasmoreel last entri lastentri lh get last add confirm getlastaddconfirm ledger seq ledgerseq ha more element hasmoreel refil last math min last entri lastentri increment lh get last add confirm getlastaddconfirm ledger seq ledgerseq lh read entri readentri last entri lastentri last bk except bkexcept bk io except ioexcept io except ioexcept bk get messag getmessag init caus initcaus bk interrupt except interruptedexcept thread current thread currentthread interrupt last entri lastentri last ledger entri ledgerentri le ledger seq ledgerseq next element nextel bbyte le get entri getentri bytebuff buffer bytebuff wrap bbyte overrid read io except ioexcept toread bytebuff remain remain byte toread refil toread ret ff 0xff bytebuff get ret overrid read io except ioexcept smart copi byte size user call toread bytebuff remain toread refil toread bcopi bytebuff remain tocopi math min bcopi length us get underflow overflow except arraycopi bbyte bytebuff posit tocopi bytebuff posit bytebuff posit tocopi tocopi overrid read len io except ioexcept dont ot fulli fill let applic call read toread bytebuff remain toread refil toread bcopi bytebuff remain tocopi math min bcopi len arraycopi bbyte bytebuff posit tocopi bytebuff posit bytebuff posit tocopi tocopi 
unsubscrib request unsubscriberequest com googl protobuf gener messag generatedmessag us unsubscrib request unsubscriberequest builder newbuild construct unsubscrib request unsubscriberequest init field initfield unsubscrib request unsubscriberequest init noinit unsubscrib request unsubscriberequest instanc defaultinst unsubscrib request unsubscriberequest get instanc getdefaultinst instanc defaultinst unsubscrib request unsubscriberequest get instanc type getdefaultinstancefortyp instanc defaultinst com googl protobuf descriptor descriptor get descriptor getdescriptor org apach hedwig protocol pub sub protocol pubsubprotocol intern hedwig unsubscrib request descriptor internal_static_hedwig_unsubscriberequest_descriptor com googl protobuf gener messag generatedmessag field accessor tabl fieldaccessort intern get field accessor tabl internalgetfieldaccessort org apach hedwig protocol pub sub protocol pubsubprotocol intern hedwig unsubscrib request field accessor tabl internal_static_hedwig_unsubscriberequest_fieldaccessort requir byte subscrib id subscriberid subscriberid field number subscriberid_field_numb ha subscrib id hassubscriberid com googl protobuf string bytestr subscrib id subscriberid_ com googl protobuf string bytestr empti ha subscrib id hassubscriberid ha subscrib id hassubscriberid com googl protobuf string bytestr get subscrib id getsubscriberid subscrib id subscriberid_ init field initfield initi isiniti ha subscrib id hassubscriberid write writeto com googl protobuf code output stream codedoutputstream output java io io except ioexcept get serial size getserializeds ha subscrib id hassubscriberid output write byte writebyt get subscrib id getsubscriberid get unknown field getunknownfield write writeto output memoiz serial size memoizedserializeds get serial size getserializeds size memoiz serial size memoizedserializeds size size size ha subscrib id hassubscriberid size com googl protobuf code output stream codedoutputstream comput byte size computebytess get subscrib id getsubscriberid size get unknown field getunknownfield get serial size getserializeds memoiz serial size memoizedserializeds size size org apach hedwig protocol pub sub protocol pubsubprotocol unsubscrib request unsubscriberequest pars from parsefrom com googl protobuf string bytestr data com googl protobuf invalid protocol buffer except invalidprotocolbufferexcept builder newbuild merg from mergefrom data build pars buildpars org apach hedwig protocol pub sub protocol pubsubprotocol unsubscrib request unsubscriberequest pars from parsefrom com googl protobuf string bytestr data com googl protobuf extens registri lite extensionregistrylit extens registri extensionregistri com googl protobuf invalid protocol buffer except invalidprotocolbufferexcept builder newbuild merg from mergefrom data extens registri extensionregistri build pars buildpars org apach hedwig protocol pub sub protocol pubsubprotocol unsubscrib request unsubscriberequest pars from parsefrom data com googl protobuf invalid protocol buffer except invalidprotocolbufferexcept builder newbuild merg from mergefrom data build pars buildpars org apach hedwig protocol pub sub protocol pubsubprotocol unsubscrib request unsubscriberequest pars from parsefrom data com googl protobuf extens registri lite extensionregistrylit extens registri extensionregistri com googl protobuf invalid protocol buffer except invalidprotocolbufferexcept builder newbuild merg from mergefrom data extens registri extensionregistri build pars buildpars org apach hedwig protocol pub sub protocol pubsubprotocol unsubscrib request unsubscriberequest pars from parsefrom java io input stream inputstream input java io io except ioexcept builder newbuild merg from mergefrom input build pars buildpars org apach hedwig protocol pub sub protocol pubsubprotocol unsubscrib request unsubscriberequest pars from parsefrom java io input stream inputstream input com googl protobuf extens registri lite extensionregistrylit extens registri extensionregistri java io io except ioexcept builder newbuild merg from mergefrom input extens registri extensionregistri build pars buildpars org apach hedwig protocol pub sub protocol pubsubprotocol unsubscrib request unsubscriberequest pars delimit from parsedelimitedfrom java io input stream inputstream input java io io except ioexcept builder builder builder newbuild builder merg delimit from mergedelimitedfrom input builder build pars buildpars org apach hedwig protocol pub sub protocol pubsubprotocol unsubscrib request unsubscriberequest pars delimit from parsedelimitedfrom java io input stream inputstream input com googl protobuf extens registri lite extensionregistrylit extens registri extensionregistri java io io except ioexcept builder builder builder newbuild builder merg delimit from mergedelimitedfrom input extens registri extensionregistri builder build pars buildpars org apach hedwig protocol pub sub protocol pubsubprotocol unsubscrib request unsubscriberequest pars from parsefrom com googl protobuf code input stream codedinputstream input java io io except ioexcept builder newbuild merg from mergefrom input build pars buildpars org apach hedwig protocol pub sub protocol pubsubprotocol unsubscrib request unsubscriberequest pars from parsefrom com googl protobuf code input stream codedinputstream input com googl protobuf extens registri lite extensionregistrylit extens registri extensionregistri java io io except ioexcept builder newbuild merg from mergefrom input extens registri extensionregistri build pars buildpars builder builder newbuild builder creat builder builder type newbuilderfortyp builder newbuild builder builder newbuild org apach hedwig protocol pub sub protocol pubsubprotocol unsubscrib request unsubscriberequest prototyp builder newbuild merg from mergefrom prototyp builder builder tobuild builder newbuild builder com googl protobuf gener messag generatedmessag builder builder org apach hedwig protocol pub sub protocol pubsubprotocol unsubscrib request unsubscriberequest result construct org apach hedwig protocol pub sub protocol pubsubprotocol unsubscrib request unsubscriberequest builder newbuild builder builder creat builder builder builder builder result org apach hedwig protocol pub sub protocol pubsubprotocol unsubscrib request unsubscriberequest builder org apach hedwig protocol pub sub protocol pubsubprotocol unsubscrib request unsubscriberequest intern get result internalgetresult result builder clear result illeg state except illegalstateexcept call clear after build result org apach hedwig protocol pub sub protocol pubsubprotocol unsubscrib request unsubscriberequest builder clone creat merg from mergefrom result com googl protobuf descriptor descriptor get descriptor type getdescriptorfortyp org apach hedwig protocol pub sub protocol pubsubprotocol unsubscrib request unsubscriberequest get descriptor getdescriptor org apach hedwig protocol pub sub protocol pubsubprotocol unsubscrib request unsubscriberequest get instanc type getdefaultinstancefortyp org apach hedwig protocol pub sub protocol pubsubprotocol unsubscrib request unsubscriberequest get instanc getdefaultinst initi isiniti result initi isiniti org apach hedwig protocol pub sub protocol pubsubprotocol unsubscrib request unsubscriberequest build result initi isiniti uniniti messag except newuninitializedmessageexcept result build partial buildparti org apach hedwig protocol pub sub protocol pubsubprotocol unsubscrib request unsubscriberequest build pars buildpars com googl protobuf invalid protocol buffer except invalidprotocolbufferexcept initi isiniti uniniti messag except newuninitializedmessageexcept result invalid protocol buffer except asinvalidprotocolbufferexcept build partial buildparti org apach hedwig protocol pub sub protocol pubsubprotocol unsubscrib request unsubscriberequest build partial buildparti result illeg state except illegalstateexcept build ha call builder org apach hedwig protocol pub sub protocol pubsubprotocol unsubscrib request unsubscriberequest returnm result result returnm builder merg from mergefrom com googl protobuf messag org apach hedwig protocol pub sub protocol pubsubprotocol unsubscrib request unsubscriberequest merg from mergefrom org apach hedwig protocol pub sub protocol pubsubprotocol unsubscrib request unsubscriberequest merg from mergefrom builder merg from mergefrom org apach hedwig protocol pub sub protocol pubsubprotocol unsubscrib request unsubscriberequest org apach hedwig protocol pub sub protocol pubsubprotocol unsubscrib request unsubscriberequest get instanc getdefaultinst ha subscrib id hassubscriberid set subscrib id setsubscriberid get subscrib id getsubscriberid merg unknown field mergeunknownfield get unknown field getunknownfield builder merg from mergefrom com googl protobuf code input stream codedinputstream input com googl protobuf extens registri lite extensionregistrylit extens registri extensionregistri java io io except ioexcept com googl protobuf unknown field set unknownfieldset builder unknown field unknownfield com googl protobuf unknown field set unknownfieldset builder newbuild get unknown field getunknownfield tag input read tag readtag tag set unknown field setunknownfield unknown field unknownfield build pars unknown field parseunknownfield input unknown field unknownfield extens registri extensionregistri tag set unknown field setunknownfield unknown field unknownfield build 18 set subscrib id setsubscriberid input read byte readbyt requir byte subscrib id subscriberid ha subscrib id hassubscriberid result ha subscrib id hassubscriberid com googl protobuf string bytestr get subscrib id getsubscriberid result get subscrib id getsubscriberid builder set subscrib id setsubscriberid com googl protobuf string bytestr valu valu pointer except nullpointerexcept result ha subscrib id hassubscriberid result subscrib id subscriberid_ valu builder clear subscrib id clearsubscriberid result ha subscrib id hassubscriberid result subscrib id subscriberid_ get instanc getdefaultinst get subscrib id getsubscriberid protoc insert point protoc_insertion_point builder scope builder_scop hedwig unsubscrib request unsubscriberequest instanc defaultinst unsubscrib request unsubscriberequest org apach hedwig protocol pub sub protocol pubsubprotocol intern forc init internalforceinit instanc defaultinst init field initfield protoc insert point protoc_insertion_point scope class_scop hedwig unsubscrib request unsubscriberequest 
sync read last confirm callback syncreadlastconfirmedcallback read last confirm callback readlastconfirmedcallback implement callback synchron read last confirm method read last confirm complet readlastconfirmedcomplet rc last confirm lastconfirm object ctx last confirm ctx lastconfirmedctx lc ctx lcctx last confirm ctx lastconfirmedctx ctx lc ctx lcctx lc ctx lcctx set rc setrc rc lc ctx lcctx set last confirm setlastconfirm last confirm lastconfirm lc ctx lcctx notifi 
journal entri record queue entri queueentri queue entri queueentri buffer bytebuff entri ledger id ledgerid entri id entryid write callback writecallback cb object ctx entri entri duplic cb cb ctx ctx ledger id ledgerid ledger id ledgerid entri id entryid entri id entryid buffer bytebuff entri ledger id ledgerid entri id entryid write callback writecallback cb object ctx 
servic down except servicedownexcept pub sub except pubsubexcept servic down except servicedownexcept string msg statu code statuscod servic down service_down msg servic down except servicedownexcept except statu code statuscod servic down service_down 
memori subscript state inmemorysubscriptionst subscript state subscriptionst subscript state subscriptionst messag seq id messageseqid last consum seq id lastconsumeseqid memori subscript state inmemorysubscriptionst subscript state subscriptionst subscript state subscriptionst messag seq id messageseqid last consum seq id lastconsumeseqid subscript state subscriptionst subscript state subscriptionst last consum seq id lastconsumeseqid last consum seq id lastconsumeseqid memori subscript state inmemorysubscriptionst subscript state subscriptionst subscript state subscriptionst subscript state subscriptionst subscript state subscriptionst get msg id getmsgid subscript state subscriptionst get subscript state getsubscriptionst subscript state subscriptionst messag seq id messageseqid get last consum seq id getlastconsumeseqid last consum seq id lastconsumeseqid param last consum seq id lastconsumeseqid param consum interv consumeinterv amount lazi persist consum pointer result structur persist set last consum seq id setlastconsumeseqid messag seq id messageseqid last consum seq id lastconsumeseqid consum interv consumeinterv interv last consum seq id lastconsumeseqid get local compon getlocalcompon subscript state subscriptionst get msg id getmsgid get local compon getlocalcompon interv set consum seq id larger last consum seq id lastconsumeseqid last consum seq id lastconsumeseqid interv consum interv consumeinterv subscript state updat mark clean subscript state subscriptionst subscript state subscriptionst builder newbuild subscript state subscriptionst set msg id setmsgid last consum seq id lastconsumeseqid build set last consum seq id lastconsumeseqid immedi result structur persist set last consum seq id immedi setlastconsumeseqidimmedi interv last consum seq id lastconsumeseqid get local compon getlocalcompon subscript state subscriptionst get msg id getmsgid get local compon getlocalcompon set interv subscript state subscriptionst subscript state subscriptionst builder newbuild subscript state subscriptionst set msg id setmsgid last consum seq id lastconsumeseqid build 
channel pipelin coverag channelpipelinecoverag respons handler responsehandl simpl channel handler simplechannelhandl logger logger logger factori loggerfactori get logger getlogg respons handler responsehandl concurr map store async pub sub pubsub request txn id pub sub pubsub call data store callback voidcallback invok receiv pub sub pubsub ack respons from server specif instanc respons handler responsehandl ti specif netti channel pipelin concurr map concurrentmap pub sub data pubsubdata txn2 pub sub data txn2pubsubdata concurr hash map concurrenthashmap pub sub data pubsubdata indic close channel respons handler responsehandl attach explicitli channel disconnect logic here channel close explicitli channelclosedexplicitli hedwig client impl hedwigclientimpl client hedwig publish hedwigpublish pub hedwig subscrib hedwigsubscrib sub client configur clientconfigur cfg publish respons handler publishresponsehandl pub handler pubhandl subscrib respons handler subscriberesponsehandl sub handler subhandl unsubscrib respons handler unsubscriberesponsehandl unsub handler unsubhandl respons handler responsehandl hedwig client impl hedwigclientimpl client client client sub client get subscrib getsubscrib pub client get publish getpublish cfg client get configur getconfigur pub handler pubhandl publish respons handler publishresponsehandl sub handler subhandl subscrib respons handler subscriberesponsehandl unsub handler unsubhandl unsubscrib respons handler unsubscriberesponsehandl getter need member hedwig client impl hedwigclientimpl get client getclient client hedwig subscrib hedwigsubscrib get subscrib getsubscrib sub client configur clientconfigur get configur getconfigur cfg subscrib respons handler subscriberesponsehandl get subscrib respons handler getsubscriberesponsehandl sub handler subhandl overrid messag receiv messagereceiv channel handler context channelhandlercontext ctx messag event messageev except messag pub sub respons pubsubrespons send upstream let handl get messag getmessag pub sub respons pubsubrespons ctx send upstream sendupstream retriev pub sub respons pubsubrespons from messag sent server pub sub respons pubsubrespons respons pub sub respons pubsubrespons get messag getmessag logger debug enabl isdebugen logger debug respons receiv from host hedwig client impl hedwigclientimpl get host from channel gethostfromchannel ctx get channel getchannel respons respons determin pub sub respons pubsubrespons ack respons pub sub pubsub request messag push client subscrib respons ha messag hasmessag subscrib messag push client handl consum sub handler subhandl handl subscrib messag handlesubscribemessag respons respons ack prior pub sub request pubsubrequest first retriev pub sub pubsub data txn pub sub data pubsubdata pub sub data pubsubdata txn2 pub sub data txn2pubsubdata contain kei containskei respons get txn id gettxnid txn2 pub sub data txn2pubsubdata get respons get txn id gettxnid valid pub sub pubsub data txn store log error messag don handl pub sub data pubsubdata logger error pub sub pubsub data found pub sub respons pubsubrespons respons ve retriev pub sub data pubsubdata specif txn id remov from map txn2 pub sub data txn2pubsubdata remov respons get txn id gettxnid store topic2 host topic2host map wasn server redirect ll assum server abl open channel connect client respond ack messag respons topic not_responsible_for_top on correct topic master respons get statu code getstatuscod equal statu code statuscod respons topic not_responsible_for_top client store topic2 host map storetopic2hostmap pub sub data pubsubdata ctx get channel getchannel depend oper type call appropri handler pub sub data pubsubdata oper type operationtyp publish pub handler pubhandl handl publish respons handlepublishrespons respons pub sub data pubsubdata ctx get channel getchannel subscrib sub handler subhandl handl subscrib respons handlesubscriberespons respons pub sub data pubsubdata ctx get channel getchannel unsubscrib unsub handler unsubhandl handl unsubscrib respons handleunsubscriberespons respons pub sub data pubsubdata ctx get channel getchannel expect pub sub respons pubsubrespons messag receiv from server client side request made logger error respons receiv from server unhandl oper type txn id txnid respons get txn id gettxnid oper type operationtyp pub sub data pubsubdata oper type operationtyp logic repost pub sub request pubsubrequest server respond redirect indic topic master param respons pub sub respons pubsubrespons from server redirect param pub sub data pubsubdata pub sub data pubsubdata origin pub sub request pubsubrequest made param channel channel channel us make origin pub sub request pubsubrequest except except error redirect repost pub sub request pubsubrequest handl redirect respons handleredirectrespons pub sub respons pubsubrespons respons pub sub data pubsubdata pub sub data pubsubdata channel channel except logger debug enabl isdebugen logger debug handl redirect from host hedwig client impl hedwigclientimpl get host from channel gethostfromchannel channel respons respons pub sub data pubsubdata pub sub data pubsubdata pub sub pubsub request done server respons topic first make haven exceed maximum number server redirect cur num server redirect curnumserverredirect pub sub data pubsubdata server triedserv pub sub data pubsubdata server triedserv size cur num server redirect curnumserverredirect cfg get maximum server redirect getmaximumserverredirect ve exceed maximum number server redirect error condit client invok oper fail operationfail callback logger debug enabl isdebugen logger debug exceed number server redirect cur num server redirect curnumserverredirect error pub sub data pubsubdata callback oper fail operationfail pub sub data pubsubdata context servic down except servicedownexcept server redirect except toomanyserverredirectsexcept reach max number redirect cur num server redirect curnumserverredirect redirect connect correct server store statu msg statusmsg respons first store server sent pub sub pubsub request topic string bytestr server triedserv string bytestr copi from utf8 copyfromutf8 hedwig socket address hedwigsocketaddress sock addr str sockaddrstr hedwig client impl hedwigclientimpl get host from channel gethostfromchannel channel pub sub data pubsubdata server triedserv pub sub data pubsubdata server triedserv link list linkedlist string bytestr pub sub data pubsubdata claim shouldclaim pub sub data pubsubdata server triedserv add server triedserv get redirect server host expect format hostnam port ssl port sslport from server respons messag on reason redirect server host vip repost request string statu msg statusmsg respons get statu msg getstatusmsg inet socket address inetsocketaddress redirect host redirectedhost statu msg statusmsg statu msg statusmsg length cfg ssl enabl issslen redirect host redirectedhost hedwig socket address hedwigsocketaddress statu msg statusmsg get ssl socket address getsslsocketaddress redirect host redirectedhost hedwig socket address hedwigsocketaddress statu msg statusmsg get socket address getsocketaddress redirect host redirectedhost cfg get server host getdefaultserverhost make redirect server on ve attempt befor pub sub pubsub request pub sub data pubsubdata server triedserv contain string bytestr copi from utf8 copyfromutf8 hedwig socket address hedwigsocketaddress sock addr str sockaddrstr redirect host redirectedhost logger error ve sent pub sub request pubsubrequest befor redirect host redirectedhost redirect host redirectedhost pub sub data pubsubdata pub sub data pubsubdata pub sub data pubsubdata callback oper fail operationfail pub sub data pubsubdata context servic down except servicedownexcept server redirect loop except serverredirectloopexcept made request befor redirect host redirect host redirectedhost check channel open redirect server host redirect host channel exist redirectedhostchannelexist pub host2 channel host2channel contain kei containskei redirect host redirectedhost pub sub data pubsubdata oper type operationtyp equal oper type operationtyp subscrib redirect host channel exist redirectedhostchannelexist don exist channel redirect host redirect subscrib request subscrib request creat uniqu channel connect topic master server topic subscrib topicsubscrib client connect doconnect pub sub data pubsubdata redirect host redirectedhost publish unsubscrib request post request directli exist cach redirect host channel pub sub data pubsubdata oper type operationtyp equal oper type operationtyp publish pub publish dopublish pub sub data pubsubdata pub host2 channel host2channel get redirect host redirectedhost pub sub data pubsubdata oper type operationtyp equal oper type operationtyp unsubscrib sub sub unsub dosubunsub pub sub data pubsubdata pub host2 channel host2channel get redirect host redirectedhost logic deal channel server host disconnect overrid channel disconnect channeldisconnect channel handler context channelhandlercontext ctx channel state event channelstateev except channel close explicitli client code logic happen redund publish channel creat redirect subscrib channel us anymor shutdown client manual close open channel don disconnect logic client ha stop channel close explicitli channelclosedexplicitli client ha stop hasstop make host retriev weird channel disconnect event happen client shutdown shouldn inet socket address inetsocketaddress host hedwig client impl hedwigclientimpl get host from channel gethostfromchannel ctx get channel getchannel logger warn channel disconnect host host host channel us publish unsubscrib flow remov from hewdig publish hewdigpublish host2 channel host2channel map establish channel connect server next publish unsubscrib request topic server own occur pub sub data pubsubdata orig sub data origsubdata sub handler subhandl get orig sub data getorigsubdata determin type oper channel us orig sub data origsubdata remov channel from map current disconnect channel cach entri race concurr situat creat multipl channel host publish unsubscrib request pub host2 channel host2channel contain kei containskei host pub host2 channel host2channel get host equal ctx get channel getchannel logger debug enabl isdebugen logger debug disconnect channel host host publish unsubscrib request remov refer pub host2 channel host2channel remov host client clear topic host clearalltopicsforhost host subscrib channel disconnect first close clear cach channel data set up topic subscript sub close subscript closesubscript orig sub data origsubdata topic orig sub data origsubdata subscrib id subscriberid client clear topic host clearalltopicsforhost host connect server host respons topic di state server resend origin subscrib request data server host vip clear server ve contact attempt from request start fresh subscrib request orig sub data origsubdata clear server list clearserverslist set type callback voidcallback async call hook after subscrib reconnect ha complet deliveri topic subscrib restart befor channel disconnect orig sub data origsubdata callback subscrib reconnect callback subscribereconnectcallback orig sub data origsubdata client orig sub data origsubdata context logger debug enabl isdebugen logger debug disconnect subscrib channel reconnect orig sub data origsubdata orig sub data origsubdata client connect doconnect orig sub data origsubdata cfg get server host getdefaultserverhost pub sub request pubsubrequest wait ack respons from server remov time invok oper fail operationfail callback us uncertain state except uncertainstateexcept server receiv request state request ack respons receiv pub sub data pubsubdata pub sub data pubsubdata txn2 pub sub data txn2pubsubdata valu logger debug enabl isdebugen logger debug channel disconnect invok oper fail operationfail callback pub sub data pubsubdata pub sub data pubsubdata pub sub data pubsubdata callback oper fail operationfail pub sub data pubsubdata context uncertain state except uncertainstateexcept server ack respons receiv befor server connect disconnect txn2 pub sub data txn2pubsubdata clear logic deal channel server host connect need client ssl port commun server ssl handshak here channel first connect overrid channel connect channelconnect channel handler context channelhandlercontext ctx channel state event channelstateev except initi ssl handshak close channel explicitli client ha stop cfg ssl enabl issslen channel close explicitli channelclosedexplicitli client ha stop hasstop logger debug enabl isdebugen logger debug initi ssl handshak ctx get pipelin getpipelin get ssl handler sslhandler handshak get channel getchannel overrid except caught exceptioncaught channel handler context channelhandlercontext ctx except event exceptionev logger error except caught client channel get caus getcaus get channel getchannel close 
sync close callback syncclosecallback close callback closecallback close callback method param rc param lh param ctx close complet closecomplet rc ledger handl ledgerhandl lh object ctx sync counter synccount counter sync counter synccount ctx counter setrc rc counter counter dec counter notifi 
recov callback recovercallback callback definit booki recov oper param rc code param ctx context object recov complet recovercomplet rc object ctx 
implement persist messag order assign seq id seqid persist messag seq id seqid singl number gener seq id seqid opaqu layer link persist manag persistencemanag link persist manag persistencemanag understand format seq id seqid maintain total order seq id seqid topic persist manag persistencemanag execut persist request asynchron done callback specifi request object call result oper set link local messag seq id localmessageseqid assign persist messag persist messag persistmessag persist request persistrequest request get seq id seqid last messag ha persist topic return seq id seqid set consum posit brand subscript topic note valu quickli invalid link persist messag persistmessag string publish messag publishedmessag call from thread succe typic us choos consum posit subscrib subscrib receiv messag publish subscrib call progress loos semant from method accept param topic seq id seqid last persist messag server respons topic except servernotresponsiblefortopicexcept messag seq id messageseqid get current seq id topic getcurrentseqidfortop string bytestr topic server respons topic except servernotresponsiblefortopicexcept execut scan request scan singl messag scansinglemessag scan request scanrequest request get next seq id method block get seq id after skip getseqidafterskip string bytestr topic seq id seqid skip amount skipamount hint messag seq id seqid deliv wont need failur kind deliv delivereduntil string bytestr topic seq id seqid hint messag seq id seqid consum subscrib topic longer store implement class decid garbag collect delet older topic messag longer need param topic topic param seq id seqid messag local sequenc id consum consumeduntil string bytestr topic seq id seqid set messag bound setmessagebound string bytestr topic integ bound clear messag bound clearmessagebound string bytestr topic consum bound consumetobound string bytestr topic 
simpl wrapper file channel filechannel add version inform file journal channel journalchannel closeabl logger log logger factori loggerfactori get logger getlogg journal channel journalchannel file channel filechannel fc buffer channel bufferedchannel bc format version formatvers next prealloc nextprealloc magic word magic_word bklg get byte getbyt start file start_of_fil 12345 header size header_s 4byte magic word version min compat journal format version min_compat_journal_format_vers current journal format version current_journal_format_vers pre alloc size preallocs 1024 1024 buffer bytebuff zero buffer bytebuff alloc 512 journal channel journalchannel file journal directori journaldirectori log id logid io except ioexcept journal directori journaldirectori log id logid start file start_of_fil journal channel journalchannel file journal directori journaldirectori log id logid posit io except ioexcept file fn file journal directori journaldirectori hex string tohexstr log id logid txn log info open journal fn fn exist file write version fc random access file randomaccessfil fn rw get channel getchannel format version formatvers current journal format version current_journal_format_vers buffer bytebuff bb buffer bytebuff alloc header size header_s bb put magic word magic_word bb put putint format version formatvers bb flip fc write bb fc forc bc buffer channel bufferedchannel fc 65536 next prealloc nextprealloc pre alloc size preallocs fc write zero next prealloc nextprealloc open exist file fc random access file randomaccessfil fn get channel getchannel bc readonli buffer bytebuff bb buffer bytebuff alloc header size header_s fc read bb bb flip header size header_s first4 bb get first4 arrai equal first4 magic word magic_word format version formatvers bb get getint pre magic word journal reset format version formatvers header old version format version formatvers format version formatvers min compat journal format version min_compat_journal_format_vers format version formatvers current journal format version current_journal_format_vers string err string format invalid journal version unabl read expect min compat journal format version min_compat_journal_format_vers current journal format version current_journal_format_vers format version formatvers log error err io except ioexcept err posit start file start_of_fil format version formatvers fc posit header size header_s fc posit fc posit posit io except ioexcept log error booki journal file seek posit get format version getformatvers format version formatvers buffer channel bufferedchannel get buffer channel getbufferedchannel io except ioexcept bc io except ioexcept read journal channel bc pre alloc need preallocifneed io except ioexcept bc posit next prealloc nextprealloc next prealloc nextprealloc fc size header size header_s pre alloc size preallocs pre alloc size preallocs zero clear fc write zero next prealloc nextprealloc read buffer bytebuff dst io except ioexcept fc read dst close io except ioexcept fc close 
result resultstruct rc buffer bytebuff entri 
bk interrupt except bkinterruptedexcept bk except bkexcept bk interrupt except bkinterruptedexcept code interrupt except interruptedexcept 
hedwig client side except local client start deliveri startdeliveri messag handler befor stop previou on start deliveri except alreadystartdeliveryexcept except serial version uid serialversionuid 873259807218723524l start deliveri except alreadystartdeliveryexcept string messag messag start deliveri except alreadystartdeliveryexcept string messag throwabl messag 
encapsul read last confirm oper read last confirm op readlastconfirmedop read entri callback readentrycallback logger log logger factori loggerfactori get logger getlogg ledger recoveri op ledgerrecoveryop ledger handl ledgerhandl lh num respons pend numresponsespend recoveri data recoverydata max recov data maxrecovereddata complet last confirm data callback lastconfirmeddatacallback cb distribut schedul distributionschedul quorum coverag set quorumcoverageset coverag set coverageset wrapper get recov data from request last confirm data callback lastconfirmeddatacallback read last confirm data complet readlastconfirmeddatacomplet rc recoveri data recoverydata data read last confirm op readlastconfirmedop ledger handl ledgerhandl lh last confirm data callback lastconfirmeddatacallback cb cb cb max recov data maxrecovereddata recoveri data recoverydata ledger handl ledgerhandl invalid entri id invalid_entry_id lh lh num respons pend numresponsespend lh metadata ensembl size ensembles coverag set coverageset lh distribut schedul distributionschedul get coverag set getcoverageset initi lh metadata current ensembl currentensembl size lh bk booki client bookiecli read entri readentri lh metadata current ensembl currentensembl get lh ledger id ledgerid booki protocol bookieprotocol last add confirm last_add_confirm initi fenc initiatewithfenc lh metadata current ensembl currentensembl size lh bk booki client bookiecli read entri fenc ledger readentryandfenceledg lh metadata current ensembl currentensembl get lh ledger id ledgerid lh ledger kei ledgerkei booki protocol bookieprotocol last add confirm last_add_confirm read entri complet readentrycomplet rc ledger id ledgerid entri id entryid channel buffer channelbuff buffer object ctx booki index bookieindex integ ctx num respons pend numresponsespend heard valid respons heardvalidrespons rc bk except bkexcept code recoveri data recoverydata recoveri data recoverydata lh mac manag macmanag verifi digest last confirm verifydigestandreturnlastconfirm buffer recoveri data recoverydata last add confirm lastaddconfirm max recov data maxrecovereddata last add confirm lastaddconfirm max recov data maxrecovereddata recoveri data recoverydata heard valid respons heardvalidrespons bk digest match except bkdigestmatchexcept bad booki didn valid answer abl recov log error mac mismatch read last entri from booki lh metadata current ensembl currentensembl get booki index bookieindex rc bk except bkexcept code ledger exist except nosuchledgerexistsexcept rc bk except bkexcept code entri except nosuchentryexcept count valid respons client crash write entri heard valid respons heardvalidrespons rc bk except bkexcept code unauthor access except unauthorizedaccessexcept complet cb read last confirm data complet readlastconfirmeddatacomplet rc max recov data maxrecovereddata complet code dont count valid respons heard valid respons heardvalidrespons coverag set coverageset add booki check cover addbookieandcheckcov booki index bookieindex complet complet log debug enabl isdebugen log debug read complet valid respons validrespons cb read last confirm data complet readlastconfirmeddatacomplet bk except bkexcept code max recov data maxrecovereddata num respons pend numresponsespend complet respons back fail oper log error read last confirm readlastconfirm ledger ledger id ledgerid hear success respons from quorum cb read last confirm data complet readlastconfirmeddatacomplet bk except bkexcept code ledger recoveri except ledgerrecoveryexcept max recov data maxrecovereddata 
sync obj syncobj counter valu sync obj syncobj counter valu 
abstract abstract subscript manag abstractsubscriptionmanag subscript manag subscriptionmanag topic ownership chang listen topicownershipchangelisten server configur serverconfigur cfg concurr hash map concurrenthashmap string bytestr map string bytestr memori subscript state inmemorysubscriptionst top2 sub2 seq top2sub2seq concurr hash map concurrenthashmap string bytestr map string bytestr memori subscript state inmemorysubscriptionst logger logger logger factori loggerfactori get logger getlogg abstract subscript manag abstractsubscriptionmanag topic op queuer topicopqueu queuer arrai list arraylist subscript event listen subscriptioneventlisten listen arrai list arraylist subscript event listen subscriptioneventlisten concurr hash map concurrenthashmap string bytestr atom integ atomicinteg topic2 local count topic2localcount concurr hash map concurrenthashmap string bytestr atom integ atomicinteg handl persist manag persistencemanag server pass messag consum pointer topic persist manag persistencemanag pm timer run recur thread task get minimum messag sequenc id topic subscrib consum inform call persist manag persistencemanag updat messag safe garbag collect timer timer timer memori map topic minimum consum messag sequenc id subscrib topic concurr hash map concurrenthashmap string bytestr topic2 min consum messag map topic2minconsumedmessagesmap concurr hash map concurrenthashmap string bytestr callback noop callback noopcallback noop callback noopcallback noop callback noopcallback callback overrid oper fail operationfail object ctx pub sub except pubsubexcept except logger warn except found abstract subscript manag abstractsubscriptionmanag except oper finish operationfinish object ctx result oper resultofoper abstract subscript manag abstractsubscriptionmanag server configur serverconfigur cfg topic manag topicmanag tm persist manag persistencemanag pm schedul executor servic scheduledexecutorservic schedul cfg cfg queuer topic op queuer topicopqueu schedul tm add topic ownership chang listen addtopicownershipchangelisten pm pm schedul recur messag consum task messagesconsumedtask persist manag persistencemanag pass pm timer schedul messag consum task messagesconsumedtask cfg get messag consum thread run interv getmessagesconsumedthreadruninterv timer task find topic minimum consum messag subscrib inform us pass server persist manag persistencemanag garbag collect older topic messag longer need subscrib messag consum task messagesconsumedtask timer task timertask implement timer task timertask abstract run method overrid run loop small memori data structur safe run fairli string bytestr topic top2 sub2 seq top2sub2seq kei set keyset map string bytestr memori subscript state inmemorysubscriptionst topic subscript topicsubscript top2 sub2 seq top2sub2seq get topic topic subscript topicsubscript min consum messag minconsumedmessag max valu max_valu ha bound hasbound loop subscrib current topic find minimum consum messag id consum pointer persist lazili ll us stale memori valu keep thing consist server crash memori subscript state inmemorysubscriptionst cur subscript cursubscript topic subscript topicsubscript valu cur subscript cursubscript get subscript state getsubscriptionst get msg id getmsgid get local compon getlocalcompon min consum messag minconsumedmessag min consum messag minconsumedmessag cur subscript cursubscript get subscript state getsubscriptionst get msg id getmsgid get local compon getlocalcompon ha bound hasbound ha bound hasbound cur subscript cursubscript get subscript state getsubscriptionst ha messag bound hasmessagebound call persist manag callpersistencemanag don call persist manag persistencemanag subscrib topic consum pointer ha chang last time initi subscript min consum from map minconsumedfrommap topic2 min consum messag map topic2minconsumedmessagesmap get topic topic subscript topicsubscript empti isempti min consum from map minconsumedfrommap min consum from map minconsumedfrommap equal min consum messag minconsumedmessag min consum messag minconsumedmessag topic2 min consum messag map topic2minconsumedmessagesmap put topic min consum messag minconsumedmessag pm consum consumeduntil topic min consum messag minconsumedmessag ha bound hasbound pm consum bound consumetobound topic acquir op acquireop topic op queuer topicopqueu asynchron op asynchronousop acquir op acquireop string bytestr topic callback callback object ctx queuer topic callback ctx overrid run top2 sub2 seq top2sub2seq contain kei containskei topic cb oper finish operationfinish ctx read subscript readsubscript topic callback map string bytestr memori subscript state inmemorysubscriptionst overrid oper fail operationfail object ctx pub sub except pubsubexcept except cb oper fail operationfail ctx except overrid oper finish operationfinish object ctx map string bytestr memori subscript state inmemorysubscriptionst result oper resultofoper ve inherit bunch subscrib topic local notifi listen record number bookkeep futur subscrib unsubscrib effici notifi listen count number local subscrib inherit loop number subscrib topic expect small local count localcount string bytestr subscrib id subscriberid result oper resultofoper kei set keyset subscript state util subscriptionstateutil hub subscrib ishubsubscrib subscrib id subscriberid local count localcount topic2 local count topic2localcount put topic atom integ atomicinteg local count localcount commit abort oper callback cb2 callback overrid oper fail operationfail object ctx pub sub except pubsubexcept except logger error subscript manag fail acquir topic topic string utf8 tostringutf8 except cb oper fail operationfail ctx overrid oper finish operationfinish object ctx obj voidobj top2 sub2 seq top2sub2seq put topic result oper resultofoper logger info subscript manag successfulli acquir topic topic string utf8 tostringutf8 cb oper finish operationfinish ctx notifi listen necessari local count localcount notifi subscrib notifysubscrib topic cb2 ctx cb2 oper finish operationfinish ctx updat messag bound updatemessagebound topic ctx notifi subscrib notifysubscrib string bytestr topic synchron callback cb object ctx callback mcb callback util callbackutil multi callback multicallback listen size cb ctx subscript event listen subscriptioneventlisten listen listen listen first local subscrib onfirstlocalsubscrib topic synchron mcb figur subscrib acquir error read subscrib sequenc id topic acquir param topic param callback param ctx overrid acquir topic acquiredtop string bytestr topic callback callback object ctx queuer push run pushandmayberun topic acquir op acquireop topic callback ctx releas op releaseop topic op queuer topicopqueu asynchron op asynchronousop releas op releaseop string bytestr topic callback cb object ctx queuer topic cb ctx overrid run callback cb finalcb callback overrid oper finish operationfinish object ctx result oper resultofoper finish overrid oper fail operationfail object ctx pub sub except pubsubexcept except logger warn error releas topic topic string utf8 tostringutf8 except finish finish topic2 local count topic2localcount remov topic decrement local count remot subscript fail don unsubscrib succe subscript depend local count notifi unsubscrib notifi unsubcrib notifyunsubcrib topic cb oper finish operationfinish ctx logger debug enabl isdebugen logger debug updat subscript state lose topic topic string utf8 tostringutf8 updat subscript state updatesubscriptionst topic cb finalcb ctx updat subscript state updatesubscriptionst string bytestr topic callback cb finalcb object ctx remov topic removetop updat subscript state specifi topic map string bytestr memori subscript state inmemorysubscriptionst state remov topic removetop state top2 sub2 seq top2sub2seq remov topic state top2 sub2 seq top2sub2seq get topic state cb finalcb oper finish operationfinish ctx callback mcb callback util callbackutil multi callback multicallback state size cb finalcb ctx entri string bytestr memori subscript state inmemorysubscriptionst entri state entri set entryset memori subscript state inmemorysubscriptionst mem state memstat entri get valu getvalu mem state memstat set last consum seq id immedi setlastconsumeseqidimmedi updat subscript state updatesubscriptionst topic entri get kei getkei mem state memstat get subscript state getsubscriptionst mcb ctx mcb oper finish operationfinish ctx remov local map overrid lost topic losttop string bytestr topic queuer push run pushandmayberun topic releas op releaseop topic noop callback noopcallback notifi unsubcrib notifyunsubcrib string bytestr topic subscript event listen subscriptioneventlisten listen listen listen last local unsubscrib onlastlocalunsubscrib topic abstract read subscript readsubscript string bytestr topic callback map string bytestr memori subscript state inmemorysubscriptionst cb object ctx subscrib op subscribeop topic op queuer topicopqueu asynchron op asynchronousop messag seq id messageseqid subscrib request subscriberequest sub request subrequest messag seq id messageseqid consum seq id consumeseqid subscrib op subscribeop string bytestr topic subscrib request subscriberequest sub request subrequest messag seq id messageseqid consum seq id consumeseqid callback messag seq id messageseqid callback object ctx queuer topic callback ctx sub request subrequest sub request subrequest consum seq id consumeseqid consum seq id consumeseqid overrid run map string bytestr memori subscript state inmemorysubscriptionst topic subscript topicsubscript top2 sub2 seq top2sub2seq get topic topic subscript topicsubscript cb oper fail operationfail ctx pub sub except pubsubexcept server respons topic except servernotresponsiblefortopicexcept string bytestr subscrib id subscriberid sub request subrequest get subscrib id getsubscriberid memori subscript state inmemorysubscriptionst subscript state subscriptionst topic subscript topicsubscript get subscrib id subscriberid creat attach createorattach creat attach createorattach sub request subrequest get creat attach getcreateorattach subscript state subscriptionst creat attach createorattach equal creat attach createorattach creat string msg topic topic string utf8 tostringutf8 subscrib id subscriberid subscrib id subscriberid string utf8 tostringutf8 request creat subscript subscrib state subscript state util subscriptionstateutil string tostr subscript state subscriptionst get subscript state getsubscriptionst logger debug msg cb oper fail operationfail ctx pub sub except pubsubexcept client subscrib except clientalreadysubscribedexcept msg attach logger debug enabl isdebugen logger debug topic topic string utf8 tostringutf8 subscrib id subscriberid subscrib id subscriberid string utf8 tostringutf8 attach subscript state subscript state util subscriptionstateutil string tostr subscript state subscriptionst get subscript state getsubscriptionst cb oper finish operationfinish ctx subscript state subscriptionst get last consum seq id getlastconsumeseqid don map subscrib creat attach createorattach equal creat attach createorattach attach string msg topic topic string utf8 tostringutf8 subscrib id subscriberid subscrib id subscriberid string utf8 tostringutf8 request attach exist subscript subscrib logger debug msg cb oper fail operationfail ctx pub sub except pubsubexcept client subscrib except clientnotsubscribedexcept msg hard brand subscript record subscript state subscriptionst builder state builder statebuild subscript state subscriptionst builder newbuild set msg id setmsgid consum seq id consumeseqid sub request subrequest ha messag bound hasmessagebound state builder statebuild state builder statebuild set messag bound setmessagebound sub request subrequest get messag bound getmessagebound subscript state subscriptionst state newstat state builder statebuild build creat subscript state createsubscriptionst topic subscrib id subscriberid state newstat callback overrid oper fail operationfail object ctx pub sub except pubsubexcept except cb oper fail operationfail ctx except overrid oper finish operationfinish object ctx result oper resultofoper callback cb2 callback overrid oper fail operationfail object ctx pub sub except pubsubexcept except logger error subscript subscrib subscrib id subscriberid string utf8 tostringutf8 topic topic string utf8 tostringutf8 fail fail listen callback except remov subscript cross region subscript fail delet subscript state deletesubscriptionst topic subscrib id subscriberid callback overrid oper finish operationfinish object context result oper resultofoper finish overrid oper fail operationfail object context pub sub except pubsubexcept ex logger error remov subscript subscrib subscrib id subscriberid string utf8 tostringutf8 topic topic string utf8 tostringutf8 fail ex finish finish decrement local count remot subscript fail subscript state util subscriptionstateutil hub subscrib ishubsubscrib sub request subrequest get subscrib id getsubscriberid subscrib op execut on on queue order follow code happen remot subscript fail safe decrement local count next subscrib op chanc subscrib remot atom integ atomicinteg count topic2 local count topic2localcount get topic count count decrement get decrementandget cb oper fail operationfail ctx except ctx overrid oper finish operationfinish object ctx result oper resultofoper topic subscript topicsubscript put subscrib id subscriberid memori subscript state inmemorysubscriptionst state newstat updat messag bound updatemessagebound topic cb oper finish operationfinish ctx consum seq id consumeseqid atom integ atomicinteg count topic2 local count topic2localcount get topic subscript state util subscriptionstateutil hub subscrib ishubsubscrib sub request subrequest get subscrib id getsubscriberid count count increment get incrementandget notifi subscrib notifysubscrib topic sub request subrequest get synchron getsynchron cb2 ctx cb2 oper finish operationfinish ctx result oper resultofoper ctx updat messag bound updatemessagebound string bytestr topic map string bytestr memori subscript state inmemorysubscriptionst topic subscript topicsubscript top2 sub2 seq top2sub2seq get topic topic subscript topicsubscript max bound maxbound integ min valu min_valu map entri string bytestr memori subscript state inmemorysubscriptionst topic subscript topicsubscript entri set entryset get valu getvalu get subscript state getsubscriptionst ha messag bound hasmessagebound max bound maxbound integ min valu min_valu max bound maxbound math max max bound maxbound get valu getvalu get subscript state getsubscriptionst get messag bound getmessagebound max bound maxbound integ min valu min_valu pm clear messag bound clearmessagebound topic pm set messag bound setmessagebound topic max bound maxbound overrid serv subscrib request servesubscriberequest string bytestr topic subscrib request subscriberequest sub request subrequest messag seq id messageseqid consum seq id consumeseqid callback messag seq id messageseqid callback object ctx queuer push run pushandmayberun topic subscrib op subscribeop topic sub request subrequest consum seq id consumeseqid callback ctx consum op consumeop topic op queuer topicopqueu asynchron op asynchronousop string bytestr subscrib id subscriberid messag seq id messageseqid consum seq id consumeseqid consum op consumeop string bytestr topic string bytestr subscrib id subscriberid messag seq id messageseqid consum seq id consumeseqid callback callback object ctx queuer topic callback ctx subscrib id subscriberid subscrib id subscriberid consum seq id consumeseqid consum seq id consumeseqid overrid run map string bytestr memori subscript state inmemorysubscriptionst topic sub topicsub top2 sub2 seq top2sub2seq get topic topic sub topicsub cb oper finish operationfinish ctx memori subscript state inmemorysubscriptionst sub state substat topic sub topicsub get subscrib id subscriberid sub state substat cb oper finish operationfinish ctx sub state substat set last consum seq id setlastconsumeseqid consum seq id consumeseqid cfg get consum interv getconsumeinterv updat subscript state updatesubscriptionst topic subscrib id subscriberid sub state substat get subscript state getsubscriptionst cb ctx logger debug enabl isdebugen logger debug advanc consum pointer memori persist topic topic string utf8 tostringutf8 subscrib id subscriberid subscrib id subscriberid string utf8 tostringutf8 persist state persistentst subscript state util subscriptionstateutil string tostr sub state substat get subscript state getsubscriptionst memori consum id messag id util messageidutil msg id readabl string msgidtoreadablestr sub state substat get last consum seq id getlastconsumeseqid cb oper finish operationfinish ctx overrid set consum seq id subscrib setconsumeseqidforsubscrib string bytestr topic string bytestr subscrib id subscriberid messag seq id messageseqid consum seq id consumeseqid callback callback object ctx queuer push run pushandmayberun topic consum op consumeop topic subscrib id subscriberid consum seq id consumeseqid callback ctx unsubscrib op unsubscribeop topic op queuer topicopqueu asynchron op asynchronousop string bytestr subscrib id subscriberid unsubscrib op unsubscribeop string bytestr topic string bytestr subscrib id subscriberid callback callback object ctx queuer topic callback ctx subscrib id subscriberid subscrib id subscriberid overrid run map string bytestr memori subscript state inmemorysubscriptionst topic subscript topicsubscript top2 sub2 seq top2sub2seq get topic topic subscript topicsubscript cb oper fail operationfail ctx pub sub except pubsubexcept server respons topic except servernotresponsiblefortopicexcept topic subscript topicsubscript contain kei containskei subscrib id subscriberid cb oper fail operationfail ctx pub sub except pubsubexcept client subscrib except clientnotsubscribedexcept delet subscript state deletesubscriptionst topic subscrib id subscriberid callback overrid oper fail operationfail object ctx pub sub except pubsubexcept except cb oper fail operationfail ctx except overrid oper finish operationfinish object ctx result oper resultofoper topic subscript topicsubscript remov subscrib id subscriberid notifi listen necessari atom integ atomicinteg count topic2 local count topic2localcount get topic subscript state util subscriptionstateutil hub subscrib ishubsubscrib subscrib id subscriberid count count decrement get decrementandget notifi unsubcrib notifyunsubcrib topic updat messag bound updatemessagebound topic cb oper finish operationfinish ctx ctx overrid unsubscrib string bytestr topic string bytestr subscrib id subscriberid callback callback object ctx queuer push run pushandmayberun topic unsubscrib op unsubscribeop topic subscrib id subscriberid callback ctx thread safe overrid add listen addlisten subscript event listen subscriptioneventlisten listen listen add listen method stop gracefulli includ releas resourc us stop thread spawn stop timer cancel link block queue linkedblockingqueu queue link block queue linkedblockingqueu updat dirti subscript string bytestr topic top2 sub2 seq top2sub2seq kei set keyset callback cb finalcb callback overrid oper finish operationfinish object ctx result oper resultofoper concurr util concurrencyutil put queue overrid oper fail operationfail object ctx pub sub except pubsubexcept except concurr util concurrencyutil put queue updat subscript state updatesubscriptionst topic cb finalcb queue interrupt except interruptedexcept logger warn error updat subscript state abstract creat subscript state createsubscriptionst string bytestr topic string bytestr subscrib id subscriberid subscript state subscriptionst state callback callback object ctx abstract updat subscript state updatesubscriptionst string bytestr topic string bytestr subscrib id subscriberid subscript state subscriptionst state callback callback object ctx abstract delet subscript state deletesubscriptionst string bytestr topic string bytestr subscrib id subscriberid callback callback object ctx 
abstract bridg os depend implement need function creat hardlink queri link count implement chosen initi phase hard link hardlink getter method construct shell command string purpos abstract hard link command getter hardlinkcommandgett get command string need hardlink bunch file from singl sourc directori target directori sourc directori specifi here command execut sourc directori current work directori shell invoc param file base name filebasenam arrai path file name rel sourc directori param link dir linkdir target directori hardlink put arrai string suitabl us singl shell command link runtim exec io except ioexcept file path name misbehav abstract string link mult linkmult string file base name filebasenam file link dir linkdir io except ioexcept get command string need hardlink singl file abstract string link on linkon file file file link name linknam io except ioexcept get command string queri hardlink count file abstract string link count linkcount file file io except ioexcept calcul total string length shell command result from execut link mult linkmult plu length sourc directori name provid shell param file dir filedir sourc directori parent file base name filebasenam param file base name filebasenam arrai path file name rel sourc directori param link dir linkdir target directori hardlink put total data length exce max allow cmd arg length maxallowedcmdarglength io except ioexcept abstract get link mult arg length getlinkmultarglength file file dir filedir string file base name filebasenam file link dir linkdir io except ioexcept get maximum allow string length shell command os document minimum guarante support command length aprx 32 kb 32kb unix kb 8kb window abstract get max allow cmd arg length getmaxallowedcmdarglength 
builder com googl protobuf gener messag generatedmessag builder builder org apach hedwig protocol pub sub protocol pubsubprotocol consum request consumerequest result construct org apach hedwig protocol pub sub protocol pubsubprotocol consum request consumerequest builder newbuild builder builder creat builder builder builder builder result org apach hedwig protocol pub sub protocol pubsubprotocol consum request consumerequest builder org apach hedwig protocol pub sub protocol pubsubprotocol consum request consumerequest intern get result internalgetresult result builder clear result illeg state except illegalstateexcept call clear after build result org apach hedwig protocol pub sub protocol pubsubprotocol consum request consumerequest builder clone creat merg from mergefrom result com googl protobuf descriptor descriptor get descriptor type getdescriptorfortyp org apach hedwig protocol pub sub protocol pubsubprotocol consum request consumerequest get descriptor getdescriptor org apach hedwig protocol pub sub protocol pubsubprotocol consum request consumerequest get instanc type getdefaultinstancefortyp org apach hedwig protocol pub sub protocol pubsubprotocol consum request consumerequest get instanc getdefaultinst initi isiniti result initi isiniti org apach hedwig protocol pub sub protocol pubsubprotocol consum request consumerequest build result initi isiniti uniniti messag except newuninitializedmessageexcept result build partial buildparti org apach hedwig protocol pub sub protocol pubsubprotocol consum request consumerequest build pars buildpars com googl protobuf invalid protocol buffer except invalidprotocolbufferexcept initi isiniti uniniti messag except newuninitializedmessageexcept result invalid protocol buffer except asinvalidprotocolbufferexcept build partial buildparti org apach hedwig protocol pub sub protocol pubsubprotocol consum request consumerequest build partial buildparti result illeg state except illegalstateexcept build ha call builder org apach hedwig protocol pub sub protocol pubsubprotocol consum request consumerequest returnm result result returnm builder merg from mergefrom com googl protobuf messag org apach hedwig protocol pub sub protocol pubsubprotocol consum request consumerequest merg from mergefrom org apach hedwig protocol pub sub protocol pubsubprotocol consum request consumerequest merg from mergefrom builder merg from mergefrom org apach hedwig protocol pub sub protocol pubsubprotocol consum request consumerequest org apach hedwig protocol pub sub protocol pubsubprotocol consum request consumerequest get instanc getdefaultinst ha subscrib id hassubscriberid set subscrib id setsubscriberid get subscrib id getsubscriberid ha msg id hasmsgid merg msg id mergemsgid get msg id getmsgid merg unknown field mergeunknownfield get unknown field getunknownfield builder merg from mergefrom com googl protobuf code input stream codedinputstream input com googl protobuf extens registri lite extensionregistrylit extens registri extensionregistri java io io except ioexcept com googl protobuf unknown field set unknownfieldset builder unknown field unknownfield com googl protobuf unknown field set unknownfieldset builder newbuild get unknown field getunknownfield tag input read tag readtag tag set unknown field setunknownfield unknown field unknownfield build pars unknown field parseunknownfield input unknown field unknownfield extens registri extensionregistri tag set unknown field setunknownfield unknown field unknownfield build 18 set subscrib id setsubscriberid input read byte readbyt 26 org apach hedwig protocol pub sub protocol pubsubprotocol messag seq id messageseqid builder sub builder subbuild org apach hedwig protocol pub sub protocol pubsubprotocol messag seq id messageseqid builder newbuild ha msg id hasmsgid sub builder subbuild merg from mergefrom get msg id getmsgid input read messag readmessag sub builder subbuild extens registri extensionregistri set msg id setmsgid sub builder subbuild build partial buildparti requir byte subscrib id subscriberid ha subscrib id hassubscriberid result ha subscrib id hassubscriberid com googl protobuf string bytestr get subscrib id getsubscriberid result get subscrib id getsubscriberid builder set subscrib id setsubscriberid com googl protobuf string bytestr valu valu pointer except nullpointerexcept result ha subscrib id hassubscriberid result subscrib id subscriberid_ valu builder clear subscrib id clearsubscriberid result ha subscrib id hassubscriberid result subscrib id subscriberid_ get instanc getdefaultinst get subscrib id getsubscriberid requir hedwig messag seq id messageseqid msg id msgid ha msg id hasmsgid result ha msg id hasmsgid org apach hedwig protocol pub sub protocol pubsubprotocol messag seq id messageseqid get msg id getmsgid result get msg id getmsgid builder set msg id setmsgid org apach hedwig protocol pub sub protocol pubsubprotocol messag seq id messageseqid valu valu pointer except nullpointerexcept result ha msg id hasmsgid result msg id msgid_ valu builder set msg id setmsgid org apach hedwig protocol pub sub protocol pubsubprotocol messag seq id messageseqid builder builder valu builderforvalu result ha msg id hasmsgid result msg id msgid_ builder valu builderforvalu build builder merg msg id mergemsgid org apach hedwig protocol pub sub protocol pubsubprotocol messag seq id messageseqid valu result ha msg id hasmsgid result msg id msgid_ org apach hedwig protocol pub sub protocol pubsubprotocol messag seq id messageseqid get instanc getdefaultinst result msg id msgid_ org apach hedwig protocol pub sub protocol pubsubprotocol messag seq id messageseqid builder newbuild result msg id msgid_ merg from mergefrom valu build partial buildparti result msg id msgid_ valu result ha msg id hasmsgid builder clear msg id clearmsgid result ha msg id hasmsgid result msg id msgid_ org apach hedwig protocol pub sub protocol pubsubprotocol messag seq id messageseqid get instanc getdefaultinst protoc insert point protoc_insertion_point builder scope builder_scop hedwig consum request consumerequest 
bk unauthor access except bkunauthorizedaccessexcept bk except bkexcept bk unauthor access except bkunauthorizedaccessexcept code unauthor access except unauthorizedaccessexcept 
scanner us extract entri log meta from entri log file extract scanner extractionscann entri log scanner entrylogscann entri log metadata entrylogmetadata meta extract scanner extractionscann entri log metadata entrylogmetadata meta meta meta overrid accept ledger id ledgerid overrid process ledger id ledgerid buffer bytebuff entri add entri size ledger entri log meta meta add ledger size addledgers ledger id ledgerid entri limit 
encapsul request persist messag topic request complet asynchron callback context provid persist request persistrequest string bytestr topic messag messag callback callback object ctx persist request persistrequest string bytestr topic messag messag callback callback object ctx topic topic messag messag callback callback ctx ctx string bytestr get topic gettop topic messag get messag getmessag messag callback get callback getcallback callback object get ctx getctx ctx 
test read write hierarch ledger manag hierarchicalledgermanag hierarch booki read write test hierarchicalbookiereadwritetest booki read write test bookiereadwritetest hierarch booki read write test hierarchicalbookiereadwritetest digest type digesttyp digest type digesttyp digest type digesttyp befor overrid set up setup except base conf baseconf set ledger manag type setledgermanagertyp hierarch ledger manag hierarchicalledgermanag name base client conf baseclientconf set ledger manag type setledgermanagertyp hierarch ledger manag hierarchicalledgermanag name set up setup 
latenc callback latencycallback write callback writecallback complet overrid write complet writecomplet rc ledger id ledgerid entri id entryid inet socket address inetsocketaddress addr object ctx rc log error error rc complet notifi notifyal reset complet resetcomplet complet wait complet waitforcomplet interrupt except interruptedexcept complet wait 
ssl server context factori sslservercontextfactori ssl context factori sslcontextfactori ssl server context factori sslservercontextfactori server configur serverconfigur cfg load java kei store kei store keystor ks kei store keystor get instanc getinst pkcs12 ks load cfg get cert stream getcertstream cfg get password getpassword arrai tochararrai ssh agent kei manag factori keymanagerfactori kmf kei manag factori keymanagerfactori get instanc getinst sun x509 sunx509 kmf init ks cfg get password getpassword arrai tochararrai creat ssl context ctx ssl context sslcontext get instanc getinst tl ctx init kmf get kei manag getkeymanag get trust manag gettrustmanag except ex runtim except runtimeexcept ex overrid client isclient 
hard link hardlink statist counter method multi thread safe init call hard link hardlink instanti intend us knowledg client intern intern method updat instanc counter link stat linkstat count dir countdir count singl link countsinglelink count mult link countmultlink count file mult link countfilesmultlink count empti dir countemptydir count physic file copi countphysicalfilecopi clear count dir countdir count singl link countsinglelink count mult link countmultlink count file mult link countfilesmultlink count empti dir countemptydir count physic file copi countphysicalfilecopi string report hard link stat hardlinkstat count dir countdir directori includ count empti dir countemptydir empti directori count singl link countsinglelink singl link oper count mult link countmultlink multi link oper link count file mult link countfilesmultlink file total count singl link countsinglelink count file mult link countfilesmultlink linkabl file physic copi count physic file copi countphysicalfilecopi file 
oper type operationtyp com googl protobuf protocol messag protocolmessageenum publish subscrib consum unsubscrib start deliveri start_deliveri stop deliveri stop_deliveri get number getnumb valu oper type operationtyp valu valueof valu valu publish subscrib consum unsubscrib start deliveri start_deliveri stop deliveri stop_deliveri com googl protobuf intern lite map enumlitemap oper type operationtyp intern get valu map internalgetvaluemap intern valu map internalvaluemap com googl protobuf intern lite map enumlitemap oper type operationtyp intern valu map internalvaluemap com googl protobuf intern lite map enumlitemap oper type operationtyp oper type operationtyp find valu number findvaluebynumb number oper type operationtyp valu valueof number com googl protobuf descriptor valu descriptor enumvaluedescriptor get valu descriptor getvaluedescriptor get descriptor getdescriptor get valu getvalu get index com googl protobuf descriptor descriptor enumdescriptor get descriptor type getdescriptorfortyp get descriptor getdescriptor com googl protobuf descriptor descriptor enumdescriptor get descriptor getdescriptor org apach hedwig protocol pub sub protocol pubsubprotocol get descriptor getdescriptor get type getenumtyp get oper type operationtyp valu publish subscrib consum unsubscrib start deliveri start_deliveri stop deliveri stop_deliveri oper type operationtyp valu valueof com googl protobuf descriptor valu descriptor enumvaluedescriptor desc desc get type gettyp get descriptor getdescriptor java lang illeg argument except illegalargumentexcept valu descriptor enumvaluedescriptor type valu desc get index getindex index valu oper type operationtyp index valu index index valu valu org apach hedwig protocol pub sub protocol pubsubprotocol get descriptor getdescriptor protoc insert point protoc_insertion_point scope enum_scop hedwig oper type operationtyp 
handl factori handlefactori ledger descriptor ledgerdescriptor get handl gethandl ledger id ledgerid master kei masterkei io except ioexcept booki except bookieexcept ledger descriptor ledgerdescriptor get read handl getreadonlyhandl ledger id ledgerid io except ioexcept booki ledger except noledgerexcept 
booki journal test bookiejournaltest logger log logger factori loggerfactori get logger getlogg booki journal test bookiejournaltest random random current time milli currenttimemilli write index file ledger writeindexfileforledg file index dir indexdir ledger id ledgerid master kei masterkei except file fn file index dir indexdir ledger cach impl ledgercacheimpl get ledger name getledgernam ledger id ledgerid fn get parent file getparentfil mkdir file info fileinfo fi file info fileinfo fn master kei masterkei forc creation index file fi write buffer bytebuff buffer bytebuff alloc fi close write partial index file ledger writepartialindexfileforledg file index dir indexdir ledger id ledgerid master kei masterkei truncat master kei truncatetomasterkei except file fn file index dir indexdir ledger cach impl ledgercacheimpl get ledger name getledgernam ledger id ledgerid fn get parent file getparentfil mkdir file info fileinfo fi file info fileinfo fn master kei masterkei forc creation index file fi write buffer bytebuff buffer bytebuff alloc fi close file info header header len headerlen master kei masterkei length truncat index file left size leftsiz truncat master kei truncatetomasterkei left size leftsiz next nextint header len headerlen left size leftsiz header len headerlen next nextint 1024 header len headerlen file channel filechannel fc random access file randomaccessfil fn rw get channel getchannel fc truncat left size leftsiz fc close gener meta entri master kei buffer bytebuff gener meta entri generatemetaentri ledger id ledgerid master kei masterkei buffer bytebuff bb buffer bytebuff alloc master kei masterkei length bb put putlong ledger id ledgerid bb put putlong booki metaentri id ledger kei metaentry_id_ledger_kei bb put putint master kei masterkei length bb put master kei masterkei bb flip bb write junk journal writejunkjourn file journal dir journaldir except log id logid current time milli currenttimemilli file fn file journal dir journaldir hex string tohexstr log id logid txn file channel filechannel fc random access file randomaccessfil fn rw get channel getchannel buffer bytebuff zero buffer bytebuff alloc 512 fc write zero 1024 1024 fc posit 10 fc write buffer bytebuff wrap junk junk junk junkjunkjunk get byte getbyt write pre v2 journal writeprev2journ file journal dir journaldir num entri numentri except log id logid current time milli currenttimemilli file fn file journal dir journaldir hex string tohexstr log id logid txn file channel filechannel fc random access file randomaccessfil fn rw get channel getchannel buffer bytebuff zero buffer bytebuff alloc 512 fc write zero 1024 1024 fc posit data journal test data journaltestdata get byte getbyt last confirm lastconfirm ledger handl ledgerhandl invalid entri id invalid_entry_id num entri numentri buffer bytebuff packet client util clientutil gener packet generatepacket last confirm lastconfirm data length data buffer tobytebuff last confirm lastconfirm buffer bytebuff len buff lenbuff buffer bytebuff alloc len buff lenbuff put putint packet remain len buff lenbuff flip fc write len buff lenbuff fc write packet journal channel journalchannel write post v2 journal writepostv2journ file journal dir journaldir num entri numentri except log id logid current time milli currenttimemilli journal channel journalchannel jc journal channel journalchannel journal dir journaldir log id logid buffer channel bufferedchannel bc jc get buffer channel getbufferedchannel data 1024 arrai fill data last confirm lastconfirm ledger handl ledgerhandl invalid entri id invalid_entry_id num entri numentri buffer bytebuff packet client util clientutil gener packet generatepacket last confirm lastconfirm data length data buffer tobytebuff last confirm lastconfirm buffer bytebuff len buff lenbuff buffer bytebuff alloc len buff lenbuff put putint packet remain len buff lenbuff flip bc write len buff lenbuff bc write packet bc flush jc journal channel journalchannel write post v3 journal writepostv3journ file journal dir journaldir num entri numentri master kei masterkei except log id logid current time milli currenttimemilli journal channel journalchannel jc journal channel journalchannel journal dir journaldir log id logid buffer channel bufferedchannel bc jc get buffer channel getbufferedchannel data 1024 arrai fill data last confirm lastconfirm ledger handl ledgerhandl invalid entri id invalid_entry_id num entri numentri buffer bytebuff packet packet gener meta entri generatemetaentri master kei masterkei packet client util clientutil gener packet generatepacket last confirm lastconfirm data length data buffer tobytebuff last confirm lastconfirm buffer bytebuff len buff lenbuff buffer bytebuff alloc len buff lenbuff put putint packet remain len buff lenbuff flip bc write len buff lenbuff bc write packet bc flush jc test open journal written magic word start version bookkeep befor magic word introduc test test pre v2 journal testprev2journ except file journal dir journaldir file creat temp file createtempfil booki journal journal dir journaldir delet journal dir journaldir mkdir booki check directori structur checkdirectorystructur booki get current directori getcurrentdirectori journal dir journaldir file ledger dir ledgerdir file creat temp file createtempfil booki ledger ledger dir ledgerdir delet ledger dir ledgerdir mkdir booki check directori structur checkdirectorystructur booki get current directori getcurrentdirectori ledger dir ledgerdir write pre v2 journal writeprev2journ booki get current directori getcurrentdirectori journal dir journaldir 100 write index file ledger writeindexfileforledg booki get current directori getcurrentdirectori ledger dir ledgerdir test passwd testpasswd get byte getbyt server configur serverconfigur conf server configur serverconfigur set zk server setzkserv set journal dir name setjournaldirnam journal dir journaldir get path getpath set ledger dir name setledgerdirnam string ledger dir ledgerdir get path getpath booki booki conf start read entri readentri 100 read entri readentri 101 fail shouldn found entri 101 booki entri except noentryexcept correct behaviour shutdown test journal journal start booki admin ha happen test test junk journal testalljunkjourn except file journal dir journaldir file creat temp file createtempfil booki journal journal dir journaldir delet journal dir journaldir mkdir booki check directori structur checkdirectorystructur booki get current directori getcurrentdirectori journal dir journaldir file ledger dir ledgerdir file creat temp file createtempfil booki ledger ledger dir ledgerdir delet ledger dir ledgerdir mkdir booki check directori structur checkdirectorystructur booki get current directori getcurrentdirectori ledger dir ledgerdir write junk journal writejunkjourn booki get current directori getcurrentdirectori journal dir journaldir server configur serverconfigur conf server configur serverconfigur set zk server setzkserv set journal dir name setjournaldirnam journal dir journaldir get path getpath set ledger dir name setledgerdirnam string ledger dir ledgerdir get path getpath booki booki conf fail shouldn abl start admin throwabl correct behaviour shutdown test start empti journal happen booki crash creat journal write magic word happen befor magic word exist booki start written test test empti journal testemptyjourn except file journal dir journaldir file creat temp file createtempfil booki journal journal dir journaldir delet journal dir journaldir mkdir booki check directori structur checkdirectorystructur booki get current directori getcurrentdirectori journal dir journaldir file ledger dir ledgerdir file creat temp file createtempfil booki ledger ledger dir ledgerdir delet ledger dir ledgerdir mkdir booki check directori structur checkdirectorystructur booki get current directori getcurrentdirectori ledger dir ledgerdir write pre v2 journal writeprev2journ booki get current directori getcurrentdirectori journal dir journaldir server configur serverconfigur conf server configur serverconfigur set zk server setzkserv set journal dir name setjournaldirnam journal dir journaldir get path getpath set ledger dir name setledgerdirnam string ledger dir ledgerdir get path getpath booki booki conf test journal load magic word version test test header journal testheaderonlyjourn except file journal dir journaldir file creat temp file createtempfil booki journal journal dir journaldir delet journal dir journaldir mkdir booki check directori structur checkdirectorystructur booki get current directori getcurrentdirectori journal dir journaldir file ledger dir ledgerdir file creat temp file createtempfil booki ledger ledger dir ledgerdir delet ledger dir ledgerdir mkdir booki check directori structur checkdirectorystructur booki get current directori getcurrentdirectori ledger dir ledgerdir write post v2 journal writepostv2journ booki get current directori getcurrentdirectori journal dir journaldir server configur serverconfigur conf server configur serverconfigur set zk server setzkserv set journal dir name setjournaldirnam journal dir journaldir get path getpath set ledger dir name setledgerdirnam string ledger dir ledgerdir get path getpath booki booki conf test journal ha junk end load journal corrupt admin intervent need test test junk end journal testjunkendedjourn except file journal dir journaldir file creat temp file createtempfil booki journal journal dir journaldir delet journal dir journaldir mkdir booki check directori structur checkdirectorystructur booki get current directori getcurrentdirectori journal dir journaldir file ledger dir ledgerdir file creat temp file createtempfil booki ledger ledger dir ledgerdir delet ledger dir ledgerdir mkdir booki check directori structur checkdirectorystructur booki get current directori getcurrentdirectori ledger dir ledgerdir journal channel journalchannel jc write post v2 journal writepostv2journ booki get current directori getcurrentdirectori journal dir journaldir jc get buffer channel getbufferedchannel write buffer bytebuff wrap junk junk junk junkjunkjunk get byte getbyt jc get buffer channel getbufferedchannel flush write index file ledger writeindexfileforledg ledger dir ledgerdir test passwd testpasswd get byte getbyt server configur serverconfigur conf server configur serverconfigur set zk server setzkserv set journal dir name setjournaldirnam journal dir journaldir get path getpath set ledger dir name setledgerdirnam string ledger dir ledgerdir get path getpath booki booki conf throwabl correct behaviour test booki crash write length entri recov current bad recoveri fine here booki ha crash write client ha notifi success test test truncat len journal testtruncatedinlenjourn except file journal dir journaldir file creat temp file createtempfil booki journal journal dir journaldir delet journal dir journaldir mkdir booki check directori structur checkdirectorystructur booki get current directori getcurrentdirectori journal dir journaldir file ledger dir ledgerdir file creat temp file createtempfil booki ledger ledger dir ledgerdir delet ledger dir ledgerdir mkdir booki check directori structur checkdirectorystructur booki get current directori getcurrentdirectori ledger dir ledgerdir journal channel journalchannel jc write post v2 journal writepostv2journ booki get current directori getcurrentdirectori journal dir journaldir 100 buffer bytebuff zero buffer bytebuff alloc 2048 jc fc posit jc get buffer channel getbufferedchannel posit x429 0x429 jc fc write zero jc fc forc write index file ledger writeindexfileforledg booki get current directori getcurrentdirectori ledger dir ledgerdir test passwd testpasswd get byte getbyt server configur serverconfigur conf server configur serverconfigur set zk server setzkserv set journal dir name setjournaldirnam journal dir journaldir get path getpath set ledger dir name setledgerdirnam string ledger dir ledgerdir get path getpath booki booki conf read entri readentri 99 read entri readentri 100 fail shouldn found entri 100 booki entri except noentryexcept correct behaviour test booki crash middl write actual entri recov entri avail corrupt client disregard entri after checksum test test truncat entri journal testtruncatedinentryjourn except file journal dir journaldir file creat temp file createtempfil booki journal journal dir journaldir delet journal dir journaldir mkdir booki check directori structur checkdirectorystructur booki get current directori getcurrentdirectori journal dir journaldir file ledger dir ledgerdir file creat temp file createtempfil booki ledger ledger dir ledgerdir delet ledger dir ledgerdir mkdir booki check directori structur checkdirectorystructur booki get current directori getcurrentdirectori ledger dir ledgerdir journal channel journalchannel jc write post v2 journal writepostv2journ booki get current directori getcurrentdirectori journal dir journaldir 100 buffer bytebuff zero buffer bytebuff alloc 2048 jc fc posit jc get buffer channel getbufferedchannel posit x300 0x300 jc fc write zero jc fc forc write index file ledger writeindexfileforledg booki get current directori getcurrentdirectori ledger dir ledgerdir test passwd testpasswd get byte getbyt server configur serverconfigur conf server configur serverconfigur set zk server setzkserv set journal dir name setjournaldirnam journal dir journaldir get path getpath set ledger dir name setledgerdirnam string ledger dir ledgerdir get path getpath booki booki conf read entri readentri 99 abl read last entri junk buffer bytebuff buf read entri readentri 100 equal assertequ ledger id wrong buf get getlong equal assertequ entri id wrong buf get getlong 100 equal assertequ last confirm wrong buf get getlong 99 equal assertequ length wrong buf get getlong 100 1024 buf get getlong skip checksum allx 1024 buf get allx allx assertfals buffer zero allx read entri readentri 101 fail shouldn found entri 101 booki entri except noentryexcept correct behaviour test partial index truncat master kei pre v3 journal test test partial file info pre v3 journal1 testpartialfileinfoprev3journal1 except test partial file info pre v3 journal testpartialfileinfoprev3journ test partial index pre v3 journal test test partial file info pre v3 journal2 testpartialfileinfoprev3journal2 except test partial file info pre v3 journal testpartialfileinfoprev3journ test partial index file pre v3 journal test partial file info pre v3 journal testpartialfileinfoprev3journ truncat master kei truncatemasterkei except file journal dir journaldir file creat temp file createtempfil booki journal journal dir journaldir delet journal dir journaldir mkdir booki check directori structur checkdirectorystructur booki get current directori getcurrentdirectori journal dir journaldir file ledger dir ledgerdir file creat temp file createtempfil booki ledger ledger dir ledgerdir delet ledger dir ledgerdir mkdir booki check directori structur checkdirectorystructur booki get current directori getcurrentdirectori journal dir journaldir write pre v2 journal writeprev2journ booki get current directori getcurrentdirectori journal dir journaldir 100 write partial index file ledger writepartialindexfileforledg booki get current directori getcurrentdirectori ledger dir ledgerdir test passwd testpasswd get byte getbyt truncat master kei truncatemasterkei server configur serverconfigur conf server configur serverconfigur set zk server setzkserv set journal dir name setjournaldirnam journal dir journaldir get path getpath set ledger dir name setledgerdirnam string ledger dir ledgerdir get path getpath truncat master kei truncatemasterkei booki booki conf fail reach here io except ioexcept booki booki conf read entri readentri 100 read entri readentri 101 fail shouldn found entri 101 booki entri except noentryexcept correct behaviour test partial index truncat master kei post v3 journal test test partial file info post v3 journal1 testpartialfileinfopostv3journal1 except test partial file info post v3 journal testpartialfileinfopostv3journ test partial index post v3 journal test test partial file info post v3 journal2 testpartialfileinfopostv3journal2 except test partial file info post v3 journal testpartialfileinfopostv3journ test partial index file post v3 journal test partial file info post v3 journal testpartialfileinfopostv3journ truncat master kei truncatemasterkei except file journal dir journaldir file creat temp file createtempfil booki journal journal dir journaldir delet journal dir journaldir mkdir booki check directori structur checkdirectorystructur booki get current directori getcurrentdirectori journal dir journaldir file ledger dir ledgerdir file creat temp file createtempfil booki ledger ledger dir ledgerdir delet ledger dir ledgerdir mkdir booki check directori structur checkdirectorystructur booki get current directori getcurrentdirectori ledger dir ledgerdir master kei masterkei test passwd testpasswd get byte getbyt write post v3 journal writepostv3journ booki get current directori getcurrentdirectori journal dir journaldir 100 master kei masterkei write partial index file ledger writepartialindexfileforledg booki get current directori getcurrentdirectori ledger dir ledgerdir master kei masterkei truncat master kei truncatemasterkei server configur serverconfigur conf server configur serverconfigur set zk server setzkserv set journal dir name setjournaldirnam journal dir journaldir get path getpath set ledger dir name setledgerdirnam string ledger dir ledgerdir get path getpath booki booki conf read entri readentri 100 read entri readentri 101 fail shouldn found entri 101 booki entri except noentryexcept correct behaviour 
ledger rang ledgerrang com googl protobuf gener messag generatedmessag us ledger rang ledgerrang builder newbuild construct ledger rang ledgerrang init field initfield ledger rang ledgerrang init noinit ledger rang ledgerrang instanc defaultinst ledger rang ledgerrang get instanc getdefaultinst instanc defaultinst ledger rang ledgerrang get instanc type getdefaultinstancefortyp instanc defaultinst com googl protobuf descriptor descriptor get descriptor getdescriptor org apach hedwig protocol pub sub protocol pubsubprotocol intern hedwig ledger rang descriptor internal_static_hedwig_ledgerrange_descriptor com googl protobuf gener messag generatedmessag field accessor tabl fieldaccessort intern get field accessor tabl internalgetfieldaccessort org apach hedwig protocol pub sub protocol pubsubprotocol intern hedwig ledger rang field accessor tabl internal_static_hedwig_ledgerrange_fieldaccessort requir uint64 ledger id ledgerid ledgerid field number ledgerid_field_numb ha ledger id hasledgerid ledger id ledgerid_ 0l ha ledger id hasledgerid ha ledger id hasledgerid get ledger id getledgerid ledger id ledgerid_ option hedwig messag seq id messageseqid end seq id includ endseqidinclud endseqidinclud field number endseqidincluded_field_numb ha end seq id includ hasendseqidinclud org apach hedwig protocol pub sub protocol pubsubprotocol messag seq id messageseqid end seq id includ endseqidincluded_ ha end seq id includ hasendseqidinclud ha end seq id includ hasendseqidinclud org apach hedwig protocol pub sub protocol pubsubprotocol messag seq id messageseqid get end seq id includ getendseqidinclud end seq id includ endseqidincluded_ init field initfield end seq id includ endseqidincluded_ org apach hedwig protocol pub sub protocol pubsubprotocol messag seq id messageseqid get instanc getdefaultinst initi isiniti ha ledger id hasledgerid ha end seq id includ hasendseqidinclud get end seq id includ getendseqidinclud initi isiniti write writeto com googl protobuf code output stream codedoutputstream output java io io except ioexcept get serial size getserializeds ha ledger id hasledgerid output write int64 writeuint64 get ledger id getledgerid ha end seq id includ hasendseqidinclud output write messag writemessag get end seq id includ getendseqidinclud get unknown field getunknownfield write writeto output memoiz serial size memoizedserializeds get serial size getserializeds size memoiz serial size memoizedserializeds size size size ha ledger id hasledgerid size com googl protobuf code output stream codedoutputstream comput int64 size computeuint64s get ledger id getledgerid ha end seq id includ hasendseqidinclud size com googl protobuf code output stream codedoutputstream comput messag size computemessages get end seq id includ getendseqidinclud size get unknown field getunknownfield get serial size getserializeds memoiz serial size memoizedserializeds size size org apach hedwig protocol pub sub protocol pubsubprotocol ledger rang ledgerrang pars from parsefrom com googl protobuf string bytestr data com googl protobuf invalid protocol buffer except invalidprotocolbufferexcept builder newbuild merg from mergefrom data build pars buildpars org apach hedwig protocol pub sub protocol pubsubprotocol ledger rang ledgerrang pars from parsefrom com googl protobuf string bytestr data com googl protobuf extens registri lite extensionregistrylit extens registri extensionregistri com googl protobuf invalid protocol buffer except invalidprotocolbufferexcept builder newbuild merg from mergefrom data extens registri extensionregistri build pars buildpars org apach hedwig protocol pub sub protocol pubsubprotocol ledger rang ledgerrang pars from parsefrom data com googl protobuf invalid protocol buffer except invalidprotocolbufferexcept builder newbuild merg from mergefrom data build pars buildpars org apach hedwig protocol pub sub protocol pubsubprotocol ledger rang ledgerrang pars from parsefrom data com googl protobuf extens registri lite extensionregistrylit extens registri extensionregistri com googl protobuf invalid protocol buffer except invalidprotocolbufferexcept builder newbuild merg from mergefrom data extens registri extensionregistri build pars buildpars org apach hedwig protocol pub sub protocol pubsubprotocol ledger rang ledgerrang pars from parsefrom java io input stream inputstream input java io io except ioexcept builder newbuild merg from mergefrom input build pars buildpars org apach hedwig protocol pub sub protocol pubsubprotocol ledger rang ledgerrang pars from parsefrom java io input stream inputstream input com googl protobuf extens registri lite extensionregistrylit extens registri extensionregistri java io io except ioexcept builder newbuild merg from mergefrom input extens registri extensionregistri build pars buildpars org apach hedwig protocol pub sub protocol pubsubprotocol ledger rang ledgerrang pars delimit from parsedelimitedfrom java io input stream inputstream input java io io except ioexcept builder builder builder newbuild builder merg delimit from mergedelimitedfrom input builder build pars buildpars org apach hedwig protocol pub sub protocol pubsubprotocol ledger rang ledgerrang pars delimit from parsedelimitedfrom java io input stream inputstream input com googl protobuf extens registri lite extensionregistrylit extens registri extensionregistri java io io except ioexcept builder builder builder newbuild builder merg delimit from mergedelimitedfrom input extens registri extensionregistri builder build pars buildpars org apach hedwig protocol pub sub protocol pubsubprotocol ledger rang ledgerrang pars from parsefrom com googl protobuf code input stream codedinputstream input java io io except ioexcept builder newbuild merg from mergefrom input build pars buildpars org apach hedwig protocol pub sub protocol pubsubprotocol ledger rang ledgerrang pars from parsefrom com googl protobuf code input stream codedinputstream input com googl protobuf extens registri lite extensionregistrylit extens registri extensionregistri java io io except ioexcept builder newbuild merg from mergefrom input extens registri extensionregistri build pars buildpars builder builder newbuild builder creat builder builder type newbuilderfortyp builder newbuild builder builder newbuild org apach hedwig protocol pub sub protocol pubsubprotocol ledger rang ledgerrang prototyp builder newbuild merg from mergefrom prototyp builder builder tobuild builder newbuild builder com googl protobuf gener messag generatedmessag builder builder org apach hedwig protocol pub sub protocol pubsubprotocol ledger rang ledgerrang result construct org apach hedwig protocol pub sub protocol pubsubprotocol ledger rang ledgerrang builder newbuild builder builder creat builder builder builder builder result org apach hedwig protocol pub sub protocol pubsubprotocol ledger rang ledgerrang builder org apach hedwig protocol pub sub protocol pubsubprotocol ledger rang ledgerrang intern get result internalgetresult result builder clear result illeg state except illegalstateexcept call clear after build result org apach hedwig protocol pub sub protocol pubsubprotocol ledger rang ledgerrang builder clone creat merg from mergefrom result com googl protobuf descriptor descriptor get descriptor type getdescriptorfortyp org apach hedwig protocol pub sub protocol pubsubprotocol ledger rang ledgerrang get descriptor getdescriptor org apach hedwig protocol pub sub protocol pubsubprotocol ledger rang ledgerrang get instanc type getdefaultinstancefortyp org apach hedwig protocol pub sub protocol pubsubprotocol ledger rang ledgerrang get instanc getdefaultinst initi isiniti result initi isiniti org apach hedwig protocol pub sub protocol pubsubprotocol ledger rang ledgerrang build result initi isiniti uniniti messag except newuninitializedmessageexcept result build partial buildparti org apach hedwig protocol pub sub protocol pubsubprotocol ledger rang ledgerrang build pars buildpars com googl protobuf invalid protocol buffer except invalidprotocolbufferexcept initi isiniti uniniti messag except newuninitializedmessageexcept result invalid protocol buffer except asinvalidprotocolbufferexcept build partial buildparti org apach hedwig protocol pub sub protocol pubsubprotocol ledger rang ledgerrang build partial buildparti result illeg state except illegalstateexcept build ha call builder org apach hedwig protocol pub sub protocol pubsubprotocol ledger rang ledgerrang returnm result result returnm builder merg from mergefrom com googl protobuf messag org apach hedwig protocol pub sub protocol pubsubprotocol ledger rang ledgerrang merg from mergefrom org apach hedwig protocol pub sub protocol pubsubprotocol ledger rang ledgerrang merg from mergefrom builder merg from mergefrom org apach hedwig protocol pub sub protocol pubsubprotocol ledger rang ledgerrang org apach hedwig protocol pub sub protocol pubsubprotocol ledger rang ledgerrang get instanc getdefaultinst ha ledger id hasledgerid set ledger id setledgerid get ledger id getledgerid ha end seq id includ hasendseqidinclud merg end seq id includ mergeendseqidinclud get end seq id includ getendseqidinclud merg unknown field mergeunknownfield get unknown field getunknownfield builder merg from mergefrom com googl protobuf code input stream codedinputstream input com googl protobuf extens registri lite extensionregistrylit extens registri extensionregistri java io io except ioexcept com googl protobuf unknown field set unknownfieldset builder unknown field unknownfield com googl protobuf unknown field set unknownfieldset builder newbuild get unknown field getunknownfield tag input read tag readtag tag set unknown field setunknownfield unknown field unknownfield build pars unknown field parseunknownfield input unknown field unknownfield extens registri extensionregistri tag set unknown field setunknownfield unknown field unknownfield build set ledger id setledgerid input read int64 readuint64 18 org apach hedwig protocol pub sub protocol pubsubprotocol messag seq id messageseqid builder sub builder subbuild org apach hedwig protocol pub sub protocol pubsubprotocol messag seq id messageseqid builder newbuild ha end seq id includ hasendseqidinclud sub builder subbuild merg from mergefrom get end seq id includ getendseqidinclud input read messag readmessag sub builder subbuild extens registri extensionregistri set end seq id includ setendseqidinclud sub builder subbuild build partial buildparti requir uint64 ledger id ledgerid ha ledger id hasledgerid result ha ledger id hasledgerid get ledger id getledgerid result get ledger id getledgerid builder set ledger id setledgerid valu result ha ledger id hasledgerid result ledger id ledgerid_ valu builder clear ledger id clearledgerid result ha ledger id hasledgerid result ledger id ledgerid_ 0l option hedwig messag seq id messageseqid end seq id includ endseqidinclud ha end seq id includ hasendseqidinclud result ha end seq id includ hasendseqidinclud org apach hedwig protocol pub sub protocol pubsubprotocol messag seq id messageseqid get end seq id includ getendseqidinclud result get end seq id includ getendseqidinclud builder set end seq id includ setendseqidinclud org apach hedwig protocol pub sub protocol pubsubprotocol messag seq id messageseqid valu valu pointer except nullpointerexcept result ha end seq id includ hasendseqidinclud result end seq id includ endseqidincluded_ valu builder set end seq id includ setendseqidinclud org apach hedwig protocol pub sub protocol pubsubprotocol messag seq id messageseqid builder builder valu builderforvalu result ha end seq id includ hasendseqidinclud result end seq id includ endseqidincluded_ builder valu builderforvalu build builder merg end seq id includ mergeendseqidinclud org apach hedwig protocol pub sub protocol pubsubprotocol messag seq id messageseqid valu result ha end seq id includ hasendseqidinclud result end seq id includ endseqidincluded_ org apach hedwig protocol pub sub protocol pubsubprotocol messag seq id messageseqid get instanc getdefaultinst result end seq id includ endseqidincluded_ org apach hedwig protocol pub sub protocol pubsubprotocol messag seq id messageseqid builder newbuild result end seq id includ endseqidincluded_ merg from mergefrom valu build partial buildparti result end seq id includ endseqidincluded_ valu result ha end seq id includ hasendseqidinclud builder clear end seq id includ clearendseqidinclud result ha end seq id includ hasendseqidinclud result end seq id includ endseqidincluded_ org apach hedwig protocol pub sub protocol pubsubprotocol messag seq id messageseqid get instanc getdefaultinst protoc insert point protoc_insertion_point builder scope builder_scop hedwig ledger rang ledgerrang instanc defaultinst ledger rang ledgerrang org apach hedwig protocol pub sub protocol pubsubprotocol intern forc init internalforceinit instanc defaultinst init field initfield protoc insert point protoc_insertion_point scope class_scop hedwig ledger rang ledgerrang 
scan entri entri log file entri log scanner entrylogscann test entri belong specifi ledger process param ledger id ledgerid ledger id entri ledger scan accept ledger id ledgerid process entri param ledger id ledgerid ledger id param entri entri buffer bytebuff io except ioexcept process ledger id ledgerid buffer bytebuff entri io except ioexcept 
provid utilit pars network address ledger id from node path string util stringutil pars address ip port param addr string inet socket address inetsocketaddress pars addr parseaddr string io except ioexcept string part split part length io except ioexcept form host port port port integ pars parseint part number format except numberformatexcept io except ioexcept form host port inet socket address inetsocketaddress addr inet socket address inetsocketaddress part port addr string builder stringbuild addr string addrtostr string builder stringbuild sb inet socket address inetsocketaddress addr sb append addr get address getaddress get host address gethostaddress append append addr get port getport format ledger id zoo keeper zookeep rule param id znode id string get zk string id getzkstringid id string format 010d id 
booki booki thread logger log logger factori loggerfactori get logger getlogg booki file journal directori journaldirectori file ledger directori ledgerdirectori server configur serverconfigur conf sync thread syncthread sync thread syncthread ledger manag ledgermanag ledger manag ledgermanag ledger storag ledgerstorag ledger storag ledgerstorag journal journal handl factori handlefactori handl metaentri id ledger kei metaentry_id_ledger_kei x1000 0x1000 zk registr path booki string booki registr path bookieregistrationpath string current dir current_dir current zoo keeper zookeep client instanc booki zoo keeper zookeep zk zk expir iszkexpir run flag run flag identifi shut down progress shuttingdown exit code exitcod exit code exitcod jmx relat bean booki bean bookiebean jmx booki bean jmxbookiebean bkm bean info bkmbeaninfo jmx ledger storag bean jmxledgerstoragebean map master kei cach masterkeycach collect map synchronizedmap hash map hashmap ledger except noledgerexcept io except ioexcept serial version uid serialversionuid 1l ledger id ledgerid ledger except noledgerexcept ledger id ledgerid ledger ledger id ledgerid found ledger id ledgerid ledger id ledgerid get ledger id getledgerid ledger id ledgerid entri except noentryexcept io except ioexcept serial version uid serialversionuid 1l ledger id ledgerid entri id entryid entri except noentryexcept ledger id ledgerid entri id entryid entri entri id entryid found ledger id ledgerid ledger id ledgerid ledger id ledgerid entri id entryid entri id entryid get ledger getledg ledger id ledgerid get entri getentri entri id entryid write callback nop write callback nopwritecallback write callback writecallback overrid write complet writecomplet rc ledger id ledgerid entri id entryid inet socket address inetsocketaddress addr object ctx log debug finish write entri ledger object entri id entryid ledger id ledgerid addr rc sync thread syncthread background thread flush ledger index page period take respons garbag collect journal file befor flush sync thread syncthread first record log marker journal id journalid journal po journalpo memori entri befor log marker persist ledger file sync thread begin flush ledger index page ledger index file flush entri logger ensur entri persist entri logger futur read after data ha persist ledger index file entri logger safe persist log marker disk booki fail after persist log mark booki abl relai journal entri start from last log mark lose entri journal file id log id last log mark remov safe after persist last log mark provid set let user keep number old journal file us manual recoveri critic disast sync thread syncthread thread run flag ensur sync thread interrupt flush atom atomicboolean flush atom atomicboolean make flush interv paramet flush interv flushinterv sync thread syncthread server configur serverconfigur conf sync thread syncthread flush interv flushinterv conf get flush interv getflushinterv log debug enabl isdebugen log debug flush interv flush interv flushinterv overrid run run wait flush interv flushinterv ledger storag ledgerstorag flush requir isflushrequir interrupt except interruptedexcept thread current thread currentthread interrupt mark flush flag make interrupt shutdown flush receiv close interrupt except closedbyinterruptexcept caus index file entri logger close corrupt flush compar set compareandset set flush flag fail mean flush thread interrupt sync thread exit journal mark log journal mark log marklog flush fail flushfail ledger storag ledgerstorag flush io except ioexcept log error except flush ledger flush fail flushfail flush fail roll last mark ledger flush journal entri lost flush fail flushfail journal roll log rolllog journal gc journal gcjournal clear flush flag flush set shutdown sync thread shutdown interrupt except interruptedexcept run flush compar set compareandset set flush flag succe mean sync thread syncthread flush safe interrupt interrupt join check directori structur checkdirectorystructur file dir io except ioexcept dir exist file parent dir get parent file getparentfil file pre v3 version file prev3versionfil file dir get parent getpar cooki version filenam version_filenam atom atomicboolean old data exist olddataexist atom atomicboolean parent list filenam filter filenamefilt accept file dir string name name end endswith txn name end endswith idx name end endswith log old data exist olddataexist set pre v3 version file prev3versionfil exist old data exist olddataexist get string err directori layout version upgrad need log error err io except ioexcept err dir mkdir string err unabl creat directori dir log error err io except ioexcept err check environ booki correct mean configur ha stai first run filesystem structur up date check environ checkenviron zoo keeper zookeep zk booki except bookieexcept io except ioexcept zk exist test make directori correct check directori structur checkdirectorystructur journal directori journaldirectori file dir ledger directori ledgerdirectori check directori structur checkdirectorystructur dir env newenv cooki master cooki mastercooki cooki gener cooki generatecooki conf cooki zk cooki zkcooki cooki read from zoo keeper readfromzookeep zk conf master cooki mastercooki verifi zk cooki zkcooki keeper except keeperexcept node except nonodeexcept nne env newenv list file miss cooki dir missedcookiedir arrai list arraylist file check directori structur checkdirectorystructur journal directori journaldirectori read cooki from journal directori cooki journal cooki journalcooki cooki read from directori readfromdirectori journal directori journaldirectori journal cooki journalcooki verifi master cooki mastercooki file found except filenotfoundexcept fnf miss cooki dir missedcookiedir add journal directori journaldirectori file dir ledger directori ledgerdirectori check directori structur checkdirectorystructur dir cooki cooki read from directori readfromdirectori dir verifi master cooki mastercooki file found except filenotfoundexcept fnf miss cooki dir missedcookiedir add dir env newenv miss cooki dir missedcookiedir size log error cooki exist zookeep local directori directori miss cooki file miss cooki dir missedcookiedir booki except bookieexcept invalid cooki except invalidcookieexcept env newenv miss cooki dir missedcookiedir size log debug directori miss cooki file miss cooki dir missedcookiedir master cooki mastercooki write directori writetodirectori journal directori journaldirectori file dir ledger directori ledgerdirectori master cooki mastercooki write directori writetodirectori dir master cooki mastercooki write zoo keeper writetozookeep zk conf keeper except keeperexcept ke log error couldn access cooki zookeep ke booki except bookieexcept invalid cooki except invalidcookieexcept ke unknown host except unknownhostexcept uh log error couldn check cooki network broken uh booki except bookieexcept invalid cooki except invalidcookieexcept uh io except ioexcept ioe log error error access cooki disk ioe booki except bookieexcept invalid cooki except invalidcookieexcept ioe interrupt except interruptedexcept log error thread interrupt check cooki exit booki except bookieexcept invalid cooki except invalidcookieexcept file get current directori getcurrentdirectori file dir file dir current dir current_dir file get current directori getcurrentdirectori file dir file current dir currentdir file dir length dir length current dir currentdir get current directori getcurrentdirectori dir current dir currentdir booki server configur serverconfigur conf io except ioexcept keeper except keeperexcept interrupt except interruptedexcept booki except bookieexcept booki conf get booki port getbookieport booki registr path bookieregistrationpath conf get zk avail booki path getzkavailablebookiespath conf conf journal directori journaldirectori get current directori getcurrentdirectori conf get journal dir getjournaldir ledger directori ledgerdirectori get current directori getcurrentdirectori conf get ledger dir getledgerdir instanti zookeep client initi ledger manag zk instanti zookeep client instantiatezookeepercli conf check environ checkenviron zk ledger manag ledgermanag ledger manag factori ledgermanagerfactori ledger manag newledgermanag conf zk sync thread syncthread sync thread syncthread conf ledger storag ledgerstorag interleav ledger storag interleavedledgerstorag conf ledger manag ledgermanag handl handl factori impl handlefactoryimpl ledger storag ledgerstorag instanti journal journal journal conf replai journal read journal readjourn read journal readjourn io except ioexcept booki except bookieexcept journal replai journal scanner journalscann overrid process journal version journalvers offset buffer bytebuff rec buff recbuff io except ioexcept ledger id ledgerid rec buff recbuff get getlong entri id entryid rec buff recbuff get getlong log debug replai journal ledger id entri id ledger id ledgerid entri id entryid entri id entryid metaentri id ledger kei metaentry_id_ledger_kei journal version journalvers master kei len masterkeylen rec buff recbuff get getint master kei masterkei master kei len masterkeylen rec buff recbuff get master kei masterkei master kei cach masterkeycach put ledger id ledgerid master kei masterkei io except ioexcept invalid journal contain journal kei journalkei layout version journal version journalvers old hold kei master kei cach masterkeycach get ledger id ledgerid kei kei ledger storag ledgerstorag read master kei readmasterkei ledger id ledgerid ledger descriptor ledgerdescriptor handl handl get handl gethandl ledger id ledgerid kei rec buff recbuff rewind handl add entri addentri rec buff recbuff ledger except noledgerexcept nsle log debug skip replai entri ledger delet ledger id ledgerid booki except bookieexcept io except ioexcept start set daemon setdaemon log debug start booki journal directori journal directori journaldirectori get name getnam start booki thread start sync thread syncthread start ledger storag ledgerstorag start set run here booki server us run flag booki server aliv set booki thread watcher run befor booki thread run booki registerbooki conf get booki port getbookieport io except ioexcept log error couldn booki zookeep shut down shutdown exit code exitcod zk reg fail zk_reg_fail jmx parent param parent parent bk mbean info jmx registerjmx bkm bean info bkmbeaninfo parent jmx booki bean jmxbookiebean booki bean bookiebean bkm bean registri bkmbeanregistri get instanc getinst jmx booki bean jmxbookiebean parent jmx ledger storag bean jmxledgerstoragebean ledger storag ledgerstorag get jmx bean getjmxbean bkm bean registri bkmbeanregistri get instanc getinst jmx ledger storag bean jmxledgerstoragebean jmx booki bean jmxbookiebean except log warn fail jmx ledger cach jmx ledger storag bean jmxledgerstoragebean except log warn fail jmx jmx booki bean jmxbookiebean unregist jmx unregist jmx unregisterjmx jmx ledger storag bean jmxledgerstoragebean bkm bean registri bkmbeanregistri get instanc getinst unregist jmx ledger storag bean jmxledgerstoragebean except log warn fail unregist jmx jmx booki bean jmxbookiebean bkm bean registri bkmbeanregistri get instanc getinst unregist jmx booki bean jmxbookiebean except log warn fail unregist jmx jmx booki bean jmxbookiebean jmx ledger storag bean jmxledgerstoragebean instanti zoo keeper zookeep client booki zoo keeper zookeep instanti zookeep client instantiatezookeepercli server configur serverconfigur conf io except ioexcept conf get zk server getzkserv log warn zk server pass booki constructor book keeper bookkeep client won server zk expir iszkexpir creat zoo keeper zookeep client instanc zookeep newzookeep conf get zk server getzkserv conf get zk timeout getzktimeout avail booki booki registerbooki port io except ioexcept zk zookeep instanc mean zk creat zk ephemer node booki zk creat booki registr path bookieregistrationpath inet address inetaddress get local host getlocalhost get host address gethostaddress port id open acl unsaf open_acl_unsaf creat mode createmod ephemer except log error zk except regist ephemer znode booki io except ioexcept back up caus booki constructor error altern exit here fatal error io except ioexcept creat zookeep client zk cluster booki server us zk client sync ledger garbag collect zk client expir mean booki server avail booki server list booki client notifi expir more booki request sent server better exit zk expir lot bk oper cach queue wait oper process quit done call shutdown param zk server zkserver quorum list zk server param session timeout sessiontimeout session timeout zk connect zk client instanc zoo keeper zookeep zookeep newzookeep string zk server zkserver session timeout sessiontimeout io except ioexcept zoo keeper zookeep zk newzk zoo keeper zookeep zk server zkserver session timeout sessiontimeout watcher overrid process watch event watchedev event handl session disconnect expir event get type gettyp equal watcher event event type eventtyp event get state getstat equal watcher event keeper state keeperst disconnect log warn zk client ha disconnect zk server event get state getstat equal watcher event keeper state keeperst sync connect syncconnect log info zk client ha reconnect zk server check expir connect event get state getstat equal watcher event keeper state keeperst expir log error zk client connect zk server ha expir zk expir iszkexpir shutdown exit code exitcod zk expir zk_expir zk expir iszkexpir zk newzk run isrun run overrid run booki thread wait journal thread start journal journal start wait journal quit journal join interrupt except interruptedexcept journal thread quit shut down shuttingdown error found journal thread quit follow add oper hang unit client timeout let booki server exist log error journal manag quit unexpectedli shutdown exit code exitcod booki except bookie_except provid shutdown method caller shut down booki gracefulli shutdown shutdown exit code exitcod intern shutdown method let shutdown booki gracefulli encount except shutdown exit code exitcod run avoid shutdown twice exit code exitcod set first shutdown except found exit code exitcod exit code exitcod mark booki shut down progress shuttingdown shutdown entri logger entrylogg ha garbag collector garbagecollector thread run ledger storag ledgerstorag shutdown shutdown zk client zk zk close shutdown journal journal shutdown join sync thread syncthread shutdown close ledger manag ledger manag ledgermanag close set run here watch thread booki server after booki shut down run interrupt except interruptedexcept log error interrupt shut down booki exit code exitcod retriev ledger descriptor ledger entri ad ledger descriptor ledgerdescriptor return from method eventu freed put handl puthandl booki except bookieexcept master kei masterkei match master kei ledger ledger descriptor ledgerdescriptor get ledger entri getledgerforentri buffer bytebuff entri master kei masterkei io except ioexcept booki except bookieexcept ledger id ledgerid entri get getlong ledger descriptor ledgerdescriptor handl get handl gethandl ledger id ledgerid master kei masterkei master kei cach masterkeycach contain kei containskei ledger id ledgerid handl add kei journal ensur rebuild buffer bytebuff bb buffer bytebuff alloc master kei masterkei length bb put putlong ledger id ledgerid bb put putlong metaentri id ledger kei metaentry_id_ledger_kei bb put putint master kei masterkei length bb put master kei masterkei bb flip journal log add entri logaddentri bb nop write callback nopwritecallback master kei cach masterkeycach put ledger id ledgerid master kei masterkei add entri ledger id addentrybyledgerid ledger id ledgerid buffer bytebuff entri io except ioexcept booki except bookieexcept kei ledger storag ledgerstorag read master kei readmasterkei ledger id ledgerid ledger descriptor ledgerdescriptor handl handl get handl gethandl ledger id ledgerid kei handl add entri addentri entri add entri ledger specifi handl add entri intern addentryintern ledger descriptor ledgerdescriptor handl buffer bytebuff entri write callback writecallback cb object ctx io except ioexcept booki except bookieexcept ledger id ledgerid handl get ledger id getledgerid entri rewind entri id entryid handl add entri addentri entri entri rewind log trace enabl istraceen log trace ad entri id entryid ledger id ledgerid journal log add entri logaddentri entri cb ctx add entri ledger even ledger ha previou fenc happen booki recoveri ledger recoveri case entri replic exist quorum booki client side call expos user recoveri add entri recoveryaddentri buffer bytebuff entri write callback writecallback cb object ctx master kei masterkei io except ioexcept booki except bookieexcept ledger descriptor ledgerdescriptor handl get ledger entri getledgerforentri entri master kei masterkei handl add entri intern addentryintern handl entri cb ctx add entri ledger booki except bookieexcept ledger fenc except ledgerfencedexcept ledger fenc add entri addentri buffer bytebuff entri write callback writecallback cb object ctx master kei masterkei io except ioexcept booki except bookieexcept ledger descriptor ledgerdescriptor handl get ledger entri getledgerforentri entri master kei masterkei handl handl fenc isfenc booki except bookieexcept creat booki except bookieexcept code ledger fenc except ledgerfencedexcept add entri intern addentryintern handl entri cb ctx fenc ledger from point client unabl write ledger recoveri add entri recoveryaddentri abl add entri ledger method idempot ledger fenc unfenc fenc fenc ledger ha effect fenc ledger fenceledg ledger id ledgerid master kei masterkei io except ioexcept booki except bookieexcept ledger descriptor ledgerdescriptor handl handl get handl gethandl ledger id ledgerid master kei masterkei handl handl set fenc setfenc buffer bytebuff read entri readentri ledger id ledgerid entri id entryid io except ioexcept ledger except noledgerexcept ledger descriptor ledgerdescriptor handl handl get read handl getreadonlyhandl ledger id ledgerid log trace enabl istraceen log trace read entri id entryid ledger id ledgerid handl read entri readentri entri id entryid rest code test stuff counter callback countercallback write callback writecallback count write complet writecomplet rc inet socket address inetsocketaddress addr object ctx count count notifi notifyal count inccount count wait zero waitzero interrupt except interruptedexcept count wait param arg io except ioexcept interrupt except interruptedexcept main string arg io except ioexcept interrupt except interruptedexcept booki except bookieexcept keeper except keeperexcept booki booki server configur serverconfigur start counter callback countercallback cb counter callback countercallback start current time milli currenttimemilli 100000 buffer bytebuff buff buffer bytebuff alloc 1024 buff put putlong buff put putlong buff limit 1024 buff posit cb count inccount add entri addentri buff cb cb wait zero waitzero end current time milli currenttimemilli println end start ms 
hash set cach kei factori hashsetcachekeyfactori factori set cach kei cachekei hash set cach kei factori hashsetcachekeyfactori instanc hash set cach kei factori hashsetcachekeyfactori set cach kei cachekei instanc newinst hash set hashset cach kei cachekei 
bk digest initi except bkdigestnotinitializedexcept bk except bkexcept bk digest initi except bkdigestnotinitializedexcept code digest initi except digestnotinitializedexcept 
path util pathutil gener prefix path list string prefix string path list string prefix arrai list arraylist string string builder stringbuild prefix string builder stringbuild string comp path split skip first empti path compon comp equal prefix append append comp prefix add prefix string tostr prefix iff prefix prefix path prefix isprefix string prefix string path string prefix split bs path split length bs length length equal bs file get parent getpar us separ string parent string path file path get parent getpar replac 
benchmark worker benchmarkwork num topic numtop num messag nummessag num region numregion start topic label starttopiclabel partit index partitionindex num partit numpartit benchmark worker benchmarkwork num topic numtop num messag nummessag num region numregion start topic label starttopiclabel partit index partitionindex num partit numpartit num topic numtop num topic numtop num messag nummessag num messag nummessag num region numregion num region numregion start topic label starttopiclabel start topic label starttopiclabel partit index partitionindex partit index partitionindex num partit numpartit num partit numpartit num messag nummessag num topic numtop num region numregion runtim except runtimeexcept number messag equal divis region topic num topic numtop num partit numpartit runtim except runtimeexcept number topic equal divis partit 
start serv request startservingrequest string bytestr topic string bytestr subscrib id subscriberid messag seq id messageseqid seq id start from seqidtostartfrom deliveri end point deliveryendpoint end point endpoint messag filter messagefilt filter hub subscrib ishubsubscrib start serv request startservingrequest string bytestr topic string bytestr subscrib id subscriberid messag seq id messageseqid seq id start from seqidtostartfrom deliveri end point deliveryendpoint end point endpoint messag filter messagefilt filter hub subscrib ishubsubscrib topic topic subscrib id subscriberid subscrib id subscriberid seq id start from seqidtostartfrom seq id start from seqidtostartfrom end point endpoint end point endpoint filter filter hub subscrib ishubsubscrib hub subscrib ishubsubscrib 
bk booki handl avail except bkbookiehandlenotavailableexcept bk except bkexcept bk booki handl avail except bkbookiehandlenotavailableexcept code booki handl avail except bookiehandlenotavailableexcept 
first packet header contain version op code opcod flag initi version bk didn structur repres op code opcod first handl packet header packethead version op code opcod flag packet header packethead version op code opcod flag version version op code opcod op code opcod flag flag toint version op code opcod version ff 0xff 24 op code opcod ff 0xff 16 flag ffff 0xffff packet header packethead from fromint version 24 op code opcod flag version op code opcod op code opcod 16 ff 0xff flag ffff 0xffff packet header packethead version op code opcod flag get version getvers version get op code getopcod op code opcod get flag getflag flag 
stream api get output stream from ledger handl write stream byte built ledgerhandl api us buffer cach data written write entri ledger ledger output stream ledgeroutputstream output stream outputstream logger log logger factori loggerfactori get logger getlogg ledger output stream ledgeroutputstream ledger handl ledgerhandl lh buffer bytebuff bytebuff bbyte size defaults 1024 1024 mb 1mb size construct outputstream from ledger handl param lh ledger handl ledger output stream ledgeroutputstream ledger handl ledgerhandl lh lh lh bbyte size defaults bytebuff buffer bytebuff wrap bbyte construct outputstream from ledger handl param lh ledger handl param size size buffer ledger output stream ledgeroutputstream ledger handl ledgerhandl lh size lh lh bbyte size bytebuff buffer bytebuff wrap bbyte overrid close flush flush overrid flush let flush data ledger entri bytebuff posit copi byte buffer send bytebuff posit log info comment flush param bytebuff posit arraycopi bbyte bytebuff posit lh add entri addentri interrupt except interruptedexcept log warn interrupt fluse thread current thread currentthread interrupt bk except bkexcept bke log warn book keeper bookkeep except bke make space len byte written buffer param len make space len make space makespac len bytebuff remain len flush bytebuff clear bytebuff capac len overrid write make space makespac length bytebuff put lh add entri addentri interrupt except interruptedexcept log warn interrupt write thread current thread currentthread interrupt bk except bkexcept bke log warn book keeper bookkeep except bke overrid write len make space makespac len let make buffer bigger bbyte len bytebuff buffer bytebuff wrap bbyte bytebuff put len overrid write io except ioexcept make space makespac oneb ff 0xff bytebuff put oneb 
unsub cmd unsubcmd command mycommand overrid run cmd runcmd string arg except arg length string bytestr topic string bytestr copi from utf8 copyfromutf8 arg string bytestr sub id subid string bytestr copi from utf8 copyfromutf8 arg subscrib stop deliveri stopdeliveri topic sub id subid subscrib unsubscrib topic sub id subid println unsub done except err println unsub fail print stack trace printstacktrac 
netti handler bean nettyhandlerbean netti handler mx bean nettyhandlermxbean hedwig bean info hedwigmbeaninfo map oper type operationtyp handler handler subscrib handler subscribehandl sub handler subhandl netti handler bean nettyhandlerbean map oper type operationtyp handler handler handler handler sub handler subhandl subscrib handler subscribehandl handler get oper type operationtyp subscrib overrid string get name getnam netti handler nettyhandl overrid hidden ishidden overrid get num subscript channel getnumsubscriptionchannel sub handler subhandl sub2 channel sub2channel size 
proxi subscrib handler proxysubscribehandl handler channel disconnect listen channeldisconnectlisten logger logger logger factori loggerfactori get logger getlogg proxi subscrib handler proxysubscribehandl subscrib subscrib channel tracker channeltrack tracker proxi subscrib handler proxysubscribehandl subscrib subscrib channel tracker channeltrack tracker subscrib subscrib tracker tracker overrid channel disconnect channeldisconnect channel channel tracker channel disconnect channeldisconnect channel overrid handl request handlerequest pub sub request pubsubrequest request channel channel request ha subscrib request hassubscriberequest umbrella handler umbrellahandl send error respons malform request senderrorresponsetomalformedrequest channel request get txn id gettxnid miss subscrib request data subscrib request subscriberequest sub request subrequest request get subscrib request getsubscriberequest topic subscrib topicsubscrib topic subscrib topicsubscrib topic subscrib topicsubscrib request get topic gettop sub request subrequest get subscrib id getsubscriberid subscrib async subscrib asyncsubscrib topic subscrib topicsubscrib get topic gettop sub request subrequest get subscrib id getsubscriberid sub request subrequest get creat attach getcreateorattach callback overrid oper fail operationfail object ctx pub sub except pubsubexcept except channel write pub sub respons util pubsubresponseutil get respons except getresponseforexcept except request get txn id gettxnid overrid oper finish operationfinish object ctx result oper resultofoper tracker subscrib succeed subscribesucceed topic subscrib topicsubscrib channel topic busi except topicbusyexcept channel write pub sub respons util pubsubresponseutil get respons except getresponseforexcept request get txn id gettxnid channel write pub sub respons util pubsubresponseutil get success respons getsuccessrespons request get txn id gettxnid 
insert here uncertain state except uncertainstateexcept pub sub except pubsubexcept uncertain state except uncertainstateexcept string msg statu code statuscod uncertain state uncertain_st msg 
client util clientutil channel buffer channelbuff gener packet generatepacket ledger id ledgerid entri id entryid last add confirm lastaddconfirm length data crc32 digest manag crc32digestmanag dm crc32 digest manag crc32digestmanag ledger id ledgerid dm comput digest send computedigestandpackageforsend entri id entryid last add confirm lastaddconfirm length data data length 
string intern bytestringintern todo releas refer string longer us weak refer concurr map concurrentmap string bytestr string bytestr map concurr hash map concurrenthashmap string bytestr string bytestr string bytestr intern string bytestr string bytestr present valu map presentvalueinmap map get present valu map presentvalueinmap present valu map presentvalueinmap present valu map presentvalueinmap map put absent putifabs present valu map presentvalueinmap present valu map presentvalueinmap 
test booki testbooki booki read delai readdelai test booki testbooki server configur serverconfigur conf read delai readdelai io except ioexcept keeper except keeperexcept interrupt except interruptedexcept booki except bookieexcept conf read delai readdelai read delai readdelai overrid buffer bytebuff read entri readentri ledger id ledgerid entri id entryid io except ioexcept ledger except noledgerexcept read delai readdelai thread sleep read delai readdelai interrupt except interruptedexcept read entri readentri ledger id ledgerid entri id entryid 
test implement subscrib messag handler order check messag handler ordercheckingmessagehandl messag handler messagehandl string bytestr topic string bytestr subscrib id subscriberid start msg id startmsgid num msg nummsg end msg id endmsgid order inord order check messag handler ordercheckingmessagehandl string bytestr topic string bytestr subscrib id subscriberid start msg id startmsgid num msg nummsg topic topic subscrib id subscriberid subscrib id subscriberid start msg id startmsgid start msg id startmsgid num msg nummsg num msg nummsg end msg id endmsgid start msg id startmsgid num msg nummsg overrid deliv string bytestr topic thistop string bytestr subscrib id thissubscriberid messag msg callback callback object context topic equal topic thistop subscrib id subscriberid equal subscrib id thissubscriberid check order msg id msgid integ pars parseint msg get bodi getbodi string utf8 tostringutf8 logger debug enabl isdebugen logger debug receiv messag msg id msgid order inord start msg id startmsgid msg id msgid logger error expect messag start msg id startmsgid receiv messag msg id msgid order inord start msg id startmsgid callback oper finish operationfinish context msg id msgid end msg id endmsgid thread runnabl overrid run logger debug enabl isdebugen logger debug deliv finish concurr util concurrencyutil put queue start order isinord order inord 
suppress warn suppresswarn serial abstract pub sub except pubsubexcept except statu code statuscod code pub sub except pubsubexcept statu code statuscod code string msg msg code code pub sub except pubsubexcept statu code statuscod code except code code pub sub except pubsubexcept creat statu code statuscod code string msg code statu code statuscod client subscrib client_already_subscrib client subscrib except clientalreadysubscribedexcept msg code statu code statuscod client subscrib client_not_subscrib client subscrib except clientnotsubscribedexcept msg code statu code statuscod malform request malformed_request malform request except malformedrequestexcept msg code statu code statuscod topic no_such_top topic except nosuchtopicexcept msg code statu code statuscod respons topic not_responsible_for_top server respons topic except servernotresponsiblefortopicexcept msg code statu code statuscod servic down service_down servic down except servicedownexcept msg code statu code statuscod connect could_not_connect connect except couldnotconnectexcept msg insert here code statu code statuscod uncertain state uncertain_st uncertain state except uncertainstateexcept msg except unexpect error condit unexpect condit except unexpectedconditionexcept unknow statu code code get number getnumb msg msg statu code statuscod get code getcod code client subscrib except clientalreadysubscribedexcept pub sub except pubsubexcept client subscrib except clientalreadysubscribedexcept string msg statu code statuscod client subscrib client_already_subscrib msg client subscrib except clientnotsubscribedexcept pub sub except pubsubexcept client subscrib except clientnotsubscribedexcept string msg statu code statuscod client subscrib client_not_subscrib msg malform request except malformedrequestexcept pub sub except pubsubexcept malform request except malformedrequestexcept string msg statu code statuscod malform request malformed_request msg topic except nosuchtopicexcept pub sub except pubsubexcept topic except nosuchtopicexcept string msg statu code statuscod topic no_such_top msg server respons topic except servernotresponsiblefortopicexcept pub sub except pubsubexcept note except messag serv name respons host server respons topic except servernotresponsiblefortopicexcept string respons host responsiblehost statu code statuscod respons topic not_responsible_for_top respons host responsiblehost topic busi except topicbusyexcept pub sub except pubsubexcept topic busi except topicbusyexcept string msg statu code statuscod topic busi topic_busi msg servic down except servicedownexcept pub sub except pubsubexcept servic down except servicedownexcept string msg statu code statuscod servic down service_down msg servic down except servicedownexcept except statu code statuscod servic down service_down connect except couldnotconnectexcept pub sub except pubsubexcept connect except couldnotconnectexcept string msg statu code statuscod connect could_not_connect msg insert here uncertain state except uncertainstateexcept pub sub except pubsubexcept uncertain state except uncertainstateexcept string msg statu code statuscod uncertain state uncertain_st msg except unexpect error condit unexpect condit except unexpectedconditionexcept pub sub except pubsubexcept unexpect condit except unexpectedconditionexcept string msg statu code statuscod unexpect condit unexpected_condit msg composit except concurr oper composit except compositeexcept pub sub except pubsubexcept collect pub sub except pubsubexcept except composit except compositeexcept collect pub sub except pubsubexcept except statu code statuscod composit composit except except except collect pub sub except pubsubexcept get except getexcept except overrid string string tostr string builder stringbuild builder string builder stringbuild builder append string tostr append pub sub except pubsubexcept except except builder append except append builder string tostr client subscrib runtim except clientnotsubscribedruntimeexcept runtim except runtimeexcept 
scanner wrapper check ledger aliv entri log file compact scanner compactionscann entri log scanner entrylogscann entri log metadata entrylogmetadata meta compact scanner compactionscann entri log metadata entrylogmetadata meta meta meta overrid accept ledger id ledgerid meta contain ledger containsledg ledger id ledgerid scanner accept ledger id ledgerid overrid process ledger id ledgerid buffer bytebuff entri io except ioexcept scanner process ledger id ledgerid entri 
store ledger data persist storag ledger storag ledgerstorag start background thread belong storag exampl garbag collect start cleanup free resourc us storag shutdown interrupt except interruptedexcept ledger exist ledger exist ledgerexist ledger id ledgerid io except ioexcept set master kei ledger set master kei setmasterkei ledger id ledgerid master kei masterkei io except ioexcept get master kei ledger io except ioexcept error read from ledger booki except bookieexcept ledger exist read master kei readmasterkei ledger id ledgerid io except ioexcept booki except bookieexcept add entri storag entri id entri ad add entri addentri buffer bytebuff entri io except ioexcept read entri from storag buffer bytebuff get entri getentri ledger id ledgerid entri id entryid io except ioexcept data storag flush flush requir isflushrequir flush data storag call add data written ledger storag ledgerstorag up point ha persist permin storag flush io except ioexcept get jmx manag bean ledger storag ledgerstorag bkm bean info bkmbeaninfo get jmx bean getjmxbean 
topic busi except topicbusyexcept pub sub except pubsubexcept topic busi except topicbusyexcept string msg statu code statuscod topic busi topic_busi msg 
configur manag server side set server configur serverconfigur abstract configur abstractconfigur entri log paramet string entri log size limit entry_log_size_limit log size limit logsizelimit string minor compact interv minor_compaction_interv minor compact interv minorcompactioninterv string minor compact threshold minor_compaction_threshold minor compact threshold minorcompactionthreshold string major compact interv major_compaction_interv major compact interv majorcompactioninterv string major compact threshold major_compaction_threshold major compact threshold majorcompactionthreshold gc paramet string gc wait time gc_wait_tim gc wait time gcwaittim sync paramet string flush interv flush_interv flush interv flushinterv booki death watch interv string death watch interv death_watch_interv booki death watch interv bookiedeathwatchinterv ledger cach paramet string open file limit open_file_limit open file limit openfilelimit string page limit page_limit page limit pagelimit string page size page_s page size pages journal paramet string max journal size max_journal_s journal max size mb journalmaxsizemb string max backup journal max_backup_journ journal max backup journalmaxbackup booki paramet string booki port bookie_port booki port bookieport string journal dir journal_dir journal directori journaldirectori string ledger dir ledger_dir ledger directori ledgerdirectori nio paramet string server tcp nodelai server_tcp_nodelai server tcp delai servertcpnodelai zookeep paramet string zk timeout zk_timeout zk timeout zktimeout string zk server zk_server zk server zkserver statist paramet string enabl statist enable_statist enabl statist enablestatist construct configur object server configur serverconfigur construct configur base configur param conf configur server configur serverconfigur abstract configur abstractconfigur conf load conf loadconf conf get entri logger size limit entri logger size limit get entri log size limit getentrylogsizelimit get getlong entri log size limit entry_log_size_limit 1024 1024 1024l set entri logger size limit param log size limit logsizelimit log size limit server configur serverconfigur set entri log size limit setentrylogsizelimit log size limit logsizelimit set properti setproperti entri log size limit entry_log_size_limit string tostr log size limit logsizelimit get garbag collect wait time gc wait time get gc wait time getgcwaittim get getlong gc wait time gc_wait_tim 1000 set garbag collect wait time param gc wait time gcwaittim gc wait time server configur server configur serverconfigur set gc wait time setgcwaittim gc wait time gcwaittim set properti setproperti gc wait time gc_wait_tim string tostr gc wait time gcwaittim get flush interv flush interv get flush interv getflushinterv get getint flush interv flush_interv 100 set flush interv param flush interv flushinterv flush interv server configur server configur serverconfigur set flush interv setflushinterv flush interv flushinterv set properti setproperti flush interv flush_interv integ string tostr flush interv flushinterv get booki death watch interv watch interv get death watch interv getdeathwatchinterv get getint death watch interv death_watch_interv 1000 get open file limit max number file open get open file limit getopenfilelimit get getint open file limit open_file_limit 900 set limit number open file param file limit filelimit limit number open file server configur server configur serverconfigur set open file limit setopenfilelimit file limit filelimit set properti setproperti open file limit open_file_limit file limit filelimit get limit number index page ledger cach max number index page ledger cach get page limit getpagelimit get getint page limit page_limit set limit number index page ledger cach param page limit pagelimit limit number index page ledger cach server configur server configur serverconfigur set page limit setpagelimit page limit pagelimit set properti setproperti page limit page_limit page limit pagelimit get page size page size ledger cach get page size getpages get getint page size page_s 8192 set page size get page size getpages param page size pages page size server configur server configur serverconfigur set page size setpages page size pages set properti setproperti page size page_s page size pages max journal file size max journal file size get max journal size getmaxjournals get getlong max journal size max_journal_s 1024 set max journal file size param max journal size maxjournals max journal file size server configur server configur serverconfigur set max journal size setmaxjournals max journal size maxjournals set properti setproperti max journal size max_journal_s string tostr max journal size maxjournals max number older journal file kept max number older journal file kept get max backup journal getmaxbackupjourn get getint max backup journal max_backup_journ set max number older journal file kept param max backup journal maxbackupjourn max number older journal file server configur server configur serverconfigur set max backup journal setmaxbackupjourn max backup journal maxbackupjourn set properti setproperti max backup journal max_backup_journ integ string tostr max backup journal maxbackupjourn get booki port booki server listen booki port get booki port getbookieport get getint booki port bookie_port 3181 set booki port booki server listen param port port listen server configur server configur serverconfigur set booki port setbookieport port set properti setproperti booki port bookie_port integ string tostr port get dir name store journal file journal dir name string get journal dir name getjournaldirnam get string getstr journal dir journal_dir tmp bk txn set dir name store journal file param journal dir journaldir dir store journal file server configur server configur serverconfigur set journal dir name setjournaldirnam string journal dir journaldir set properti setproperti journal dir journal_dir journal dir journaldir get dir store journal file journal dir journal dir provid file get journal dir getjournaldir string journal dir name journaldirnam get journal dir name getjournaldirnam journal dir name journaldirnam file journal dir name journaldirnam get dir name store ledger data ledger dir name provid string get ledger dir name getledgerdirnam string ledger dir ledgerdir get string arrai getstringarrai ledger dir ledger_dir ledger dir ledgerdir string tmp bk data ledger dir ledgerdir set dir name store ledger data param ledger dir ledgerdir dir name store ledger data server configur server configur serverconfigur set ledger dir name setledgerdirnam string ledger dir ledgerdir ledger dir ledgerdir set properti setproperti ledger dir ledger_dir ledger dir ledgerdir get dir store ledger data ledger dir file get ledger dir getledgerdir string ledger dir name ledgerdirnam get ledger dir name getledgerdirnam ledger dir name ledgerdirnam file ledger dir ledgerdir file ledger dir name ledgerdirnam length ledger dir name ledgerdirnam length ledger dir ledgerdir file ledger dir name ledgerdirnam ledger dir ledgerdir tcp connect delai tcp socket nodelai set get server tcp delai getservertcpnodelai get getboolean server tcp nodelai server_tcp_nodelai set socket nodelai set param delai nodelai delai nodelai set server configur server configur serverconfigur set server tcp delai setservertcpnodelai delai nodelai set properti setproperti server tcp nodelai server_tcp_nodelai string tostr delai nodelai get zookeep server connect zookeep server string get zk server getzkserv list object server get list getlist zk server zk_server server server size string util stringutil join server set zookeep server connect param zk server zkserver zoo keeper zookeep server connect server configur serverconfigur set zk server setzkserv string zk server zkserver set properti setproperti zk server zk_server zk server zkserver get zookeep timeout zookeep server timeout get zk timeout getzktimeout get getint zk timeout zk_timeout 10000 set zookeep timeout param zk timeout zktimeout zoo keeper zookeep server timeout server configur server configur serverconfigur set zk timeout setzktimeout zk timeout zktimeout set properti setproperti zk timeout zk_timeout integ string tostr zk timeout zktimeout statist enabl statist enabl statist enabl isstatisticsen get getboolean enabl statist enable_statist turn statist param enabl statist enabl server configur server configur serverconfigur set statist enabl setstatisticsen enabl set properti setproperti enabl statist enable_statist string tostr enabl get threshold minor compact entri log file remain size percentag reach threshold compact minor compact set zero minor compact disabl threshold minor compact get minor compact threshold getminorcompactionthreshold get getdoubl minor compact threshold minor_compaction_threshold 2f set threshold minor compact get minor compact threshold getminorcompactionthreshold param threshold threshold minor compact server configur server configur serverconfigur set minor compact threshold setminorcompactionthreshold threshold set properti setproperti minor compact threshold minor_compaction_threshold threshold get threshold major compact entri log file remain size percentag reach threshold compact major compact set zero major compact disabl threshold major compact get major compact threshold getmajorcompactionthreshold get getdoubl major compact threshold major_compaction_threshold 8f set threshold major compact get major compact threshold getmajorcompactionthreshold param threshold threshold major compact server configur server configur serverconfigur set major compact threshold setmajorcompactionthreshold threshold set properti setproperti major compact threshold major_compaction_threshold threshold get interv run minor compact second set zero minor compact disabl threshold minor compact get minor compact interv getminorcompactioninterv get getlong minor compact interv minor_compaction_interv 3600 set interv run minor compact get minor compact interv getminorcompactioninterv param interv interv run minor compact server configur server configur serverconfigur set minor compact interv setminorcompactioninterv interv set properti setproperti minor compact interv minor_compaction_interv interv get interv run major compact second set zero major compact disabl high water mark get major compact interv getmajorcompactioninterv get getlong major compact interv major_compaction_interv 86400 set interv run major compact get major compact interv getmajorcompactioninterv param interv interv run major compact server configur server configur serverconfigur set major compact interv setmajorcompactioninterv interv set properti setproperti major compact interv major_compaction_interv interv 
test book keeper client bookkeepercli allow access member don wish expos api book keeper test client bookkeepertestcli book keeper bookkeep book keeper test client bookkeepertestcli client configur clientconfigur conf io except ioexcept interrupt except interruptedexcept keeper except keeperexcept conf zoo keeper zookeep get zk handl getzkhandl get zk handl getzkhandl client configur clientconfigur get conf getconf get conf getconf forc read zookeep get list booki interrupt except interruptedexcept keeper except keeperexcept read booki block readbookiesblock interrupt except interruptedexcept keeper except keeperexcept booki watcher bookiewatch read booki block readbookiesblock 
trivial topic manag trivialownalltopicmanag abstract topic manag abstracttopicmanag trivial topic manag trivialownalltopicmanag server configur serverconfigur cfg schedul executor servic scheduledexecutorservic schedul unknown host except unknownhostexcept cfg schedul overrid real get owner realgetown string bytestr topic claim shouldclaim callback hedwig socket address hedwigsocketaddress cb object ctx topic contain topic cb oper finish operationfinish ctx addr notifi listen add own topic notifylistenersandaddtoownedtop topic cb ctx overrid post releas cleanup postreleasecleanup string bytestr topic callback cb object ctx cleanup cb oper finish operationfinish ctx overrid stop 
test callback testcallback callback oper fail operationfail object ctx pub sub except pubsubexcept except failur except failureexcept runtim except runtimeexcept except suppress warn suppresswarn uncheck oper finish operationfinish object ctx result oper resultofoper link block queue linkedblockingqueu statu queue statusqueu link block queue linkedblockingqueu ctx statu queue statusqueu put interrupt except interruptedexcept failur except failureexcept runtim except runtimeexcept 
test book keeper persist manag black box testbookkeeperpersistencemanagerblackbox test persist manag black box testpersistencemanagerblackbox book keeper test base bookkeepertestbas bktb num booki numbooki overrid befor set up setup except set up setup first set up setup method book keeper test base bookkeepertestbas instanti bktb book keeper test base bookkeepertestbas num booki numbooki bktb set up setup set up setup overrid after tear down teardown except bktb tear down teardown tear down teardown overrid get lowest seq id getlowestseqid overrid persist manag persistencemanag instanti persist manag instantiatepersistencemanag except server configur serverconfigur conf server configur serverconfigur schedul executor servic scheduledexecutorservic schedul executor schedul thread pool newscheduledthreadpool bookkeep persist manag bookkeeperpersistencemanag bktb bk bktb get zoo keeper client getzookeepercli trivial topic manag trivialownalltopicmanag conf schedul conf schedul overrid get expect seq id getexpectedseqid num publish numpublish num publish numpublish test suit test suit testsuit test book keeper persist manag black box testbookkeeperpersistencemanagerblackbox 
simpl test program compar perform write book keeper bookkeep local file test client testclient logger log logger factori loggerfactori get logger getlogg test client testclient first entri written book keeper bookkeep local disk second paramet integ defin length ledger entri third paramet number write param arg main string arg pars except parseexcept option option option option add option addopt length length packet written 1024 option add option addopt target target medium write option bk fs hdf fs option add option addopt runfor number second run 60 option add option addopt path path write fs hdf foobar option add option addopt zkserver zoo keeper zookeep server comma separ bk localhost 2181 option add option addopt bkensembl book keeper bookkeep ledger ensembl size bk option add option addopt bkquorum book keeper bookkeep ledger quorum size bk option add option addopt bkthrottl book keeper bookkeep throttl size bk 10000 option add option addopt sync us synchron write book keeper bookkeep bk option add option addopt numconcurr number concurr client option add option addopt timeout number second after up option add option addopt help messag command line parser commandlinepars parser posix parser posixpars command line commandlin cmd parser pars option arg cmd ha option hasopt help help formatt helpformatt formatt help formatt helpformatt formatt print help printhelp test client testclient option option exit length integ valu valueof cmd get option valu getoptionvalu length 1024 string target cmd get option valu getoptionvalu target fs runfor valu valueof cmd get option valu getoptionvalu runfor 60 1000 string builder stringbuild sb string builder stringbuild length sb append timer timeout timer cmd ha option hasopt timeout timeout valu valueof cmd get option valu getoptionvalu timeout 360 1000 timeout schedul timer task timertask run err println time benchmark after timeout ms exit timeout book keeper bookkeep bkc num file numfil integ valu valueof cmd get option valu getoptionvalu numconcurr num thread numthread math min num file numfil 1000 data sb string tostr get byte getbyt runid current time milli currenttimemilli list callabl client arrai list arraylist callabl target equal bk string zkserver cmd get option valu getoptionvalu zkserver localhost 2181 bkensembl integ valu valueof cmd get option valu getoptionvalu bkensembl bkquorum integ valu valueof cmd get option valu getoptionvalu bkquorum bkthrottl integ valu valueof cmd get option valu getoptionvalu bkthrottl 10000 client configur clientconfigur conf client configur clientconfigur conf set throttl valu setthrottlevalu bkthrottl conf set zk server setzkserv zkserver bkc book keeper bookkeep conf list ledger handl ledgerhandl handl arrai list arraylist ledger handl ledgerhandl num file numfil handl add bkc creat ledger createledg bkensembl bkquorum digest type digesttyp crc32 num file numfil client add bk client bkclient handl data runfor cmd ha option hasopt sync target equal hdf file filesystem fs file filesystem get configur log info replic hdf fs get replic getdefaultrepl list fs data output stream fsdataoutputstream stream arrai list arraylist fs data output stream fsdataoutputstream num file numfil string path cmd get option valu getoptionvalu path foobar stream add fs creat path path runid num thread numthread client add hdf client hdfsclient stream data runfor target equal fs list file output stream fileoutputstream stream arrai list arraylist file output stream fileoutputstream num file numfil string path cmd get option valu getoptionvalu path foobar stream add file output stream fileoutputstream path runid num thread numthread client add file client filecli stream data runfor log error unknown option target illeg argument except illegalargumentexcept unknown target target executor servic executorservic executor executor fix thread pool newfixedthreadpool num thread numthread start current time milli currenttimemilli list futur result executor invok invokeal client 10 time unit timeunit minut end current time milli currenttimemilli count futur result done isdon log warn job didn complet exit get log warn task didn complet count time end start log info finish process write ms tpt op time count time 1000 executor shutdown execut except executionexcept ee log error except worker ee keeper except keeperexcept ke log error error access zookeep ke bk except bkexcept log error error access bookkeep io except ioexcept ioe log error except benchmark ioe interrupt except interruptedexcept log error benchmark interrupt bkc bkc close bk except bkexcept bke log error error close bookkeep client bke interrupt except interruptedexcept log warn interrupt close bookkeep client timeout cancel hdf client hdfsclient callabl list fs data output stream fsdataoutputstream stream data time random hdf client hdfsclient list fs data output stream fsdataoutputstream stream data time stream stream data data time time random ident hash code identityhashcod call count start current time milli currenttimemilli stopat start time current time milli currenttimemilli stopat fs data output stream fsdataoutputstream stream stream get next nextint stream size stream stream write data stream flush stream hflush count time current time milli currenttimemilli start log info worker finish process write ms tpt op time count time 1000 count io except ioexcept ioe log error except worker thread ioe 0l file client filecli callabl list file output stream fileoutputstream stream data time random file client filecli list file output stream fileoutputstream stream data time stream stream data data time time random ident hash code identityhashcod call count start current time milli currenttimemilli stopat start time current time milli currenttimemilli stopat file output stream fileoutputstream stream stream get next nextint stream size stream stream write data stream flush stream get channel getchannel forc count time current time milli currenttimemilli start log info worker finish process write ms tpt op time count time 1000 count io except ioexcept ioe log error except worker thread ioe 0l bk client bkclient callabl add callback addcallback list ledger handl ledgerhandl handl data time random sync atom atomiclong success atom atomiclong atom atomiclong outstand atom atomiclong bk client bkclient list ledger handl ledgerhandl handl data time sync handl handl data data time time random ident hash code identityhashcod sync sync call start current time milli currenttimemilli stopat start time current time milli currenttimemilli stopat ledger handl ledgerhandl lh handl get next nextint handl size sync lh add entri addentri data success increment get incrementandget lh async add entri asyncaddentri data outstand increment get incrementandget tick 10 don wait more 10 second outstand get tick thread sleep 10 time current time milli currenttimemilli start log info worker finish process write ms tpt op time success get time 1000 success get bk except bkexcept log error except worker thread 0l interrupt except interruptedexcept log error except worker thread 0l overrid add complet addcomplet rc ledger handl ledgerhandl lh entri id entryid object ctx rc bk except bkexcept code success increment get incrementandget outstand decrement get decrementandget 
persist manag rang scan persistencemanagerwithrangescan persist manag persistencemanag execut rang scan request param request scan messag scanmessag rang scan request rangescanrequest request 
pub sub respons pubsubrespons com googl protobuf gener messag generatedmessag us pub sub respons pubsubrespons builder newbuild construct pub sub respons pubsubrespons init field initfield pub sub respons pubsubrespons init noinit pub sub respons pubsubrespons instanc defaultinst pub sub respons pubsubrespons get instanc getdefaultinst instanc defaultinst pub sub respons pubsubrespons get instanc type getdefaultinstancefortyp instanc defaultinst com googl protobuf descriptor descriptor get descriptor getdescriptor org apach hedwig protocol pub sub protocol pubsubprotocol intern hedwig pub sub respons descriptor internal_static_hedwig_pubsubresponse_descriptor com googl protobuf gener messag generatedmessag field accessor tabl fieldaccessort intern get field accessor tabl internalgetfieldaccessort org apach hedwig protocol pub sub protocol pubsubprotocol intern hedwig pub sub respons field accessor tabl internal_static_hedwig_pubsubresponse_fieldaccessort requir hedwig protocol version protocolvers protocol version protocolvers protocolvers field number protocolversion_field_numb ha protocol version hasprotocolvers org apach hedwig protocol pub sub protocol pubsubprotocol protocol version protocolvers protocol version protocolversion_ ha protocol version hasprotocolvers ha protocol version hasprotocolvers org apach hedwig protocol pub sub protocol pubsubprotocol protocol version protocolvers get protocol version getprotocolvers protocol version protocolversion_ requir hedwig statu code statuscod statu code statuscod statuscod field number statuscode_field_numb ha statu code hasstatuscod org apach hedwig protocol pub sub protocol pubsubprotocol statu code statuscod statu code statuscode_ ha statu code hasstatuscod ha statu code hasstatuscod org apach hedwig protocol pub sub protocol pubsubprotocol statu code statuscod get statu code getstatuscod statu code statuscode_ requir uint64 txn id txnid txnid field number txnid_field_numb ha txn id hastxnid txn id txnid_ 0l ha txn id hastxnid ha txn id hastxnid get txn id gettxnid txn id txnid_ option string statu msg statusmsg statusmsg field number statusmsg_field_numb ha statu msg hasstatusmsg java lang string statu msg statusmsg_ ha statu msg hasstatusmsg ha statu msg hasstatusmsg java lang string get statu msg getstatusmsg statu msg statusmsg_ option hedwig messag messag messag field number message_field_numb ha messag hasmessag org apach hedwig protocol pub sub protocol pubsubprotocol messag messag message_ ha messag hasmessag ha messag hasmessag org apach hedwig protocol pub sub protocol pubsubprotocol messag get messag getmessag messag message_ option byte topic topic field number topic_field_numb ha topic hastop com googl protobuf string bytestr topic topic_ com googl protobuf string bytestr empti ha topic hastop ha topic hastop com googl protobuf string bytestr get topic gettop topic topic_ option byte subscrib id subscriberid subscriberid field number subscriberid_field_numb ha subscrib id hassubscriberid com googl protobuf string bytestr subscrib id subscriberid_ com googl protobuf string bytestr empti ha subscrib id hassubscriberid ha subscrib id hassubscriberid com googl protobuf string bytestr get subscrib id getsubscriberid subscrib id subscriberid_ init field initfield protocol version protocolversion_ org apach hedwig protocol pub sub protocol pubsubprotocol protocol version protocolvers version on version_on statu code statuscode_ org apach hedwig protocol pub sub protocol pubsubprotocol statu code statuscod success messag message_ org apach hedwig protocol pub sub protocol pubsubprotocol messag get instanc getdefaultinst initi isiniti ha protocol version hasprotocolvers ha statu code hasstatuscod ha txn id hastxnid ha messag hasmessag get messag getmessag initi isiniti write writeto com googl protobuf code output stream codedoutputstream output java io io except ioexcept get serial size getserializeds ha protocol version hasprotocolvers output write writeenum get protocol version getprotocolvers get number getnumb ha statu code hasstatuscod output write writeenum get statu code getstatuscod get number getnumb ha txn id hastxnid output write int64 writeuint64 get txn id gettxnid ha statu msg hasstatusmsg output write string writestr get statu msg getstatusmsg ha messag hasmessag output write messag writemessag get messag getmessag ha topic hastop output write byte writebyt get topic gettop ha subscrib id hassubscriberid output write byte writebyt get subscrib id getsubscriberid get unknown field getunknownfield write writeto output memoiz serial size memoizedserializeds get serial size getserializeds size memoiz serial size memoizedserializeds size size size ha protocol version hasprotocolvers size com googl protobuf code output stream codedoutputstream comput size computeenums get protocol version getprotocolvers get number getnumb ha statu code hasstatuscod size com googl protobuf code output stream codedoutputstream comput size computeenums get statu code getstatuscod get number getnumb ha txn id hastxnid size com googl protobuf code output stream codedoutputstream comput int64 size computeuint64s get txn id gettxnid ha statu msg hasstatusmsg size com googl protobuf code output stream codedoutputstream comput string size computestrings get statu msg getstatusmsg ha messag hasmessag size com googl protobuf code output stream codedoutputstream comput messag size computemessages get messag getmessag ha topic hastop size com googl protobuf code output stream codedoutputstream comput byte size computebytess get topic gettop ha subscrib id hassubscriberid size com googl protobuf code output stream codedoutputstream comput byte size computebytess get subscrib id getsubscriberid size get unknown field getunknownfield get serial size getserializeds memoiz serial size memoizedserializeds size size org apach hedwig protocol pub sub protocol pubsubprotocol pub sub respons pubsubrespons pars from parsefrom com googl protobuf string bytestr data com googl protobuf invalid protocol buffer except invalidprotocolbufferexcept builder newbuild merg from mergefrom data build pars buildpars org apach hedwig protocol pub sub protocol pubsubprotocol pub sub respons pubsubrespons pars from parsefrom com googl protobuf string bytestr data com googl protobuf extens registri lite extensionregistrylit extens registri extensionregistri com googl protobuf invalid protocol buffer except invalidprotocolbufferexcept builder newbuild merg from mergefrom data extens registri extensionregistri build pars buildpars org apach hedwig protocol pub sub protocol pubsubprotocol pub sub respons pubsubrespons pars from parsefrom data com googl protobuf invalid protocol buffer except invalidprotocolbufferexcept builder newbuild merg from mergefrom data build pars buildpars org apach hedwig protocol pub sub protocol pubsubprotocol pub sub respons pubsubrespons pars from parsefrom data com googl protobuf extens registri lite extensionregistrylit extens registri extensionregistri com googl protobuf invalid protocol buffer except invalidprotocolbufferexcept builder newbuild merg from mergefrom data extens registri extensionregistri build pars buildpars org apach hedwig protocol pub sub protocol pubsubprotocol pub sub respons pubsubrespons pars from parsefrom java io input stream inputstream input java io io except ioexcept builder newbuild merg from mergefrom input build pars buildpars org apach hedwig protocol pub sub protocol pubsubprotocol pub sub respons pubsubrespons pars from parsefrom java io input stream inputstream input com googl protobuf extens registri lite extensionregistrylit extens registri extensionregistri java io io except ioexcept builder newbuild merg from mergefrom input extens registri extensionregistri build pars buildpars org apach hedwig protocol pub sub protocol pubsubprotocol pub sub respons pubsubrespons pars delimit from parsedelimitedfrom java io input stream inputstream input java io io except ioexcept builder builder builder newbuild builder merg delimit from mergedelimitedfrom input builder build pars buildpars org apach hedwig protocol pub sub protocol pubsubprotocol pub sub respons pubsubrespons pars delimit from parsedelimitedfrom java io input stream inputstream input com googl protobuf extens registri lite extensionregistrylit extens registri extensionregistri java io io except ioexcept builder builder builder newbuild builder merg delimit from mergedelimitedfrom input extens registri extensionregistri builder build pars buildpars org apach hedwig protocol pub sub protocol pubsubprotocol pub sub respons pubsubrespons pars from parsefrom com googl protobuf code input stream codedinputstream input java io io except ioexcept builder newbuild merg from mergefrom input build pars buildpars org apach hedwig protocol pub sub protocol pubsubprotocol pub sub respons pubsubrespons pars from parsefrom com googl protobuf code input stream codedinputstream input com googl protobuf extens registri lite extensionregistrylit extens registri extensionregistri java io io except ioexcept builder newbuild merg from mergefrom input extens registri extensionregistri build pars buildpars builder builder newbuild builder creat builder builder type newbuilderfortyp builder newbuild builder builder newbuild org apach hedwig protocol pub sub protocol pubsubprotocol pub sub respons pubsubrespons prototyp builder newbuild merg from mergefrom prototyp builder builder tobuild builder newbuild builder com googl protobuf gener messag generatedmessag builder builder org apach hedwig protocol pub sub protocol pubsubprotocol pub sub respons pubsubrespons result construct org apach hedwig protocol pub sub protocol pubsubprotocol pub sub respons pubsubrespons builder newbuild builder builder creat builder builder builder builder result org apach hedwig protocol pub sub protocol pubsubprotocol pub sub respons pubsubrespons builder org apach hedwig protocol pub sub protocol pubsubprotocol pub sub respons pubsubrespons intern get result internalgetresult result builder clear result illeg state except illegalstateexcept call clear after build result org apach hedwig protocol pub sub protocol pubsubprotocol pub sub respons pubsubrespons builder clone creat merg from mergefrom result com googl protobuf descriptor descriptor get descriptor type getdescriptorfortyp org apach hedwig protocol pub sub protocol pubsubprotocol pub sub respons pubsubrespons get descriptor getdescriptor org apach hedwig protocol pub sub protocol pubsubprotocol pub sub respons pubsubrespons get instanc type getdefaultinstancefortyp org apach hedwig protocol pub sub protocol pubsubprotocol pub sub respons pubsubrespons get instanc getdefaultinst initi isiniti result initi isiniti org apach hedwig protocol pub sub protocol pubsubprotocol pub sub respons pubsubrespons build result initi isiniti uniniti messag except newuninitializedmessageexcept result build partial buildparti org apach hedwig protocol pub sub protocol pubsubprotocol pub sub respons pubsubrespons build pars buildpars com googl protobuf invalid protocol buffer except invalidprotocolbufferexcept initi isiniti uniniti messag except newuninitializedmessageexcept result invalid protocol buffer except asinvalidprotocolbufferexcept build partial buildparti org apach hedwig protocol pub sub protocol pubsubprotocol pub sub respons pubsubrespons build partial buildparti result illeg state except illegalstateexcept build ha call builder org apach hedwig protocol pub sub protocol pubsubprotocol pub sub respons pubsubrespons returnm result result returnm builder merg from mergefrom com googl protobuf messag org apach hedwig protocol pub sub protocol pubsubprotocol pub sub respons pubsubrespons merg from mergefrom org apach hedwig protocol pub sub protocol pubsubprotocol pub sub respons pubsubrespons merg from mergefrom builder merg from mergefrom org apach hedwig protocol pub sub protocol pubsubprotocol pub sub respons pubsubrespons org apach hedwig protocol pub sub protocol pubsubprotocol pub sub respons pubsubrespons get instanc getdefaultinst ha protocol version hasprotocolvers set protocol version setprotocolvers get protocol version getprotocolvers ha statu code hasstatuscod set statu code setstatuscod get statu code getstatuscod ha txn id hastxnid set txn id settxnid get txn id gettxnid ha statu msg hasstatusmsg set statu msg setstatusmsg get statu msg getstatusmsg ha messag hasmessag merg messag mergemessag get messag getmessag ha topic hastop set topic settop get topic gettop ha subscrib id hassubscriberid set subscrib id setsubscriberid get subscrib id getsubscriberid merg unknown field mergeunknownfield get unknown field getunknownfield builder merg from mergefrom com googl protobuf code input stream codedinputstream input com googl protobuf extens registri lite extensionregistrylit extens registri extensionregistri java io io except ioexcept com googl protobuf unknown field set unknownfieldset builder unknown field unknownfield com googl protobuf unknown field set unknownfieldset builder newbuild get unknown field getunknownfield tag input read tag readtag tag set unknown field setunknownfield unknown field unknownfield build pars unknown field parseunknownfield input unknown field unknownfield extens registri extensionregistri tag set unknown field setunknownfield unknown field unknownfield build raw valu rawvalu input read readenum org apach hedwig protocol pub sub protocol pubsubprotocol protocol version protocolvers valu org apach hedwig protocol pub sub protocol pubsubprotocol protocol version protocolvers valu valueof raw valu rawvalu valu unknown field unknownfield merg varint field mergevarintfield raw valu rawvalu set protocol version setprotocolvers valu 16 raw valu rawvalu input read readenum org apach hedwig protocol pub sub protocol pubsubprotocol statu code statuscod valu org apach hedwig protocol pub sub protocol pubsubprotocol statu code statuscod valu valueof raw valu rawvalu valu unknown field unknownfield merg varint field mergevarintfield raw valu rawvalu set statu code setstatuscod valu 24 set txn id settxnid input read int64 readuint64 34 set statu msg setstatusmsg input read string readstr 42 org apach hedwig protocol pub sub protocol pubsubprotocol messag builder sub builder subbuild org apach hedwig protocol pub sub protocol pubsubprotocol messag builder newbuild ha messag hasmessag sub builder subbuild merg from mergefrom get messag getmessag input read messag readmessag sub builder subbuild extens registri extensionregistri set messag setmessag sub builder subbuild build partial buildparti 50 set topic settop input read byte readbyt 58 set subscrib id setsubscriberid input read byte readbyt requir hedwig protocol version protocolvers protocol version protocolvers ha protocol version hasprotocolvers result ha protocol version hasprotocolvers org apach hedwig protocol pub sub protocol pubsubprotocol protocol version protocolvers get protocol version getprotocolvers result get protocol version getprotocolvers builder set protocol version setprotocolvers org apach hedwig protocol pub sub protocol pubsubprotocol protocol version protocolvers valu valu pointer except nullpointerexcept result ha protocol version hasprotocolvers result protocol version protocolversion_ valu builder clear protocol version clearprotocolvers result ha protocol version hasprotocolvers result protocol version protocolversion_ org apach hedwig protocol pub sub protocol pubsubprotocol protocol version protocolvers version on version_on requir hedwig statu code statuscod statu code statuscod ha statu code hasstatuscod result ha statu code hasstatuscod org apach hedwig protocol pub sub protocol pubsubprotocol statu code statuscod get statu code getstatuscod result get statu code getstatuscod builder set statu code setstatuscod org apach hedwig protocol pub sub protocol pubsubprotocol statu code statuscod valu valu pointer except nullpointerexcept result ha statu code hasstatuscod result statu code statuscode_ valu builder clear statu code clearstatuscod result ha statu code hasstatuscod result statu code statuscode_ org apach hedwig protocol pub sub protocol pubsubprotocol statu code statuscod success requir uint64 txn id txnid ha txn id hastxnid result ha txn id hastxnid get txn id gettxnid result get txn id gettxnid builder set txn id settxnid valu result ha txn id hastxnid result txn id txnid_ valu builder clear txn id cleartxnid result ha txn id hastxnid result txn id txnid_ 0l option string statu msg statusmsg ha statu msg hasstatusmsg result ha statu msg hasstatusmsg java lang string get statu msg getstatusmsg result get statu msg getstatusmsg builder set statu msg setstatusmsg java lang string valu valu pointer except nullpointerexcept result ha statu msg hasstatusmsg result statu msg statusmsg_ valu builder clear statu msg clearstatusmsg result ha statu msg hasstatusmsg result statu msg statusmsg_ get instanc getdefaultinst get statu msg getstatusmsg option hedwig messag messag ha messag hasmessag result ha messag hasmessag org apach hedwig protocol pub sub protocol pubsubprotocol messag get messag getmessag result get messag getmessag builder set messag setmessag org apach hedwig protocol pub sub protocol pubsubprotocol messag valu valu pointer except nullpointerexcept result ha messag hasmessag result messag message_ valu builder set messag setmessag org apach hedwig protocol pub sub protocol pubsubprotocol messag builder builder valu builderforvalu result ha messag hasmessag result messag message_ builder valu builderforvalu build builder merg messag mergemessag org apach hedwig protocol pub sub protocol pubsubprotocol messag valu result ha messag hasmessag result messag message_ org apach hedwig protocol pub sub protocol pubsubprotocol messag get instanc getdefaultinst result messag message_ org apach hedwig protocol pub sub protocol pubsubprotocol messag builder newbuild result messag message_ merg from mergefrom valu build partial buildparti result messag message_ valu result ha messag hasmessag builder clear messag clearmessag result ha messag hasmessag result messag message_ org apach hedwig protocol pub sub protocol pubsubprotocol messag get instanc getdefaultinst option byte topic ha topic hastop result ha topic hastop com googl protobuf string bytestr get topic gettop result get topic gettop builder set topic settop com googl protobuf string bytestr valu valu pointer except nullpointerexcept result ha topic hastop result topic topic_ valu builder clear topic cleartop result ha topic hastop result topic topic_ get instanc getdefaultinst get topic gettop option byte subscrib id subscriberid ha subscrib id hassubscriberid result ha subscrib id hassubscriberid com googl protobuf string bytestr get subscrib id getsubscriberid result get subscrib id getsubscriberid builder set subscrib id setsubscriberid com googl protobuf string bytestr valu valu pointer except nullpointerexcept result ha subscrib id hassubscriberid result subscrib id subscriberid_ valu builder clear subscrib id clearsubscriberid result ha subscrib id hassubscriberid result subscrib id subscriberid_ get instanc getdefaultinst get subscrib id getsubscriberid protoc insert point protoc_insertion_point builder scope builder_scop hedwig pub sub respons pubsubrespons instanc defaultinst pub sub respons pubsubrespons org apach hedwig protocol pub sub protocol pubsubprotocol intern forc init internalforceinit instanc defaultinst init field initfield protoc insert point protoc_insertion_point scope class_scop hedwig pub sub respons pubsubrespons 
hub specif implement hedwig client hedwigcli overrid hedwig subscrib hedwigsubscrib hub specif child creat call method parent set subscrib don expos api hedwig hub client hedwighubcli hedwig client impl hedwigclientimpl constructor channel factori channelfactori instanti hedwig hub client hedwighubcli client configur clientconfigur cfg client socket channel factori clientsocketchannelfactori channel factori channelfactori cfg channel factori channelfactori overrid type hedwig subscrib hedwigsubscrib hub specif on set subscrib setsubscrib hedwig hub subscrib hedwighubsubscrib constructor don channel factori channelfactori constructor creat on hedwig hub client hedwighubcli client configur clientconfigur cfg cfg overrid type hedwig subscrib hedwigsubscrib hub specif on set subscrib setsubscrib hedwig hub subscrib hedwighubsubscrib 
test test read write synchron asynchron string integ book keeper bookkeep client test deploy us zoo keeper zookeep server three book keeper bookkeep async ledger op test asyncledgeropstest base test basetestcas add callback addcallback read callback readcallback creat callback createcallback close callback closecallback open callback opencallback logger log logger factori loggerfactori get logger getlogg booki client test bookieclienttest digest type digesttyp digest type digesttyp async ledger op test asyncledgeropstest digest type digesttyp digest type digesttyp digest type digesttyp digest type digesttyp paramet collect object config arrai list aslist object digest type digesttyp mac digest type digesttyp crc32 ledger password ledgerpassword aaa get byte getbyt ledger handl ledgerhandl lh lh2 ledger id ledgerid enumer ledger entri ledgerentri ls test relat variabl num entri write numentriestowrit 20 max maxint 2147483647 random rng random number gener arrai list arraylist entri gener entri arrai list arraylist integ entri size entriess synchron sync obj syncobj sync set object sync obj syncobj sync obj syncobj counter valu sync obj syncobj counter valu control obj controlobj ledger handl ledgerhandl lh set lh setlh ledger handl ledgerhandl lh lh lh ledger handl ledgerhandl get lh getlh lh test test async creat close testasynccreateclos io except ioexcept bk except bkexcept control obj controlobj ctx control obj controlobj ctx log info creat ledger asynchron bkc async creat ledger asynccreateledg digest type digesttyp ledger password ledgerpassword ctx ctx wait bkc init messag digest initmessagedigest sha1 ledger handl ledgerhandl lh ctx get lh getlh ledger id ledgerid lh get id getid log info ledger id lh get id getid num entri write numentriestowrit buffer bytebuff entri buffer bytebuff alloc entri put putint rng next nextint max maxint entri posit entri add entri arrai entri size entriess add entri arrai length lh async add entri asyncaddentri entri arrai sync wait entri acknowledg sync sync counter num entri write numentriestowrit log debug entri counter sync counter sync wait log info write complet close ledger ctx lh async close asyncclos ctx ctx wait write part complet read part begin open ledger ctx bkc async open ledger asyncopenledg ledger id ledgerid digest type digesttyp ledger password ledgerpassword ctx ctx wait lh ctx get lh getlh log debug number entri written lh get last add confirm getlastaddconfirm asserttru verifi number entri written lh get last add confirm getlastaddconfirm num entri write numentriestowrit read entri lh async read entri asyncreadentri num entri write numentriestowrit sync sync sync valu sync wait log debug read complet point enumer ledger entri ledgerentri ls fill return valu ls ha more element hasmoreel buffer bytebuff origbb buffer bytebuff wrap entri get integ orig entri origentri origbb get getint entri ls next element nextel get entri getentri buffer bytebuff result buffer bytebuff wrap entri log debug length result result capac log debug origin entri orig entri origentri integ retr entri retrentri result get getint log debug retriev entri retr entri retrentri asserttru check entri equal orig entri origentri equal retr entri retrentri asserttru check entri size entri length entri size entriess get valu intvalu asserttru check number read entri num entri write numentriestowrit lh close interrupt except interruptedexcept log error interrupt fail interrupt except interruptedexcept algorithm except nosuchalgorithmexcept print stack trace printstacktrac add complet addcomplet rc ledger handl ledgerhandl lh entri id entryid object ctx sync obj syncobj sync obj syncobj ctx counter notifi read complet readcomplet rc ledger handl ledgerhandl lh enumer ledger entri ledgerentri seq object ctx ls seq sync sync valu sync notifi creat complet createcomplet rc ledger handl ledgerhandl lh object ctx ctx control obj controlobj cobj control obj controlobj ctx cobj set lh setlh lh cobj notifi open complet opencomplet rc ledger handl ledgerhandl lh object ctx ctx control obj controlobj cobj control obj controlobj ctx cobj set lh setlh lh cobj notifi close complet closecomplet rc ledger handl ledgerhandl lh object ctx ctx control obj controlobj cobj control obj controlobj ctx cobj notifi befor overrid set up setup except set up setup rng random current time milli currenttimemilli initi random number gener entri arrai list arraylist initi entri list entri size entriess arrai list arraylist integ sync sync obj syncobj initi synchron data structur 
map ledger entri number locat entrylogid offset entri log file user level cach more effici manag disk head schedul ledger cach ledgercach closeabl set master kei setmasterkei ledger id ledgerid master kei masterkei io except ioexcept read master kei readmasterkei ledger id ledgerid io except ioexcept booki except bookieexcept ledger exist ledgerexist ledger id ledgerid io except ioexcept put entri offset putentryoffset ledger entri offset io except ioexcept get entri offset getentryoffset ledger entri io except ioexcept flush ledger flushledg doall io except ioexcept get last entri getlastentri ledger id ledgerid io except ioexcept delet ledger deleteledg ledger id ledgerid io except ioexcept ledger cach bean ledgercachebean get jmx bean getjmxbean 
bk digest match except bkdigestmatchexcept bk except bkexcept bk digest match except bkdigestmatchexcept code digest match except digestmatchexcept 
bk read except bkreadexcept bk except bkexcept bk read except bkreadexcept code read except readexcept 
test creat delet ledger ledger creat delet test ledgercreatedeletetest book keeper cluster test bookkeeperclustertestcas ledger creat delet test ledgercreatedeletetest overrid befor set up setup except base conf baseconf set open file limit setopenfilelimit set up setup test test creat delet ledger testcreatedeleteledg except num ledger numledg arrai list arraylist ledger arrai list arraylist num ledger numledg ledger handl ledgerhandl lh bkc creat ledger createledg digest type digesttyp crc32 bk cool get byte getbyt lh add entri addentri test get byte getbyt ledger add lh get id getid lh close ledger id ledgerid ledger bkc delet ledger deleteledg ledger id ledgerid ledger clear thread sleep base conf baseconf get gc wait time getgcwaittim num ledger numledg ledger handl ledgerhandl lh bkc creat ledger createledg digest type digesttyp crc32 bk cool get byte getbyt lh add entri addentri test get byte getbyt ledger add lh get id getid lh close 
sub cmd subcmd command mycommand overrid run cmd runcmd string arg except creat attach createorattach mode receiv arg length arg length mode creat attach createorattach attach receiv mode creat attach createorattach valu valueof integ pars parseint arg except err println unknow mode arg arg length receiv pars parseboolean arg except receiv mode err println unknow mode arg string bytestr topic string bytestr copi from utf8 copyfromutf8 arg string bytestr sub id subid string bytestr copi from utf8 copyfromutf8 arg subscrib subscrib topic sub id subid mode receiv subscrib start deliveri startdeliveri topic sub id subid consol handler consolehandl println sub done receiv println sub done receiv except err println sub fail print stack trace printstacktrac 
base test hedwig hub setup associ book keeper bookkeep zoo keeper zookeep instanc abstract hedwig hub test base hedwighubtestbas test testcas logger logger logger factori loggerfactori get logger getlogg hedwig hub test base hedwighubtestbas book keeper bookkeep variabl number booki server setup extend class overrid num booki numbooki read delai readdelai 0l book keeper test base bookkeepertestbas bktb pub sub server pubsubserv variabl number pub sub server pubsubserv hub setup extend class overrid num server numserv initi server port initialserverport 4080 initi ssl server port initialsslserverport 9876 list pub sub server pubsubserv server list serverslist hedwig hub test base hedwighubtestbas hedwig hub test base hedwighubtestbas num server numserv num server numserv num server numserv child server configur serverconfigur us here extend class defin possibl extend from overrid get server configur getserverconfigur method configur hub server configur hubserverconfigur server configur serverconfigur server port serverport ssl server port sslserverport hub server configur hubserverconfigur server port serverport ssl server port sslserverport server port serverport server port serverport ssl server port sslserverport ssl server port sslserverport overrid get server port getserverport server port serverport overrid get ssl server port getsslserverport ssl server port sslserverport overrid string get zk host getzkhost bktb get zk host port getzkhostport overrid ssl enabl issslen overrid string get cert name getcertnam server p12 overrid string get password getpassword uy svp2 ph m2 wk euysvp2phm2wk method get server configur serverconfigur pub sub server pubsubserv creat specifi port extend child class overrid implement hub server configur hubserverconfigur object defin server configur serverconfigur get server configur getserverconfigur server port serverport ssl server port sslserverport hub server configur hubserverconfigur server port serverport ssl server port sslserverport start hub server starthubserv except creat pub sub server pubsubserv hub server list serverslist link list linkedlist pub sub server pubsubserv num server numserv pub sub server pubsubserv pub sub server pubsubserv get server configur getserverconfigur initi server port initialserverport initi ssl server port initialsslserverport server list serverslist add start stop hub server stophubserv except shutdown pub sub server pubsubserv pub sub server pubsubserv server server list serverslist server shutdown server list serverslist clear overrid befor set up setup except logger info start get name getnam bktb book keeper test base bookkeepertestbas num booki numbooki read delai readdelai bktb set up setup start hub server starthubserv logger info hedwig hub hedwighub test setup finish overrid after tear down teardown except logger info tear down teardown start stop hub server stophubserv bktb tear down teardown logger info finish get name getnam 
ledger insid booki oper write entri ledger read entri from ledger abstract ledger descriptor ledgerdescriptor ledger descriptor ledgerdescriptor creat master kei masterkei ledger id ledgerid ledger storag ledgerstorag ledger storag ledgerstorag io except ioexcept ledger descriptor ledgerdescriptor ledger ledger descriptor impl ledgerdescriptorimpl master kei masterkei ledger id ledgerid ledger storag ledgerstorag ledger storag ledgerstorag set master kei setmasterkei ledger id ledgerid master kei masterkei ledger ledger descriptor ledgerdescriptor creat read createreadonli ledger id ledgerid ledger storag ledgerstorag ledger storag ledgerstorag io except ioexcept booki ledger except noledgerexcept ledger storag ledgerstorag ledger exist ledgerexist ledger id ledgerid booki ledger except noledgerexcept ledger id ledgerid ledger descriptor read impl ledgerdescriptorreadonlyimpl ledger id ledgerid ledger storag ledgerstorag abstract check access checkaccess master kei masterkei booki except bookieexcept io except ioexcept abstract get ledger id getledgerid abstract set fenc setfenc io except ioexcept abstract fenc isfenc abstract add entri addentri buffer bytebuff entri io except ioexcept abstract buffer bytebuff read entri readentri entri id entryid io except ioexcept 
pub cmd pubcmd command mycommand overrid run cmd runcmd string arg except arg length string bytestr topic string bytestr copi from utf8 copyfromutf8 arg string builder stringbuild sb string builder stringbuild arg length sb append arg arg length sb append string bytestr msg bodi msgbodi string bytestr copi from utf8 copyfromutf8 sb string tostr messag msg messag builder newbuild set bodi setbodi msg bodi msgbodi build publish publish topic msg println pub done except err println pub fail print stack trace printstacktrac 
topic manag instanti topicmanagerinstanti topic manag topicmanag instanti topic manag instantiatetopicmanag io except ioexcept 
counter total total dec notifi notifyal wait limit interrupt except interruptedexcept limit wait total total 
booki read callback bookiereadcallback read callback readcallback overrid read complet readcomplet rc ledger handl ledgerhandl lh enumer ledger entri ledgerentri seq object ctx asserttru expect booki stop rc bk except bkexcept code count down latch countdownlatch count down countdown 
unit test test close ledger sequenti creat ledger write 1000 entri ledger close close test closetest base test basetestcas logger log logger factori loggerfactori get logger getlogg close test closetest digest type digesttyp digest type digesttyp close test closetest digest type digesttyp digest type digesttyp digest type digesttyp digest type digesttyp test test close testclos except creat ledger num ledger numledg num msg nummsg 100 ledger handl ledgerhandl lh ledger handl ledgerhandl num ledger numledg num ledger numledg lh bkc creat ledger createledg digest type digesttyp get byte getbyt string tmp book keeper bookkeep cool write 1000 entri lh1 num msg nummsg num ledger numledg lh add entri addentri tmp get byte getbyt num ledger numledg lh close test test close testclosebyoth except num ledger numledg num msg nummsg 10 ledger handl ledgerhandl lh bkc creat ledger createledg digest type digesttyp get byte getbyt string tmp book keeper bookkeep cool write 10 entri lh num msg nummsg lh add entri addentri tmp get byte getbyt on close entri ledger handl ledgerhandl lh2 bkc open ledger openledg lh get id getid digest type digesttyp get byte getbyt ledger close metadata chang origin ledger handl abl close successfulli lh2 close 
garbag collector thread run background remov entri log file longer contain activ ledger garbag collector thread garbagecollectorthread thread logger log logger factori loggerfactori get logger getlogg garbag collector thread garbagecollectorthread second 1000 map entri log file set ledger compris file size usag ledger map entri log metadata entrylogmetadata entri log meta map entrylogmetamap concurr hash map concurrenthashmap entri log metadata entrylogmetadata run garbag collector thread millisecond gc wait time gcwaittim compact paramet enabl minor compact enableminorcompact minor compact threshold minorcompactionthreshold minor compact interv minorcompactioninterv enabl major compact enablemajorcompact major compact threshold majorcompactionthreshold major compact interv majorcompactioninterv last minor compact time lastminorcompactiontim last major compact time lastmajorcompactiontim entri logger handl entri logger entrylogg entri logger entrylogg entri log scanner entrylogscann scanner ledger cach handl ledger cach ledgercach ledger cach ledgercach ledger manag ledgermanag ledger manag ledgermanag flag ensur gc thread interrupt compact reduc risk get entri log corrupt atom atomicboolean compact atom atomicboolean run track last scan successfulli log id scan log id scannedlogid scanner wrapper check ledger aliv entri log file compact scanner compactionscann entri log scanner entrylogscann entri log metadata entrylogmetadata meta compact scanner compactionscann entri log metadata entrylogmetadata meta meta meta overrid accept ledger id ledgerid meta contain ledger containsledg ledger id ledgerid scanner accept ledger id ledgerid overrid process ledger id ledgerid buffer bytebuff entri io except ioexcept scanner process ledger id ledgerid entri creat garbag collector thread param conf server configur object io except ioexcept garbag collector thread garbagecollectorthread server configur serverconfigur conf ledger cach ledgercach ledger cach ledgercach entri logger entrylogg entri logger entrylogg ledger manag ledgermanag ledger manag ledgermanag entri log scanner entrylogscann scanner io except ioexcept garbag collector thread garbagecollectorthread ledger cach ledgercach ledger cach ledgercach entri logger entrylogg entri logger entrylogg ledger manag ledgermanag ledger manag ledgermanag scanner scanner gc wait time gcwaittim conf get gc wait time getgcwaittim compact paramet minor compact threshold minorcompactionthreshold conf get minor compact threshold getminorcompactionthreshold minor compact interv minorcompactioninterv conf get minor compact interv getminorcompactioninterv second major compact threshold majorcompactionthreshold conf get major compact threshold getmajorcompactionthreshold major compact interv majorcompactioninterv conf get major compact interv getmajorcompactioninterv second minor compact interv minorcompactioninterv minor compact threshold minorcompactionthreshold minor compact threshold minorcompactionthreshold 0f io except ioexcept invalid minor compact threshold minor compact threshold minorcompactionthreshold minor compact interv minorcompactioninterv gc wait time gcwaittim io except ioexcept minor compact interv minor compact interv minorcompactioninterv enabl minor compact enableminorcompact major compact interv majorcompactioninterv major compact threshold majorcompactionthreshold major compact threshold majorcompactionthreshold 0f io except ioexcept invalid major compact threshold major compact threshold majorcompactionthreshold major compact interv majorcompactioninterv gc wait time gcwaittim io except ioexcept major compact interv major compact interv majorcompactioninterv enabl major compact enablemajorcompact enabl minor compact enableminorcompact enabl major compact enablemajorcompact minor compact interv minorcompactioninterv major compact interv majorcompactioninterv minor compact threshold minorcompactionthreshold major compact threshold majorcompactionthreshold io except ioexcept invalid minor major compact set minor minor compact threshold minorcompactionthreshold minor compact interv minorcompactioninterv major major compact threshold majorcompactionthreshold major compact interv majorcompactioninterv log info minor compact enabl enabl minor compact enableminorcompact threshold minor compact threshold minorcompactionthreshold interv minor compact interv minorcompactioninterv log info major compact enabl enabl major compact enablemajorcompact threshold major compact threshold majorcompactionthreshold interv major compact interv majorcompactioninterv last minor compact time lastminorcompactiontim last major compact time lastmajorcompactiontim current time milli currenttimemilli overrid run run wait gc wait time gcwaittim interrupt except interruptedexcept thread current thread currentthread interrupt extract ledger id compris entri log current on written entri log meta map entrylogmetamap extract meta from entri log extractmetafromentrylog entri log meta map entrylogmetamap gc inact delet ledger gc ledger dogcledg gc entri log gc entri log dogcentrylog cur time curtim current time milli currenttimemilli enabl major compact enablemajorcompact cur time curtim last major compact time lastmajorcompactiontim major compact interv majorcompactioninterv enter major compact log info enter major compact compact entri log docompactentrylog major compact threshold majorcompactionthreshold last major compact time lastmajorcompactiontim current time milli currenttimemilli move minor compact time last minor compact time lastminorcompactiontim last major compact time lastmajorcompactiontim enabl minor compact enableminorcompact cur time curtim last minor compact time lastminorcompactiontim minor compact interv minorcompactioninterv enter minor compact log info enter minor compact compact entri log docompactentrylog minor compact threshold minorcompactionthreshold last minor compact time lastminorcompactiontim current time milli currenttimemilli garbag collect ledger index file gc ledger dogcledg ledger manag ledgermanag garbag collect ledger garbagecollectledg ledger manag ledgermanag garbag collector garbagecollector overrid gc ledger id ledgerid ledger cach ledgercach delet ledger deleteledg ledger id ledgerid io except ioexcept log error except delet ledger index file booki garbag collect entri logger associ activ ledger gc entri log dogcentrylog loop entri log remov non activ ledger entri log id entrylogid entri log meta map entrylogmetamap kei set keyset entri log metadata entrylogmetadata meta entri log meta map entrylogmetamap get entri log id entrylogid entri log ledger entrylogledg meta ledger map ledgersmap kei set keyset remov entri log ledger from set isn activ ledger manag ledgermanag contain activ ledger containsactiveledg entri log ledger entrylogledg meta remov ledger removeledg entri log ledger entrylogledg meta empti isempti mean entri log associ activ ledger anymor remov entri log file log info delet entri log id entrylogid entri log id entrylogid ha activ ledger remov entri log removeentrylog entri log id entrylogid compact entri log necessari compact execut from low unus space high unus space entri log file remain size percentag higher threshold compact compact entri log docompactentrylog threshold log info compact compact file lower threshold sort ledger meta occupi unus space compar entri log metadata entrylogmetadata size compar sizecompar compar entri log metadata entrylogmetadata overrid compar entri log metadata entrylogmetadata m1 entri log metadata entrylogmetadata m2 unus size1 unusedsize1 m1 total size totals m1 remain size remainings unus size2 unusedsize2 m2 total size totals m2 remain size remainings unus size1 unusedsize1 unus size2 unusedsize2 unus size1 unusedsize1 unus size2 unusedsize2 list entri log metadata entrylogmetadata log compact logstocompact arrai list arraylist log compact logstocompact add addal entri log meta map entrylogmetamap valu collect sort log compact logstocompact size compar sizecompar entri log metadata entrylogmetadata meta log compact logstocompact meta get usag getusag threshold log debug enabl isdebugen log debug compact entri log meta entri log id entrylogid threshold threshold compact entri log compactentrylog meta entri log id entrylogid run gc thread run stop compact shutdown garbag collector thread interrupt except interruptedexcept except stop gc thread shutdown interrupt except interruptedexcept run compact compar set compareandset set compact flag succe mean gc thread gcthread compact safe interrupt interrupt join remov entri log param entri log id entrylogid entri log file id remov entri log removeentrylog entri log id entrylogid remov entri log file successfulli entri logger entrylogg remov entri log removeentrylog entri log id entrylogid entri log meta map entrylogmetamap remov entri log id entrylogid compact entri log param entri log id entrylogid entri log file id compact entri log compactentrylog entri log id entrylogid entri log metadata entrylogmetadata entri log meta entrylogmeta entri log meta map entrylogmetamap get entri log id entrylogid entri log meta entrylogmeta log warn get entri log meta compact entri log entri log id entrylogid similar sync thread mark compact flag make interrupt shutdown compact receiv close interrupt except closedbyinterruptexcept caus index file entri logger close corrupt compact compar set compareandset set compact flag fail mean compact thread interrupt gc thread exit log info compact entri log entri log id entrylogid entri logger entrylogg scan entri log scanentrylog entri log id entrylogid compact scanner compactionscann entri log meta entrylogmeta after move entri entri log remov old on remov entri log removeentrylog entri log id entrylogid io except ioexcept log info prematur except compact entri log id entrylogid clear compact flag compact set record total size remain size set ledger compris entri log entri log metadata entrylogmetadata entri log id entrylogid total size totals remain size remainings concurr hash map concurrenthashmap ledger map ledgersmap entri log metadata entrylogmetadata log id logid entri log id entrylogid log id logid total size totals remain size remainings ledger map ledgersmap concurr hash map concurrenthashmap add ledger size addledgers ledger id ledgerid size total size totals size remain size remainings size ledger size ledgers ledger map ledgersmap get ledger id ledgerid ledger size ledgers ledger size ledgers 0l ledger size ledgers size ledger map ledgersmap put ledger id ledgerid ledger size ledgers remov ledger removeledg ledger id ledgerid size ledger map ledgersmap remov ledger id ledgerid size remain size remainings size contain ledger containsledg ledger id ledgerid ledger map ledgersmap contain kei containskei ledger id ledgerid get usag getusag total size totals 0l 0f remain size remainings total size totals empti isempti ledger map ledgersmap empti isempti overrid string string tostr string builder stringbuild sb string builder stringbuild sb append total size totals append total size totals append remain size remainings append remain size remainings append ledger map ledgersmap append ledger map ledgersmap append sb string tostr scanner us extract entri log meta from entri log file extract scanner extractionscann entri log scanner entrylogscann entri log metadata entrylogmetadata meta extract scanner extractionscann entri log metadata entrylogmetadata meta meta meta overrid accept ledger id ledgerid overrid process ledger id ledgerid buffer bytebuff entri add entri size ledger entri log meta meta add ledger size addledgers ledger id ledgerid entri limit method read entri log haven done find set ledger id make up entri log file param entri log meta map entrylogmetamap exist entri log entrylog meta io except ioexcept map entri log metadata entrylogmetadata extract meta from entri log extractmetafromentrylog map entri log metadata entrylogmetadata entri log meta map entrylogmetamap extract entri log current on entri log id valu start increment log fill up roll on cur log id curlogid entri logger entrylogg get current log id getcurrentlogid ha except scan hasexceptionwhenscan entri log id entrylogid scan log id scannedlogid entri log id entrylogid cur log id curlogid entri log id entrylogid comb current entri log file ha extract entri log meta map entrylogmetamap contain kei containskei entri log id entrylogid check log file exist doesn exist log file garbag collect entri logger entrylogg log exist logexist entri log id entrylogid log info extract entri log meta from entri log id entrylogid entri log id entrylogid read entri log file extract entri log meta entri log metadata entrylogmetadata entri log meta entrylogmeta extract meta from entri log extractmetafromentrylog entri logger entrylogg entri log id entrylogid entri log meta map entrylogmetamap put entri log id entrylogid entri log meta entrylogmeta io except ioexcept ha except scan hasexceptionwhenscan log warn prematur except process entri log id entrylogid recoveri care problem scan fail entri log don move scan log id scannedlogid next id scan succe don scan next gc run move scan log id scannedlogid next id ha except scan hasexceptionwhenscan scan log id scannedlogid entri log meta map entrylogmetamap entri log metadata entrylogmetadata extract meta from entri log extractmetafromentrylog entri logger entrylogg entri logger entrylogg entri log id entrylogid io except ioexcept entri log metadata entrylogmetadata entri log meta entrylogmeta entri log metadata entrylogmetadata entri log id entrylogid extract scanner extractionscann scanner extract scanner extractionscann entri log meta entrylogmeta read entri log file extract entri log meta entri logger entrylogg scan entri log scanentrylog entri log id entrylogid scanner log info retriev entri log meta data entri log id entrylogid entri log id entrylogid meta entri log meta entrylogmeta entri log meta entrylogmeta 
implement ledger cach ledgercach serv two purpos ledger cach impl ledgercacheimpl ledger cach ledgercach logger log logger factori loggerfactori get logger getlogg ledger descriptor ledgerdescriptor file ledger directori ledgerdirectori ledger cach impl ledgercacheimpl server configur serverconfigur conf ledger manag ledgermanag alm ledger directori ledgerdirectori booki get current directori getcurrentdirectori conf get ledger dir getledgerdir open file limit openfilelimit conf get open file limit getopenfilelimit page size pages conf get page size getpages entri page entriesperpag page size pages conf get page limit getpagelimit alloc half memori page cach page limit pagelimit runtim get runtim getruntim max memori maxmemori page size pages page limit pagelimit conf get page limit getpagelimit log info max memori maxmemori runtim get runtim getruntim max memori maxmemori log info open file limit openfilelimit open file limit openfilelimit page size pages page size pages page limit pagelimit page limit pagelimit activ ledger manag activeledgermanag alm retriev activ ledger get activ ledger getactiveledg list potenti clean ledger link list linkedlist clean ledger cleanledg link list linkedlist list potenti dirti ledger link list linkedlist dirti ledger dirtyledg link list linkedlist hash map hashmap file info fileinfo file info cach fileinfocach hash map hashmap file info fileinfo link list linkedlist open ledger openledg link list linkedlist manag activ ledger ledger manag ledgermanag ledger manag ledgermanag ha knowledg garbag collect inact delet ledger ledger manag ledgermanag activ ledger manag activeledgermanag open file limit openfilelimit page size pages page limit pagelimit entri page entriesperpag page size us ledger cach get page size getpages page size pages entri page us ledger cach get entri page getentriesperpag entri page entriesperpag page limit ledger cach get page limit getpagelimit page limit pagelimit number page us page count pagecount hash map hashmap hash map hashmap ledger entri page ledgerentrypag page hash map hashmap hash map hashmap ledger entri page ledgerentrypag number page us ledger cach get num us page getnumusedpag page count pagecount put tabl putintot hash map hashmap hash map hashmap ledger entri page ledgerentrypag tabl ledger entri page ledgerentrypag lep hash map hashmap ledger entri page ledgerentrypag map tabl get lep get ledger getledg map map hash map hashmap ledger entri page ledgerentrypag tabl put lep get ledger getledg map map put lep get first entri getfirstentri lep ledger entri page ledgerentrypag get from tabl getfromt hash map hashmap hash map hashmap ledger entri page ledgerentrypag tabl ledger first entri firstentri hash map hashmap ledger entri page ledgerentrypag map tabl get ledger map map get first entri firstentri ledger entri page ledgerentrypag get ledger entri page getledgerentrypag ledger first entri firstentri dirti onlydirti ledger entri page ledgerentrypag lep get from tabl getfromt page ledger first entri firstentri dirti onlydirti lep clean isclean lep lep lep us page usepag grab ledger entri page first entri code page entri pageentri code page doesn exist befor alloc memori page grab clean page read from disk param ledger ledger id param page entri pageentri start entri entri page ledger entri page ledgerentrypag grab ledger entri page grabledgerentrypag ledger page entri pageentri io except ioexcept ledger entri page ledgerentrypag lep grab clean page grabcleanpag ledger page entri pageentri updat page befor put tabl put empti page updat page updatepag lep put tabl putintot page lep io except ioexcept grab clean page fail updat page exhuast count ledger entri page page us decrement page count ledger cach lep releas page releasepag page count pagecount lep overrid put entri offset putentryoffset ledger entri offset io except ioexcept offset page offsetinpag entri entri page entriesperpag find id first entri page ha entri page entri pageentri entri offset page offsetinpag ledger entri page ledgerentrypag lep get ledger entri page getledgerentrypag ledger page entri pageentri lep lep grab ledger entri page grabledgerentrypag ledger page entri pageentri lep lep set offset setoffset offset offset page offsetinpag lep releas page releasepag overrid get entri offset getentryoffset ledger entri io except ioexcept offset page offsetinpag entri entri page entriesperpag find id first entri page ha entri page entri pageentri entri offset page offsetinpag ledger entri page ledgerentrypag lep get ledger entri page getledgerentrypag ledger page entri pageentri lep lep grab ledger entri page grabledgerentrypag ledger page entri pageentri lep get offset getoffset offset page offsetinpag lep lep releas page releasepag string get ledger name getledgernam ledger id ledgerid parent ledger id ledgerid xff 0xff grand parent grandpar ledger id ledgerid xff00 0xff00 string builder stringbuild sb string builder stringbuild sb append integ hex string tohexstr grand parent grandpar sb append sb append integ hex string tohexstr parent sb append sb append hex string tohexstr ledger id ledgerid sb append idx sb string tostr random rand random file pick dir pickdir file dir dir rand next nextint dir length file info fileinfo get file info getfileinfo ledger master kei masterkei io except ioexcept file info cach fileinfocach file info fileinfo fi file info cach fileinfocach get ledger fi file lf find index file findindexfil ledger lf master kei masterkei booki ledger except noledgerexcept ledger file dir pick dir pickdir ledger directori ledgerdirectori string ledger name ledgernam get ledger name getledgernam ledger lf file dir ledger name ledgernam ledger index file ha creat booki add ledger set activ ledger log debug enabl isdebugen log debug ledger index file creat ledger id ledgerid ledger activ ledger manag activeledgermanag add activ ledger addactiveledg ledger evict file info necessari evictfileinfoifnecessari fi file info fileinfo lf master kei masterkei file info cach fileinfocach put ledger fi open ledger openledg add ledger fi fi us fi updat page updatepag ledger entri page ledgerentrypag lep io except ioexcept lep clean isclean io except ioexcept updat dirti page file info fileinfo fi fi get file info getfileinfo lep get ledger getledg po lep get first entri getfirstentri po fi size lep zero page zeropag lep read page readpag fi fi fi releas overrid flush ledger flushledg doall io except ioexcept dirti ledger dirtyledg dirti ledger dirtyledg empti isempti page kei set keyset log trace enabl istraceen log trace ad hex string tohexstr dirti page dirti ledger dirtyledg add dirti ledger dirtyledg empti isempti dirti ledger dirtyledg empti isempti dirti ledger dirtyledg remov first removefirst flush ledger flushledg doall yeild ledger don block flush happen dirti ledger dirtyledg wait interrupt except interruptedexcept pass thread current thread currentthread interrupt flush specifi ledger param ledger id io except ioexcept flush ledger flushledg io except ioexcept link list linkedlist first entri list firstentrylist hash map hashmap ledger entri page ledgerentrypag page map pagemap page get page map pagemap page map pagemap empti isempti first entri list firstentrylist link list linkedlist map entri ledger entri page ledgerentrypag entri page map pagemap entri set entryset ledger entri page ledgerentrypag lep entri get valu getvalu lep clean isclean log trace enabl istraceen log trace page clean lep first entri list firstentrylist add lep get first entri getfirstentri first entri list firstentrylist size log debug flush ledger flush page ledger list ledger entri page ledgerentrypag entri arrai list arraylist ledger entri page ledgerentrypag first entri list firstentrylist size file info fileinfo fi first entri firstentri first entri list firstentrylist ledger entri page ledgerentrypag lep get ledger entri page getledgerentrypag first entri firstentri lep entri add lep collect sort entri compar ledger entri page ledgerentrypag overrid compar ledger entri page ledgerentrypag o1 ledger entri page ledgerentrypag o2 o1 get first entri getfirstentri o2 get first entri getfirstentri arrai list arraylist integ version arrai list arraylist integ entri size fi get file info getfileinfo start last offset lastoffset entri size version add entri get get version getvers last offset lastoffset entri get get first entri getfirstentri last offset lastoffset entri page entriesperpag send up sequenti list count start count log warn count possibl zero write buffer writebuff entri fi start count start last offset lastoffset entri get get first entri getfirstentri entri size start entri size log warn write entri write buffer writebuff entri fi start entri size start entri size ledger entri page ledgerentrypag lep entri get lep set clean setclean version get ledger entri page ledgerentrypag lep entri lep releas page releasepag fi fi releas write buffer writebuff ledger list ledger entri page ledgerentrypag entri file info fileinfo fi start count io except ioexcept log trace enabl istraceen log trace write count buffer hex string tohexstr ledger count buffer bytebuff buff buffer bytebuff count count buff entri get start get page write getpagetowrit entri get start get ledger getledg ledger io except ioexcept write ledger page belong entri get start get ledger getledg total written totalwritten buff buff length remain rc fi write buff entri get start get first entri getfirstentri rc io except ioexcept write ledger ledger rc rc total written totalwritten rc total written totalwritten count page size pages io except ioexcept write ledger ledger wrote total written totalwritten expect count page size pages ledger entri page ledgerentrypag grab clean page grabcleanpag ledger entri io except ioexcept entri entri page entriesperpag illeg argument except illegalargumentexcept entri multipl entri page entriesperpag page count pagecount page limit pagelimit let alloc ledger entri page ledgerentrypag lep ledger entri page ledgerentrypag page size pages entri page entriesperpag lep set ledger setledg ledger lep set first entri setfirstentri entri note block page lep us page usepag page count pagecount lep outer loop outerloop clean ledger cleanledg clean ledger cleanledg empti isempti flush ledger flushledg page kei set keyset clean ledger cleanledg add clean ledger cleanledg clean ledger cleanledg get first getfirst map ledger entri page ledgerentrypag map page get clean ledger cleanledg map map empti isempti clean ledger cleanledg remov first removefirst clean ledger cleanledg empti isempti outer loop outerloop clean ledger cleanledg clean ledger cleanledg get first getfirst map page get clean ledger cleanledg iter map entri ledger entri page ledgerentrypag map entri set entryset iter ledger entri page ledgerentrypag lep next get valu getvalu lep us inus lep clean isclean ha next hasnext clean page found ledger clean ledger cleanledg remov first removefirst outer loop outerloop lep next get valu getvalu remov map empti isempti page remov lep get ledger getledg lep us page usepag lep zero page zeropag lep set ledger setledg ledger lep set first entri setfirstentri entri lep overrid get last entri getlastentri ledger id ledgerid io except ioexcept last entri lastentri find last entri cach map ledger entri page ledgerentrypag map page get ledger id ledgerid map ledger entri page ledgerentrypag lep map valu lep get first entri getfirstentri entri page entriesperpag last entri lastentri lep us page usepag highest lep get last entri getlastentri highest last entri lastentri last entri lastentri highest lep releas page releasepag file info fileinfo fi fi get file info getfileinfo ledger id ledgerid size fi size make file size align index entri size read incorret data size log warn index file ledger align index entri size ledger id ledgerid size size size last entri cach size last entri lastentri buffer bytebuff bb buffer bytebuff alloc get page size getpages posit size get page size getpages posit posit fi read bb posit bb flip start entri id startingentryid posit get entri page getentriesperpag bb get getlong last entri lastentri start entri id startingentryid last entri lastentri start entri id startingentryid fi fi releas last entri lastentri method ledger directori ledger index file compris set activ ledger booki server bookieserv delet book keeper bookkeep client call initi get activ ledger getactiveledg ledger index file store file hierarchi parent grand parent grandpar directori ll two level deep directori find index file file ledger directori ledgerdirectori ledger directori ledgerdirectori file grand parent grandpar ledger directori ledgerdirectori list file listfil grand parent grandpar directori isdirectori file parent grand parent grandpar list file listfil parent directori isdirectori file index parent list file listfil index file isfil index get name getnam end endswith idx ve found ledger index file file name hex string hexstr represent ledger id ledgerid string ledger id hex ledgeridinhex index get name getnam substr index get name getnam length activ ledger manag activeledgermanag add activ ledger addactiveledg pars parselong ledger id hex ledgeridinhex 16 method call ledger delet book keeper bookkeep client remov relev data store ledger cach ledgercach overrid delet ledger deleteledg ledger id ledgerid io except ioexcept log debug enabl isdebugen log debug delet ledger id ledgerid ledger id ledgerid remov page first avoid page flush delet file info page remov ledger id ledgerid delet ledger index file close file info fileinfo file info fileinfo fi fi get file info getfileinfo ledger id ledgerid fi close fi delet releas us count file channel close fi fi releas remov from activ ledger manag activ ledger manag activeledgermanag remov activ ledger removeactiveledg ledger id ledgerid remov from list map data structur first befor remov entri file info cach fileinfocach file info cach fileinfocach remov ledger id ledgerid clean ledger cleanledg clean ledger cleanledg remov ledger id ledgerid dirti ledger dirtyledg dirti ledger dirtyledg remov ledger id ledgerid open ledger openledg open ledger openledg remov ledger id ledgerid file find index file findindexfil ledger id ledgerid io except ioexcept string ledger name ledgernam get ledger name getledgernam ledger id ledgerid file ledger directori ledgerdirectori file lf file ledger name ledgernam lf exist lf overrid read master kei readmasterkei ledger id ledgerid io except ioexcept booki except bookieexcept file info cach fileinfocach file info fileinfo fi file info cach fileinfocach get ledger id ledgerid fi file lf find index file findindexfil ledger id ledgerid lf booki ledger except noledgerexcept ledger id ledgerid evict file info necessari evictfileinfoifnecessari fi file info fileinfo lf kei fi get master kei getmasterkei file info cach fileinfocach put ledger id ledgerid fi open ledger openledg add ledger id ledgerid kei fi get master kei getmasterkei evict file info necessari evict file info necessari evictfileinfoifnecessari io except ioexcept open ledger openledg size open file limit openfilelimit ledger remov ledgertoremov open ledger openledg remov first removefirst log info ledger evict from file info cach ledger remov ledgertoremov file info cach fileinfocach remov ledger remov ledgertoremov close overrid set master kei setmasterkei ledger id ledgerid master kei masterkei io except ioexcept file info fileinfo fi fi get file info getfileinfo ledger id ledgerid master kei masterkei fi fi releas overrid ledger exist ledgerexist ledger id ledgerid io except ioexcept file info cach fileinfocach file info fileinfo fi file info cach fileinfocach get ledger id ledgerid fi file lf find index file findindexfil ledger id ledgerid lf overrid ledger cach bean ledgercachebean get jmx bean getjmxbean ledger cach bean ledgercachebean overrid string get name getnam ledger cach ledgercach overrid hidden ishidden overrid get page count getpagecount ledger cach impl ledgercacheimpl get num us page getnumusedpag overrid get page size getpages ledger cach impl ledgercacheimpl get page size getpages overrid get open file limit getopenfilelimit open file limit openfilelimit overrid get page limit getpagelimit ledger cach impl ledgercacheimpl get page limit getpagelimit overrid get num clean ledger getnumcleanledg clean ledger cleanledg size overrid get num dirti ledger getnumdirtyledg dirti ledger dirtyledg size overrid get num open ledger getnumopenledg open ledger openledg size overrid close io except ioexcept entri file info fileinfo file info fileinfo file info cach fileinfocach entri set entryset file info fileinfo valu file info fileinfo get valu getvalu valu valu close 
jline completor hedwig consol line hedwig completor jlinehedwigcompletor completor hedwig admin hedwigadmin admin line hedwig completor jlinehedwigcompletor hedwig admin hedwigadmin admin admin admin overrid complet string buffer cursor list candid guarante token on expand buffer buffer substr cursor string token buffer split buffer end endswith string token newtoken string token length arraycopi token token newtoken token length token newtoken token newtoken length token token newtoken token length describ equal ignor equalsignorecas token describ topic describe_top equal ignor equalsignorecas token complet topic completetop buffer token candid token length sub equal ignor equalsignorecas token pub equal ignor equalsignorecas token closesub equal ignor equalsignorecas token consum equal ignor equalsignorecas token consumeto equal ignor equalsignorecas token readtop equal ignor equalsignorecas token complet topic completetop buffer token candid list string cmd hedwig command hedwigcommand find candid command findcandidatecommand token complet command completecommand buffer token token length cmd candid complet command completecommand string buffer string token list string command list string candid string cmd command cmd start startswith token candid add cmd buffer last index lastindexof complet topic completetop string buffer string token list string candid list string children admin get topic gettop string child children child start startswith token candid add child except buffer length candid size buffer length buffer last index lastindexof 
consum cmd consumetocmd command mycommand overrid run cmd runcmd string arg except arg length string bytestr topic string bytestr copi from utf8 copyfromutf8 arg string bytestr sub id subid string bytestr copi from utf8 copyfromutf8 arg msg id msgid pars parselong arg messag seq id messageseqid consum id consumeid messag seq id messageseqid builder newbuild set local compon setlocalcompon msg id msgid build subscrib consum topic sub id subid consum id consumeid except err println consumeto fail 
hub server configur newhubserverconfigur hub server configur hubserverconfigur hub server configur newhubserverconfigur server port serverport ssl server port sslserverport server port serverport ssl server port sslserverport overrid get retent sec getretentionsec retent sec valu retention_secs_valu 
test client configur testclientconfigur client configur clientconfigur overrid inet socket address inetsocketaddress get server host getdefaultserverhost mode mode proxi inet socket address inetsocketaddress proxi conf proxyconf get proxi port getproxyport get server host getdefaultserverhost overrid ssl enabl issslen mode mode ssl 
test ledger delet hierarch ledger manag hierarchicalledgermanag hierarch async ledger op test hierarchicalasyncledgeropstest async ledger op test asyncledgeropstest hierarch async ledger op test hierarchicalasyncledgeropstest digest type digesttyp digest type digesttyp digest type digesttyp befor overrid set up setup except base conf baseconf set ledger manag type setledgermanagertyp hierarch ledger manag hierarchicalledgermanag name base client conf baseclientconf set ledger manag type setledgermanagertyp hierarch ledger manag hierarchicalledgermanag name set up setup 
builder com googl protobuf gener messag generatedmessag builder builder org apach hedwig protocol pub sub protocol pubsubprotocol ledger rang ledgerrang result construct org apach hedwig protocol pub sub protocol pubsubprotocol ledger rang ledgerrang builder newbuild builder builder creat builder builder builder builder result org apach hedwig protocol pub sub protocol pubsubprotocol ledger rang ledgerrang builder org apach hedwig protocol pub sub protocol pubsubprotocol ledger rang ledgerrang intern get result internalgetresult result builder clear result illeg state except illegalstateexcept call clear after build result org apach hedwig protocol pub sub protocol pubsubprotocol ledger rang ledgerrang builder clone creat merg from mergefrom result com googl protobuf descriptor descriptor get descriptor type getdescriptorfortyp org apach hedwig protocol pub sub protocol pubsubprotocol ledger rang ledgerrang get descriptor getdescriptor org apach hedwig protocol pub sub protocol pubsubprotocol ledger rang ledgerrang get instanc type getdefaultinstancefortyp org apach hedwig protocol pub sub protocol pubsubprotocol ledger rang ledgerrang get instanc getdefaultinst initi isiniti result initi isiniti org apach hedwig protocol pub sub protocol pubsubprotocol ledger rang ledgerrang build result initi isiniti uniniti messag except newuninitializedmessageexcept result build partial buildparti org apach hedwig protocol pub sub protocol pubsubprotocol ledger rang ledgerrang build pars buildpars com googl protobuf invalid protocol buffer except invalidprotocolbufferexcept initi isiniti uniniti messag except newuninitializedmessageexcept result invalid protocol buffer except asinvalidprotocolbufferexcept build partial buildparti org apach hedwig protocol pub sub protocol pubsubprotocol ledger rang ledgerrang build partial buildparti result illeg state except illegalstateexcept build ha call builder result rang ranges_ java util collect empti list empty_list result rang ranges_ java util collect unmodifi list unmodifiablelist result rang ranges_ org apach hedwig protocol pub sub protocol pubsubprotocol ledger rang ledgerrang returnm result result returnm builder merg from mergefrom com googl protobuf messag org apach hedwig protocol pub sub protocol pubsubprotocol ledger rang ledgerrang merg from mergefrom org apach hedwig protocol pub sub protocol pubsubprotocol ledger rang ledgerrang merg from mergefrom builder merg from mergefrom org apach hedwig protocol pub sub protocol pubsubprotocol ledger rang ledgerrang org apach hedwig protocol pub sub protocol pubsubprotocol ledger rang ledgerrang get instanc getdefaultinst rang ranges_ empti isempti result rang ranges_ empti isempti result rang ranges_ java util arrai list arraylist org apach hedwig protocol pub sub protocol pubsubprotocol ledger rang ledgerrang result rang ranges_ add addal rang ranges_ merg unknown field mergeunknownfield get unknown field getunknownfield builder merg from mergefrom com googl protobuf code input stream codedinputstream input com googl protobuf extens registri lite extensionregistrylit extens registri extensionregistri java io io except ioexcept com googl protobuf unknown field set unknownfieldset builder unknown field unknownfield com googl protobuf unknown field set unknownfieldset builder newbuild get unknown field getunknownfield tag input read tag readtag tag set unknown field setunknownfield unknown field unknownfield build pars unknown field parseunknownfield input unknown field unknownfield extens registri extensionregistri tag set unknown field setunknownfield unknown field unknownfield build 10 org apach hedwig protocol pub sub protocol pubsubprotocol ledger rang ledgerrang builder sub builder subbuild org apach hedwig protocol pub sub protocol pubsubprotocol ledger rang ledgerrang builder newbuild input read messag readmessag sub builder subbuild extens registri extensionregistri add rang addrang sub builder subbuild build partial buildparti repeat hedwig ledger rang ledgerrang rang java util list org apach hedwig protocol pub sub protocol pubsubprotocol ledger rang ledgerrang get rang list getrangeslist java util collect unmodifi list unmodifiablelist result rang ranges_ get rang count getrangescount result get rang count getrangescount org apach hedwig protocol pub sub protocol pubsubprotocol ledger rang ledgerrang get rang getrang index result get rang getrang index builder set rang setrang index org apach hedwig protocol pub sub protocol pubsubprotocol ledger rang ledgerrang valu valu pointer except nullpointerexcept result rang ranges_ set index valu builder set rang setrang index org apach hedwig protocol pub sub protocol pubsubprotocol ledger rang ledgerrang builder builder valu builderforvalu result rang ranges_ set index builder valu builderforvalu build builder add rang addrang org apach hedwig protocol pub sub protocol pubsubprotocol ledger rang ledgerrang valu valu pointer except nullpointerexcept result rang ranges_ empti isempti result rang ranges_ java util arrai list arraylist org apach hedwig protocol pub sub protocol pubsubprotocol ledger rang ledgerrang result rang ranges_ add valu builder add rang addrang org apach hedwig protocol pub sub protocol pubsubprotocol ledger rang ledgerrang builder builder valu builderforvalu result rang ranges_ empti isempti result rang ranges_ java util arrai list arraylist org apach hedwig protocol pub sub protocol pubsubprotocol ledger rang ledgerrang result rang ranges_ add builder valu builderforvalu build builder add rang addallrang java lang iter org apach hedwig protocol pub sub protocol pubsubprotocol ledger rang ledgerrang valu result rang ranges_ empti isempti result rang ranges_ java util arrai list arraylist org apach hedwig protocol pub sub protocol pubsubprotocol ledger rang ledgerrang add addal valu result rang ranges_ builder clear rang clearrang result rang ranges_ java util collect empti list emptylist protoc insert point protoc_insertion_point builder scope builder_scop hedwig ledger rang ledgerrang 
sync obj syncobj last confirm lastconfirm counter valu sync obj syncobj counter last confirm lastconfirm ledger handl ledgerhandl invalid entri id invalid_entry_id valu 
channel disconnect listen channeldisconnectlisten act channel disconnect param channel channel disconnect channeldisconnect channel channel 
base test hedwig region setup number hedwig hub region associ hedwig client hedwigcli region requir book keeper bookkeep zoo keeper zookeep instanc abstract hedwig region test base hedwigregiontestbas test testcas logger logger logger factori loggerfactori get logger getlogg hedwig region test base hedwigregiontestbas book keeper bookkeep variabl number booki server setup extend class overrid abl reus book keeper bookkeep ensembl region least unit test purpos num booki numbooki book keeper test base bookkeepertestbas bktb hedwig region variabl number hedwig region setup extend class overrid num region numregion num server region numserversperregion initi server port initialserverport 4080 initi ssl server port initialsslserverport 9876 map kei region name valu list hedwig hub pub sub server pubsubserv region map string list pub sub server pubsubserv region server map regionserversmap map kei region name valu hedwig client instanc map string hedwig client hedwigcli region client map regionclientsmap string constant us prefix region name string region prefix region_prefix region child server configur serverconfigur us here extend class defin possibl extend from overrid get server configur getserverconfigur method configur region server configur regionserverconfigur server configur serverconfigur server port serverport ssl server port sslserverport string region name regionnam region server configur regionserverconfigur server port serverport ssl server port sslserverport string region name regionnam server port serverport server port serverport ssl server port sslserverport ssl server port sslserverport region name regionnam region name regionnam set region list setregionlist set region list setregionlist list string region list myregionlist link list linkedlist string num region numregion cur server port curdefaultserverport initi server port initialserverport num server region numserversperregion cur ssl server port curdefaultsslserverport initi ssl server port initialsslserverport num server region numserversperregion add region server port region cur server port curdefaultserverport server port serverport math ab server port serverport cur server port curdefaultserverport num server region numserversperregion region list myregionlist add localhost cur server port curdefaultserverport cur ssl server port curdefaultsslserverport region list regionlist region list myregionlist overrid get server port getserverport server port serverport overrid get ssl server port getsslserverport ssl server port sslserverport overrid string get zk host getzkhost bktb get zk host port getzkhostport overrid string get region getmyregion region name regionnam overrid ssl enabl issslen overrid inter region ssl enabl isinterregionsslen overrid string get cert name getcertnam server p12 overrid string get password getpassword uy svp2 ph m2 wk euysvp2phm2wk method get server configur serverconfigur pub sub server pubsubserv creat specifi port region name extend child class overrid implement region server configur regionserverconfigur object defin server configur serverconfigur get server configur getserverconfigur server port serverport ssl server port sslserverport string region name regionnam region server configur regionserverconfigur server port serverport ssl server port sslserverport region name regionnam client configur clientconfigur us point first hedwig hub server region server host connect region client configur regionclientconfigur client configur clientconfigur region client configur regionclientconfigur server port serverport ssl server port sslserverport server address mydefaultserveraddress hedwig socket address hedwigsocketaddress localhost server port serverport ssl server port sslserverport overrid client configur clientconfigur paramet need method get client configur clientconfigur hedwig client hedwigcli creat input hedwig hub server port point client configur clientconfigur get client configur getclientconfigur server port serverport ssl server port sslserverport region client configur regionclientconfigur server port serverport ssl server port sslserverport overrid befor set up setup except logger info start get name getnam bktb book keeper test base bookkeepertestbas num booki numbooki bktb set up setup creat hedwig pub sub server pubsubserv hub region region server map regionserversmap hash map hashmap string list pub sub server pubsubserv num region numregion 0f region client map regionclientsmap hash map hashmap string hedwig client hedwigcli num region numregion 0f num region numregion start region startregion logger info hedwig region hedwigregion test setup finish overrid after tear down teardown except logger info tear down teardown start stop hedwig client hedwigcli region hedwig client hedwigcli client region client map regionclientsmap valu client close region client map regionclientsmap clear shutdown pub sub server pubsubserv region list pub sub server pubsubserv server list serverslist region server map regionserversmap valu pub sub server pubsubserv server server list serverslist server shutdown logger info finish shut down hub server region server map regionserversmap clear shutdown book keeper bookkeep zoo keeper zookeep stuff bktb tear down teardown logger info finish get name getnam stop region stopregion region idx regionidx except string region name regionnam region prefix region_prefix region idx regionidx logger debug enabl isdebugen logger debug stop region region name regionnam hedwig client hedwigcli region client regioncli region client map regionclientsmap remov region name regionnam region client regioncli region client regioncli close list pub sub server pubsubserv server list serverslist region server map regionserversmap remov region name regionnam server list serverslist pub sub server pubsubserv server server list serverslist server shutdown logger info finish shut down hub server region region name regionnam start region startregion except string region name regionnam region prefix region_prefix logger debug enabl isdebugen logger debug start region region name regionnam list pub sub server pubsubserv server list serverslist link list linkedlist pub sub server pubsubserv current region creat necessari amount hub server basic increment port number start from initi defin num server region numserversperregion pub sub server pubsubserv pub sub server pubsubserv get server configur getserverconfigur initi server port initialserverport num server region numserversperregion initi ssl server port initialsslserverport num server region numserversperregion region name regionnam server list serverslist add start store list server creat current region region server map regionserversmap put region name regionnam server list serverslist creat hedwig client point first hub server creat loop current region hedwig client hedwigcli region client regioncli hedwig client hedwigcli get client configur getclientconfigur initi server port initialserverport num server region numserversperregion initi ssl server port initialsslserverport num server region numserversperregion region client map regionclientsmap put region name regionnam region client regioncli 
us synchron type oper underli client op hedwig async make async call synchron pub sub callback pubsubcallback callback logger logger logger factori loggerfactori get logger getlogg pub sub callback pubsubcallback member variabl pub sub data pubsubdata pub sub data pubsubdata indic sync pub sub pubsub call success call success iscallsuccess sync callback pub sub except pubsubexcept thrown failur handl except rethrow pub sub except pubsubexcept failur except failureexcept constructor pub sub callback pubsubcallback pub sub data pubsubdata pub sub data pubsubdata pub sub data pubsubdata pub sub data pubsubdata oper finish operationfinish object ctx result oper resultofoper logger debug enabl isdebugen logger debug pub sub pubsub call succeed pub sub data pubsubdata pub sub data pubsubdata wake up main sync pub sub pubsub thread wait complet pub sub data pubsubdata call success iscallsuccess pub sub data pubsubdata done isdon pub sub data pubsubdata notifi oper fail operationfail object ctx pub sub except pubsubexcept except logger debug enabl isdebugen logger debug pub sub pubsub call fail except except pub sub data pubsubdata pub sub data pubsubdata wake up main sync pub sub pubsub thread wait complet pub sub data pubsubdata call success iscallsuccess failur except failureexcept except pub sub data pubsubdata done isdon pub sub data pubsubdata notifi getter determin pub sub pubsub callback success base pub sub pubsub ack respons from server get call success getiscallsuccess call success iscallsuccess getter retriev pub sub except pubsubexcept occur oper fail pub sub except pubsubexcept get failur except getfailureexcept failur except failureexcept 
acquir op acquireop topic op queuer topicopqueu asynchron op asynchronousop acquir op acquireop string bytestr topic callback callback object ctx queuer topic callback ctx overrid run top2 sub2 seq top2sub2seq contain kei containskei topic cb oper finish operationfinish ctx read subscript readsubscript topic callback map string bytestr memori subscript state inmemorysubscriptionst overrid oper fail operationfail object ctx pub sub except pubsubexcept except cb oper fail operationfail ctx except overrid oper finish operationfinish object ctx map string bytestr memori subscript state inmemorysubscriptionst result oper resultofoper ve inherit bunch subscrib topic local notifi listen record number bookkeep futur subscrib unsubscrib effici notifi listen count number local subscrib inherit loop number subscrib topic expect small local count localcount string bytestr subscrib id subscriberid result oper resultofoper kei set keyset subscript state util subscriptionstateutil hub subscrib ishubsubscrib subscrib id subscriberid local count localcount topic2 local count topic2localcount put topic atom integ atomicinteg local count localcount commit abort oper callback cb2 callback overrid oper fail operationfail object ctx pub sub except pubsubexcept except logger error subscript manag fail acquir topic topic string utf8 tostringutf8 except cb oper fail operationfail ctx overrid oper finish operationfinish object ctx obj voidobj top2 sub2 seq top2sub2seq put topic result oper resultofoper logger info subscript manag successfulli acquir topic topic string utf8 tostringutf8 cb oper finish operationfinish ctx notifi listen necessari local count localcount notifi subscrib notifysubscrib topic cb2 ctx cb2 oper finish operationfinish ctx updat messag bound updatemessagebound topic ctx 
scanner us scan journal journal scanner journalscann process journal entri param journal version journalvers journal version param offset file offset journal entri param entri journal entri io except ioexcept process journal version journalvers offset buffer bytebuff entri io except ioexcept 
consum handler consumehandl base handler basehandl subscript manag subscriptionmanag sm callback noop callback noopcallback noop callback noopcallback op stat opstat consum stat consumestat server stat serverstat get instanc getinst get op stat getopstat oper type operationtyp consum noop callback noopcallback callback overrid oper fail operationfail object ctx pub sub except pubsubexcept except consum stat consumestat increment fail op incrementfailedop oper finish operationfinish object ctx result oper resultofoper don collect consum process time consum stat consumestat updat latenc updatelat overrid handl request owner handlerequestatown pub sub request pubsubrequest request channel channel request ha consum request hasconsumerequest umbrella handler umbrellahandl send error respons malform request senderrorresponsetomalformedrequest channel request get txn id gettxnid miss consum request data consum stat consumestat increment fail op incrementfailedop consum request consumerequest consum request consumerequest request get consum request getconsumerequest sm set consum seq id subscrib setconsumeseqidforsubscrib request get topic gettop consum request consumerequest get subscrib id getsubscriberid consum request consumerequest get msg id getmsgid noop callback noopcallback consum handler consumehandl topic manag topicmanag tm subscript manag subscriptionmanag sm server configur serverconfigur cfg tm cfg sm sm 
pub sub pubsub server bean pub sub server bean pubsubserverbean pub sub server mx bean pubsubservermxbean hedwig bean info hedwigmbeaninfo overrid string get name getnam pub sub server pubsubserv overrid hidden ishidden overrid op stat data opstatdata get pub stat getpubstat server stat serverstat get instanc getinst get op stat getopstat oper type operationtyp publish op stat data toopstatdata overrid op stat data opstatdata get sub stat getsubstat server stat serverstat get instanc getinst get op stat getopstat oper type operationtyp subscrib op stat data toopstatdata overrid op stat data opstatdata get unsub stat getunsubstat server stat serverstat get instanc getinst get op stat getopstat oper type operationtyp unsubscrib op stat data toopstatdata overrid op stat data opstatdata get consum stat getconsumestat server stat serverstat get instanc getinst get op stat getopstat oper type operationtyp consum op stat data toopstatdata overrid get num request receiv getnumrequestsreceiv server stat serverstat get instanc getinst get num request receiv getnumrequestsreceiv overrid get num request redirect getnumrequestsredirect server stat serverstat get instanc getinst get num request redirect getnumrequestsredirect overrid get num messag deliv getnummessagesdeliv server stat serverstat get instanc getinst get num messag deliv getnummessagesdeliv 
ledger except noledgerexcept io except ioexcept serial version uid serialversionuid 1l ledger id ledgerid ledger except noledgerexcept ledger id ledgerid ledger ledger id ledgerid found ledger id ledgerid ledger id ledgerid get ledger id getledgerid ledger id ledgerid 
us subscrib channel get disconnect attempt establish connect connect server host topic complet restart deliveri topic befor origin channel disconnect async callback hook subscrib reconnect callback subscribereconnectcallback callback logger logger logger factori loggerfactori get logger getlogg subscrib reconnect callback subscribereconnectcallback member variabl pub sub data pubsubdata orig sub data origsubdata hedwig client impl hedwigclientimpl client hedwig subscrib hedwigsubscrib sub client configur clientconfigur cfg constructor subscrib reconnect callback subscribereconnectcallback pub sub data pubsubdata orig sub data origsubdata hedwig client impl hedwigclientimpl client orig sub data origsubdata orig sub data origsubdata client client sub client get subscrib getsubscrib cfg client get configur getconfigur subscrib reconnect retri task subscribereconnectretrytask timer task timertask overrid run logger debug enabl isdebugen logger debug retri subscrib reconnect request orig sub data origsubdata orig sub data origsubdata clear server ve contact attempt from request orig sub data origsubdata clear server list clearserverslist client connect doconnect orig sub data origsubdata cfg get server host getdefaultserverhost oper finish operationfinish object ctx result oper resultofoper logger debug enabl isdebugen logger debug subscrib reconnect succeed orig sub data origsubdata orig sub data origsubdata restart deliveri subscript channel deliveri start time origin subscrib channel disconnect sub restart deliveri restartdeliveri orig sub data origsubdata topic orig sub data origsubdata subscrib id subscriberid client subscrib except clientnotsubscribedexcept except thrown here log error keep retri subscrib request logger error subscrib success error start deliveri topic orig sub data origsubdata topic string utf8 tostringutf8 subscrib id subscriberid orig sub data origsubdata subscrib id subscriberid string utf8 tostringutf8 retri subscrib request retrysubscriberequest start deliveri except alreadystartdeliveryexcept asd reach here oper fail operationfail object ctx pub sub except pubsubexcept except subscrib reconnect fail keep retri subscrib request isn flag applic layer topic subscript ha fail ll keep retri background success logger error subscrib reconnect fail error except get messag getmessag retri subscrib request retrysubscriberequest retri subscrib request retrysubscriberequest client ha stop proce callback logic here client ha stop hasstop retri subscrib request after wait preconfigur amount time client get client timer getclienttim schedul subscrib reconnect retri task subscribereconnectretrytask client get configur getconfigur get subscrib reconnect retri wait time getsubscribereconnectretrywaittim 
activ subscrib state activesubscriberst scan callback scancallback deliveri callback deliverycallback deliveri manag request deliverymanagerrequest string bytestr topic string bytestr subscrib id subscriberid last local seq id deliv lastlocalseqiddeliv connect deliveri end point deliveryendpoint deliveri end point deliveryendpoint last scan error time lastscanerrortim local seq id deliv localseqiddeliveringnow last seq id commun extern lastseqidcommunicatedextern todo make us variabl hub subscrib ishubsubscrib seq id slack seq_id_slack 10 activ subscrib state activesubscriberst string bytestr topic string bytestr subscrib id subscriberid last local seq id deliv lastlocalseqiddeliv deliveri end point deliveryendpoint deliveri end point deliveryendpoint messag filter messagefilt filter hub subscrib ishubsubscrib topic topic subscrib id subscriberid subscrib id subscriberid last local seq id deliv lastlocalseqiddeliv last local seq id deliv lastlocalseqiddeliv deliveri end point deliveryendpoint deliveri end point deliveryendpoint hub subscrib ishubsubscrib hub subscrib ishubsubscrib set connect setnotconnect connect deliveri end point deliveryendpoint close string bytestr get topic gettop topic get last local seq id deliv getlastlocalseqiddeliv last local seq id deliv lastlocalseqiddeliv get last scan error time getlastscanerrortim last scan error time lastscanerrortim set last scan error time setlastscanerrortim last scan error time lastscanerrortim last scan error time lastscanerrortim last scan error time lastscanerrortim connect isconnect connect deliv next messag delivernextmessag connect isconnect local seq id deliv localseqiddeliveringnow persist mgr persistencemgr get seq id after skip getseqidafterskip topic last local seq id deliv lastlocalseqiddeliv scan request scanrequest scan request scanrequest scan request scanrequest topic local seq id deliv localseqiddeliveringnow callback ctx persist mgr persistencemgr scan singl messag scansinglemessag scan request scanrequest link scan callback scancallback method messag scan messagescan object ctx messag messag connect simpl network topolog region forward messag region current logic messag end up ping pong ing back forth region subscript termin cyclic configur hub subscrib ishubsubscrib messag get src region getsrcregion equal cfg get region string getmyregionbytestr send finish sendingfinish method invok send finish sendingfinish method done pub sub respons pubsubrespons respons pub sub respons pubsubrespons builder newbuild set protocol version setprotocolvers protocol version protocolvers version on version_on set statu code setstatuscod statu code statuscod success set txn id settxnid set messag setmessag messag build deliveri end point deliveryendpoint send respons callback scan fail scanfail object ctx except except connect wait time retri retri error subscrib after delai retryerroredsubscriberafterdelai scan finish scanfinish object ctx reason finish reasonforfinish reason op link deliveri callback deliverycallback method send finish sendingfinish connect last local seq id deliv lastlocalseqiddeliv local seq id deliv localseqiddeliveringnow last local seq id deliv lastlocalseqiddeliv last seq id commun extern lastseqidcommunicatedextern seq id slack seq_id_slack note order next statement import submit request chang deliveri pointer after chang race condit remov channel maintain deliveri ptr deliveryptr tree map prev id previd last seq id commun extern lastseqidcommunicatedextern last seq id commun extern lastseqidcommunicatedextern last local seq id deliv lastlocalseqiddeliv move deliveri ptr forward movedeliveryptrforward prev id previd last local seq id deliv lastlocalseqiddeliv increment deliveri messag server stat serverstat get instanc getinst increment messag deliv incrementmessagesdeliv deliv next messag delivernextmessag get last seq id commun extern getlastseqidcommunicatedextern last seq id commun extern lastseqidcommunicatedextern perman error send permanenterroronsend stop serv subscrib stopservingsubscrib error send transienterroronsend retri error subscrib after delai retryerroredsubscriberafterdelai link deliveri manag request deliverymanagerrequest method perform request performrequest put subscrib channel subscrib map activ subscrib state activesubscriberst prev subscrib prevsubscrib subscrib state subscriberst put topic subscrib topicsubscrib topic subscrib id subscriberid prev subscrib prevsubscrib stop serv subscrib stopservingsubscrib prev subscrib prevsubscrib last seq id commun extern lastseqidcommunicatedextern last local seq id deliv lastlocalseqiddeliv add deliveri ptr adddeliveryptr last local seq id deliv lastlocalseqiddeliv deliv next messag delivernextmessag overrid string string tostr string builder stringbuild sb string builder stringbuild sb append topic sb append topic string utf8 tostringutf8 sb append deliveri ptr deliveryptr sb append last local seq id deliv lastlocalseqiddeliv sb string tostr 
sequenc entri ledger repres pend read oper data read ha back applic callback call improv start push data applic arriv wait thing pend read op pendingreadop enumer ledger entri ledgerentri read entri callback readentrycallback logger log logger factori loggerfactori get logger getlogg pend read op pendingreadop queue ledger entri ledgerentri seq read callback readcallback cb object ctx ledger handl ledgerhandl lh num pend read numpendingread start entri id startentryid end entri id endentryid pend read op pendingreadop ledger handl ledgerhandl lh start entri id startentryid end entri id endentryid read callback readcallback cb object ctx seq arrai dequ arraydequ ledger entri ledgerentri end entri id endentryid start entri id startentryid cb cb ctx ctx lh lh start entri id startentryid start entri id startentryid end entri id endentryid end entri id endentryid num pend read numpendingread end entri id endentryid start entri id startentryid initi interrupt except interruptedexcept next ensembl chang nextensemblechang start entri id startentryid start entri id startentryid arrai list arraylist inet socket address inetsocketaddress ensembl log debug enabl isdebugen log debug acquir lock lh op counter sem opcountersem acquir next ensembl chang nextensemblechang ensembl lh metadata get ensembl getensembl next ensembl chang nextensemblechang lh metadata get next ensembl chang getnextensemblechang ledger entri ledgerentri entri ledger entri ledgerentri lh ledger id ledgerid seq add entri send read sendread ensembl entri bk except bkexcept code read except readexcept end entri id endentryid send read sendread arrai list arraylist inet socket address inetsocketaddress ensembl ledger entri ledgerentri entri last error code lasterrorcod entri next replica index read from nextreplicaindextoreadfrom lh metadata quorum size quorums done read ha fail from replica fail read lh op counter sem opcountersem releas submit callback submitcallback last error code lasterrorcod booki index bookieindex lh distribut schedul distributionschedul get booki index getbookieindex entri entri id entryid entri next replica index read from nextreplicaindextoreadfrom entri next replica index read from nextreplicaindextoreadfrom lh bk booki client bookiecli read entri readentri ensembl get booki index bookieindex lh ledger id ledgerid entri entri id entryid entri log error reattempt read logerrorandreattemptread ledger entri ledgerentri entri string err msg errmsg rc arrai list arraylist inet socket address inetsocketaddress ensembl lh metadata get ensembl getensembl entri entri id entryid book index bookeindex lh distribut schedul distributionschedul get booki index getbookieindex entri entri id entryid entri next replica index read from nextreplicaindextoreadfrom log error err msg errmsg read entri entri entri id entryid ledger id ledgerid lh ledger id ledgerid from booki ensembl get book index bookeindex send read sendread ensembl entri rc overrid read entri complet readentrycomplet rc ledger id ledgerid entri id entryid channel buffer channelbuff buffer object ctx ledger entri ledgerentri entri ledger entri ledgerentri ctx read on entri entri exist recoveri read recoveryread don reattempt read reattemptread handl follow empti ledger quorum bk1 bk2 bk2 fail forev bk1 ledger except noledgerexcept client reattempt read reattemptread bk2 bk2 isn connect read entri fail ledger close start entri id startentryid end entri id endentryid bk except bkexcept code ledger exist except nosuchledgerexistsexcept rc bk except bkexcept code entri except nosuchentryexcept rc lh op counter sem opcountersem releas submit callback submitcallback rc rc bk except bkexcept code log error reattempt read logerrorandreattemptread entri error bk except bkexcept get messag getmessag rc rc channel buffer input stream channelbufferinputstream lh mac manag macmanag verifi digest data verifydigestandreturndata entri id entryid buffer bk digest match except bkdigestmatchexcept log error reattempt read logerrorandreattemptread entri mac mismatch bk except bkexcept code digest match except digestmatchexcept entri entri data stream entrydatastream length last field metadata entri subtract from metadata length metadata_length get length entri length buffer get getlong digest manag digestmanag metadata length metadata_length num pend read numpendingread num pend read numpendingread submit callback submitcallback bk except bkexcept code log debug enabl isdebugen log debug releas lock entri id entryid lh op counter sem opcountersem releas num pend read numpendingread log error read valu submit callback submitcallback code cb read complet readcomplet code lh pend read op pendingreadop pend read op pendingreadop ctx ha more element hasmoreel seq empti isempti ledger entri ledgerentri next element nextel element except nosuchelementexcept seq remov size seq size 
publish request publishrequest com googl protobuf gener messag generatedmessag us publish request publishrequest builder newbuild construct publish request publishrequest init field initfield publish request publishrequest init noinit publish request publishrequest instanc defaultinst publish request publishrequest get instanc getdefaultinst instanc defaultinst publish request publishrequest get instanc type getdefaultinstancefortyp instanc defaultinst com googl protobuf descriptor descriptor get descriptor getdescriptor org apach hedwig protocol pub sub protocol pubsubprotocol intern hedwig publish request descriptor internal_static_hedwig_publishrequest_descriptor com googl protobuf gener messag generatedmessag field accessor tabl fieldaccessort intern get field accessor tabl internalgetfieldaccessort org apach hedwig protocol pub sub protocol pubsubprotocol intern hedwig publish request field accessor tabl internal_static_hedwig_publishrequest_fieldaccessort requir hedwig messag msg msg field number msg_field_numb ha msg hasmsg org apach hedwig protocol pub sub protocol pubsubprotocol messag msg msg_ ha msg hasmsg ha msg hasmsg org apach hedwig protocol pub sub protocol pubsubprotocol messag get msg getmsg msg msg_ init field initfield msg msg_ org apach hedwig protocol pub sub protocol pubsubprotocol messag get instanc getdefaultinst initi isiniti ha msg hasmsg get msg getmsg initi isiniti write writeto com googl protobuf code output stream codedoutputstream output java io io except ioexcept get serial size getserializeds ha msg hasmsg output write messag writemessag get msg getmsg get unknown field getunknownfield write writeto output memoiz serial size memoizedserializeds get serial size getserializeds size memoiz serial size memoizedserializeds size size size ha msg hasmsg size com googl protobuf code output stream codedoutputstream comput messag size computemessages get msg getmsg size get unknown field getunknownfield get serial size getserializeds memoiz serial size memoizedserializeds size size org apach hedwig protocol pub sub protocol pubsubprotocol publish request publishrequest pars from parsefrom com googl protobuf string bytestr data com googl protobuf invalid protocol buffer except invalidprotocolbufferexcept builder newbuild merg from mergefrom data build pars buildpars org apach hedwig protocol pub sub protocol pubsubprotocol publish request publishrequest pars from parsefrom com googl protobuf string bytestr data com googl protobuf extens registri lite extensionregistrylit extens registri extensionregistri com googl protobuf invalid protocol buffer except invalidprotocolbufferexcept builder newbuild merg from mergefrom data extens registri extensionregistri build pars buildpars org apach hedwig protocol pub sub protocol pubsubprotocol publish request publishrequest pars from parsefrom data com googl protobuf invalid protocol buffer except invalidprotocolbufferexcept builder newbuild merg from mergefrom data build pars buildpars org apach hedwig protocol pub sub protocol pubsubprotocol publish request publishrequest pars from parsefrom data com googl protobuf extens registri lite extensionregistrylit extens registri extensionregistri com googl protobuf invalid protocol buffer except invalidprotocolbufferexcept builder newbuild merg from mergefrom data extens registri extensionregistri build pars buildpars org apach hedwig protocol pub sub protocol pubsubprotocol publish request publishrequest pars from parsefrom java io input stream inputstream input java io io except ioexcept builder newbuild merg from mergefrom input build pars buildpars org apach hedwig protocol pub sub protocol pubsubprotocol publish request publishrequest pars from parsefrom java io input stream inputstream input com googl protobuf extens registri lite extensionregistrylit extens registri extensionregistri java io io except ioexcept builder newbuild merg from mergefrom input extens registri extensionregistri build pars buildpars org apach hedwig protocol pub sub protocol pubsubprotocol publish request publishrequest pars delimit from parsedelimitedfrom java io input stream inputstream input java io io except ioexcept builder builder builder newbuild builder merg delimit from mergedelimitedfrom input builder build pars buildpars org apach hedwig protocol pub sub protocol pubsubprotocol publish request publishrequest pars delimit from parsedelimitedfrom java io input stream inputstream input com googl protobuf extens registri lite extensionregistrylit extens registri extensionregistri java io io except ioexcept builder builder builder newbuild builder merg delimit from mergedelimitedfrom input extens registri extensionregistri builder build pars buildpars org apach hedwig protocol pub sub protocol pubsubprotocol publish request publishrequest pars from parsefrom com googl protobuf code input stream codedinputstream input java io io except ioexcept builder newbuild merg from mergefrom input build pars buildpars org apach hedwig protocol pub sub protocol pubsubprotocol publish request publishrequest pars from parsefrom com googl protobuf code input stream codedinputstream input com googl protobuf extens registri lite extensionregistrylit extens registri extensionregistri java io io except ioexcept builder newbuild merg from mergefrom input extens registri extensionregistri build pars buildpars builder builder newbuild builder creat builder builder type newbuilderfortyp builder newbuild builder builder newbuild org apach hedwig protocol pub sub protocol pubsubprotocol publish request publishrequest prototyp builder newbuild merg from mergefrom prototyp builder builder tobuild builder newbuild builder com googl protobuf gener messag generatedmessag builder builder org apach hedwig protocol pub sub protocol pubsubprotocol publish request publishrequest result construct org apach hedwig protocol pub sub protocol pubsubprotocol publish request publishrequest builder newbuild builder builder creat builder builder builder builder result org apach hedwig protocol pub sub protocol pubsubprotocol publish request publishrequest builder org apach hedwig protocol pub sub protocol pubsubprotocol publish request publishrequest intern get result internalgetresult result builder clear result illeg state except illegalstateexcept call clear after build result org apach hedwig protocol pub sub protocol pubsubprotocol publish request publishrequest builder clone creat merg from mergefrom result com googl protobuf descriptor descriptor get descriptor type getdescriptorfortyp org apach hedwig protocol pub sub protocol pubsubprotocol publish request publishrequest get descriptor getdescriptor org apach hedwig protocol pub sub protocol pubsubprotocol publish request publishrequest get instanc type getdefaultinstancefortyp org apach hedwig protocol pub sub protocol pubsubprotocol publish request publishrequest get instanc getdefaultinst initi isiniti result initi isiniti org apach hedwig protocol pub sub protocol pubsubprotocol publish request publishrequest build result initi isiniti uniniti messag except newuninitializedmessageexcept result build partial buildparti org apach hedwig protocol pub sub protocol pubsubprotocol publish request publishrequest build pars buildpars com googl protobuf invalid protocol buffer except invalidprotocolbufferexcept initi isiniti uniniti messag except newuninitializedmessageexcept result invalid protocol buffer except asinvalidprotocolbufferexcept build partial buildparti org apach hedwig protocol pub sub protocol pubsubprotocol publish request publishrequest build partial buildparti result illeg state except illegalstateexcept build ha call builder org apach hedwig protocol pub sub protocol pubsubprotocol publish request publishrequest returnm result result returnm builder merg from mergefrom com googl protobuf messag org apach hedwig protocol pub sub protocol pubsubprotocol publish request publishrequest merg from mergefrom org apach hedwig protocol pub sub protocol pubsubprotocol publish request publishrequest merg from mergefrom builder merg from mergefrom org apach hedwig protocol pub sub protocol pubsubprotocol publish request publishrequest org apach hedwig protocol pub sub protocol pubsubprotocol publish request publishrequest get instanc getdefaultinst ha msg hasmsg merg msg mergemsg get msg getmsg merg unknown field mergeunknownfield get unknown field getunknownfield builder merg from mergefrom com googl protobuf code input stream codedinputstream input com googl protobuf extens registri lite extensionregistrylit extens registri extensionregistri java io io except ioexcept com googl protobuf unknown field set unknownfieldset builder unknown field unknownfield com googl protobuf unknown field set unknownfieldset builder newbuild get unknown field getunknownfield tag input read tag readtag tag set unknown field setunknownfield unknown field unknownfield build pars unknown field parseunknownfield input unknown field unknownfield extens registri extensionregistri tag set unknown field setunknownfield unknown field unknownfield build 18 org apach hedwig protocol pub sub protocol pubsubprotocol messag builder sub builder subbuild org apach hedwig protocol pub sub protocol pubsubprotocol messag builder newbuild ha msg hasmsg sub builder subbuild merg from mergefrom get msg getmsg input read messag readmessag sub builder subbuild extens registri extensionregistri set msg setmsg sub builder subbuild build partial buildparti requir hedwig messag msg ha msg hasmsg result ha msg hasmsg org apach hedwig protocol pub sub protocol pubsubprotocol messag get msg getmsg result get msg getmsg builder set msg setmsg org apach hedwig protocol pub sub protocol pubsubprotocol messag valu valu pointer except nullpointerexcept result ha msg hasmsg result msg msg_ valu builder set msg setmsg org apach hedwig protocol pub sub protocol pubsubprotocol messag builder builder valu builderforvalu result ha msg hasmsg result msg msg_ builder valu builderforvalu build builder merg msg mergemsg org apach hedwig protocol pub sub protocol pubsubprotocol messag valu result ha msg hasmsg result msg msg_ org apach hedwig protocol pub sub protocol pubsubprotocol messag get instanc getdefaultinst result msg msg_ org apach hedwig protocol pub sub protocol pubsubprotocol messag builder newbuild result msg msg_ merg from mergefrom valu build partial buildparti result msg msg_ valu result ha msg hasmsg builder clear msg clearmsg result ha msg hasmsg result msg msg_ org apach hedwig protocol pub sub protocol pubsubprotocol messag get instanc getdefaultinst protoc insert point protoc_insertion_point builder scope builder_scop hedwig publish request publishrequest instanc defaultinst publish request publishrequest org apach hedwig protocol pub sub protocol pubsubprotocol intern forc init internalforceinit instanc defaultinst init field initfield protoc insert point protoc_insertion_point scope class_scop hedwig publish request publishrequest 
proxi stop deliveri handler proxystopdeliveryhandl handler logger logger logger factori loggerfactori get logger getlogg proxi stop deliveri handler proxystopdeliveryhandl subscrib subscrib channel tracker channeltrack tracker proxi stop deliveri handler proxystopdeliveryhandl subscrib subscrib channel tracker channeltrack tracker subscrib subscrib tracker tracker overrid handl request handlerequest pub sub request pubsubrequest request channel channel request ha stop deliveri request hasstopdeliveryrequest umbrella handler umbrellahandl send error respons malform request senderrorresponsetomalformedrequest channel request get txn id gettxnid miss stop deliveri request data string bytestr topic request get topic gettop string bytestr subscrib id subscriberid request get stop deliveri request getstopdeliveryrequest get subscrib id getsubscriberid tracker tracker check channel match checkchannelmatch topic subscrib id subscriberid channel pub sub except pubsubexcept intention ignor error stop deliveri doesn send back respons subscrib stop deliveri stopdeliveri topic subscrib id subscriberid client subscrib except clientnotsubscribedexcept happen check correct channel logger warn unexpect subscript attempt stop deliveri 
pub sub request pubsubrequest com googl protobuf gener messag generatedmessag us pub sub request pubsubrequest builder newbuild construct pub sub request pubsubrequest init field initfield pub sub request pubsubrequest init noinit pub sub request pubsubrequest instanc defaultinst pub sub request pubsubrequest get instanc getdefaultinst instanc defaultinst pub sub request pubsubrequest get instanc type getdefaultinstancefortyp instanc defaultinst com googl protobuf descriptor descriptor get descriptor getdescriptor org apach hedwig protocol pub sub protocol pubsubprotocol intern hedwig pub sub request descriptor internal_static_hedwig_pubsubrequest_descriptor com googl protobuf gener messag generatedmessag field accessor tabl fieldaccessort intern get field accessor tabl internalgetfieldaccessort org apach hedwig protocol pub sub protocol pubsubprotocol intern hedwig pub sub request field accessor tabl internal_static_hedwig_pubsubrequest_fieldaccessort requir hedwig protocol version protocolvers protocol version protocolvers protocolvers field number protocolversion_field_numb ha protocol version hasprotocolvers org apach hedwig protocol pub sub protocol pubsubprotocol protocol version protocolvers protocol version protocolversion_ ha protocol version hasprotocolvers ha protocol version hasprotocolvers org apach hedwig protocol pub sub protocol pubsubprotocol protocol version protocolvers get protocol version getprotocolvers protocol version protocolversion_ requir hedwig oper type operationtyp type type field number type_field_numb ha type hastyp org apach hedwig protocol pub sub protocol pubsubprotocol oper type operationtyp type type_ ha type hastyp ha type hastyp org apach hedwig protocol pub sub protocol pubsubprotocol oper type operationtyp get type gettyp type type_ repeat byte server triedserv triedserv field number triedservers_field_numb java util list com googl protobuf string bytestr server triedservers_ java util collect empti list emptylist java util list com googl protobuf string bytestr get server list gettriedserverslist server triedservers_ get server count gettriedserverscount server triedservers_ size com googl protobuf string bytestr get server gettriedserv index server triedservers_ get index requir uint64 txn id txnid txnid field number txnid_field_numb ha txn id hastxnid txn id txnid_ 0l ha txn id hastxnid ha txn id hastxnid get txn id gettxnid txn id txnid_ option claim shouldclaim shouldclaim field number shouldclaim_field_numb ha claim hasshouldclaim claim shouldclaim_ ha claim hasshouldclaim ha claim hasshouldclaim get claim getshouldclaim claim shouldclaim_ requir byte topic topic field number topic_field_numb ha topic hastop com googl protobuf string bytestr topic topic_ com googl protobuf string bytestr empti ha topic hastop ha topic hastop com googl protobuf string bytestr get topic gettop topic topic_ option hedwig publish request publishrequest publish request publishrequest 52 publishrequest field number publishrequest_field_numb 52 ha publish request haspublishrequest org apach hedwig protocol pub sub protocol pubsubprotocol publish request publishrequest publish request publishrequest_ ha publish request haspublishrequest ha publish request haspublishrequest org apach hedwig protocol pub sub protocol pubsubprotocol publish request publishrequest get publish request getpublishrequest publish request publishrequest_ option hedwig subscrib request subscriberequest subscrib request subscriberequest 53 subscriberequest field number subscriberequest_field_numb 53 ha subscrib request hassubscriberequest org apach hedwig protocol pub sub protocol pubsubprotocol subscrib request subscriberequest subscrib request subscriberequest_ ha subscrib request hassubscriberequest ha subscrib request hassubscriberequest org apach hedwig protocol pub sub protocol pubsubprotocol subscrib request subscriberequest get subscrib request getsubscriberequest subscrib request subscriberequest_ option hedwig consum request consumerequest consum request consumerequest 54 consumerequest field number consumerequest_field_numb 54 ha consum request hasconsumerequest org apach hedwig protocol pub sub protocol pubsubprotocol consum request consumerequest consum request consumerequest_ ha consum request hasconsumerequest ha consum request hasconsumerequest org apach hedwig protocol pub sub protocol pubsubprotocol consum request consumerequest get consum request getconsumerequest consum request consumerequest_ option hedwig unsubscrib request unsubscriberequest unsubscrib request unsubscriberequest 55 unsubscriberequest field number unsubscriberequest_field_numb 55 ha unsubscrib request hasunsubscriberequest org apach hedwig protocol pub sub protocol pubsubprotocol unsubscrib request unsubscriberequest unsubscrib request unsubscriberequest_ ha unsubscrib request hasunsubscriberequest ha unsubscrib request hasunsubscriberequest org apach hedwig protocol pub sub protocol pubsubprotocol unsubscrib request unsubscriberequest get unsubscrib request getunsubscriberequest unsubscrib request unsubscriberequest_ option hedwig stop deliveri request stopdeliveryrequest stop deliveri request stopdeliveryrequest 56 stopdeliveryrequest field number stopdeliveryrequest_field_numb 56 ha stop deliveri request hasstopdeliveryrequest org apach hedwig protocol pub sub protocol pubsubprotocol stop deliveri request stopdeliveryrequest stop deliveri request stopdeliveryrequest_ ha stop deliveri request hasstopdeliveryrequest ha stop deliveri request hasstopdeliveryrequest org apach hedwig protocol pub sub protocol pubsubprotocol stop deliveri request stopdeliveryrequest get stop deliveri request getstopdeliveryrequest stop deliveri request stopdeliveryrequest_ option hedwig start deliveri request startdeliveryrequest start deliveri request startdeliveryrequest 57 startdeliveryrequest field number startdeliveryrequest_field_numb 57 ha start deliveri request hasstartdeliveryrequest org apach hedwig protocol pub sub protocol pubsubprotocol start deliveri request startdeliveryrequest start deliveri request startdeliveryrequest_ ha start deliveri request hasstartdeliveryrequest ha start deliveri request hasstartdeliveryrequest org apach hedwig protocol pub sub protocol pubsubprotocol start deliveri request startdeliveryrequest get start deliveri request getstartdeliveryrequest start deliveri request startdeliveryrequest_ init field initfield protocol version protocolversion_ org apach hedwig protocol pub sub protocol pubsubprotocol protocol version protocolvers version on version_on type type_ org apach hedwig protocol pub sub protocol pubsubprotocol oper type operationtyp publish publish request publishrequest_ org apach hedwig protocol pub sub protocol pubsubprotocol publish request publishrequest get instanc getdefaultinst subscrib request subscriberequest_ org apach hedwig protocol pub sub protocol pubsubprotocol subscrib request subscriberequest get instanc getdefaultinst consum request consumerequest_ org apach hedwig protocol pub sub protocol pubsubprotocol consum request consumerequest get instanc getdefaultinst unsubscrib request unsubscriberequest_ org apach hedwig protocol pub sub protocol pubsubprotocol unsubscrib request unsubscriberequest get instanc getdefaultinst stop deliveri request stopdeliveryrequest_ org apach hedwig protocol pub sub protocol pubsubprotocol stop deliveri request stopdeliveryrequest get instanc getdefaultinst start deliveri request startdeliveryrequest_ org apach hedwig protocol pub sub protocol pubsubprotocol start deliveri request startdeliveryrequest get instanc getdefaultinst initi isiniti ha protocol version hasprotocolvers ha type hastyp ha txn id hastxnid ha topic hastop ha publish request haspublishrequest get publish request getpublishrequest initi isiniti ha subscrib request hassubscriberequest get subscrib request getsubscriberequest initi isiniti ha consum request hasconsumerequest get consum request getconsumerequest initi isiniti ha unsubscrib request hasunsubscriberequest get unsubscrib request getunsubscriberequest initi isiniti ha stop deliveri request hasstopdeliveryrequest get stop deliveri request getstopdeliveryrequest initi isiniti ha start deliveri request hasstartdeliveryrequest get start deliveri request getstartdeliveryrequest initi isiniti write writeto com googl protobuf code output stream codedoutputstream output java io io except ioexcept get serial size getserializeds ha protocol version hasprotocolvers output write writeenum get protocol version getprotocolvers get number getnumb ha type hastyp output write writeenum get type gettyp get number getnumb com googl protobuf string bytestr element get server list gettriedserverslist output write byte writebyt element ha txn id hastxnid output write int64 writeuint64 get txn id gettxnid ha claim hasshouldclaim output write writebool get claim getshouldclaim ha topic hastop output write byte writebyt get topic gettop ha publish request haspublishrequest output write messag writemessag 52 get publish request getpublishrequest ha subscrib request hassubscriberequest output write messag writemessag 53 get subscrib request getsubscriberequest ha consum request hasconsumerequest output write messag writemessag 54 get consum request getconsumerequest ha unsubscrib request hasunsubscriberequest output write messag writemessag 55 get unsubscrib request getunsubscriberequest ha stop deliveri request hasstopdeliveryrequest output write messag writemessag 56 get stop deliveri request getstopdeliveryrequest ha start deliveri request hasstartdeliveryrequest output write messag writemessag 57 get start deliveri request getstartdeliveryrequest get unknown field getunknownfield write writeto output memoiz serial size memoizedserializeds get serial size getserializeds size memoiz serial size memoizedserializeds size size size ha protocol version hasprotocolvers size com googl protobuf code output stream codedoutputstream comput size computeenums get protocol version getprotocolvers get number getnumb ha type hastyp size com googl protobuf code output stream codedoutputstream comput size computeenums get type gettyp get number getnumb data size datas com googl protobuf string bytestr element get server list gettriedserverslist data size datas com googl protobuf code output stream codedoutputstream comput byte size tag computebytessizenotag element size data size datas size get server list gettriedserverslist size ha txn id hastxnid size com googl protobuf code output stream codedoutputstream comput int64 size computeuint64s get txn id gettxnid ha claim hasshouldclaim size com googl protobuf code output stream codedoutputstream comput size computebools get claim getshouldclaim ha topic hastop size com googl protobuf code output stream codedoutputstream comput byte size computebytess get topic gettop ha publish request haspublishrequest size com googl protobuf code output stream codedoutputstream comput messag size computemessages 52 get publish request getpublishrequest ha subscrib request hassubscriberequest size com googl protobuf code output stream codedoutputstream comput messag size computemessages 53 get subscrib request getsubscriberequest ha consum request hasconsumerequest size com googl protobuf code output stream codedoutputstream comput messag size computemessages 54 get consum request getconsumerequest ha unsubscrib request hasunsubscriberequest size com googl protobuf code output stream codedoutputstream comput messag size computemessages 55 get unsubscrib request getunsubscriberequest ha stop deliveri request hasstopdeliveryrequest size com googl protobuf code output stream codedoutputstream comput messag size computemessages 56 get stop deliveri request getstopdeliveryrequest ha start deliveri request hasstartdeliveryrequest size com googl protobuf code output stream codedoutputstream comput messag size computemessages 57 get start deliveri request getstartdeliveryrequest size get unknown field getunknownfield get serial size getserializeds memoiz serial size memoizedserializeds size size org apach hedwig protocol pub sub protocol pubsubprotocol pub sub request pubsubrequest pars from parsefrom com googl protobuf string bytestr data com googl protobuf invalid protocol buffer except invalidprotocolbufferexcept builder newbuild merg from mergefrom data build pars buildpars org apach hedwig protocol pub sub protocol pubsubprotocol pub sub request pubsubrequest pars from parsefrom com googl protobuf string bytestr data com googl protobuf extens registri lite extensionregistrylit extens registri extensionregistri com googl protobuf invalid protocol buffer except invalidprotocolbufferexcept builder newbuild merg from mergefrom data extens registri extensionregistri build pars buildpars org apach hedwig protocol pub sub protocol pubsubprotocol pub sub request pubsubrequest pars from parsefrom data com googl protobuf invalid protocol buffer except invalidprotocolbufferexcept builder newbuild merg from mergefrom data build pars buildpars org apach hedwig protocol pub sub protocol pubsubprotocol pub sub request pubsubrequest pars from parsefrom data com googl protobuf extens registri lite extensionregistrylit extens registri extensionregistri com googl protobuf invalid protocol buffer except invalidprotocolbufferexcept builder newbuild merg from mergefrom data extens registri extensionregistri build pars buildpars org apach hedwig protocol pub sub protocol pubsubprotocol pub sub request pubsubrequest pars from parsefrom java io input stream inputstream input java io io except ioexcept builder newbuild merg from mergefrom input build pars buildpars org apach hedwig protocol pub sub protocol pubsubprotocol pub sub request pubsubrequest pars from parsefrom java io input stream inputstream input com googl protobuf extens registri lite extensionregistrylit extens registri extensionregistri java io io except ioexcept builder newbuild merg from mergefrom input extens registri extensionregistri build pars buildpars org apach hedwig protocol pub sub protocol pubsubprotocol pub sub request pubsubrequest pars delimit from parsedelimitedfrom java io input stream inputstream input java io io except ioexcept builder builder builder newbuild builder merg delimit from mergedelimitedfrom input builder build pars buildpars org apach hedwig protocol pub sub protocol pubsubprotocol pub sub request pubsubrequest pars delimit from parsedelimitedfrom java io input stream inputstream input com googl protobuf extens registri lite extensionregistrylit extens registri extensionregistri java io io except ioexcept builder builder builder newbuild builder merg delimit from mergedelimitedfrom input extens registri extensionregistri builder build pars buildpars org apach hedwig protocol pub sub protocol pubsubprotocol pub sub request pubsubrequest pars from parsefrom com googl protobuf code input stream codedinputstream input java io io except ioexcept builder newbuild merg from mergefrom input build pars buildpars org apach hedwig protocol pub sub protocol pubsubprotocol pub sub request pubsubrequest pars from parsefrom com googl protobuf code input stream codedinputstream input com googl protobuf extens registri lite extensionregistrylit extens registri extensionregistri java io io except ioexcept builder newbuild merg from mergefrom input extens registri extensionregistri build pars buildpars builder builder newbuild builder creat builder builder type newbuilderfortyp builder newbuild builder builder newbuild org apach hedwig protocol pub sub protocol pubsubprotocol pub sub request pubsubrequest prototyp builder newbuild merg from mergefrom prototyp builder builder tobuild builder newbuild builder com googl protobuf gener messag generatedmessag builder builder org apach hedwig protocol pub sub protocol pubsubprotocol pub sub request pubsubrequest result construct org apach hedwig protocol pub sub protocol pubsubprotocol pub sub request pubsubrequest builder newbuild builder builder creat builder builder builder builder result org apach hedwig protocol pub sub protocol pubsubprotocol pub sub request pubsubrequest builder org apach hedwig protocol pub sub protocol pubsubprotocol pub sub request pubsubrequest intern get result internalgetresult result builder clear result illeg state except illegalstateexcept call clear after build result org apach hedwig protocol pub sub protocol pubsubprotocol pub sub request pubsubrequest builder clone creat merg from mergefrom result com googl protobuf descriptor descriptor get descriptor type getdescriptorfortyp org apach hedwig protocol pub sub protocol pubsubprotocol pub sub request pubsubrequest get descriptor getdescriptor org apach hedwig protocol pub sub protocol pubsubprotocol pub sub request pubsubrequest get instanc type getdefaultinstancefortyp org apach hedwig protocol pub sub protocol pubsubprotocol pub sub request pubsubrequest get instanc getdefaultinst initi isiniti result initi isiniti org apach hedwig protocol pub sub protocol pubsubprotocol pub sub request pubsubrequest build result initi isiniti uniniti messag except newuninitializedmessageexcept result build partial buildparti org apach hedwig protocol pub sub protocol pubsubprotocol pub sub request pubsubrequest build pars buildpars com googl protobuf invalid protocol buffer except invalidprotocolbufferexcept initi isiniti uniniti messag except newuninitializedmessageexcept result invalid protocol buffer except asinvalidprotocolbufferexcept build partial buildparti org apach hedwig protocol pub sub protocol pubsubprotocol pub sub request pubsubrequest build partial buildparti result illeg state except illegalstateexcept build ha call builder result server triedservers_ java util collect empti list empty_list result server triedservers_ java util collect unmodifi list unmodifiablelist result server triedservers_ org apach hedwig protocol pub sub protocol pubsubprotocol pub sub request pubsubrequest returnm result result returnm builder merg from mergefrom com googl protobuf messag org apach hedwig protocol pub sub protocol pubsubprotocol pub sub request pubsubrequest merg from mergefrom org apach hedwig protocol pub sub protocol pubsubprotocol pub sub request pubsubrequest merg from mergefrom builder merg from mergefrom org apach hedwig protocol pub sub protocol pubsubprotocol pub sub request pubsubrequest org apach hedwig protocol pub sub protocol pubsubprotocol pub sub request pubsubrequest get instanc getdefaultinst ha protocol version hasprotocolvers set protocol version setprotocolvers get protocol version getprotocolvers ha type hastyp set type settyp get type gettyp server triedservers_ empti isempti result server triedservers_ empti isempti result server triedservers_ java util arrai list arraylist com googl protobuf string bytestr result server triedservers_ add addal server triedservers_ ha txn id hastxnid set txn id settxnid get txn id gettxnid ha claim hasshouldclaim set claim setshouldclaim get claim getshouldclaim ha topic hastop set topic settop get topic gettop ha publish request haspublishrequest merg publish request mergepublishrequest get publish request getpublishrequest ha subscrib request hassubscriberequest merg subscrib request mergesubscriberequest get subscrib request getsubscriberequest ha consum request hasconsumerequest merg consum request mergeconsumerequest get consum request getconsumerequest ha unsubscrib request hasunsubscriberequest merg unsubscrib request mergeunsubscriberequest get unsubscrib request getunsubscriberequest ha stop deliveri request hasstopdeliveryrequest merg stop deliveri request mergestopdeliveryrequest get stop deliveri request getstopdeliveryrequest ha start deliveri request hasstartdeliveryrequest merg start deliveri request mergestartdeliveryrequest get start deliveri request getstartdeliveryrequest merg unknown field mergeunknownfield get unknown field getunknownfield builder merg from mergefrom com googl protobuf code input stream codedinputstream input com googl protobuf extens registri lite extensionregistrylit extens registri extensionregistri java io io except ioexcept com googl protobuf unknown field set unknownfieldset builder unknown field unknownfield com googl protobuf unknown field set unknownfieldset builder newbuild get unknown field getunknownfield tag input read tag readtag tag set unknown field setunknownfield unknown field unknownfield build pars unknown field parseunknownfield input unknown field unknownfield extens registri extensionregistri tag set unknown field setunknownfield unknown field unknownfield build raw valu rawvalu input read readenum org apach hedwig protocol pub sub protocol pubsubprotocol protocol version protocolvers valu org apach hedwig protocol pub sub protocol pubsubprotocol protocol version protocolvers valu valueof raw valu rawvalu valu unknown field unknownfield merg varint field mergevarintfield raw valu rawvalu set protocol version setprotocolvers valu 16 raw valu rawvalu input read readenum org apach hedwig protocol pub sub protocol pubsubprotocol oper type operationtyp valu org apach hedwig protocol pub sub protocol pubsubprotocol oper type operationtyp valu valueof raw valu rawvalu valu unknown field unknownfield merg varint field mergevarintfield raw valu rawvalu set type settyp valu 26 add server addtriedserv input read byte readbyt 32 set txn id settxnid input read int64 readuint64 40 set claim setshouldclaim input read readbool 50 set topic settop input read byte readbyt 418 org apach hedwig protocol pub sub protocol pubsubprotocol publish request publishrequest builder sub builder subbuild org apach hedwig protocol pub sub protocol pubsubprotocol publish request publishrequest builder newbuild ha publish request haspublishrequest sub builder subbuild merg from mergefrom get publish request getpublishrequest input read messag readmessag sub builder subbuild extens registri extensionregistri set publish request setpublishrequest sub builder subbuild build partial buildparti 426 org apach hedwig protocol pub sub protocol pubsubprotocol subscrib request subscriberequest builder sub builder subbuild org apach hedwig protocol pub sub protocol pubsubprotocol subscrib request subscriberequest builder newbuild ha subscrib request hassubscriberequest sub builder subbuild merg from mergefrom get subscrib request getsubscriberequest input read messag readmessag sub builder subbuild extens registri extensionregistri set subscrib request setsubscriberequest sub builder subbuild build partial buildparti 434 org apach hedwig protocol pub sub protocol pubsubprotocol consum request consumerequest builder sub builder subbuild org apach hedwig protocol pub sub protocol pubsubprotocol consum request consumerequest builder newbuild ha consum request hasconsumerequest sub builder subbuild merg from mergefrom get consum request getconsumerequest input read messag readmessag sub builder subbuild extens registri extensionregistri set consum request setconsumerequest sub builder subbuild build partial buildparti 442 org apach hedwig protocol pub sub protocol pubsubprotocol unsubscrib request unsubscriberequest builder sub builder subbuild org apach hedwig protocol pub sub protocol pubsubprotocol unsubscrib request unsubscriberequest builder newbuild ha unsubscrib request hasunsubscriberequest sub builder subbuild merg from mergefrom get unsubscrib request getunsubscriberequest input read messag readmessag sub builder subbuild extens registri extensionregistri set unsubscrib request setunsubscriberequest sub builder subbuild build partial buildparti 450 org apach hedwig protocol pub sub protocol pubsubprotocol stop deliveri request stopdeliveryrequest builder sub builder subbuild org apach hedwig protocol pub sub protocol pubsubprotocol stop deliveri request stopdeliveryrequest builder newbuild ha stop deliveri request hasstopdeliveryrequest sub builder subbuild merg from mergefrom get stop deliveri request getstopdeliveryrequest input read messag readmessag sub builder subbuild extens registri extensionregistri set stop deliveri request setstopdeliveryrequest sub builder subbuild build partial buildparti 458 org apach hedwig protocol pub sub protocol pubsubprotocol start deliveri request startdeliveryrequest builder sub builder subbuild org apach hedwig protocol pub sub protocol pubsubprotocol start deliveri request startdeliveryrequest builder newbuild ha start deliveri request hasstartdeliveryrequest sub builder subbuild merg from mergefrom get start deliveri request getstartdeliveryrequest input read messag readmessag sub builder subbuild extens registri extensionregistri set start deliveri request setstartdeliveryrequest sub builder subbuild build partial buildparti requir hedwig protocol version protocolvers protocol version protocolvers ha protocol version hasprotocolvers result ha protocol version hasprotocolvers org apach hedwig protocol pub sub protocol pubsubprotocol protocol version protocolvers get protocol version getprotocolvers result get protocol version getprotocolvers builder set protocol version setprotocolvers org apach hedwig protocol pub sub protocol pubsubprotocol protocol version protocolvers valu valu pointer except nullpointerexcept result ha protocol version hasprotocolvers result protocol version protocolversion_ valu builder clear protocol version clearprotocolvers result ha protocol version hasprotocolvers result protocol version protocolversion_ org apach hedwig protocol pub sub protocol pubsubprotocol protocol version protocolvers version on version_on requir hedwig oper type operationtyp type ha type hastyp result ha type hastyp org apach hedwig protocol pub sub protocol pubsubprotocol oper type operationtyp get type gettyp result get type gettyp builder set type settyp org apach hedwig protocol pub sub protocol pubsubprotocol oper type operationtyp valu valu pointer except nullpointerexcept result ha type hastyp result type type_ valu builder clear type cleartyp result ha type hastyp result type type_ org apach hedwig protocol pub sub protocol pubsubprotocol oper type operationtyp publish repeat byte server triedserv java util list com googl protobuf string bytestr get server list gettriedserverslist java util collect unmodifi list unmodifiablelist result server triedservers_ get server count gettriedserverscount result get server count gettriedserverscount com googl protobuf string bytestr get server gettriedserv index result get server gettriedserv index builder set server settriedserv index com googl protobuf string bytestr valu valu pointer except nullpointerexcept result server triedservers_ set index valu builder add server addtriedserv com googl protobuf string bytestr valu valu pointer except nullpointerexcept result server triedservers_ empti isempti result server triedservers_ java util arrai list arraylist com googl protobuf string bytestr result server triedservers_ add valu builder add server addalltriedserv java lang iter com googl protobuf string bytestr valu result server triedservers_ empti isempti result server triedservers_ java util arrai list arraylist com googl protobuf string bytestr add addal valu result server triedservers_ builder clear server cleartriedserv result server triedservers_ java util collect empti list emptylist requir uint64 txn id txnid ha txn id hastxnid result ha txn id hastxnid get txn id gettxnid result get txn id gettxnid builder set txn id settxnid valu result ha txn id hastxnid result txn id txnid_ valu builder clear txn id cleartxnid result ha txn id hastxnid result txn id txnid_ 0l option claim shouldclaim ha claim hasshouldclaim result ha claim hasshouldclaim get claim getshouldclaim result get claim getshouldclaim builder set claim setshouldclaim valu result ha claim hasshouldclaim result claim shouldclaim_ valu builder clear claim clearshouldclaim result ha claim hasshouldclaim result claim shouldclaim_ requir byte topic ha topic hastop result ha topic hastop com googl protobuf string bytestr get topic gettop result get topic gettop builder set topic settop com googl protobuf string bytestr valu valu pointer except nullpointerexcept result ha topic hastop result topic topic_ valu builder clear topic cleartop result ha topic hastop result topic topic_ get instanc getdefaultinst get topic gettop option hedwig publish request publishrequest publish request publishrequest 52 ha publish request haspublishrequest result ha publish request haspublishrequest org apach hedwig protocol pub sub protocol pubsubprotocol publish request publishrequest get publish request getpublishrequest result get publish request getpublishrequest builder set publish request setpublishrequest org apach hedwig protocol pub sub protocol pubsubprotocol publish request publishrequest valu valu pointer except nullpointerexcept result ha publish request haspublishrequest result publish request publishrequest_ valu builder set publish request setpublishrequest org apach hedwig protocol pub sub protocol pubsubprotocol publish request publishrequest builder builder valu builderforvalu result ha publish request haspublishrequest result publish request publishrequest_ builder valu builderforvalu build builder merg publish request mergepublishrequest org apach hedwig protocol pub sub protocol pubsubprotocol publish request publishrequest valu result ha publish request haspublishrequest result publish request publishrequest_ org apach hedwig protocol pub sub protocol pubsubprotocol publish request publishrequest get instanc getdefaultinst result publish request publishrequest_ org apach hedwig protocol pub sub protocol pubsubprotocol publish request publishrequest builder newbuild result publish request publishrequest_ merg from mergefrom valu build partial buildparti result publish request publishrequest_ valu result ha publish request haspublishrequest builder clear publish request clearpublishrequest result ha publish request haspublishrequest result publish request publishrequest_ org apach hedwig protocol pub sub protocol pubsubprotocol publish request publishrequest get instanc getdefaultinst option hedwig subscrib request subscriberequest subscrib request subscriberequest 53 ha subscrib request hassubscriberequest result ha subscrib request hassubscriberequest org apach hedwig protocol pub sub protocol pubsubprotocol subscrib request subscriberequest get subscrib request getsubscriberequest result get subscrib request getsubscriberequest builder set subscrib request setsubscriberequest org apach hedwig protocol pub sub protocol pubsubprotocol subscrib request subscriberequest valu valu pointer except nullpointerexcept result ha subscrib request hassubscriberequest result subscrib request subscriberequest_ valu builder set subscrib request setsubscriberequest org apach hedwig protocol pub sub protocol pubsubprotocol subscrib request subscriberequest builder builder valu builderforvalu result ha subscrib request hassubscriberequest result subscrib request subscriberequest_ builder valu builderforvalu build builder merg subscrib request mergesubscriberequest org apach hedwig protocol pub sub protocol pubsubprotocol subscrib request subscriberequest valu result ha subscrib request hassubscriberequest result subscrib request subscriberequest_ org apach hedwig protocol pub sub protocol pubsubprotocol subscrib request subscriberequest get instanc getdefaultinst result subscrib request subscriberequest_ org apach hedwig protocol pub sub protocol pubsubprotocol subscrib request subscriberequest builder newbuild result subscrib request subscriberequest_ merg from mergefrom valu build partial buildparti result subscrib request subscriberequest_ valu result ha subscrib request hassubscriberequest builder clear subscrib request clearsubscriberequest result ha subscrib request hassubscriberequest result subscrib request subscriberequest_ org apach hedwig protocol pub sub protocol pubsubprotocol subscrib request subscriberequest get instanc getdefaultinst option hedwig consum request consumerequest consum request consumerequest 54 ha consum request hasconsumerequest result ha consum request hasconsumerequest org apach hedwig protocol pub sub protocol pubsubprotocol consum request consumerequest get consum request getconsumerequest result get consum request getconsumerequest builder set consum request setconsumerequest org apach hedwig protocol pub sub protocol pubsubprotocol consum request consumerequest valu valu pointer except nullpointerexcept result ha consum request hasconsumerequest result consum request consumerequest_ valu builder set consum request setconsumerequest org apach hedwig protocol pub sub protocol pubsubprotocol consum request consumerequest builder builder valu builderforvalu result ha consum request hasconsumerequest result consum request consumerequest_ builder valu builderforvalu build builder merg consum request mergeconsumerequest org apach hedwig protocol pub sub protocol pubsubprotocol consum request consumerequest valu result ha consum request hasconsumerequest result consum request consumerequest_ org apach hedwig protocol pub sub protocol pubsubprotocol consum request consumerequest get instanc getdefaultinst result consum request consumerequest_ org apach hedwig protocol pub sub protocol pubsubprotocol consum request consumerequest builder newbuild result consum request consumerequest_ merg from mergefrom valu build partial buildparti result consum request consumerequest_ valu result ha consum request hasconsumerequest builder clear consum request clearconsumerequest result ha consum request hasconsumerequest result consum request consumerequest_ org apach hedwig protocol pub sub protocol pubsubprotocol consum request consumerequest get instanc getdefaultinst option hedwig unsubscrib request unsubscriberequest unsubscrib request unsubscriberequest 55 ha unsubscrib request hasunsubscriberequest result ha unsubscrib request hasunsubscriberequest org apach hedwig protocol pub sub protocol pubsubprotocol unsubscrib request unsubscriberequest get unsubscrib request getunsubscriberequest result get unsubscrib request getunsubscriberequest builder set unsubscrib request setunsubscriberequest org apach hedwig protocol pub sub protocol pubsubprotocol unsubscrib request unsubscriberequest valu valu pointer except nullpointerexcept result ha unsubscrib request hasunsubscriberequest result unsubscrib request unsubscriberequest_ valu builder set unsubscrib request setunsubscriberequest org apach hedwig protocol pub sub protocol pubsubprotocol unsubscrib request unsubscriberequest builder builder valu builderforvalu result ha unsubscrib request hasunsubscriberequest result unsubscrib request unsubscriberequest_ builder valu builderforvalu build builder merg unsubscrib request mergeunsubscriberequest org apach hedwig protocol pub sub protocol pubsubprotocol unsubscrib request unsubscriberequest valu result ha unsubscrib request hasunsubscriberequest result unsubscrib request unsubscriberequest_ org apach hedwig protocol pub sub protocol pubsubprotocol unsubscrib request unsubscriberequest get instanc getdefaultinst result unsubscrib request unsubscriberequest_ org apach hedwig protocol pub sub protocol pubsubprotocol unsubscrib request unsubscriberequest builder newbuild result unsubscrib request unsubscriberequest_ merg from mergefrom valu build partial buildparti result unsubscrib request unsubscriberequest_ valu result ha unsubscrib request hasunsubscriberequest builder clear unsubscrib request clearunsubscriberequest result ha unsubscrib request hasunsubscriberequest result unsubscrib request unsubscriberequest_ org apach hedwig protocol pub sub protocol pubsubprotocol unsubscrib request unsubscriberequest get instanc getdefaultinst option hedwig stop deliveri request stopdeliveryrequest stop deliveri request stopdeliveryrequest 56 ha stop deliveri request hasstopdeliveryrequest result ha stop deliveri request hasstopdeliveryrequest org apach hedwig protocol pub sub protocol pubsubprotocol stop deliveri request stopdeliveryrequest get stop deliveri request getstopdeliveryrequest result get stop deliveri request getstopdeliveryrequest builder set stop deliveri request setstopdeliveryrequest org apach hedwig protocol pub sub protocol pubsubprotocol stop deliveri request stopdeliveryrequest valu valu pointer except nullpointerexcept result ha stop deliveri request hasstopdeliveryrequest result stop deliveri request stopdeliveryrequest_ valu builder set stop deliveri request setstopdeliveryrequest org apach hedwig protocol pub sub protocol pubsubprotocol stop deliveri request stopdeliveryrequest builder builder valu builderforvalu result ha stop deliveri request hasstopdeliveryrequest result stop deliveri request stopdeliveryrequest_ builder valu builderforvalu build builder merg stop deliveri request mergestopdeliveryrequest org apach hedwig protocol pub sub protocol pubsubprotocol stop deliveri request stopdeliveryrequest valu result ha stop deliveri request hasstopdeliveryrequest result stop deliveri request stopdeliveryrequest_ org apach hedwig protocol pub sub protocol pubsubprotocol stop deliveri request stopdeliveryrequest get instanc getdefaultinst result stop deliveri request stopdeliveryrequest_ org apach hedwig protocol pub sub protocol pubsubprotocol stop deliveri request stopdeliveryrequest builder newbuild result stop deliveri request stopdeliveryrequest_ merg from mergefrom valu build partial buildparti result stop deliveri request stopdeliveryrequest_ valu result ha stop deliveri request hasstopdeliveryrequest builder clear stop deliveri request clearstopdeliveryrequest result ha stop deliveri request hasstopdeliveryrequest result stop deliveri request stopdeliveryrequest_ org apach hedwig protocol pub sub protocol pubsubprotocol stop deliveri request stopdeliveryrequest get instanc getdefaultinst option hedwig start deliveri request startdeliveryrequest start deliveri request startdeliveryrequest 57 ha start deliveri request hasstartdeliveryrequest result ha start deliveri request hasstartdeliveryrequest org apach hedwig protocol pub sub protocol pubsubprotocol start deliveri request startdeliveryrequest get start deliveri request getstartdeliveryrequest result get start deliveri request getstartdeliveryrequest builder set start deliveri request setstartdeliveryrequest org apach hedwig protocol pub sub protocol pubsubprotocol start deliveri request startdeliveryrequest valu valu pointer except nullpointerexcept result ha start deliveri request hasstartdeliveryrequest result start deliveri request startdeliveryrequest_ valu builder set start deliveri request setstartdeliveryrequest org apach hedwig protocol pub sub protocol pubsubprotocol start deliveri request startdeliveryrequest builder builder valu builderforvalu result ha start deliveri request hasstartdeliveryrequest result start deliveri request startdeliveryrequest_ builder valu builderforvalu build builder merg start deliveri request mergestartdeliveryrequest org apach hedwig protocol pub sub protocol pubsubprotocol start deliveri request startdeliveryrequest valu result ha start deliveri request hasstartdeliveryrequest result start deliveri request startdeliveryrequest_ org apach hedwig protocol pub sub protocol pubsubprotocol start deliveri request startdeliveryrequest get instanc getdefaultinst result start deliveri request startdeliveryrequest_ org apach hedwig protocol pub sub protocol pubsubprotocol start deliveri request startdeliveryrequest builder newbuild result start deliveri request startdeliveryrequest_ merg from mergefrom valu build partial buildparti result start deliveri request startdeliveryrequest_ valu result ha start deliveri request hasstartdeliveryrequest builder clear start deliveri request clearstartdeliveryrequest result ha start deliveri request hasstartdeliveryrequest result start deliveri request startdeliveryrequest_ org apach hedwig protocol pub sub protocol pubsubprotocol start deliveri request startdeliveryrequest get instanc getdefaultinst protoc insert point protoc_insertion_point builder scope builder_scop hedwig pub sub request pubsubrequest instanc defaultinst pub sub request pubsubrequest org apach hedwig protocol pub sub protocol pubsubprotocol intern forc init internalforceinit instanc defaultinst init field initfield protoc insert point protoc_insertion_point scope class_scop hedwig pub sub request pubsubrequest 
safe async zk callback safeasynczkcallback safe async callback safeasynccallback abstract stat callback statcallback async callback asynccallback stat callback statcallback process result processresult rc string path object ctx stat stat safe process result safeprocessresult rc path ctx stat throwabl invok uncaught except handler invokeuncaughtexceptionhandl abstract safe process result safeprocessresult rc string path object ctx stat stat abstract data callback datacallback async callback asynccallback data callback datacallback process result processresult rc string path object ctx data stat stat safe process result safeprocessresult rc path ctx data stat throwabl invok uncaught except handler invokeuncaughtexceptionhandl abstract safe process result safeprocessresult rc string path object ctx data stat stat abstract acl callback aclcallback async callback asynccallback acl callback aclcallback process result processresult rc string path object ctx list acl acl stat stat safe process result safeprocessresult rc path ctx acl stat throwabl invok uncaught except handler invokeuncaughtexceptionhandl abstract safe process result safeprocessresult rc string path object ctx list acl acl stat stat abstract children callback childrencallback async callback asynccallback children callback childrencallback process result processresult rc string path object ctx list string children safe process result safeprocessresult rc path ctx children throwabl invok uncaught except handler invokeuncaughtexceptionhandl abstract safe process result safeprocessresult rc string path object ctx list string children abstract string callback stringcallback async callback asynccallback string callback stringcallback process result processresult rc string path object ctx string name safe process result safeprocessresult rc path ctx name throwabl invok uncaught except handler invokeuncaughtexceptionhandl abstract safe process result safeprocessresult rc string path object ctx string name abstract callback voidcallback async callback asynccallback callback voidcallback process result processresult rc string path object ctx safe process result safeprocessresult rc path ctx throwabl invok uncaught except handler invokeuncaughtexceptionhandl abstract safe process result safeprocessresult rc string path object ctx 
child server configur serverconfigur us here extend class defin possibl extend from overrid get server configur getserverconfigur method configur region server configur regionserverconfigur server configur serverconfigur server port serverport ssl server port sslserverport string region name regionnam region server configur regionserverconfigur server port serverport ssl server port sslserverport string region name regionnam server port serverport server port serverport ssl server port sslserverport ssl server port sslserverport region name regionnam region name regionnam set region list setregionlist set region list setregionlist list string region list myregionlist link list linkedlist string num region numregion cur server port curdefaultserverport initi server port initialserverport num server region numserversperregion cur ssl server port curdefaultsslserverport initi ssl server port initialsslserverport num server region numserversperregion add region server port region cur server port curdefaultserverport server port serverport math ab server port serverport cur server port curdefaultserverport num server region numserversperregion region list myregionlist add localhost cur server port curdefaultserverport cur ssl server port curdefaultsslserverport region list regionlist region list myregionlist overrid get server port getserverport server port serverport overrid get ssl server port getsslserverport ssl server port sslserverport overrid string get zk host getzkhost bktb get zk host port getzkhostport overrid string get region getmyregion region name regionnam overrid ssl enabl issslen overrid inter region ssl enabl isinterregionsslen overrid string get cert name getcertnam server p12 overrid string get password getpassword uy svp2 ph m2 wk euysvp2phm2wk 
server configur myserverconfigur server configur serverconfigur note set up size limit reach befor count limit read ahead count readaheadcount num messag num_messag read ahead size readaheads msg size msg_size max cach size maxcaches max valu max_valu overrid get read ahead count getreadaheadcount read ahead count readaheadcount overrid get read ahead size byte getreadaheadsizebyt read ahead size readaheads overrid get maximum cach size getmaximumcaches max cach size maxcaches 
messag com googl protobuf gener messag generatedmessag us messag builder newbuild construct messag init field initfield messag init noinit messag instanc defaultinst messag get instanc getdefaultinst instanc defaultinst messag get instanc type getdefaultinstancefortyp instanc defaultinst com googl protobuf descriptor descriptor get descriptor getdescriptor org apach hedwig protocol pub sub protocol pubsubprotocol intern hedwig messag descriptor internal_static_hedwig_message_descriptor com googl protobuf gener messag generatedmessag field accessor tabl fieldaccessort intern get field accessor tabl internalgetfieldaccessort org apach hedwig protocol pub sub protocol pubsubprotocol intern hedwig messag field accessor tabl internal_static_hedwig_message_fieldaccessort requir byte bodi bodi field number body_field_numb ha bodi hasbodi com googl protobuf string bytestr bodi body_ com googl protobuf string bytestr empti ha bodi hasbodi ha bodi hasbodi com googl protobuf string bytestr get bodi getbodi bodi body_ option byte src region srcregion srcregion field number srcregion_field_numb ha src region hassrcregion com googl protobuf string bytestr src region srcregion_ com googl protobuf string bytestr empti ha src region hassrcregion ha src region hassrcregion com googl protobuf string bytestr get src region getsrcregion src region srcregion_ option hedwig messag seq id messageseqid msg id msgid msgid field number msgid_field_numb ha msg id hasmsgid org apach hedwig protocol pub sub protocol pubsubprotocol messag seq id messageseqid msg id msgid_ ha msg id hasmsgid ha msg id hasmsgid org apach hedwig protocol pub sub protocol pubsubprotocol messag seq id messageseqid get msg id getmsgid msg id msgid_ init field initfield msg id msgid_ org apach hedwig protocol pub sub protocol pubsubprotocol messag seq id messageseqid get instanc getdefaultinst initi isiniti ha bodi hasbodi ha msg id hasmsgid get msg id getmsgid initi isiniti write writeto com googl protobuf code output stream codedoutputstream output java io io except ioexcept get serial size getserializeds ha bodi hasbodi output write byte writebyt get bodi getbodi ha src region hassrcregion output write byte writebyt get src region getsrcregion ha msg id hasmsgid output write messag writemessag get msg id getmsgid get unknown field getunknownfield write writeto output memoiz serial size memoizedserializeds get serial size getserializeds size memoiz serial size memoizedserializeds size size size ha bodi hasbodi size com googl protobuf code output stream codedoutputstream comput byte size computebytess get bodi getbodi ha src region hassrcregion size com googl protobuf code output stream codedoutputstream comput byte size computebytess get src region getsrcregion ha msg id hasmsgid size com googl protobuf code output stream codedoutputstream comput messag size computemessages get msg id getmsgid size get unknown field getunknownfield get serial size getserializeds memoiz serial size memoizedserializeds size size org apach hedwig protocol pub sub protocol pubsubprotocol messag pars from parsefrom com googl protobuf string bytestr data com googl protobuf invalid protocol buffer except invalidprotocolbufferexcept builder newbuild merg from mergefrom data build pars buildpars org apach hedwig protocol pub sub protocol pubsubprotocol messag pars from parsefrom com googl protobuf string bytestr data com googl protobuf extens registri lite extensionregistrylit extens registri extensionregistri com googl protobuf invalid protocol buffer except invalidprotocolbufferexcept builder newbuild merg from mergefrom data extens registri extensionregistri build pars buildpars org apach hedwig protocol pub sub protocol pubsubprotocol messag pars from parsefrom data com googl protobuf invalid protocol buffer except invalidprotocolbufferexcept builder newbuild merg from mergefrom data build pars buildpars org apach hedwig protocol pub sub protocol pubsubprotocol messag pars from parsefrom data com googl protobuf extens registri lite extensionregistrylit extens registri extensionregistri com googl protobuf invalid protocol buffer except invalidprotocolbufferexcept builder newbuild merg from mergefrom data extens registri extensionregistri build pars buildpars org apach hedwig protocol pub sub protocol pubsubprotocol messag pars from parsefrom java io input stream inputstream input java io io except ioexcept builder newbuild merg from mergefrom input build pars buildpars org apach hedwig protocol pub sub protocol pubsubprotocol messag pars from parsefrom java io input stream inputstream input com googl protobuf extens registri lite extensionregistrylit extens registri extensionregistri java io io except ioexcept builder newbuild merg from mergefrom input extens registri extensionregistri build pars buildpars org apach hedwig protocol pub sub protocol pubsubprotocol messag pars delimit from parsedelimitedfrom java io input stream inputstream input java io io except ioexcept builder builder builder newbuild builder merg delimit from mergedelimitedfrom input builder build pars buildpars org apach hedwig protocol pub sub protocol pubsubprotocol messag pars delimit from parsedelimitedfrom java io input stream inputstream input com googl protobuf extens registri lite extensionregistrylit extens registri extensionregistri java io io except ioexcept builder builder builder newbuild builder merg delimit from mergedelimitedfrom input extens registri extensionregistri builder build pars buildpars org apach hedwig protocol pub sub protocol pubsubprotocol messag pars from parsefrom com googl protobuf code input stream codedinputstream input java io io except ioexcept builder newbuild merg from mergefrom input build pars buildpars org apach hedwig protocol pub sub protocol pubsubprotocol messag pars from parsefrom com googl protobuf code input stream codedinputstream input com googl protobuf extens registri lite extensionregistrylit extens registri extensionregistri java io io except ioexcept builder newbuild merg from mergefrom input extens registri extensionregistri build pars buildpars builder builder newbuild builder creat builder builder type newbuilderfortyp builder newbuild builder builder newbuild org apach hedwig protocol pub sub protocol pubsubprotocol messag prototyp builder newbuild merg from mergefrom prototyp builder builder tobuild builder newbuild builder com googl protobuf gener messag generatedmessag builder builder org apach hedwig protocol pub sub protocol pubsubprotocol messag result construct org apach hedwig protocol pub sub protocol pubsubprotocol messag builder newbuild builder builder creat builder builder builder builder result org apach hedwig protocol pub sub protocol pubsubprotocol messag builder org apach hedwig protocol pub sub protocol pubsubprotocol messag intern get result internalgetresult result builder clear result illeg state except illegalstateexcept call clear after build result org apach hedwig protocol pub sub protocol pubsubprotocol messag builder clone creat merg from mergefrom result com googl protobuf descriptor descriptor get descriptor type getdescriptorfortyp org apach hedwig protocol pub sub protocol pubsubprotocol messag get descriptor getdescriptor org apach hedwig protocol pub sub protocol pubsubprotocol messag get instanc type getdefaultinstancefortyp org apach hedwig protocol pub sub protocol pubsubprotocol messag get instanc getdefaultinst initi isiniti result initi isiniti org apach hedwig protocol pub sub protocol pubsubprotocol messag build result initi isiniti uniniti messag except newuninitializedmessageexcept result build partial buildparti org apach hedwig protocol pub sub protocol pubsubprotocol messag build pars buildpars com googl protobuf invalid protocol buffer except invalidprotocolbufferexcept initi isiniti uniniti messag except newuninitializedmessageexcept result invalid protocol buffer except asinvalidprotocolbufferexcept build partial buildparti org apach hedwig protocol pub sub protocol pubsubprotocol messag build partial buildparti result illeg state except illegalstateexcept build ha call builder org apach hedwig protocol pub sub protocol pubsubprotocol messag returnm result result returnm builder merg from mergefrom com googl protobuf messag org apach hedwig protocol pub sub protocol pubsubprotocol messag merg from mergefrom org apach hedwig protocol pub sub protocol pubsubprotocol messag merg from mergefrom builder merg from mergefrom org apach hedwig protocol pub sub protocol pubsubprotocol messag org apach hedwig protocol pub sub protocol pubsubprotocol messag get instanc getdefaultinst ha bodi hasbodi set bodi setbodi get bodi getbodi ha src region hassrcregion set src region setsrcregion get src region getsrcregion ha msg id hasmsgid merg msg id mergemsgid get msg id getmsgid merg unknown field mergeunknownfield get unknown field getunknownfield builder merg from mergefrom com googl protobuf code input stream codedinputstream input com googl protobuf extens registri lite extensionregistrylit extens registri extensionregistri java io io except ioexcept com googl protobuf unknown field set unknownfieldset builder unknown field unknownfield com googl protobuf unknown field set unknownfieldset builder newbuild get unknown field getunknownfield tag input read tag readtag tag set unknown field setunknownfield unknown field unknownfield build pars unknown field parseunknownfield input unknown field unknownfield extens registri extensionregistri tag set unknown field setunknownfield unknown field unknownfield build 10 set bodi setbodi input read byte readbyt 18 set src region setsrcregion input read byte readbyt 26 org apach hedwig protocol pub sub protocol pubsubprotocol messag seq id messageseqid builder sub builder subbuild org apach hedwig protocol pub sub protocol pubsubprotocol messag seq id messageseqid builder newbuild ha msg id hasmsgid sub builder subbuild merg from mergefrom get msg id getmsgid input read messag readmessag sub builder subbuild extens registri extensionregistri set msg id setmsgid sub builder subbuild build partial buildparti requir byte bodi ha bodi hasbodi result ha bodi hasbodi com googl protobuf string bytestr get bodi getbodi result get bodi getbodi builder set bodi setbodi com googl protobuf string bytestr valu valu pointer except nullpointerexcept result ha bodi hasbodi result bodi body_ valu builder clear bodi clearbodi result ha bodi hasbodi result bodi body_ get instanc getdefaultinst get bodi getbodi option byte src region srcregion ha src region hassrcregion result ha src region hassrcregion com googl protobuf string bytestr get src region getsrcregion result get src region getsrcregion builder set src region setsrcregion com googl protobuf string bytestr valu valu pointer except nullpointerexcept result ha src region hassrcregion result src region srcregion_ valu builder clear src region clearsrcregion result ha src region hassrcregion result src region srcregion_ get instanc getdefaultinst get src region getsrcregion option hedwig messag seq id messageseqid msg id msgid ha msg id hasmsgid result ha msg id hasmsgid org apach hedwig protocol pub sub protocol pubsubprotocol messag seq id messageseqid get msg id getmsgid result get msg id getmsgid builder set msg id setmsgid org apach hedwig protocol pub sub protocol pubsubprotocol messag seq id messageseqid valu valu pointer except nullpointerexcept result ha msg id hasmsgid result msg id msgid_ valu builder set msg id setmsgid org apach hedwig protocol pub sub protocol pubsubprotocol messag seq id messageseqid builder builder valu builderforvalu result ha msg id hasmsgid result msg id msgid_ builder valu builderforvalu build builder merg msg id mergemsgid org apach hedwig protocol pub sub protocol pubsubprotocol messag seq id messageseqid valu result ha msg id hasmsgid result msg id msgid_ org apach hedwig protocol pub sub protocol pubsubprotocol messag seq id messageseqid get instanc getdefaultinst result msg id msgid_ org apach hedwig protocol pub sub protocol pubsubprotocol messag seq id messageseqid builder newbuild result msg id msgid_ merg from mergefrom valu build partial buildparti result msg id msgid_ valu result ha msg id hasmsgid builder clear msg id clearmsgid result ha msg id hasmsgid result msg id msgid_ org apach hedwig protocol pub sub protocol pubsubprotocol messag seq id messageseqid get instanc getdefaultinst protoc insert point protoc_insertion_point builder scope builder_scop hedwig messag instanc defaultinst messag org apach hedwig protocol pub sub protocol pubsubprotocol intern forc init internalforceinit instanc defaultinst init field initfield protoc insert point protoc_insertion_point scope class_scop hedwig messag 
show cmd showcmd command mycommand overrid run cmd runcmd string arg except arg length string error msg errormsg hedwig command hedwigcommand show hub show_hub equal arg error msg errormsg unabl fetch list hub server show hub showhub hedwig command hedwigcommand show topic show_top equal arg error msg errormsg unabl fetch list topic show topic showtop err println error unknown show command arg except error msg errormsg err println error msg errormsg print stack trace printstacktrac show hub showhub except map hedwig socket address hedwigsocketaddress integ hub admin get avail hub getavailablehub println avail hub server map entri hedwig socket address hedwigsocketaddress integ entri hub entri set entryset println entri get kei getkei entri get valu getvalu show topic showtop except list string topic admin get topic gettop println topic list println topic 
run runwith parameter abstract base test basetestcas book keeper cluster test bookkeeperclustertestcas logger log logger factori loggerfactori get logger getlogg base test basetestcas base test basetestcas num booki numbooki num booki numbooki paramet collect object config arrai list aslist object digest type digesttyp mac digest type digesttyp crc32 
unit test test ledger fenc test read timeout testreadtimeout book keeper cluster test bookkeeperclustertestcas logger log logger factori loggerfactori get logger getlogg test read timeout testreadtimeout digest type digesttyp digest type digesttyp test read timeout testreadtimeout 10 digest type digesttyp digest type digesttyp crc32 test test read timeout testreadtimeout except atom atomicboolean complet atom atomicboolean ledger handl ledgerhandl writelh bkc creat ledger createledg digest type digesttyp test passwd testpasswd get byte getbyt string tmp foobar num entri numentri 10 num entri numentri writelh add entri addentri tmp get byte getbyt set inet socket address inetsocketaddress befor set beforeset hash set hashset inet socket address inetsocketaddress inet socket address inetsocketaddress addr writelh get ledger metadata getledgermetadata get ensembl getensembl num entri numentri befor set beforeset add addr inet socket address inetsocketaddress booki sleep bookietosleep writelh get ledger metadata getledgermetadata get ensembl getensembl num entri numentri get sleeptim base client conf baseclientconf get read timeout getreadtimeout count down latch countdownlatch latch count down latch countdownlatch sleep booki sleepbooki booki sleep bookietosleep sleeptim latch latch await writelh async add entri asyncaddentri tmp get byte getbyt add callback addcallback add complet addcomplet rc ledger handl ledgerhandl lh entri id entryid object ctx complet set thread sleep base client conf baseclientconf get read timeout getreadtimeout 1000 asserttru write request finish complet get set inet socket address inetsocketaddress after set afterset hash set hashset inet socket address inetsocketaddress inet socket address inetsocketaddress addr writelh get ledger metadata getledgermetadata get ensembl getensembl num entri numentri after set afterset add addr befor set beforeset remov removeal after set afterset asserttru booki set match befor set beforeset size 
storag command line option shell command command option mycommandopt map string string option hash map hashmap string string list string cmd arg cmdarg string command command option mycommandopt string get option getopt string opt option get opt string get command getcommand command string get cmd argument getcmdargu index cmd arg cmdarg get index get num argument getnumargu cmd arg cmdarg size string get arg arrai getargarrai cmd arg cmdarg arrai toarrai string pars command line contain on more flag befor option command string param arg command line argument pars succeed pars option parseopt string arg list string arg list arglist arrai list aslist arg iter string arg list arglist iter ha next hasnext string opt next opt start startswith command opt cmd arg cmdarg arrai list arraylist string cmd arg cmdarg add command ha next hasnext cmd arg cmdarg add next option put opt substr next element except nosuchelementexcept err println error argument found option opt break string command argument param cmdstring string form cmd arg1 arg2 pars succeed pars command parsecommand string cmdstring string arg cmdstring split arg length command arg cmd arg cmdarg arrai list aslist arg 
level hedwig client encapsul common function need publish subscrib oper hedwig client impl hedwigclientimpl client logger logger logger factori loggerfactori get logger getlogg hedwig client impl hedwigclientimpl global counter us gener uniqu transact id publish subscrib request atom atomiclong global counter globalcount atom atomiclong string constant string colon netti socket factori make connect server channel factori channelfactori socket factori socketfactori socket factori on creat own instanti channel factori ownchannelfactori pipelin factori pipelinefactori creat netti client channel appropri server client channel pipelin factori clientchannelpipelinefactori pipelin factori pipelinefactori concurr map store map from topic host chang time server drop mastership topic load balanc failov server host down remov topic map host respons second map us invert version first on concurr map concurrentmap string bytestr inet socket address inetsocketaddress topic2 host topic2host concurr hash map concurrenthashmap string bytestr inet socket address inetsocketaddress concurr map concurrentmap inet socket address inetsocketaddress list string bytestr host2 topic host2top concurr hash map concurrenthashmap inet socket address inetsocketaddress list string bytestr client instanti timer run recur thread on timer task thread timeout run pub sub request pubsubrequest wait ack respons from server timer client timer clienttim timer indic client run ha stop stop client sidestep connect write callback channel disconnect logic stop isstop hedwig subscrib hedwigsubscrib sub hedwig publish hedwigpublish pub client configur clientconfigur cfg messag consum callback messageconsumecallback consum cb consumecb ssl client context factori sslclientcontextfactori ssl factori sslfactori client creat client configur clientconfigur cfg hedwig client impl hedwigclientimpl cfg client creat client configur clientconfigur cfg channel factori channelfactori socket factori socketfactori hedwig client impl hedwigclientimpl cfg socket factori socketfactori base constructor take configur object creat client socket channel factori hedwig client impl hedwigclientimpl client configur clientconfigur cfg cfg nio client socket channel factori nioclientsocketchannelfactori executor cach thread pool newcachedthreadpool executor cach thread pool newcachedthreadpool channel factori ownchannelfactori constructor take configur object channel factori channelfactori ha instanti caller hedwig client impl hedwigclientimpl client configur clientconfigur cfg channel factori channelfactori socket factori socketfactori cfg cfg socket factori socketfactori socket factori socketfactori pub hedwig publish hedwigpublish sub hedwig subscrib hedwigsubscrib pipelin factori pipelinefactori client channel pipelin factori clientchannelpipelinefactori consum cb consumecb messag consum callback messageconsumecallback cfg ssl enabl issslen ssl factori sslfactori ssl client context factori sslclientcontextfactori cfg schedul client timer task current request timeout task client timer clienttim schedul pub sub request timeout task pubsubrequesttimeouttask cfg get timeout thread run interv gettimeoutthreadruninterv getter compon client client configur clientconfigur get configur getconfigur cfg hedwig subscrib hedwigsubscrib get subscrib getsubscrib sub method set subscrib need current hub version client subscrib set subscrib setsubscrib hedwig subscrib hedwigsubscrib sub sub sub hedwig publish hedwigpublish get publish getpublish pub messag consum callback messageconsumecallback get consum callback getconsumecallback consum cb consumecb ssl client context factori sslclientcontextfactori get ssl factori getsslfactori ssl factori sslfactori deal problem pub sub pubsub request written successfulli server host reason ack messag back happen callback voidcallback store respons handler responsehandl txn2 publish data txn2publishdata map call configur timeout pass from time write successfulli done server fail async pub sub pubsub transact caller possibl redo transact need time creat timeout cleaner timer task timertask here pub sub request timeout task pubsubrequesttimeouttask timer task timertask implement timer task timertask abstract run method overrid run logger debug enabl isdebugen logger debug run pub sub request pubsubrequest timeout task loop outstand pub sub data pubsubdata request check request write time requestwritetim ha time compar current time cur time curtim current time milli currenttimemilli timeout interv timeoutinterv cfg get server ack respons timeout getserverackresponsetimeout first check respons handler responsehandl associ cach channel hedwig publish hedwigpublish host2 channel host2channel store channel us publish unsubscrib request channel channel pub host2 channel host2channel valu respons handler responsehandl respons handler responsehandl get respons handler from channel getresponsehandlerfromchannel channel pub sub data pubsubdata pub sub data pubsubdata respons handler responsehandl txn2 pub sub data txn2pubsubdata valu check pub sub data time checkpubsubdatatotimeout pub sub data pubsubdata respons handler responsehandl cur time curtim timeout interv timeoutinterv cach channel hedwig subscrib hedwigsubscrib topic subscriber2 channel topicsubscriber2channel store channel us exclus subscrib request channel channel sub topic subscriber2 channel topicsubscriber2channel valu respons handler responsehandl respons handler responsehandl get respons handler from channel getresponsehandlerfromchannel channel pub sub data pubsubdata pub sub data pubsubdata respons handler responsehandl txn2 pub sub data txn2pubsubdata valu check pub sub data time checkpubsubdatatotimeout pub sub data pubsubdata respons handler responsehandl cur time curtim timeout interv timeoutinterv check pub sub data time checkpubsubdatatotimeout pub sub data pubsubdata pub sub data pubsubdata respons handler responsehandl respons handler responsehandl cur time curtim timeout interv timeoutinterv cur time curtim pub sub data pubsubdata request write time requestwritetim timeout interv timeoutinterv current pub sub request pubsubrequest ha time remov from respons handler responsehandl map invok callback voidcallback oper fail operationfail method logger error current pub sub request pubsubrequest ha time pub sub data pubsubdata pub sub data pubsubdata respons handler responsehandl txn2 pub sub data txn2pubsubdata remov pub sub data pubsubdata txn id txnid pub sub data pubsubdata callback oper fail operationfail pub sub data pubsubdata context uncertain state except uncertainstateexcept server ack respons receiv pub sub request pubsubrequest ha time done client clean gracefulli close channel socket creat client releas resourc us netti close logger info stop client set client flag client ha stop stop isstop stop timer timer task thread client timer clienttim cancel pub close sub close clear map topic2 host topic2host clear host2 topic host2top clear releas resourc us channel factori channelfactori client owner creat channel factori ownchannelfactori socket factori socketfactori releas extern resourc releaseexternalresourc logger info complet stop client helper method connect attempt server input host port us connect server host port vip pick server cluster random connect initi pub sub pubsub attempt redirect logic done server side addition call after client make initi pub sub pubsub attempt server redirect on respons topic connect server done perform pub sub pubsub write channel param pub sub data pubsubdata pub sub pubsub call data wrapper object param server host serverhost input server host connect type inet socket address inetsocketaddress connect doconnect pub sub data pubsubdata pub sub data pubsubdata inet socket address inetsocketaddress server host serverhost logger debug enabl isdebugen logger debug connect host server host serverhost pub sub data pubsubdata pub sub data pubsubdata set up client boot strap clientbootstrap creat channel connect server client bootstrap clientbootstrap bootstrap client bootstrap clientbootstrap socket factori socketfactori bootstrap set pipelin factori setpipelinefactori pipelin factori pipelinefactori bootstrap set option setopt tcp delai tcpnodelai bootstrap set option setopt keep aliv keepal start connect attempt input server host channel futur channelfutur futur bootstrap connect server host serverhost futur add listen addlisten connect callback connectcallback pub sub data pubsubdata server host serverhost helper method store topic2 host topic2host map hedwig client hedwigcli cach map method assum call ve done success connect correct server topic master param pub sub data pubsubdata pub sub pubsub wrapper data param channel netti channel store topic2 host map storetopic2hostmap pub sub data pubsubdata pub sub data pubsubdata channel channel retriev server host ve connect store map from topic host non redirect server status success connect correct topic master inet socket address inetsocketaddress host get host from channel gethostfromchannel channel topic2 host topic2host contain kei containskei pub sub data pubsubdata topic topic2 host topic2host get pub sub data pubsubdata topic equal host entri map exist topic current host store relev map topic host combin logger debug enabl isdebugen logger debug store info topic pub sub data pubsubdata topic string utf8 tostringutf8 old host topic2 host topic2host get pub sub data pubsubdata topic host host topic2 host topic2host put pub sub data pubsubdata topic host host2 topic host2top contain kei containskei host host2 topic host2top get host add pub sub data pubsubdata topic link list linkedlist string bytestr topic list topicslist link list linkedlist string bytestr topic list topicslist add pub sub data pubsubdata topic host2 topic host2top put host topic list topicslist helper method get string hostnam port from netti channel assumpt netti channel origin creat inet socket address inetsocketaddress hedwig netti implement param channel netti channel extract hostnam port from string represent hostnam port from netti channel inet socket address inetsocketaddress get host from channel gethostfromchannel channel channel inet socket address inetsocketaddress channel get remot address getremoteaddress helper method get respons handler responsehandl instanc from channel channel pipelin channelpipelin associ assumpt last channel handler channelhandl ti channel pipelin channelpipelin respons handler responsehandl param channel channel retriev respons handler responsehandl instanc respons handler responsehandl instanc ti channel pipelin respons handler responsehandl get respons handler from channel getresponsehandlerfromchannel channel channel respons handler responsehandl channel get pipelin getpipelin get last getlast getter entri topic2 host topic2host map inet socket address inetsocketaddress get host topic gethostfortop string bytestr topic topic2 host topic2host get topic server host down channel get disconnect clear relev cach inform ll remov topic map host respons clear topic host clearalltopicsforhost inet socket address inetsocketaddress host logger debug enabl isdebugen logger debug clear topic host host topic host respons remov from topic2 host topic2host map host2 topic host2top contain kei containskei host string bytestr topic host2 topic host2top get host logger debug enabl isdebugen logger debug remov map topic topic string utf8 tostringutf8 from host host topic2 host topic2host remov topic safe remov host2 topic host2top map entri host2 topic host2top remov host getter client ha stop ha stop hasstop stop isstop getter get client timer object reus creat multipl timer object timer get client timer getclienttim client timer clienttim 
handler handl request synchron asynchron after handl request appropri respons written channel param request request handl param channel channel write respons handl request handlerequest pub sub request pubsubrequest request channel channel 
stub topic manag stubtopicmanag trivial topic manag trivialownalltopicmanag topic shouldowneverynewtop error shoulderror set topic setshouldowneverynewtop topic shouldowneverynewtop topic shouldowneverynewtop topic shouldowneverynewtop set error setshoulderror error shoulderror error shoulderror error shoulderror stub topic manag stubtopicmanag server configur serverconfigur conf unknown host except unknownhostexcept conf executor singl thread schedul executor newsinglethreadscheduledexecutor overrid real get owner realgetown string bytestr topic claim shouldclaim callback hedwig socket address hedwigsocketaddress cb object ctx error shoulderror cb oper fail operationfail ctx pub sub except pubsubexcept servic down except servicedownexcept ask fail topic contain topic topic shouldowneverynewtop real get owner realgetown topic claim shouldclaim cb ctx address cb oper finish operationfinish ctx hedwig socket address hedwigsocketaddress 124 31 80 
mode regular proxi ssl 
test pub sub server testpubsubserv pub sub server stand test base pubsubserverstandalonetestbas test test second server testsecondserv except pub sub server pubsubserv server1 pub sub server pubsubserv stand server configur standaloneserverconfigur overrid get server port getserverport get server port getserverport server1 start server1 shutdown record uncaught except handler recordinguncaughtexceptionhandl thread uncaught except handler uncaughtexceptionhandl synchron queue synchronousqueu throwabl queue record uncaught except handler recordinguncaughtexceptionhandl synchron queue synchronousqueu throwabl queue queue queue overrid uncaught except uncaughtexcept thread throwabl queue add topic manag instanti topicmanagerinstanti topic manag topicmanag instanti topic manag instantiatetopicmanag io except ioexcept pub sub server pubsubserv start server startserv uncaught except handler uncaughtexceptionhandl uncaught except handler uncaughtexceptionhandl port topic manag instanti topicmanagerinstanti instanti except pub sub server pubsubserv server pub sub server pubsubserv stand server configur standaloneserverconfigur overrid get server port getserverport port uncaught except handler uncaughtexceptionhandl overrid topic manag topicmanag instanti topic manag instantiatetopicmanag io except ioexcept instanti instanti topic manag instantiatetopicmanag server start server run publish request runpublishrequest port except publish publish hedwig client hedwigcli client configur clientconfigur overrid inet socket address inetsocketaddress get server host getdefaultserverhost inet socket address inetsocketaddress localhost port get publish getpublish publish async publish asyncpublish string bytestr copi from utf8 copyfromutf8 blah messag builder newbuild set bodi setbodi string bytestr copi from utf8 copyfromutf8 blah build callback overrid oper fail operationfail object ctx pub sub except pubsubexcept except asserttru overrid oper finish operationfinish object ctx result oper resultofoper asserttru test test uncaught except netti thread testuncaughtexceptioninnettythread except synchron queue synchronousqueu throwabl queue synchron queue synchronousqueu throwabl record uncaught except handler recordinguncaughtexceptionhandl uncaught except handler uncaughtexceptionhandl record uncaught except handler recordinguncaughtexceptionhandl queue port 9876 pub sub server pubsubserv server start server startserv uncaught except handler uncaughtexceptionhandl port topic manag instanti topicmanagerinstanti overrid topic manag topicmanag instanti topic manag instantiatetopicmanag io except ioexcept abstract topic manag abstracttopicmanag server configur serverconfigur executor singl thread schedul executor newsinglethreadscheduledexecutor overrid real get owner realgetown string bytestr topic claim shouldclaim callback hedwig socket address hedwigsocketaddress cb object ctx runtim except runtimeexcept except uncaught overrid post releas cleanup postreleasecleanup string bytestr topic callback cb object ctx run publish request runpublishrequest port equal assertequ runtim except runtimeexcept queue get getclass server shutdown test test uncaught except zk thread testuncaughtexceptioninzkthread except synchron queue synchronousqueu throwabl queue synchron queue synchronousqueu throwabl record uncaught except handler recordinguncaughtexceptionhandl uncaught except handler uncaughtexceptionhandl record uncaught except handler recordinguncaughtexceptionhandl queue port 9876 string host port hostport 127 33221 pub sub server pubsubserv server start server startserv uncaught except handler uncaughtexceptionhandl port topic manag instanti topicmanagerinstanti overrid topic manag topicmanag instanti topic manag instantiatetopicmanag io except ioexcept abstract topic manag abstracttopicmanag server configur serverconfigur executor singl thread schedul executor newsinglethreadscheduledexecutor overrid real get owner realgetown string bytestr topic claim shouldclaim callback hedwig socket address hedwigsocketaddress cb object ctx zoo keeper zookeep zookeep zookeep zoo keeper zookeep host port hostport 60000 watcher overrid process watch event watchedev event todo gener method stub io except ioexcept runtim except runtimeexcept zookeep get data getdata fake safe async zk callback safeasynczkcallback data callback datacallback overrid safe process result safeprocessresult rc string path object ctx data org apach zookeep data stat stat runtim except runtimeexcept uncaught except handler overrid post releas cleanup postreleasecleanup string bytestr topic callback cb object ctx run publish request runpublishrequest port equal assertequ runtim except runtimeexcept queue get getclass server shutdown test test invalid server configur testinvalidserverconfigur except success server configur serverconfigur conf server configur serverconfigur overrid inter region ssl enabl isinterregionsslen conf get getboolean inter region ssl enabl inter_region_ssl_en overrid list string get region getregion list string region list regionslist link list linkedlist string region list regionslist add region host1 regionhost1 4080 9876 region list regionslist add region host2 regionhost2 4080 region list regionslist add region host3 regionhost3 4080 9876 region list regionslist conf valid configur except configurationexcept logger error invalid configur success asserttru success test test valid server configur testvalidserverconfigur except success server configur serverconfigur conf server configur serverconfigur overrid inter region ssl enabl isinterregionsslen conf get getboolean inter region ssl enabl inter_region_ssl_en overrid list string get region getregion list string region list regionslist link list linkedlist string region list regionslist add region host1 regionhost1 4080 9876 region list regionslist add region host2 regionhost2 4080 2938 region list regionslist add region host3 regionhost3 4080 9876 region list regionslist conf valid configur except configurationexcept logger error invalid configur success asserttru success 
test hedwig region testhedwigregion hedwig region test base hedwigregiontestbas synchron queue synchronousqueu verifi async call synchron queue synchronousqueu queue synchron queue synchronousqueu synchron queue synchronousqueu consum queue consumequeu synchron queue synchronousqueu test retri remot subscrib interv valu test_retry_remote_subscribe_interval_valu 3000 region server configur newregionserverconfigur region server configur regionserverconfigur region server configur newregionserverconfigur server port serverport ssl server port sslserverport string region name regionnam server port serverport ssl server port sslserverport region name regionnam overrid get retri remot subscrib thread run interv getretryremotesubscribethreadruninterv test retri remot subscrib interv valu test_retry_remote_subscribe_interval_valu server configur serverconfigur get server configur getserverconfigur server port serverport ssl server port sslserverport string region name regionnam region server configur newregionserverconfigur server port serverport ssl server port sslserverport region name regionnam overrid befor set up setup except num region numregion num server region numserversperregion set up setup overrid after tear down teardown except tear down teardown test test multi region subscrib consum testmultiregionsubscribeandconsum except batch size batchsiz 10 subscrib topic client region hedwig client hedwigcli client region client map regionclientsmap valu batch size batchsiz client get subscrib getsubscrib async subscrib asyncsubscrib string bytestr copi from utf8 copyfromutf8 topic string bytestr copi from utf8 copyfromutf8 local subscrib localsubscrib creat attach createorattach creat attach create_or_attach test callback testcallback queue asserttru queue start deliveri local subscrib region hedwig client hedwigcli client region client map regionclientsmap valu batch size batchsiz client get subscrib getsubscrib start deliveri startdeliveri string bytestr copi from utf8 copyfromutf8 topic string bytestr copi from utf8 copyfromutf8 local subscrib localsubscrib test messag handler testmessagehandl consum queue consumequeu start publish messag subscrib topic on region verifi get deliv consum publish publish region client map regionclientsmap valu iter next get publish getpublish batch size batchsiz publish async publish asyncpublish string bytestr copi from utf8 copyfromutf8 topic messag builder newbuild set bodi setbodi string bytestr copi from utf8 copyfromutf8 messag build test callback testcallback queue asserttru queue make region consum set publish messag region client map regionclientsmap size batch size batchsiz asserttru consum queue consumequeu test region shut down first subscript except test test subscrib consum region down testsubscribeandconsumewhenaregiondown except batch size batchsiz 10 first shut down region random random region id regionid next nextint num region numregion stop region stopregion region id regionid subscrib topic region shut down hedwig client hedwigcli client region client map regionclientsmap valu batch size batchsiz client get subscrib getsubscrib async subscrib asyncsubscrib string bytestr copi from utf8 copyfromutf8 topic string bytestr copi from utf8 copyfromutf8 local subscrib localsubscrib creat attach createorattach creat attach create_or_attach test callback testcallback queue assertfals queue start region gain start region startregion region id regionid sub map entri string hedwig client hedwigcli entri region client map regionclientsmap entri set entryset hedwig client hedwigcli client entri get valu getvalu batch size batchsiz client get subscrib getsubscrib async subscrib asyncsubscrib string bytestr copi from utf8 copyfromutf8 topic string bytestr copi from utf8 copyfromutf8 local subscrib localsubscrib creat attach createorattach creat attach create_or_attach test callback testcallback queue asserttru queue start deliveri local subscrib region map entri string hedwig client hedwigcli entri region client map regionclientsmap entri set entryset hedwig client hedwigcli client entri get valu getvalu batch size batchsiz client get subscrib getsubscrib start deliveri startdeliveri string bytestr copi from utf8 copyfromutf8 topic string bytestr copi from utf8 copyfromutf8 local subscrib localsubscrib test messag handler testmessagehandl consum queue consumequeu start publish messag subscrib topic on region verifi get deliv consum rid next nextint num region numregion string region name regionnam region prefix region_prefix rid publish publish region client map regionclientsmap get region name regionnam get publish getpublish batch size batchsiz publish async publish asyncpublish string bytestr copi from utf8 copyfromutf8 topic messag builder newbuild set bodi setbodi string bytestr copi from utf8 copyfromutf8 region name regionnam messag build test callback testcallback queue asserttru queue make region consum set publish messag region client map regionclientsmap size batch size batchsiz asserttru consum queue consumequeu test region shut down attach exist subscript except test test attach exist subscript region down testattachexistingsubscriptionswhenaregiondown except batch size batchsiz 10 sub remot make subscript exist map entri string hedwig client hedwigcli entri region client map regionclientsmap entri set entryset hedwig client hedwigcli client entri get valu getvalu batch size batchsiz client get subscrib getsubscrib async subscrib asyncsubscrib string bytestr copi from utf8 copyfromutf8 topic string bytestr copi from utf8 copyfromutf8 local subscrib localsubscrib creat attach createorattach creat attach create_or_attach test callback testcallback queue asserttru queue stop region num region numregion stop region stopregion start region num region numregion start region startregion first shut down region random random region id regionid next nextint num region numregion stop region stopregion region id regionid subscrib topic region shut down succe subscript exist befor hedwig client hedwigcli client region client map regionclientsmap valu batch size batchsiz client get subscrib getsubscrib async subscrib asyncsubscrib string bytestr copi from utf8 copyfromutf8 topic string bytestr copi from utf8 copyfromutf8 local subscrib localsubscrib creat attach createorattach creat attach create_or_attach test callback testcallback queue asserttru queue start deliveri local subscrib region map entri string hedwig client hedwigcli entri region client map regionclientsmap entri set entryset hedwig client hedwigcli client entri get valu getvalu batch size batchsiz client get subscrib getsubscrib start deliveri startdeliveri string bytestr copi from utf8 copyfromutf8 topic string bytestr copi from utf8 copyfromutf8 local subscrib localsubscrib test messag handler testmessagehandl consum queue consumequeu start region start region startregion region id regionid wait retri thread sleep test retri remot subscrib interv valu test_retry_remote_subscribe_interval_valu string region name regionnam region prefix region_prefix region id regionid hedwig client hedwigcli client region client map regionclientsmap get region name regionnam batch size batchsiz client get subscrib getsubscrib async subscrib asyncsubscrib string bytestr copi from utf8 copyfromutf8 topic string bytestr copi from utf8 copyfromutf8 local subscrib localsubscrib creat attach createorattach creat attach create_or_attach test callback testcallback queue asserttru queue client get subscrib getsubscrib start deliveri startdeliveri string bytestr copi from utf8 copyfromutf8 topic string bytestr copi from utf8 copyfromutf8 local subscrib localsubscrib test messag handler testmessagehandl consum queue consumequeu start publish messag subscrib topic on region verifi get deliv consum publish publish client get publish getpublish batch size batchsiz publish async publish asyncpublish string bytestr copi from utf8 copyfromutf8 topic messag builder newbuild set bodi setbodi string bytestr copi from utf8 copyfromutf8 region name regionnam messag build test callback testcallback queue asserttru queue make region consum set publish messag region client map regionclientsmap size batch size batchsiz asserttru consum queue consumequeu 
pub sub pubsub server bean mbean pub sub server mx bean pubsubservermxbean publish stat op stat data opstatdata get pub stat getpubstat subscript stat op stat data opstatdata get sub stat getsubstat unsub stat op stat data opstatdata get unsub stat getunsubstat consum stat op stat data opstatdata get consum stat getconsumestat number request receiv get num request receiv getnumrequestsreceiv number request redirect get num request redirect getnumrequestsredirect number messag deliv get num messag deliv getnummessagesdeliv 
suppress warn suppresswarn serial seq id except nosuchseqidexcept except seq id except nosuchseqidexcept seq id 
encapsul ledger open oper ledger open op ledgeropenop data callback datacallback logger log logger factori loggerfactori get logger getlogg ledger open op ledgeropenop book keeper bookkeep bk ledger id ledgerid open callback opencallback cb object ctx ledger handl ledgerhandl lh passwd digest type digesttyp digest type digesttyp recoveri dorecoveri constructor param bk param ledger id ledgerid param digest type digesttyp param passwd param cb param ctx ledger open op ledgeropenop book keeper bookkeep bk ledger id ledgerid digest type digesttyp digest type digesttyp passwd open callback opencallback cb object ctx bk bk ledger id ledgerid ledger id ledgerid passwd passwd cb cb ctx ctx digest type digesttyp digest type digesttyp recoveri dorecoveri initit ledger open oper initi asynchron read ledger metadata node bk get zk handl getzkhandl get data getdata bk get ledger manag getledgermanag get ledger path getledgerpath ledger id ledgerid ctx initit ledger open oper recoveri initi recoveri initiatewithoutrecoveri recoveri dorecoveri initi zoo keeper zookeep data callback org apach zookeep async callback asynccallback data callback datacallback process result processresult string object stat process result processresult rc string path object ctx data stat stat rc keeper except keeperexcept code nonod valu intvalu log debug enabl isdebugen log debug ledger ledger id ledgerid keeper except keeperexcept creat keeper except keeperexcept code get rc path cb open complet opencomplet bk except bkexcept code ledger exist except nosuchledgerexistsexcept ctx rc keeper except keeperexcept code valu intvalu log error read metadata ledger ledger id ledgerid keeper except keeperexcept creat keeper except keeperexcept code get rc path cb open complet opencomplet bk except bkexcept code zk except zkexcept ctx ledger metadata ledgermetadata metadata metadata ledger metadata ledgermetadata pars config parseconfig data stat get version getvers io except ioexcept log error pars ledger metadata ledger ledger id ledgerid cb open complet opencomplet bk except bkexcept code zk except zkexcept ctx lh read ledger handl readonlyledgerhandl bk ledger id ledgerid metadata digest type digesttyp passwd gener secur except generalsecurityexcept log error secur except open ledger ledger id ledgerid cb open complet opencomplet bk except bkexcept code digest initi except digestnotinitializedexcept ctx number format except numberformatexcept log error incorrectli enter paramet throttl bk get conf getconf get throttl valu getthrottlevalu cb open complet opencomplet bk except bkexcept code incorrect paramet except incorrectparameterexcept ctx metadata close isclos ledger close properli cb open complet opencomplet bk except bkexcept code lh ctx recoveri dorecoveri lh recov gener callback genericcallback overrid oper complet operationcomplet rc result rc bk except bkexcept code cb open complet opencomplet bk except bkexcept code lh ledger open op ledgeropenop ctx rc bk except bkexcept code unauthor access except unauthorizedaccessexcept cb open complet opencomplet bk except bkexcept code unauthor access except unauthorizedaccessexcept ledger open op ledgeropenop ctx cb open complet opencomplet bk except bkexcept code ledger recoveri except ledgerrecoveryexcept ledger open op ledgeropenop ctx lh async read last confirm asyncreadlastconfirm read last confirm callback readlastconfirmedcallback overrid read last confirm complet readlastconfirmedcomplet rc last confirm lastconfirm object ctx rc bk except bkexcept code cb open complet opencomplet bk except bkexcept code read except readexcept ledger open op ledgeropenop ctx lh last add confirm lastaddconfirm lh last add push lastaddpush last confirm lastconfirm cb open complet opencomplet bk except bkexcept code lh ledger open op ledgeropenop ctx 
abstract children callback childrencallback async callback asynccallback children callback childrencallback process result processresult rc string path object ctx list string children safe process result safeprocessresult rc path ctx children throwabl invok uncaught except handler invokeuncaughtexceptionhandl abstract safe process result safeprocessresult rc string path object ctx list string children 
page ledger cach ledgercach hold locat entrylogfil offset entri id ledger entri page ledgerentrypag page size pages entri page entriesperpag ledger first entri firstentri booki protocol bookieprotocol invalid entri id invalid_entry_id buffer bytebuff page clean pin us count usecount version ledger entri page ledgerentrypag page size pages entri page entriesperpag page size pages page size pages entri page entriesperpag entri page entriesperpag page buffer bytebuff alloc direct allocatedirect page size pages overrid string string tostr string builder stringbuild sb string builder stringbuild sb append get ledger getledg sb append sb append get first entri getfirstentri sb append clean clean dirti sb append us count usecount sb string tostr us page usepag us count usecount pin pin unpin pin pin ispin pin releas page releasepag us count usecount us count usecount illeg state except illegalstateexcept us count ha check page checkpag us count usecount illeg state except illegalstateexcept page mark us overrid equal object ledger entri page ledgerentrypag ledger entri page ledgerentrypag lep otherlep ledger entri page ledgerentrypag lep otherlep get ledger getledg get ledger getledg lep otherlep get first entri getfirstentri get first entri getfirstentri overrid hash code hashcod get ledger getledg get first entri getfirstentri set clean setclean version clean versionofclean clean version clean versionofclean version clean isclean clean set offset setoffset offset posit check page checkpag version clean page put putlong posit offset get offset getoffset posit check page checkpag page get getlong posit zero page zeropag 64 1024 zero page zeropag check page checkpag page clear page put zero page zeropag page remain clean read page readpag file info fileinfo fi io except ioexcept check page checkpag page clear page remain fi read page get first entri getfirstentri io except ioexcept page read ledger get ledger getledg get page capac from posit get first entri getfirstentri page remain clean buffer bytebuff get page write getpagetowrit check page checkpag page clear page set ledger setledg ledger ledger ledger get ledger getledg ledger get version getvers version set first entri setfirstentri first entri firstentri first entri firstentri entri page entriesperpag illeg argument except illegalargumentexcept first entri firstentri multipl entri page entriesperpag first entri firstentri first entri firstentri get first entri getfirstentri first entri firstentri us inus us count usecount get last entri getlastentri entri page entriesperpag get offset getoffset first entri firstentri 
ledger manag ledgermanag take respons ledger manag ul li store ledger meta zoo keeper zookeep kei valu store li manag activ ledger garbag collect li garbag collect inact delet ledger ul ledger manag ledgermanag get path us store ledger metadata param ledger id ledgerid ledger id ledger node path string get ledger path getledgerpath ledger id ledgerid get ledger id from ledger path param ledger path ledgerpath ledger path store metadata ledger id io except ioexcept ledger path invalid get ledger id getledgerid string ledger path ledgerpath io except ioexcept creat zk ledger path provid metadata param cb callback get zk ledger path creat param metadata metadata provid creat ledger abstract ledger path newledgerpath gener callback genericcallback string cb ledger metadata ledgermetadata metadata loop process ledger ul after ledger process cb finalcb trigger li ledger process done success rc pass cb finalcb li ledger prcoess fail failur rc pass cb finalcb ul param processor ledger processor process specif ledger param cb finalcb callback trigger after ledger process param context context callback param success rc successrc success rc code pass cb finalcb callback param failur rc failurerc failur rc code pass cb finalcb except occur async process ledger asyncprocessledg processor processor async callback asynccallback callback voidcallback cb finalcb object context success rc successrc failur rc failurerc add activ ledger param ledger id ledgerid ledger id param activ statu ledger add activ ledger addactiveledg ledger id ledgerid activ remov activ ledger param ledger id ledgerid ledger id remov activ ledger removeactiveledg ledger id ledgerid ledger ledger id ledgerid activ ledger set param ledger id ledgerid ledger id ledger activ ledger set contain activ ledger containsactiveledg ledger id ledgerid garbag collector handl ledger delet server side garbag collector garbagecollector garbag collect specif ledger param ledger id ledgerid ledger id garbag collect gc ledger id ledgerid garbag collect inact delet ledger garbag collector garbagecollector gc trigger time found ledger garbag collect after method finish inact ledger garbag collect param gc garbag collector garbag collect ledger garbagecollectledg garbag collector garbagecollector gc close ledger manag close 
test implement callback async client action test callback testcallback callback overrid oper finish operationfinish object ctx result oper resultofoper thread runnabl overrid run logger debug enabl isdebugen logger debug oper finish concurr util concurrencyutil put queue start overrid oper fail operationfail object ctx pub sub except pubsubexcept except thread runnabl overrid run logger error oper fail except concurr util concurrencyutil put queue start 
region manag regionmanag subscript event listen subscriptioneventlisten logger logger logger factori loggerfactori get logger getlogg region manag regionmanag string bytestr sub id mysubid persist manag persistencemanag pm arrai list arraylist hedwig hub client hedwighubcli client arrai list arraylist hedwig hub client hedwighubcli topic op queuer topicopqueu queue string bytestr region myregion timer run retri thread task retri remot subscript asynchron mode timer timer timer hash map hashmap hedwig hub client hedwighubcli set string bytestr retri map retrymap hash map hashmap hedwig hub client hedwighubcli set string bytestr map us track topic remot subscrib concurr map concurrentmap string bytestr topic status topicstatus concurr hash map concurrenthashmap string bytestr timer task retri subscrib remot region retri subscrib task retrysubscribetask timer task timertask overrid run set hedwig hub client hedwighubcli hub client hubclient hash set hashset hedwig hub client hedwighubcli retri map retrymap hub client hubclient add addal retri map retrymap kei set keyset hub client hubclient empti isempti logger debug enabl isdebugen logger debug region myregion string utf8 tostringutf8 hub client retri subscript hedwig hub client hedwighubcli client hub client hubclient set string bytestr topic retri map retrymap topic retri map retrymap remov client topic topic empti isempti count down latch countdownlatch done count down latch countdownlatch callback post cb postcb callback overrid oper finish operationfinish object ctx result oper resultofoper finish overrid oper fail operationfail object ctx pub sub except pubsubexcept except finish finish done count down countdown callback mcb callback util callbackutil multi callback multicallback topic size post cb postcb string bytestr topic topic remot subscrib doremotesubscrib topic status topicstatus get topic topic ha remov retri remot subscrib doremotesubscrib mcb oper finish operationfinish retri subscrib retrysubscrib client topic mcb done await interrupt except interruptedexcept logger warn except retri remot subscript region manag regionmanag persist manag persistencemanag pm server configur serverconfigur cfg zoo keeper zookeep zk schedul executor servic scheduledexecutorservic schedul hedwig hub client factori hedwighubclientfactori hub client factori hubclientfactori pm pm sub id mysubid string bytestr copi from utf8 copyfromutf8 subscript state util subscriptionstateutil hub subscrib prefix hub_subscriber_prefix cfg get region getmyregion queue topic op queuer topicopqueu schedul string hub cfg get region getregion client add hub client factori hubclientfactori creat hedwig socket address hedwigsocketaddress hub region myregion cfg get region string getmyregionbytestr cfg get retri remot subscrib thread run interv getretryremotesubscribethreadruninterv timer schedul retri subscrib task retrysubscribetask cfg get retri remot subscrib thread run interv getretryremotesubscribethreadruninterv put topic retri map puttopicinretrymap hedwig hub client hedwighubcli client string bytestr topic logger debug enabl isdebugen logger debug region myregion string utf8 tostringutf8 put topic retri map topic string utf8 tostringutf8 retri map retrymap set string bytestr topic retri map retrymap get client topic topic hash set hashset string bytestr retri map retrymap put client topic topic add topic remot subscrib specifi topic param client hedwig hub client subscrib remot topic param topic topic subscrib param synchron wait callback subscript param mcb callback trigger after subscript done param contex callback context remot subscrib doremotesubscrib hedwig hub client hedwighubcli client string bytestr topic synchron callback mcb object context hedwig subscrib hedwigsubscrib sub client get subscrib getsubscrib sub ha subscript hassubscript topic sub id mysubid logger debug enabl isdebugen logger debug region myregion string utf8 tostringutf8 cross region subscript topic topic string utf8 tostringutf8 ha exist befor mcb oper finish operationfinish pub sub except pubsubexcept logger error region myregion string utf8 tostringutf8 check cross region subscript topic topic string utf8 tostringutf8 fail happen mcb oper fail operationfail context sub async subscrib asyncsubscrib topic sub id mysubid creat attach createorattach creat attach create_or_attach callback overrid oper finish operationfinish object ctx result oper resultofoper logger debug enabl isdebugen logger debug region myregion string utf8 tostringutf8 cross region subscript done topic topic string utf8 tostringutf8 sub start deliveri startdeliveri topic sub id mysubid messag handler messagehandl overrid deliv string bytestr topic string bytestr subscrib id subscriberid messag msg callback callback object context messag first publish local publish handler publishhandl set sourc region messag msg ha src region hassrcregion messag builder newbuild msg set msg id setmsgid messag seq id messageseqid builder newbuild msg get msg id getmsgid add remot compon addremotecompon region specif seq id regionspecificseqid builder newbuild set region setregion msg get src region getsrcregion set seq id setseqid msg get msg id getmsgid get local compon getlocalcompon pm persist messag persistmessag persist request persistrequest topic msg callback overrid oper finish operationfinish object ctx result oper resultofoper logger debug enabl isdebugen logger debug region myregion string utf8 tostringutf8 cross region recv fwd succeed topic topic string utf8 tostringutf8 callback oper finish operationfinish context overrid oper fail operationfail object ctx pub sub except pubsubexcept except logger debug enabl isdebugen logger error region myregion string utf8 tostringutf8 cross region recv fwd fail topic topic string utf8 tostringutf8 except callback oper fail operationfail context except logger debug enabl isdebugen logger debug region myregion string utf8 tostringutf8 cross region start deliveri succeed topic topic string utf8 tostringutf8 mcb oper finish operationfinish ctx pub sub except pubsubexcept ex logger debug enabl isdebugen logger error region myregion string utf8 tostringutf8 cross region start deliveri fail topic topic string utf8 tostringutf8 ex mcb oper fail operationfail ctx ex start deliveri except alreadystartdeliveryexcept ex logger error region myregion string utf8 tostringutf8 cross region start deliveri fail topic topic string utf8 tostringutf8 ex mcb oper fail operationfail ctx pub sub except pubsubexcept unexpect condit except unexpectedconditionexcept cross region start deliveri fail ex get messag getmessag overrid oper fail operationfail object ctx pub sub except pubsubexcept except logger debug enabl isdebugen logger error region myregion string utf8 tostringutf8 cross region subscrib fail topic topic string utf8 tostringutf8 except synchron put topic retri map puttopicinretrymap client topic mcb oper fail operationfail ctx except retri subscrib retrysubscrib hedwig hub client hedwighubcli client string bytestr topic callback cb logger debug enabl isdebugen logger debug region myregion string utf8 tostringutf8 retri remot subscrib topic topic string utf8 tostringutf8 queue push run pushandmayberun topic queue asynchron op asynchronousop topic cb overrid run remot subscrib doremotesubscrib topic status topicstatus get topic topic ha remov retri remot subscrib doremotesubscrib cb oper finish operationfinish ctx remot subscrib doremotesubscrib client topic cb ctx overrid first local subscrib onfirstlocalsubscrib string bytestr topic synchron callback cb topic status topicstatus put topic acquir topic local subscrib subscrib region current simpl topolog queue push run pushandmayberun topic queue asynchron op asynchronousop topic cb overrid run callback post cb postcb synchron cb callback util callbackutil logger logger region myregion string utf8 tostringutf8 cross region subscript succeed region myregion string utf8 tostringutf8 least on cross region subscript fail callback mcb callback util callbackutil multi callback multicallback client size post cb postcb ctx hedwig hub client hedwighubcli client client remot subscrib doremotesubscrib client topic synchron mcb ctx synchron cb oper finish operationfinish overrid last local unsubscrib onlastlocalunsubscrib string bytestr topic topic status topicstatus remov topic todo eas up eager unsubscrib drop cross region subscript asap queue push run pushandmayberun topic queue asynchron op asynchronousop topic callback overrid oper finish operationfinish object ctx result logger debug enabl isdebugen logger debug region myregion string utf8 tostringutf8 cross region unsubscrib succeed topic topic string utf8 tostringutf8 overrid oper fail operationfail object ctx pub sub except pubsubexcept except logger debug enabl isdebugen logger error region myregion string utf8 tostringutf8 cross region unsubscrib fail topic topic string utf8 tostringutf8 except overrid run callback mcb callback util callbackutil multi callback multicallback client size cb ctx hedwig hub client hedwighubcli client client hedwig subscrib hedwigsubscrib sub client get subscrib getsubscrib sub ha subscript hassubscript topic sub id mysubid logger debug enabl isdebugen logger debug region myregion string utf8 tostringutf8 cross region subscript topic topic string utf8 tostringutf8 ha exist befor mcb oper finish operationfinish pub sub except pubsubexcept logger error region myregion string utf8 tostringutf8 check cross region subscript topic topic string utf8 tostringutf8 fail happen mcb oper fail operationfail ctx sub async unsubscrib asyncunsubscrib topic sub id mysubid mcb method shutdown stop cross region hedwig client stop timer cancel hedwig hub client hedwighubcli client client client close 
timer task find topic minimum consum messag subscrib inform us pass server persist manag persistencemanag garbag collect older topic messag longer need subscrib messag consum task messagesconsumedtask timer task timertask implement timer task timertask abstract run method overrid run loop small memori data structur safe run fairli string bytestr topic top2 sub2 seq top2sub2seq kei set keyset map string bytestr memori subscript state inmemorysubscriptionst topic subscript topicsubscript top2 sub2 seq top2sub2seq get topic topic subscript topicsubscript min consum messag minconsumedmessag max valu max_valu ha bound hasbound loop subscrib current topic find minimum consum messag id consum pointer persist lazili ll us stale memori valu keep thing consist server crash memori subscript state inmemorysubscriptionst cur subscript cursubscript topic subscript topicsubscript valu cur subscript cursubscript get subscript state getsubscriptionst get msg id getmsgid get local compon getlocalcompon min consum messag minconsumedmessag min consum messag minconsumedmessag cur subscript cursubscript get subscript state getsubscriptionst get msg id getmsgid get local compon getlocalcompon ha bound hasbound ha bound hasbound cur subscript cursubscript get subscript state getsubscriptionst ha messag bound hasmessagebound call persist manag callpersistencemanag don call persist manag persistencemanag subscrib topic consum pointer ha chang last time initi subscript min consum from map minconsumedfrommap topic2 min consum messag map topic2minconsumedmessagesmap get topic topic subscript topicsubscript empti isempti min consum from map minconsumedfrommap min consum from map minconsumedfrommap equal min consum messag minconsumedmessag min consum messag minconsumedmessag topic2 min consum messag map topic2minconsumedmessagesmap put topic min consum messag minconsumedmessag pm consum consumeduntil topic min consum messag minconsumedmessag ha bound hasbound pm consum bound consumetobound topic 
read ledger handl ledger handl allow read from ledger write overrid write oper from ledger handl ledgerhandl return book keeper bookkeep open ledger openledg oper read ledger handl readonlyledgerhandl ledger handl ledgerhandl read ledger handl readonlyledgerhandl book keeper bookkeep bk ledger id ledgerid ledger metadata ledgermetadata metadata digest type digesttyp digest type digesttyp password gener secur except generalsecurityexcept number format except numberformatexcept bk ledger id ledgerid metadata digest type digesttyp password overrid close interrupt except interruptedexcept bk except bkexcept noop overrid async close asyncclos close callback closecallback cb object ctx cb close complet closecomplet bk except bkexcept code ctx overrid add entri addentri data interrupt except interruptedexcept bk except bkexcept add entri addentri data data length overrid add entri addentri data offset length interrupt except interruptedexcept bk except bkexcept log error add entri read ledger handl ledgerid ledger id ledgerid bk except bkexcept creat bk except bkexcept code illeg op except illegalopexcept overrid async add entri asyncaddentri data add callback addcallback cb object ctx async add entri asyncaddentri data data length cb ctx overrid async add entri asyncaddentri data offset length add callback addcallback cb object ctx log error add entri read ledger handl ledgerid ledger id ledgerid cb add complet addcomplet bk except bkexcept code illeg op except illegalopexcept ledger handl ledgerhandl invalid entri id invalid_entry_id ctx 
test hedwig socket address testhedwigsocketaddress test testcas common valu us test string hostnam localhost port 4080 ssl port sslport 9876 invalid port invalidport 9999 string colon test test creat ssl port testcreatewithsslport except hedwig socket address hedwigsocketaddress addr hedwig socket address hedwigsocketaddress hostnam port ssl port sslport asserttru addr get socket address getsocketaddress equal inet socket address inetsocketaddress hostnam port asserttru addr get ssl socket address getsslsocketaddress equal inet socket address inetsocketaddress hostnam ssl port sslport test test creat ssl port testcreatewithnosslport except hedwig socket address hedwigsocketaddress addr hedwig socket address hedwigsocketaddress hostnam port asserttru addr get socket address getsocketaddress equal inet socket address inetsocketaddress hostnam port asserttru addr get ssl socket address getsslsocketaddress test test creat from string ssl port testcreatefromstringwithsslport except hedwig socket address hedwigsocketaddress addr hedwig socket address hedwigsocketaddress hostnam colon port colon ssl port sslport asserttru addr get socket address getsocketaddress equal inet socket address inetsocketaddress hostnam port asserttru addr get ssl socket address getsslsocketaddress equal inet socket address inetsocketaddress hostnam ssl port sslport test test creat from string ssl port testcreatefromstringwithnosslport except hedwig socket address hedwigsocketaddress addr hedwig socket address hedwigsocketaddress hostnam colon port asserttru addr get socket address getsocketaddress equal inet socket address inetsocketaddress hostnam port asserttru addr get ssl socket address getsslsocketaddress test test creat invalid regular port testcreatewithinvalidregularport except success hedwig socket address hedwigsocketaddress hostnam colon invalid port invalidport illeg argument except illegalargumentexcept success asserttru success test test creat invalid ssl port testcreatewithinvalidsslport except success hedwig socket address hedwigsocketaddress hostnam port invalid port invalidport illeg argument except illegalargumentexcept success asserttru success test test string convers testtostringconvers except hedwig socket address hedwigsocketaddress addr hedwig socket address hedwigsocketaddress hostnam port ssl port sslport hedwig socket address hedwigsocketaddress addr2 hedwig socket address hedwigsocketaddress addr string tostr asserttru addr get socket address getsocketaddress equal addr2 get socket address getsocketaddress asserttru addr get ssl socket address getsslsocketaddress equal addr2 get ssl socket address getsslsocketaddress addr string tostr equal addr2 string tostr test test ssl enabl flag testissslenabledflag except hedwig socket address hedwigsocketaddress ssl addr ssladdr hedwig socket address hedwigsocketaddress hostnam port ssl port sslport asserttru ssl addr ssladdr ssl enabl issslen hedwig socket address hedwigsocketaddress addr hedwig socket address hedwigsocketaddress hostnam port assertfals addr ssl enabl issslen 
acquir op acquireop topic op queuer topicopqueu asynchron op asynchronousop acquir op acquireop string bytestr topic callback cb object ctx queuer topic cb ctx overrid run topic info topicinfo contain kei containskei topic acquir cb oper finish operationfinish ctx read topic ledger node data string node path znodepath ledger path ledgerspath topic zk get data getdata node path znodepath safe async zk callback safeasynczkcallback data callback datacallback overrid safe process result safeprocessresult rc string path object ctx data stat stat rc code valu intvalu process topic ledger node data processtopicledgersnodedata data stat get version getvers rc code nonod valu intvalu creat initi data initialdata ledger rang ledgerrang get instanc getdefaultinst arrai tobytearrai zk util zkutil creat full path optimist createfullpathoptimist zk node path znodepath initi data initialdata zoo def zoodef id open acl unsaf open_acl_unsaf creat mode createmod persist safe async zk callback safeasynczkcallback string callback stringcallback overrid safe process result safeprocessresult rc string path object ctx string name rc code valu intvalu keeper except keeperexcept ke zk util zkutil log error creat zk except logerrorandcreatezkexcept creat ledger node topic topic string utf8 tostringutf8 path rc cb oper fail operationfail ctx pub sub except pubsubexcept servic down except servicedownexcept ke initi version version guess process topic ledger node data processtopicledgersnodedata initi data initialdata ctx error keeper except keeperexcept ke zk util zkutil log error creat zk except logerrorandcreatezkexcept read ledger node topic topic string utf8 tostringutf8 path rc cb oper fail operationfail ctx pub sub except pubsubexcept servic down except servicedownexcept ke ctx process topic ledger node data processtopicledgersnodedata data version ledger rang ledgerrang rang rang ledger rang ledgerrang pars from parsefrom data invalid protocol buffer except invalidprotocolbufferexcept string msg ledger rang topic topic string utf8 tostringutf8 deseri logger error msg cb oper fail operationfail ctx pub sub except pubsubexcept unexpect condit except unexpectedconditionexcept msg iter ledger rang ledgerrang lr iter lriter rang get rang list getrangeslist iter topic info topicinfo topic info topicinfo topic info topicinfo start ledger startofledg lr iter lriter ha next hasnext ledger rang ledgerrang rang lr iter lriter next rang ha end seq id includ hasendseqidinclud mean valid complet close ledger end ledger endofledg rang get end seq id includ getendseqidinclud get local compon getlocalcompon topic info topicinfo ledger rang ledgerrang put end ledger endofledg memori ledger rang inmemoryledgerrang rang start ledger startofledg start ledger startofledg end ledger endofledg doesn valid end last ledger lr iter lriter ha next hasnext string msg ledger id rang get ledger id getledgerid topic topic string utf8 tostringutf8 last on end seq id logger error msg cb oper fail operationfail ctx pub sub except pubsubexcept unexpect condit except unexpectedconditionexcept msg last ledger valid seq id let find recov last topic ledger open on recoverlasttopicledgerandopennewon rang get ledger id getledgerid version topic info topicinfo ledger found properli close start on open topic ledger opennewtopicledg version topic info topicinfo recov last ledger open on persist inform zk param ledger id ledgerid ledger recov recov last topic ledger open on recoverlasttopicledgerandopennewon ledger id ledgerid expect version ledger node expectedversionofledgernod topic info topicinfo topic info topicinfo bk async open ledger asyncopenledg ledger id ledgerid digest type digesttyp crc32 passwd safe asyn bk callback safeasynbkcallback open callback opencallback overrid safe open complet safeopencomplet rc ledger handl ledgerhandl ledger handl ledgerhandl object ctx rc bk except bkexcept code bk except bkexcept bke bk except bkexcept creat rc logger error acquir topic topic string utf8 tostringutf8 open unrecov ledger ledger id ledgerid bke cb oper fail operationfail ctx pub sub except pubsubexcept servic down except servicedownexcept bke num entri last ledger numentriesinlastledg ledger handl ledgerhandl get last add confirm getlastaddconfirm num entri last ledger numentriesinlastledg empti ledger creat couldn write ignor logger info prune empti ledger ledger id ledgerid topic topic string utf8 tostringutf8 close ledger closeledg ledger handl ledgerhandl open topic ledger opennewtopicledg expect version ledger node expectedversionofledgernod topic info topicinfo read last entri ledger find last seq id ledger handl ledgerhandl async read entri asyncreadentri num entri last ledger numentriesinlastledg num entri last ledger numentriesinlastledg safe asyn bk callback safeasynbkcallback read callback readcallback overrid safe read complet safereadcomplet rc ledger handl ledgerhandl lh enumer ledger entri ledgerentri seq object ctx rc bk except bkexcept code seq ha more element hasmoreel bk except bkexcept bke bk except bkexcept creat rc logger error recov ledger ledger id ledgerid topic topic string utf8 tostringutf8 read last entri bke cb oper fail operationfail ctx pub sub except pubsubexcept servic down except servicedownexcept bke messag last messag lastmessag last messag lastmessag messag pars from parsefrom seq next element nextel get entri getentri invalid protocol buffer except invalidprotocolbufferexcept string msg recov ledger ledger id ledgerid topic topic string utf8 tostringutf8 deseri last messag logger error msg cb oper fail operationfail ctx pub sub except pubsubexcept unexpect condit except unexpectedconditionexcept msg prev ledger end prevledgerend topic info topicinfo ledger rang ledgerrang empti isempti topic info topicinfo ledger rang ledgerrang last kei lastkei ledger rang ledgerrang lr ledger rang ledgerrang builder newbuild set ledger id setledgerid ledger id ledgerid set end seq id includ setendseqidinclud last messag lastmessag get msg id getmsgid build topic info topicinfo ledger rang ledgerrang put lr get end seq id includ getendseqidinclud get local compon getlocalcompon memori ledger rang inmemoryledgerrang lr prev ledger end prevledgerend lh logger info recov unclos ledger ledger id ledgerid topic topic string utf8 tostringutf8 num entri last ledger numentriesinlastledg entri open topic ledger opennewtopicledg expect version ledger node expectedversionofledgernod topic info topicinfo ctx ctx param requir version ledger node requiredversionofledgersnod version ledger node read write open topic ledger opennewtopicledg expect version ledger node expectedversionofledgersnod topic info topicinfo topic info topicinfo bk async creat ledger asynccreateledg cfg get bk ensembl size getbkensembles cfg get bk quorum size getbkquorums digest type digesttyp crc32 passwd safe asyn bk callback safeasynbkcallback creat callback createcallback process overrid safe creat complet safecreatecomplet rc ledger handl ledgerhandl lh object ctx process process rc bk except bkexcept code bk except bkexcept bke bk except bkexcept creat rc logger error creat ledger acquir topic topic string utf8 tostringutf8 bke cb oper fail operationfail ctx pub sub except pubsubexcept servic down except servicedownexcept bke topic info topicinfo last seq id push lastseqidpush topic info topicinfo ledger rang ledgerrang empti isempti messag seq id messageseqid builder newbuild set local compon setlocalcompon build topic info topicinfo ledger rang ledgerrang last entri lastentri get valu getvalu rang get end seq id includ getendseqidinclud ledger rang ledgerrang last rang lastrang ledger rang ledgerrang builder newbuild set ledger id setledgerid lh get id getid build topic info topicinfo current ledger rang currentledgerrang memori ledger rang inmemoryledgerrang last rang lastrang topic info topicinfo last seq id push lastseqidpush get local compon getlocalcompon lh persist fact start ledger zk ledger rang ledgerrang builder builder ledger rang ledgerrang builder newbuild memori ledger rang inmemoryledgerrang imlr topic info topicinfo ledger rang ledgerrang valu builder add rang addrang imlr rang builder add rang addrang last rang lastrang updat ledger rang node updateledgerrangesnod topic builder build expect version ledger node expectedversionofledgersnod callback integ oper finish operationfinish object ctx integ version newvers done topic info topicinfo ledger rang znode version ledgerrangesznodevers version newvers topic info topicinfo put topic topic info topicinfo cb oper finish operationfinish ctx oper fail operationfail object ctx pub sub except pubsubexcept except cb oper fail operationfail ctx except ctx ctx 
read last confirm callback readlastconfirmedcallback callback definit booki recov oper param rc code param last confirm lastconfirm entri id last confirm write link ledger handl ledgerhandl invalid entri id invalid_entry_id invalid entri id invalid_entry_id entri ha confirm param ctx context object read last confirm complet readlastconfirmedcomplet rc last confirm lastconfirm object ctx 
declar callback implement call from booki client bookiecli object call repli read oper oper read entri from ledger read entri callback readentrycallback read entri complet readentrycomplet rc ledger id ledgerid entri id entryid channel buffer channelbuff buffer object ctx 
deliveri ptr move deliveryptrmov deliveri manag request deliverymanagerrequest activ subscrib state activesubscriberst subscrib old seq id oldseqid seq id newseqid deliveri ptr move deliveryptrmov activ subscrib state activesubscriberst subscrib old seq id oldseqid seq id newseqid subscrib subscrib old seq id oldseqid old seq id oldseqid seq id newseqid seq id newseqid overrid perform request performrequest string bytestr topic subscrib get topic gettop prev min seq id prevminseqid get minimum seq id getminimumseqid topic subscrib connect isconnect remov deliveri ptr removedeliveryptr subscrib old seq id oldseqid absenc isabsenceok prune topic prunetop add deliveri ptr adddeliveryptr subscrib seq id newseqid remov deliveri ptr removedeliveryptr subscrib old seq id oldseqid absenc isabsenceok prune topic prunetop min seq id nowminseqid get minimum seq id getminimumseqid topic min seq id nowminseqid prev min seq id prevminseqid persist mgr persistencemgr deliv delivereduntil topic min seq id nowminseqid 
test pub sub server startup testpubsubserverstartup logger logger logger factori loggerfactori get logger getlogg test pub sub server startup testpubsubserverstartup start up zookeep pubsubserv read from config url stop cleanup loop pubsub server wait zookeep client connect pubsub server fail startup test test pub sub server instanti config testpubsubserverinstantiationwithconfig except 10 logger info iter instanti destroi pub sub server instantiateanddestroypubsubserv instanti destroi pub sub server instantiateanddestroypubsubserv io except ioexcept interrupt except interruptedexcept configur except configurationexcept malform url except malformedurlexcept except string hedwig param hedwigparam server host default_server_host localhost 4080 zookeep connect string zookeeper_connection_str localhost 2181 zk timeout zk_timeout 2000 file hedwig config file hedwigconfigfil file get properti getproperti java io tmpdir hedwig cfg write string file writestringtofil hedwig param hedwigparam hedwig config file hedwigconfigfil client base clientbas setup test env setuptestenv file zk tmp dir zktmpdir file creat temp file createtempfil zookeep test zk tmp dir zktmpdir delet zk tmp dir zktmpdir mkdir zoo keeper server zookeeperserv zk zoo keeper server zookeeperserv zk tmp dir zktmpdir zk tmp dir zktmpdir 2181 nio server cnxn factori nioservercnxnfactori server factori serverfactori nio server cnxn factori nioservercnxnfactori server factori serverfactori configur inet socket address inetsocketaddress 2181 100 server factori serverfactori startup zk client base clientbas wait server up waitforserverup 127 2181 5000 server configur serverconfigur server conf serverconf server configur serverconfigur server conf serverconf load conf loadconf hedwig config file hedwigconfigfil uri touri url tourl logger info zookeep server up run zoo keeper zookeep zkc zoo keeper zookeep 127 2181 initi zk client fake valu zkc creat ledger zoo def zoodef id open acl unsaf open_acl_unsaf creat mode createmod persist zkc creat ledger avail zoo def zoodef id open acl unsaf open_acl_unsaf creat mode createmod persist zkc close pub sub server pubsubserv hedwig server hedwigserv logger info start hedwig broker hedwig server hedwigserv pub sub server pubsubserv server conf serverconf hedwig server hedwigserv start except print stack trace printstacktrac assertnotnul fail instanti hedwig pub sub server hedwig server hedwigserv hedwig server hedwigserv shutdown server factori serverfactori shutdown zk shutdown zk tmp dir zktmpdir delet client base clientbas wait server down waitforserverdown localhost 2181 10000 write string file writestringtofil string string file io except ioexcept exist delet runtim except runtimeexcept creat file get absolut path getabsolutepath creat file createnewfil runtim except runtimeexcept creat file get absolut path getabsolutepath file writer filewrit fw file writer filewrit fw write string fw close 
child server configur serverconfigur us here extend class defin possibl extend from overrid get server configur getserverconfigur method configur hub server configur hubserverconfigur server configur serverconfigur server port serverport ssl server port sslserverport hub server configur hubserverconfigur server port serverport ssl server port sslserverport server port serverport server port serverport ssl server port sslserverport ssl server port sslserverport overrid get server port getserverport server port serverport overrid get ssl server port getsslserverport ssl server port sslserverport overrid string get zk host getzkhost bktb get zk host port getzkhostport overrid ssl enabl issslen overrid string get cert name getcertnam server p12 overrid string get password getpassword uy svp2 ph m2 wk euysvp2phm2wk 
sql client mysqlclient logger log logger factori loggerfactori get logger getlogg sql client mysqlclient book keeper bookkeep ledger handl ledgerhandl lh integ entri id entryid hash map hashmap integ integ map file output stream fileoutputstream stream fstream file output stream fileoutputstream stream local fstreamloc start last id lastid connect statement stmt sql client mysqlclient string hostport string user string pass found except classnotfoundexcept entri id entryid map hash map hashmap integ integ name fornam com mysql jdbc driver databas name bookkeep string url jdbc mysql hostport bookkeep driver manag drivermanag get connect getconnect url user pass stmt creat statement createstat drop tabl recreat stmt execut drop tabl exist data stmt execut creat tabl data transact id transaction_id bigint primari kei increment auto_incr content text log info databas initi termin sql except sqlexcept todo gener block print stack trace printstacktrac close handl closehandl keeper except keeperexcept interrupt except interruptedexcept sql except sqlexcept close first paramet integ defin length messag second paramet number write third paramet host port fourth paramet usernam fifth paramet password param arg found except classnotfoundexcept sql except sqlexcept main string arg found except classnotfoundexcept sql except sqlexcept lenght integ pars parseint arg string builder stringbuild sb string builder stringbuild lenght sb append sql client mysqlclient sql client mysqlclient arg arg arg write entri batch writesameentrybatch sb string tostr get byte getbyt integ pars parseint arg write entri writesameentri sb string tostr get byte getbyt integ pars parseint arg close handl closehandl number format except numberformatexcept print stack trace printstacktrac interrupt except interruptedexcept print stack trace printstacktrac keeper except keeperexcept print stack trace printstacktrac add data entri db param data entri written arrai param time number time entri written db write entri batch writesameentrybatch data time interrupt except interruptedexcept sql except sqlexcept start current time milli currenttimemilli count time string content string data println data content data length count stmt add batch addbatch insert data content valu content log info finish write batch sql command ms current time milli currenttimemilli start start current time milli currenttimemilli stmt execut batch executebatch println finish time write ms current time milli currenttimemilli start log info end comput write entri writesameentri data time interrupt except interruptedexcept sql except sqlexcept start current time milli currenttimemilli count time string content string data println data content data length count stmt execut updat executeupd insert data content valu content println finish time write ms current time milli currenttimemilli start log info end comput 
topic except nosuchtopicexcept pub sub except pubsubexcept topic except nosuchtopicexcept string msg statu code statuscod topic no_such_top msg 
builder com googl protobuf gener messag generatedmessag builder builder org apach hedwig protocol pub sub protocol pubsubprotocol pub sub request pubsubrequest result construct org apach hedwig protocol pub sub protocol pubsubprotocol pub sub request pubsubrequest builder newbuild builder builder creat builder builder builder builder result org apach hedwig protocol pub sub protocol pubsubprotocol pub sub request pubsubrequest builder org apach hedwig protocol pub sub protocol pubsubprotocol pub sub request pubsubrequest intern get result internalgetresult result builder clear result illeg state except illegalstateexcept call clear after build result org apach hedwig protocol pub sub protocol pubsubprotocol pub sub request pubsubrequest builder clone creat merg from mergefrom result com googl protobuf descriptor descriptor get descriptor type getdescriptorfortyp org apach hedwig protocol pub sub protocol pubsubprotocol pub sub request pubsubrequest get descriptor getdescriptor org apach hedwig protocol pub sub protocol pubsubprotocol pub sub request pubsubrequest get instanc type getdefaultinstancefortyp org apach hedwig protocol pub sub protocol pubsubprotocol pub sub request pubsubrequest get instanc getdefaultinst initi isiniti result initi isiniti org apach hedwig protocol pub sub protocol pubsubprotocol pub sub request pubsubrequest build result initi isiniti uniniti messag except newuninitializedmessageexcept result build partial buildparti org apach hedwig protocol pub sub protocol pubsubprotocol pub sub request pubsubrequest build pars buildpars com googl protobuf invalid protocol buffer except invalidprotocolbufferexcept initi isiniti uniniti messag except newuninitializedmessageexcept result invalid protocol buffer except asinvalidprotocolbufferexcept build partial buildparti org apach hedwig protocol pub sub protocol pubsubprotocol pub sub request pubsubrequest build partial buildparti result illeg state except illegalstateexcept build ha call builder result server triedservers_ java util collect empti list empty_list result server triedservers_ java util collect unmodifi list unmodifiablelist result server triedservers_ org apach hedwig protocol pub sub protocol pubsubprotocol pub sub request pubsubrequest returnm result result returnm builder merg from mergefrom com googl protobuf messag org apach hedwig protocol pub sub protocol pubsubprotocol pub sub request pubsubrequest merg from mergefrom org apach hedwig protocol pub sub protocol pubsubprotocol pub sub request pubsubrequest merg from mergefrom builder merg from mergefrom org apach hedwig protocol pub sub protocol pubsubprotocol pub sub request pubsubrequest org apach hedwig protocol pub sub protocol pubsubprotocol pub sub request pubsubrequest get instanc getdefaultinst ha protocol version hasprotocolvers set protocol version setprotocolvers get protocol version getprotocolvers ha type hastyp set type settyp get type gettyp server triedservers_ empti isempti result server triedservers_ empti isempti result server triedservers_ java util arrai list arraylist com googl protobuf string bytestr result server triedservers_ add addal server triedservers_ ha txn id hastxnid set txn id settxnid get txn id gettxnid ha claim hasshouldclaim set claim setshouldclaim get claim getshouldclaim ha topic hastop set topic settop get topic gettop ha publish request haspublishrequest merg publish request mergepublishrequest get publish request getpublishrequest ha subscrib request hassubscriberequest merg subscrib request mergesubscriberequest get subscrib request getsubscriberequest ha consum request hasconsumerequest merg consum request mergeconsumerequest get consum request getconsumerequest ha unsubscrib request hasunsubscriberequest merg unsubscrib request mergeunsubscriberequest get unsubscrib request getunsubscriberequest ha stop deliveri request hasstopdeliveryrequest merg stop deliveri request mergestopdeliveryrequest get stop deliveri request getstopdeliveryrequest ha start deliveri request hasstartdeliveryrequest merg start deliveri request mergestartdeliveryrequest get start deliveri request getstartdeliveryrequest merg unknown field mergeunknownfield get unknown field getunknownfield builder merg from mergefrom com googl protobuf code input stream codedinputstream input com googl protobuf extens registri lite extensionregistrylit extens registri extensionregistri java io io except ioexcept com googl protobuf unknown field set unknownfieldset builder unknown field unknownfield com googl protobuf unknown field set unknownfieldset builder newbuild get unknown field getunknownfield tag input read tag readtag tag set unknown field setunknownfield unknown field unknownfield build pars unknown field parseunknownfield input unknown field unknownfield extens registri extensionregistri tag set unknown field setunknownfield unknown field unknownfield build raw valu rawvalu input read readenum org apach hedwig protocol pub sub protocol pubsubprotocol protocol version protocolvers valu org apach hedwig protocol pub sub protocol pubsubprotocol protocol version protocolvers valu valueof raw valu rawvalu valu unknown field unknownfield merg varint field mergevarintfield raw valu rawvalu set protocol version setprotocolvers valu 16 raw valu rawvalu input read readenum org apach hedwig protocol pub sub protocol pubsubprotocol oper type operationtyp valu org apach hedwig protocol pub sub protocol pubsubprotocol oper type operationtyp valu valueof raw valu rawvalu valu unknown field unknownfield merg varint field mergevarintfield raw valu rawvalu set type settyp valu 26 add server addtriedserv input read byte readbyt 32 set txn id settxnid input read int64 readuint64 40 set claim setshouldclaim input read readbool 50 set topic settop input read byte readbyt 418 org apach hedwig protocol pub sub protocol pubsubprotocol publish request publishrequest builder sub builder subbuild org apach hedwig protocol pub sub protocol pubsubprotocol publish request publishrequest builder newbuild ha publish request haspublishrequest sub builder subbuild merg from mergefrom get publish request getpublishrequest input read messag readmessag sub builder subbuild extens registri extensionregistri set publish request setpublishrequest sub builder subbuild build partial buildparti 426 org apach hedwig protocol pub sub protocol pubsubprotocol subscrib request subscriberequest builder sub builder subbuild org apach hedwig protocol pub sub protocol pubsubprotocol subscrib request subscriberequest builder newbuild ha subscrib request hassubscriberequest sub builder subbuild merg from mergefrom get subscrib request getsubscriberequest input read messag readmessag sub builder subbuild extens registri extensionregistri set subscrib request setsubscriberequest sub builder subbuild build partial buildparti 434 org apach hedwig protocol pub sub protocol pubsubprotocol consum request consumerequest builder sub builder subbuild org apach hedwig protocol pub sub protocol pubsubprotocol consum request consumerequest builder newbuild ha consum request hasconsumerequest sub builder subbuild merg from mergefrom get consum request getconsumerequest input read messag readmessag sub builder subbuild extens registri extensionregistri set consum request setconsumerequest sub builder subbuild build partial buildparti 442 org apach hedwig protocol pub sub protocol pubsubprotocol unsubscrib request unsubscriberequest builder sub builder subbuild org apach hedwig protocol pub sub protocol pubsubprotocol unsubscrib request unsubscriberequest builder newbuild ha unsubscrib request hasunsubscriberequest sub builder subbuild merg from mergefrom get unsubscrib request getunsubscriberequest input read messag readmessag sub builder subbuild extens registri extensionregistri set unsubscrib request setunsubscriberequest sub builder subbuild build partial buildparti 450 org apach hedwig protocol pub sub protocol pubsubprotocol stop deliveri request stopdeliveryrequest builder sub builder subbuild org apach hedwig protocol pub sub protocol pubsubprotocol stop deliveri request stopdeliveryrequest builder newbuild ha stop deliveri request hasstopdeliveryrequest sub builder subbuild merg from mergefrom get stop deliveri request getstopdeliveryrequest input read messag readmessag sub builder subbuild extens registri extensionregistri set stop deliveri request setstopdeliveryrequest sub builder subbuild build partial buildparti 458 org apach hedwig protocol pub sub protocol pubsubprotocol start deliveri request startdeliveryrequest builder sub builder subbuild org apach hedwig protocol pub sub protocol pubsubprotocol start deliveri request startdeliveryrequest builder newbuild ha start deliveri request hasstartdeliveryrequest sub builder subbuild merg from mergefrom get start deliveri request getstartdeliveryrequest input read messag readmessag sub builder subbuild extens registri extensionregistri set start deliveri request setstartdeliveryrequest sub builder subbuild build partial buildparti requir hedwig protocol version protocolvers protocol version protocolvers ha protocol version hasprotocolvers result ha protocol version hasprotocolvers org apach hedwig protocol pub sub protocol pubsubprotocol protocol version protocolvers get protocol version getprotocolvers result get protocol version getprotocolvers builder set protocol version setprotocolvers org apach hedwig protocol pub sub protocol pubsubprotocol protocol version protocolvers valu valu pointer except nullpointerexcept result ha protocol version hasprotocolvers result protocol version protocolversion_ valu builder clear protocol version clearprotocolvers result ha protocol version hasprotocolvers result protocol version protocolversion_ org apach hedwig protocol pub sub protocol pubsubprotocol protocol version protocolvers version on version_on requir hedwig oper type operationtyp type ha type hastyp result ha type hastyp org apach hedwig protocol pub sub protocol pubsubprotocol oper type operationtyp get type gettyp result get type gettyp builder set type settyp org apach hedwig protocol pub sub protocol pubsubprotocol oper type operationtyp valu valu pointer except nullpointerexcept result ha type hastyp result type type_ valu builder clear type cleartyp result ha type hastyp result type type_ org apach hedwig protocol pub sub protocol pubsubprotocol oper type operationtyp publish repeat byte server triedserv java util list com googl protobuf string bytestr get server list gettriedserverslist java util collect unmodifi list unmodifiablelist result server triedservers_ get server count gettriedserverscount result get server count gettriedserverscount com googl protobuf string bytestr get server gettriedserv index result get server gettriedserv index builder set server settriedserv index com googl protobuf string bytestr valu valu pointer except nullpointerexcept result server triedservers_ set index valu builder add server addtriedserv com googl protobuf string bytestr valu valu pointer except nullpointerexcept result server triedservers_ empti isempti result server triedservers_ java util arrai list arraylist com googl protobuf string bytestr result server triedservers_ add valu builder add server addalltriedserv java lang iter com googl protobuf string bytestr valu result server triedservers_ empti isempti result server triedservers_ java util arrai list arraylist com googl protobuf string bytestr add addal valu result server triedservers_ builder clear server cleartriedserv result server triedservers_ java util collect empti list emptylist requir uint64 txn id txnid ha txn id hastxnid result ha txn id hastxnid get txn id gettxnid result get txn id gettxnid builder set txn id settxnid valu result ha txn id hastxnid result txn id txnid_ valu builder clear txn id cleartxnid result ha txn id hastxnid result txn id txnid_ 0l option claim shouldclaim ha claim hasshouldclaim result ha claim hasshouldclaim get claim getshouldclaim result get claim getshouldclaim builder set claim setshouldclaim valu result ha claim hasshouldclaim result claim shouldclaim_ valu builder clear claim clearshouldclaim result ha claim hasshouldclaim result claim shouldclaim_ requir byte topic ha topic hastop result ha topic hastop com googl protobuf string bytestr get topic gettop result get topic gettop builder set topic settop com googl protobuf string bytestr valu valu pointer except nullpointerexcept result ha topic hastop result topic topic_ valu builder clear topic cleartop result ha topic hastop result topic topic_ get instanc getdefaultinst get topic gettop option hedwig publish request publishrequest publish request publishrequest 52 ha publish request haspublishrequest result ha publish request haspublishrequest org apach hedwig protocol pub sub protocol pubsubprotocol publish request publishrequest get publish request getpublishrequest result get publish request getpublishrequest builder set publish request setpublishrequest org apach hedwig protocol pub sub protocol pubsubprotocol publish request publishrequest valu valu pointer except nullpointerexcept result ha publish request haspublishrequest result publish request publishrequest_ valu builder set publish request setpublishrequest org apach hedwig protocol pub sub protocol pubsubprotocol publish request publishrequest builder builder valu builderforvalu result ha publish request haspublishrequest result publish request publishrequest_ builder valu builderforvalu build builder merg publish request mergepublishrequest org apach hedwig protocol pub sub protocol pubsubprotocol publish request publishrequest valu result ha publish request haspublishrequest result publish request publishrequest_ org apach hedwig protocol pub sub protocol pubsubprotocol publish request publishrequest get instanc getdefaultinst result publish request publishrequest_ org apach hedwig protocol pub sub protocol pubsubprotocol publish request publishrequest builder newbuild result publish request publishrequest_ merg from mergefrom valu build partial buildparti result publish request publishrequest_ valu result ha publish request haspublishrequest builder clear publish request clearpublishrequest result ha publish request haspublishrequest result publish request publishrequest_ org apach hedwig protocol pub sub protocol pubsubprotocol publish request publishrequest get instanc getdefaultinst option hedwig subscrib request subscriberequest subscrib request subscriberequest 53 ha subscrib request hassubscriberequest result ha subscrib request hassubscriberequest org apach hedwig protocol pub sub protocol pubsubprotocol subscrib request subscriberequest get subscrib request getsubscriberequest result get subscrib request getsubscriberequest builder set subscrib request setsubscriberequest org apach hedwig protocol pub sub protocol pubsubprotocol subscrib request subscriberequest valu valu pointer except nullpointerexcept result ha subscrib request hassubscriberequest result subscrib request subscriberequest_ valu builder set subscrib request setsubscriberequest org apach hedwig protocol pub sub protocol pubsubprotocol subscrib request subscriberequest builder builder valu builderforvalu result ha subscrib request hassubscriberequest result subscrib request subscriberequest_ builder valu builderforvalu build builder merg subscrib request mergesubscriberequest org apach hedwig protocol pub sub protocol pubsubprotocol subscrib request subscriberequest valu result ha subscrib request hassubscriberequest result subscrib request subscriberequest_ org apach hedwig protocol pub sub protocol pubsubprotocol subscrib request subscriberequest get instanc getdefaultinst result subscrib request subscriberequest_ org apach hedwig protocol pub sub protocol pubsubprotocol subscrib request subscriberequest builder newbuild result subscrib request subscriberequest_ merg from mergefrom valu build partial buildparti result subscrib request subscriberequest_ valu result ha subscrib request hassubscriberequest builder clear subscrib request clearsubscriberequest result ha subscrib request hassubscriberequest result subscrib request subscriberequest_ org apach hedwig protocol pub sub protocol pubsubprotocol subscrib request subscriberequest get instanc getdefaultinst option hedwig consum request consumerequest consum request consumerequest 54 ha consum request hasconsumerequest result ha consum request hasconsumerequest org apach hedwig protocol pub sub protocol pubsubprotocol consum request consumerequest get consum request getconsumerequest result get consum request getconsumerequest builder set consum request setconsumerequest org apach hedwig protocol pub sub protocol pubsubprotocol consum request consumerequest valu valu pointer except nullpointerexcept result ha consum request hasconsumerequest result consum request consumerequest_ valu builder set consum request setconsumerequest org apach hedwig protocol pub sub protocol pubsubprotocol consum request consumerequest builder builder valu builderforvalu result ha consum request hasconsumerequest result consum request consumerequest_ builder valu builderforvalu build builder merg consum request mergeconsumerequest org apach hedwig protocol pub sub protocol pubsubprotocol consum request consumerequest valu result ha consum request hasconsumerequest result consum request consumerequest_ org apach hedwig protocol pub sub protocol pubsubprotocol consum request consumerequest get instanc getdefaultinst result consum request consumerequest_ org apach hedwig protocol pub sub protocol pubsubprotocol consum request consumerequest builder newbuild result consum request consumerequest_ merg from mergefrom valu build partial buildparti result consum request consumerequest_ valu result ha consum request hasconsumerequest builder clear consum request clearconsumerequest result ha consum request hasconsumerequest result consum request consumerequest_ org apach hedwig protocol pub sub protocol pubsubprotocol consum request consumerequest get instanc getdefaultinst option hedwig unsubscrib request unsubscriberequest unsubscrib request unsubscriberequest 55 ha unsubscrib request hasunsubscriberequest result ha unsubscrib request hasunsubscriberequest org apach hedwig protocol pub sub protocol pubsubprotocol unsubscrib request unsubscriberequest get unsubscrib request getunsubscriberequest result get unsubscrib request getunsubscriberequest builder set unsubscrib request setunsubscriberequest org apach hedwig protocol pub sub protocol pubsubprotocol unsubscrib request unsubscriberequest valu valu pointer except nullpointerexcept result ha unsubscrib request hasunsubscriberequest result unsubscrib request unsubscriberequest_ valu builder set unsubscrib request setunsubscriberequest org apach hedwig protocol pub sub protocol pubsubprotocol unsubscrib request unsubscriberequest builder builder valu builderforvalu result ha unsubscrib request hasunsubscriberequest result unsubscrib request unsubscriberequest_ builder valu builderforvalu build builder merg unsubscrib request mergeunsubscriberequest org apach hedwig protocol pub sub protocol pubsubprotocol unsubscrib request unsubscriberequest valu result ha unsubscrib request hasunsubscriberequest result unsubscrib request unsubscriberequest_ org apach hedwig protocol pub sub protocol pubsubprotocol unsubscrib request unsubscriberequest get instanc getdefaultinst result unsubscrib request unsubscriberequest_ org apach hedwig protocol pub sub protocol pubsubprotocol unsubscrib request unsubscriberequest builder newbuild result unsubscrib request unsubscriberequest_ merg from mergefrom valu build partial buildparti result unsubscrib request unsubscriberequest_ valu result ha unsubscrib request hasunsubscriberequest builder clear unsubscrib request clearunsubscriberequest result ha unsubscrib request hasunsubscriberequest result unsubscrib request unsubscriberequest_ org apach hedwig protocol pub sub protocol pubsubprotocol unsubscrib request unsubscriberequest get instanc getdefaultinst option hedwig stop deliveri request stopdeliveryrequest stop deliveri request stopdeliveryrequest 56 ha stop deliveri request hasstopdeliveryrequest result ha stop deliveri request hasstopdeliveryrequest org apach hedwig protocol pub sub protocol pubsubprotocol stop deliveri request stopdeliveryrequest get stop deliveri request getstopdeliveryrequest result get stop deliveri request getstopdeliveryrequest builder set stop deliveri request setstopdeliveryrequest org apach hedwig protocol pub sub protocol pubsubprotocol stop deliveri request stopdeliveryrequest valu valu pointer except nullpointerexcept result ha stop deliveri request hasstopdeliveryrequest result stop deliveri request stopdeliveryrequest_ valu builder set stop deliveri request setstopdeliveryrequest org apach hedwig protocol pub sub protocol pubsubprotocol stop deliveri request stopdeliveryrequest builder builder valu builderforvalu result ha stop deliveri request hasstopdeliveryrequest result stop deliveri request stopdeliveryrequest_ builder valu builderforvalu build builder merg stop deliveri request mergestopdeliveryrequest org apach hedwig protocol pub sub protocol pubsubprotocol stop deliveri request stopdeliveryrequest valu result ha stop deliveri request hasstopdeliveryrequest result stop deliveri request stopdeliveryrequest_ org apach hedwig protocol pub sub protocol pubsubprotocol stop deliveri request stopdeliveryrequest get instanc getdefaultinst result stop deliveri request stopdeliveryrequest_ org apach hedwig protocol pub sub protocol pubsubprotocol stop deliveri request stopdeliveryrequest builder newbuild result stop deliveri request stopdeliveryrequest_ merg from mergefrom valu build partial buildparti result stop deliveri request stopdeliveryrequest_ valu result ha stop deliveri request hasstopdeliveryrequest builder clear stop deliveri request clearstopdeliveryrequest result ha stop deliveri request hasstopdeliveryrequest result stop deliveri request stopdeliveryrequest_ org apach hedwig protocol pub sub protocol pubsubprotocol stop deliveri request stopdeliveryrequest get instanc getdefaultinst option hedwig start deliveri request startdeliveryrequest start deliveri request startdeliveryrequest 57 ha start deliveri request hasstartdeliveryrequest result ha start deliveri request hasstartdeliveryrequest org apach hedwig protocol pub sub protocol pubsubprotocol start deliveri request startdeliveryrequest get start deliveri request getstartdeliveryrequest result get start deliveri request getstartdeliveryrequest builder set start deliveri request setstartdeliveryrequest org apach hedwig protocol pub sub protocol pubsubprotocol start deliveri request startdeliveryrequest valu valu pointer except nullpointerexcept result ha start deliveri request hasstartdeliveryrequest result start deliveri request startdeliveryrequest_ valu builder set start deliveri request setstartdeliveryrequest org apach hedwig protocol pub sub protocol pubsubprotocol start deliveri request startdeliveryrequest builder builder valu builderforvalu result ha start deliveri request hasstartdeliveryrequest result start deliveri request startdeliveryrequest_ builder valu builderforvalu build builder merg start deliveri request mergestartdeliveryrequest org apach hedwig protocol pub sub protocol pubsubprotocol start deliveri request startdeliveryrequest valu result ha start deliveri request hasstartdeliveryrequest result start deliveri request startdeliveryrequest_ org apach hedwig protocol pub sub protocol pubsubprotocol start deliveri request startdeliveryrequest get instanc getdefaultinst result start deliveri request startdeliveryrequest_ org apach hedwig protocol pub sub protocol pubsubprotocol start deliveri request startdeliveryrequest builder newbuild result start deliveri request startdeliveryrequest_ merg from mergefrom valu build partial buildparti result start deliveri request startdeliveryrequest_ valu result ha start deliveri request hasstartdeliveryrequest builder clear start deliveri request clearstartdeliveryrequest result ha start deliveri request hasstartdeliveryrequest result start deliveri request startdeliveryrequest_ org apach hedwig protocol pub sub protocol pubsubprotocol start deliveri request startdeliveryrequest get instanc getdefaultinst protoc insert point protoc_insertion_point builder scope builder_scop hedwig pub sub request pubsubrequest 
handl commun client nio on cnxn client on thread commun nio server factori nioserverfactori thread packet processor packetprocessor process packet processpacket buffer bytebuff packet cnxn src server stat serverstat stat server stat serverstat logger log logger factori loggerfactori get logger getlogg nio server factori nioserverfactori server socket channel serversocketchannel ss selector selector selector open us buffer effici socket singl sender thread nio server cnxn nioservercnxn instanc us member variabl alloc buffer bytebuff direct buffer directbuff buffer bytebuff alloc direct allocatedirect 64 1024 hash set hashset cnxn cnxn hash set hashset cnxn outstand limit outstandinglimit 2000 packet processor packetprocessor processor min latenc minlat 99999999 server configur serverconfigur conf nio server factori nioserverfactori server configur serverconfigur conf packet processor packetprocessor processor io except ioexcept nio server factori nioserverfactori conf get booki port getbookieport set daemon setdaemon processor processor conf conf ss server socket channel serversocketchannel open ss socket bind inet socket address inetsocketaddress conf get booki port getbookieport ss configur block configureblock ss selector select kei selectionkei op accept op_accept inet socket address inetsocketaddress get local address getlocaladdress inet socket address inetsocketaddress ss socket get local socket address getlocalsocketaddress add cnxn addcnxn cnxn cnxn cnxn cnxn add cnxn run isrun ss socket close isclos overrid run ss socket close isclos selector select 1000 set select kei selectionkei select select selector select kei selectedkei arrai list arraylist select kei selectionkei select list selectedlist arrai list arraylist select kei selectionkei select collect shuffl select list selectedlist select kei selectionkei select list selectedlist readi op readyop select kei selectionkei op accept op_accept socket channel socketchannel sc server socket channel serversocketchannel channel accept sc configur block configureblock select kei selectionkei sk sc selector select kei selectionkei op read op_read cnxn cnxn cnxn sc sk sk attach cnxn add cnxn addcnxn cnxn readi op readyop select kei selectionkei op read op_read select kei selectionkei op write op_writ cnxn cnxn attach io doio select clear except log warn except server socket loop ss socket get inet address getinetaddress log info nio server cnxn nioservercnxn factori exitedloop clear clear connect selector clear selector wakeup cnxn clear connect selector iter cnxn cnxn iter ha next hasnext cnxn cnxn next remov cnxn close except shutdown ss close clear interrupt join interrupt except interruptedexcept log warn interrupt except log error unexpect except buffer caus connect close send buffer bytebuff close conn closeconn buffer bytebuff alloc cnxn socket channel socketchannel sock select kei selectionkei sk initi buffer bytebuff len buffer lenbuff buffer bytebuff alloc buffer bytebuff incom buffer incomingbuff len buffer lenbuff link block queue linkedblockingqueu buffer bytebuff outgo buffer outgoingbuff link block queue linkedblockingqueu buffer bytebuff session timeout sessiontimeout io doio select kei selectionkei interrupt except interruptedexcept sock readabl isread rc sock read incom buffer incomingbuff rc io except ioexcept read error incom buffer incomingbuff remain incom buffer incomingbuff flip incom buffer incomingbuff len buffer lenbuff read length readlength cnxn stat cnxnstat packet receiv packetsreceiv server stat serverstat get instanc getinst increment packet receiv incrementpacketsreceiv read request readrequest len buffer lenbuff clear incom buffer incomingbuff len buffer lenbuff writabl iswrit outgo buffer outgoingbuff size zoo log zoolog log trace messag logtracemessag log zoo log zoolog client data packet trace mask client_data_packet_trace_mask sk valid valid isvalid reset buffer posit limit size buffer fill data from non direct buffer send direct buffer directbuff clear buffer bytebuff outgo buffer outgoingbuff direct buffer directbuff remain remain call put direct buffer directbuff small hold copi ve slice buffer big buffer bytebuff slice limit direct buffer directbuff remain put modifi posit buffer put don chang posit sourc buffer ll after send need save reset posit after copi posit direct buffer directbuff put posit direct buffer directbuff remain flip limit posit posit get set set up write direct buffer directbuff flip sent sock write direct buffer directbuff buffer bytebuff bb remov buffer sent outgo buffer outgoingbuff size bb outgo buffer outgoingbuff peek bb close conn closeconn io except ioexcept close left bb remain sent left partial sent buffer updat posit exit loop bb posit bb posit sent cnxn stat cnxnstat packet sent packetss ve sent buffer drop buffer sent bb remain server stat serverstat get instanc getinst increment packet sent incrementpacketss outgo buffer outgoingbuff remov zoo log zoolog log trace messag logtracemessag log zoo log zoolog client data packet trace mask client_data_packet_trace_mask after send outgo buffer outgoingbuff size outgo buffer outgoingbuff size outgo buffer outgoingbuff size initi sk interest op interestop select kei selectionkei op read op_read io except ioexcept respond info probe sk interest op interestop sk interest op interestop select kei selectionkei op write op_writ sk interest op interestop sk interest op interestop select kei selectionkei op write op_writ cancel kei except cancelledkeyexcept close io except ioexcept log error fixmsg close read request readrequest io except ioexcept incom buffer incomingbuff incom buffer incomingbuff slice processor process packet processpacket incom buffer incomingbuff disabl recv disablerecv sk interest op interestop sk interest op interestop select kei selectionkei op read op_read enabl recv enablerecv sk valid isvalid interest sk interest op interestop interest select kei selectionkei op read op_read sk interest op interestop interest select kei selectionkei op read op_read read length readlength select kei selectionkei io except ioexcept read length get buffer len len buffer lenbuff get getint len len xfffff 0xfffff io except ioexcept len error len incom buffer incomingbuff buffer bytebuff alloc len number request submit respond outstand request outstandingrequest non javadoc org apach zookeep server server cnxn ifac servercnxnifac get session timeout getsessiontimeout get session timeout getsessiontimeout session timeout sessiontimeout string peer name peernam cnxn socket channel socketchannel sock select kei selectionkei sk io except ioexcept sock sock sk sk sock socket set tcp delai settcpnodelai conf get server tcp delai getservertcpnodelai sock socket set linger setsoling sk interest op interestop select kei selectionkei op read op_read log trace enabl istraceen peer name peernam sock socket string tostr len buffer lenbuff clear incom buffer incomingbuff len buffer lenbuff overrid string string tostr nio server cnxn nioservercnxn object sock sock sk sk string get peer name getpeernam peer name peernam peer name peernam sock socket string tostr peer name peernam close non javadoc org apach zookeep server server cnxn ifac servercnxnifac close close close close cnxn cnxn remov log debug close nio server cnxn nioservercnxn sock follow sequenc code stupid sock close need ala doesn work sock close case socket doesn close sock socket shutdown output shutdownoutput io except ioexcept common except avoid sock socket shutdown input shutdowninput io except ioexcept sock socket close io except ioexcept log error fixmsg sock close xxx next line doesn need post forum suggest need keep mind error section aris factori selector wakeup io except ioexcept log error fixmsg sock sk cancel select kei from selector sk cancel except make writabl makewrit select kei selectionkei sk selector wakeup sk valid isvalid sk interest op interestop sk interest op interestop select kei selectionkei op write op_writ runtim except runtimeexcept log error problem set writabl send buffer sendbuff buffer bytebuff bb buffer bytebuff len buffer bytebuff alloc total bb length bb total bb remain log trace enabl istraceen log debug send respons size total peer name peernam len put putint total len flip outgo buffer outgoingbuff add len bb length bb outgo buffer outgoingbuff add bb make writabl makewrit sk send respons sendrespons buffer bytebuff bb close send buffer sendbuff bb nio server factori nioserverfactori outstand request outstandingrequest check throttl outstand request outstandingrequest outstand limit outstandinglimit sk selector wakeup enabl recv enablerecv inet socket address inetsocketaddress get remot address getremoteaddress inet socket address inetsocketaddress sock socket get remot socket address getremotesocketaddress cnxn stat cnxnstat packet sent packetss packet receiv packetsreceiv number request submit respond get outstand request getoutstandingrequest cnxn outstand request outstandingrequest get packet receiv getpacketsreceiv packet receiv packetsreceiv get packet sent getpacketss packet sent packetss overrid string string tostr string builder stringbuild sb string builder stringbuild channel channel sk channel channel socket channel socketchannel sb append append socket channel socketchannel channel socket get remot socket address getremotesocketaddress append append integ hex string tohexstr sk interest op interestop append queu append get outstand request getoutstandingrequest append recv append get packet receiv getpacketsreceiv append sent append get packet sent getpacketss append sb string tostr cnxn stat cnxnstat cnxn stat cnxnstat cnxn stat cnxnstat cnxn stat cnxnstat get stat getstat cnxn stat cnxnstat 
cooki test cookietest zoo keeper util zookeeperutil zkutil zoo keeper zookeep zkc befor setup zoo keeper setupzookeep except zkutil zoo keeper util zookeeperutil zkutil start server startserv zkc zkutil get zoo keeper client getzookeepercli after tear down zoo keeper teardownzookeep except zkutil kill server killserv string directori newdirectori io except ioexcept directori newdirectori string directori newdirectori creat cur dir createcurdir io except ioexcept file file creat temp file createtempfil booki tmpdir delet mkdir creat cur dir createcurdir file current mkdir get path getpath test start booki clean state test test clean start testcleanstart except server configur serverconfigur conf server configur serverconfigur set zk server setzkserv zkutil get zoo keeper connect string getzookeeperconnectstr set journal dir name setjournaldirnam directori newdirectori set ledger dir name setledgerdirnam string directori newdirectori set booki port setbookieport 3181 booki booki conf except fail reach here test zookeep cooki differ local cooki booki fail start test test bad journal cooki testbadjournalcooki except server configur serverconfigur conf1 server configur serverconfigur set journal dir name setjournaldirnam directori newdirectori set ledger dir name setledgerdirnam string directori newdirectori set booki port setbookieport 3181 cooki cooki gener cooki generatecooki conf1 write zoo keeper writetozookeep zkc conf1 string journal dir journaldir directori newdirectori string ledger dir ledgerdir directori newdirectori server configur serverconfigur conf2 server configur serverconfigur set zk server setzkserv zkutil get zoo keeper connect string getzookeeperconnectstr set journal dir name setjournaldirnam journal dir journaldir set ledger dir name setledgerdirnam string ledger dir ledgerdir set booki port setbookieport 3181 cooki c2 cooki gener cooki generatecooki conf2 c2 write directori writetodirectori file journal dir journaldir current c2 write directori writetodirectori file ledger dir ledgerdir current booki booki conf2 fail shouldn abl start booki except bookieexcept invalid cooki except invalidcookieexcept ic correct behaviour test directori remov from configur booki fail start test test directori miss testdirectorymiss except string ledger dir ledgerdir string directori newdirectori directori newdirectori directori newdirectori string journal dir journaldir directori newdirectori server configur serverconfigur conf server configur serverconfigur set zk server setzkserv zkutil get zoo keeper connect string getzookeeperconnectstr set journal dir name setjournaldirnam journal dir journaldir set ledger dir name setledgerdirnam ledger dir ledgerdir set booki port setbookieport 3181 booki booki conf work fine start shutdown conf set ledger dir name setledgerdirnam string ledger dir ledgerdir ledger dir ledgerdir booki b2 booki conf fail shouldn abl start booki except bookieexcept invalid cooki except invalidcookieexcept ic correct behaviour conf set journal dir name setjournaldirnam directori newdirectori set ledger dir name setledgerdirnam ledger dir ledgerdir booki b2 booki conf fail shouldn abl start booki except bookieexcept invalid cooki except invalidcookieexcept ic correct behaviour conf set journal dir name setjournaldirnam journal dir journaldir booki conf start shutdown test directori ad preexist booki booki fail start test test directori ad testdirectoryad except string ledger dir0 ledgerdir0 directori newdirectori string journal dir journaldir directori newdirectori server configur serverconfigur conf server configur serverconfigur set zk server setzkserv zkutil get zoo keeper connect string getzookeeperconnectstr set journal dir name setjournaldirnam journal dir journaldir set ledger dir name setledgerdirnam string ledger dir0 ledgerdir0 set booki port setbookieport 3181 booki booki conf work fine start shutdown conf set ledger dir name setledgerdirnam string ledger dir0 ledgerdir0 directori newdirectori booki b2 booki conf fail shouldn abl start booki except bookieexcept invalid cooki except invalidcookieexcept ic correct behaviour conf set ledger dir name setledgerdirnam string ledger dir0 ledgerdir0 booki conf start shutdown test directori content empti booki fail start test test directori clear testdirectoryclear except string ledger dir0 ledgerdir0 directori newdirectori string journal dir journaldir directori newdirectori server configur serverconfigur conf server configur serverconfigur set zk server setzkserv zkutil get zoo keeper connect string getzookeeperconnectstr set journal dir name setjournaldirnam journal dir journaldir set ledger dir name setledgerdirnam string ledger dir0 ledgerdir0 directori newdirectori set booki port setbookieport 3181 booki booki conf work fine start shutdown file util fileutil delet directori deletedirectori file ledger dir0 ledgerdir0 booki b2 booki conf fail shouldn abl start booki except bookieexcept invalid cooki except invalidcookieexcept ic correct behaviour test booki port chang booki fail start test test booki port chang testbookieportchang except server configur serverconfigur conf server configur serverconfigur set zk server setzkserv zkutil get zoo keeper connect string getzookeeperconnectstr set journal dir name setjournaldirnam directori newdirectori set ledger dir name setledgerdirnam string directori newdirectori directori newdirectori set booki port setbookieport 3181 booki booki conf work fine start shutdown conf set booki port setbookieport 3182 booki conf fail shouldn abl start booki except bookieexcept invalid cooki except invalidcookieexcept ic correct behaviour test booki start address booki ha exist booki fail start test test booki start booki port testnewbookiestartingwithanotherbookiesport except server configur serverconfigur conf server configur serverconfigur set zk server setzkserv zkutil get zoo keeper connect string getzookeeperconnectstr set journal dir name setjournaldirnam directori newdirectori set ledger dir name setledgerdirnam string directori newdirectori directori newdirectori set booki port setbookieport 3181 booki booki conf work fine start shutdown conf server configur serverconfigur set zk server setzkserv zkutil get zoo keeper connect string getzookeeperconnectstr set journal dir name setjournaldirnam directori newdirectori set ledger dir name setledgerdirnam string directori newdirectori directori newdirectori set booki port setbookieport 3181 booki conf fail shouldn abl start booki except bookieexcept invalid cooki except invalidcookieexcept ic correct behaviour test booki start directori version data fail start upgrad test test v2 data testv2data except server configur serverconfigur conf server configur serverconfigur set zk server setzkserv zkutil get zoo keeper connect string getzookeeperconnectstr set journal dir name setjournaldirnam v2 journal directori newv2journaldirectori set ledger dir name setledgerdirnam string v2 ledger directori newv2ledgerdirectori set booki port setbookieport 3181 booki booki conf fail shouldn abl start booki except bookieexcept invalid cooki except invalidcookieexcept ic correct behaviour asserttru wrong except ic get caus getcaus get messag getmessag contain upgrad need test booki start directori version data fail start upgrad test test v1 data testv1data except server configur serverconfigur conf server configur serverconfigur set zk server setzkserv zkutil get zoo keeper connect string getzookeeperconnectstr set journal dir name setjournaldirnam v1 journal directori newv1journaldirectori set ledger dir name setledgerdirnam string v1 ledger directori newv1ledgerdirectori set booki port setbookieport 3181 booki booki conf fail shouldn abl start booki except bookieexcept invalid cooki except invalidcookieexcept ic correct behaviour asserttru wrong except ic get caus getcaus get messag getmessag contain upgrad need 
publish handler publishhandl base handler basehandl persist manag persistencemanag persist mgr persistencemgr op stat opstat pub stat pubstat publish handler publishhandl topic manag topicmanag topic mgr topicmgr persist manag persistencemanag persist mgr persistencemgr server configur serverconfigur cfg topic mgr topicmgr cfg persist mgr persistencemgr persist mgr persistencemgr pub stat pubstat server stat serverstat get instanc getinst get op stat getopstat oper type operationtyp publish overrid handl request owner handlerequestatown pub sub request pubsubrequest request channel channel request ha publish request haspublishrequest umbrella handler umbrellahandl send error respons malform request senderrorresponsetomalformedrequest channel request get txn id gettxnid miss publish request data pub stat pubstat increment fail op incrementfailedop messag msg serial msgtoseri messag builder newbuild request get publish request getpublishrequest get msg getmsg set src region setsrcregion cfg get region string getmyregionbytestr build request time requesttim current time milli currenttimemilli persist request persistrequest persist request persistrequest persist request persistrequest request get topic gettop msg serial msgtoseri callback overrid oper fail operationfail object ctx pub sub except pubsubexcept except channel write pub sub respons util pubsubresponseutil get respons except getresponseforexcept except request get txn id gettxnid pub stat pubstat increment fail op incrementfailedop overrid oper finish operationfinish object ctx result oper resultofoper channel write pub sub respons util pubsubresponseutil get success respons getsuccessrespons request get txn id gettxnid pub stat pubstat updat latenc updatelat current time milli currenttimemilli request time requesttim persist mgr persistencemgr persist messag persistmessag persist request persistrequest 
test test read write synchron asynchron string integ book keeper bookkeep client test deploy us zoo keeper zookeep server three book keeper bookkeep booki read write test bookiereadwritetest base test basetestcas add callback addcallback read callback readcallback read last confirm callback readlastconfirmedcallback depend tast select amount log decom on two line logger log logger get root logger getrootlogg logger log logger factori loggerfactori get logger getlogg booki read write test bookiereadwritetest ledger password ledgerpassword aaa get byte getbyt ledger handl ledgerhandl lh lh2 ledger id ledgerid enumer ledger entri ledgerentri ls test relat variabl num entri write numentriestowrit 200 max maxint 2147483647 random rng random number gener arrai list arraylist entri gener entri arrai list arraylist integ entri size entriess digest type digesttyp digest type digesttyp booki read write test bookiereadwritetest digest type digesttyp digest type digesttyp digest type digesttyp digest type digesttyp synchron sync obj syncobj sync set object sync obj syncobj sync obj syncobj last confirm lastconfirm counter valu sync obj syncobj counter last confirm lastconfirm ledger handl ledgerhandl invalid entri id invalid_entry_id valu test test open except testopenexcept keeper except keeperexcept io except ioexcept interrupt except interruptedexcept lh bkc open ledger openledg digest type digesttyp ledger password ledgerpassword fail haven thrown except bk except bkexcept log warn successfulli thrown caught except test stream api read write link io except ioexcept link keeper except keeperexcept test test stream client teststreamingcli io except ioexcept keeper except keeperexcept bk except bkexcept interrupt except interruptedexcept lh bkc creat ledger createledg digest type digesttyp ledger password ledgerpassword write string cna creat buffer singl byte check corner case string write towrit check string match record mahadev best ledger output stream ledgeroutputstream lout ledger output stream ledgeroutputstream lh write towrit get byte getbyt lout write lout close id lid lh get id getid lh close check saniti lh bkc open ledger openledg id lid digest type digesttyp ledger password ledgerpassword ledger input stream ledgerinputstream lin ledger input stream ledgerinputstream lh bread length read read length read read lin read bread read length string string newstr string bread asserttru two write towrit equal string newstr lin close lh close creat ledger write on time lh bkc creat ledger createledg digest type digesttyp ledger password ledgerpassword lout ledger output stream ledgeroutputstream lh length lout write lout close id lid lh get id getid lh close lh bkc open ledger openledg id lid digest type digesttyp ledger password ledgerpassword lin ledger input stream ledgerinputstream lh bread length read read length read read lin read bread read length string newstr string bread asserttru two write towrit equal string newstr lin close lh close test test read write async singl client testreadwriteasyncsinglecli io except ioexcept creat ledger lh bkc creat ledger createledg digest type digesttyp ledger password ledgerpassword bkc init messag digest initmessagedigest sha1 ledger id ledgerid lh get id getid log info ledger id lh get id getid num entri write numentriestowrit buffer bytebuff entri buffer bytebuff alloc entri put putint rng next nextint max maxint entri posit entri add entri arrai entri size entriess add entri arrai length lh async add entri asyncaddentri entri arrai sync wait entri acknowledg sync sync counter num entri write numentriestowrit log debug entri counter sync counter sync wait log debug write complet close ledger lh close write part complet read part begin open ledger lh bkc open ledger openledg ledger id ledgerid digest type digesttyp ledger password ledgerpassword log debug number entri written lh get last add confirm getlastaddconfirm asserttru verifi number entri written lh get last add confirm getlastaddconfirm num entri write numentriestowrit read entri lh async read entri asyncreadentri num entri write numentriestowrit object sync sync sync valu sync wait log debug read complet point enumer ledger entri ledgerentri ls fill return valu ls ha more element hasmoreel buffer bytebuff origbb buffer bytebuff wrap entri get integ orig entri origentri origbb get getint entri ls next element nextel get entri getentri buffer bytebuff result buffer bytebuff wrap entri log debug length result result capac log debug origin entri orig entri origentri integ retr entri retrentri result get getint log debug retriev entri retr entri retrentri asserttru check entri equal orig entri origentri equal retr entri retrentri asserttru check entri size entri length entri size entriess get valu intvalu asserttru check number read entri num entri write numentriestowrit lh close bk except bkexcept log error test fail fail test fail book keeper bookkeep except interrupt except interruptedexcept log error test fail fail test fail interrupt check add api offset length work correctli first vari offset length fix non zero offset test test read write rang async singl client testreadwriterangeasyncsinglecli io except ioexcept creat ledger lh bkc creat ledger createledg digest type digesttyp ledger password ledgerpassword bkc init messag digest initmessagedigest sha1 ledger id ledgerid lh get id getid log info ledger id lh get id getid byte lh async add entri asyncaddentri byte byte length sync lh async add entri asyncaddentri byte sync abcd lh async add entri asyncaddentri byte sync defg lh async add entri asyncaddentri byte byte length sync defghi num entri numentri wait entri acknowledg sync sync counter num entri numentri log debug entri counter sync counter sync wait lh async add entri asyncaddentri byte byte length sync fail shouldn abl us neg offset arrai index bound except arrayindexoutofboundsexcept aiob expect lh async add entri asyncaddentri byte byte length sync fail shouldn abl us length arrai index bound except arrayindexoutofboundsexcept aiob expect lh async add entri asyncaddentri byte byte length sync fail shouldn abl us neg offset length arrai index bound except arrayindexoutofboundsexcept aiob expect lh async add entri asyncaddentri byte sync fail shouldn abl us neg length arrai index bound except arrayindexoutofboundsexcept aiob expect lh async add entri asyncaddentri byte sync fail shouldn abl us neg offset length arrai index bound except arrayindexoutofboundsexcept aiob expect log debug write complet close ledger lh close write part complet read part begin open ledger lh bkc open ledger openledg ledger id ledgerid digest type digesttyp ledger password ledgerpassword log debug number entri written lh get last add confirm getlastaddconfirm asserttru verifi number entri written lh get last add confirm getlastaddconfirm num entri numentri read entri lh async read entri asyncreadentri num entri numentri object sync sync sync valu sync wait log debug read complet point enumer ledger entri ledgerentri ls fill return valu ls ha more element hasmoreel expect entri ls next element nextel get entri getentri expect arrai copi rang copyofrang byte byte length expect arrai copi rang copyofrang byte expect arrai copi rang copyofrang byte expect arrai copi rang copyofrang byte byte length assertnotnul more check write expect string messag check entri equal string entri utf string expect utf asserttru messag arrai equal entri expect asserttru check number read entri num entri numentri lh close bk except bkexcept log error test fail fail test fail book keeper bookkeep except interrupt except interruptedexcept log error test fail fail test fail interrupt throttl test callback throttletestcallback read callback readcallback throttl throttl test callback throttletestcallback threshold throttl threshold read complet readcomplet rc ledger handl ledgerhandl lh enumer ledger entri ledgerentri seq object ctx rc bk except bkexcept code fail code rc ls seq sync sync counter throttl sync notifi log info current counter sync counter method obtain avail permit ledger handl reflect avoid ad method param lh suppress warn suppresswarn uncheck get avail permit getavailablepermit ledger handl ledgerhandl lh field except nosuchfieldexcept illeg access except illegalaccessexcept field field ledger handl ledgerhandl get declar field getdeclaredfield op counter sem opcountersem field set access setaccess semaphor field get lh avail permit availablepermit test test read write async singl client throttl testreadwriteasyncsingleclientthrottl io except ioexcept field except nosuchfieldexcept illeg access except illegalaccessexcept integ throttl 100 throttl test callback throttletestcallback tcb throttl test callback throttletestcallback throttl creat ledger bkc get conf getconf set throttl valu setthrottlevalu throttl lh bkc creat ledger createledg digest type digesttyp ledger password ledgerpassword bkc init messag digest initmessagedigest sha1 ledger id ledgerid lh get id getid log info ledger id lh get id getid num entri write numentriestowrit 8000 num entri write numentriestowrit 2000 buffer bytebuff entri buffer bytebuff alloc entri put putint rng next nextint max maxint entri posit entri add entri arrai entri size entriess add entri arrai length lh async add entri asyncaddentri entri arrai sync check differ larger throttl threshold test valu testvalu get avail permit getavailablepermit lh asserttru differ incorrect sync counter test valu testvalu test valu testvalu throttl 2000 buffer bytebuff entri buffer bytebuff alloc entri put putint rng next nextint max maxint entri posit entri add entri arrai entri size entriess add entri arrai length lh async add entri asyncaddentri entri arrai sync check differ larger throttl threshold test valu testvalu get avail permit getavailablepermit lh asserttru differ incorrect sync counter test valu testvalu test valu testvalu throttl wait entri acknowledg sync sync counter num entri write numentriestowrit log debug entri counter sync counter sync wait log debug write complet close ledger lh close write part complet read part begin open ledger lh bkc open ledger openledg ledger id ledgerid digest type digesttyp ledger password ledgerpassword log debug number entri written lh get last add confirm getlastaddconfirm asserttru verifi number entri written lh get last add confirm getlastaddconfirm num entri write numentriestowrit read entri sync counter num entri write numentriestowrit throttl lh async read entri asyncreadentri throttl tcb object sync test valu testvalu get avail permit getavailablepermit lh asserttru differ incorrect sync counter test valu testvalu test valu testvalu throttl sync sync counter num entri write numentriestowrit log info entri counter sync counter sync wait log debug read complet lh close bk except bkexcept log error test fail fail test fail book keeper bookkeep except interrupt except interruptedexcept log error test fail fail test fail interrupt test test sync read async write string singl client testsyncreadasyncwritestringssinglecli io except ioexcept log info test read write string mix singl client string charset utf log debug charset charset charset defaultcharset creat ledger lh bkc creat ledger createledg digest type digesttyp ledger password ledgerpassword bkc init messag digest initmessagedigest sha1 ledger id ledgerid lh get id getid log info ledger id lh get id getid num entri write numentriestowrit random randomint rng next nextint max maxint entri string integ string tostr random randomint get byte getbyt charset entri add entri lh async add entri asyncaddentri entri sync wait entri acknowledg sync sync counter num entri write numentriestowrit log debug entri counter sync counter sync wait log debug async write complet close ledger lh close write part complet read part begin open ledger lh bkc open ledger openledg ledger id ledgerid digest type digesttyp ledger password ledgerpassword log debug number entri written lh get last add confirm getlastaddconfirm asserttru verifi number entri written lh get last add confirm getlastaddconfirm num entri write numentriestowrit read entri ls lh read entri readentri num entri write numentriestowrit log debug sync read complet point enumer ledger entri ledgerentri ls fill return valu ls ha more element hasmoreel orig entri byte origentrybyt entri get retr entri byte retrentrybyt ls next element nextel get entri getentri log debug origin entri size orig entri byte origentrybyt length log debug save entri size retr entri byte retrentrybyt length string orig entri origentri string orig entri byte origentrybyt charset string retr entri retrentri string retr entri byte retrentrybyt charset log debug origin entri orig entri origentri log debug retriev entri retr entri retrentri asserttru check entri equal orig entri origentri equal retr entri retrentri asserttru check number read entri num entri write numentriestowrit lh close bk except bkexcept log error test fail fail test fail book keeper bookkeep except interrupt except interruptedexcept log error test fail fail test fail interrupt test test read write sync singl client testreadwritesyncsinglecli io except ioexcept creat ledger lh bkc creat ledger createledg digest type digesttyp ledger password ledgerpassword bkc init messag digest initmessagedigest sha1 ledger id ledgerid lh get id getid log info ledger id lh get id getid num entri write numentriestowrit buffer bytebuff entri buffer bytebuff alloc entri put putint rng next nextint max maxint entri posit entri add entri arrai lh add entri addentri entri arrai lh close lh bkc open ledger openledg ledger id ledgerid digest type digesttyp ledger password ledgerpassword log debug number entri written lh get last add confirm getlastaddconfirm asserttru verifi number entri written lh get last add confirm getlastaddconfirm num entri write numentriestowrit ls lh read entri readentri num entri write numentriestowrit ls ha more element hasmoreel buffer bytebuff origbb buffer bytebuff wrap entri get integ orig entri origentri origbb get getint buffer bytebuff result buffer bytebuff wrap ls next element nextel get entri getentri log debug length result result capac log debug origin entri orig entri origentri integ retr entri retrentri result get getint log debug retriev entri retr entri retrentri asserttru check entri equal orig entri origentri equal retr entri retrentri lh close bk except bkexcept log error test fail fail test fail book keeper bookkeep except interrupt except interruptedexcept log error test fail fail test fail interrupt test test read write zero testreadwritezero io except ioexcept creat ledger lh bkc creat ledger createledg digest type digesttyp ledger password ledgerpassword bkc init messag digest initmessagedigest sha1 ledger id ledgerid lh get id getid log info ledger id lh get id getid num entri write numentriestowrit lh add entri addentri write non zero entri buffer bytebuff entri buffer bytebuff alloc entri put putint rng next nextint max maxint entri posit entri add entri arrai lh add entri addentri entri arrai lh close lh bkc open ledger openledg ledger id ledgerid digest type digesttyp ledger password ledgerpassword log debug number entri written lh get last add confirm getlastaddconfirm asserttru verifi number entri written lh get last add confirm getlastaddconfirm num entri write numentriestowrit ls lh read entri readentri num entri write numentriestowrit ls ha more element hasmoreel buffer bytebuff result buffer bytebuff wrap ls next element nextel get entri getentri log debug length result result capac asserttru check entri ha zero byte result capac lh close bk except bkexcept log error test fail fail test fail book keeper bookkeep except interrupt except interruptedexcept log error test fail fail test fail interrupt test test multi ledger testmultiledg io except ioexcept creat ledger lh bkc creat ledger createledg digest type digesttyp ledger password ledgerpassword lh2 bkc creat ledger createledg digest type digesttyp ledger password ledgerpassword ledger id ledgerid lh get id getid ledger id2 ledgerid2 lh2 get id getid bkc init messag digest initmessagedigest sha1 log info ledger id lh get id getid ledger id lh2 get id getid num entri write numentriestowrit lh add entri addentri lh2 add entri addentri lh close lh2 close lh bkc open ledger openledg ledger id ledgerid digest type digesttyp ledger password ledgerpassword lh2 bkc open ledger openledg ledger id2 ledgerid2 digest type digesttyp ledger password ledgerpassword log debug number entri written lh get last add confirm getlastaddconfirm lh2 get last add confirm getlastaddconfirm asserttru verifi number entri written lh lh get last add confirm getlastaddconfirm lh get last add confirm getlastaddconfirm num entri write numentriestowrit asserttru verifi number entri written lh2 lh2 get last add confirm getlastaddconfirm lh2 get last add confirm getlastaddconfirm num entri write numentriestowrit ls lh read entri readentri num entri write numentriestowrit ls ha more element hasmoreel buffer bytebuff result buffer bytebuff wrap ls next element nextel get entri getentri log debug length result result capac asserttru check entri ha zero byte result capac lh close ls lh2 read entri readentri num entri write numentriestowrit ls ha more element hasmoreel buffer bytebuff result buffer bytebuff wrap ls next element nextel get entri getentri log debug length result result capac asserttru check entri ha zero byte result capac lh2 close bk except bkexcept log error test fail fail test fail book keeper bookkeep except interrupt except interruptedexcept log error test fail fail test fail interrupt test test read write async length testreadwriteasynclength io except ioexcept creat ledger lh bkc creat ledger createledg digest type digesttyp ledger password ledgerpassword bkc init messag digest initmessagedigest sha1 ledger id ledgerid lh get id getid log info ledger id lh get id getid num entri write numentriestowrit buffer bytebuff entri buffer bytebuff alloc entri put putint rng next nextint max maxint entri posit entri add entri arrai entri size entriess add entri arrai length lh async add entri asyncaddentri entri arrai sync wait entri acknowledg sync sync counter num entri write numentriestowrit log debug entri counter sync counter sync wait length num entri write numentriestowrit asserttru ledger length befor close lh get length getlength lh get length getlength length log debug write complet close ledger lh close write part complet read part begin open ledger lh bkc open ledger openledg ledger id ledgerid digest type digesttyp ledger password ledgerpassword asserttru ledger length after open lh get length getlength lh get length getlength length lh close bk except bkexcept log error test fail fail test fail book keeper bookkeep except interrupt except interruptedexcept log error test fail fail test fail interrupt test test shutdown testshutdown io except ioexcept num ledger numledg 10000 throttl math max 10000 num ledger numledg valu intvalu bkc get conf getconf set throttl valu setthrottlevalu throttl ledger handl ledgerhandl lh arrai lharrai ledger handl ledgerhandl num ledger numledg num ledger numledg lh arrai lharrai bkc creat ledger createledg book keeper bookkeep digest type digesttyp crc32 log debug ledger handl lh arrai lharrai get id getid log info done creat ledger random random num entri write numentriestowrit buffer bytebuff entri buffer bytebuff alloc entri put putint rng next nextint max maxint entri posit entri add entri arrai entri size entriess add entri arrai length next lh nextlh next nextint num ledger numledg lh arrai lharrai next lh nextlh async add entri asyncaddentri entri arrai sync wait entri acknowledg sync sync counter num entri write numentriestowrit log debug entri counter sync counter sync wait log debug write complet close ledger lh arrai lharrai length lh arrai lharrai close bk except bkexcept log error test fail fail test fail book keeper bookkeep except interrupt except interruptedexcept log error test fail fail test fail interrupt test test read from open ledger testreadfromopenledg io except ioexcept creat ledger lh bkc creat ledger createledg digest type digesttyp ledger password ledgerpassword bkc init messag digest initmessagedigest sha1 ledger id ledgerid lh get id getid log info ledger id lh get id getid num entri write numentriestowrit buffer bytebuff entri buffer bytebuff alloc entri put putint rng next nextint max maxint entri posit entri add entri arrai entri size entriess add entri arrai length lh add entri addentri entri arrai num entri write numentriestowrit ledger handl ledgerhandl lh open lhopen bkc open ledger recoveri openledgernorecoveri ledger id ledgerid digest type digesttyp ledger password ledgerpassword recoveri open ledger last confirm entri id written read read toread enumer ledger entri ledgerentri read entri readentri lh open lhopen read entri readentri read toread read toread asserttru enumer ledger entri ha element read entri readentri ha more element hasmoreel ledger entri ledgerentri read entri readentri next element nextel equal assertequ read toread get entri id getentryid arrai equal assertarrayequ entri get read toread get entri getentri written read ledger lh open lhopen add entri addentri entri arrai fail thrown except here bk except bkexcept bk illeg op except bkillegalopexcept bkioe correct respons except ex log error unexpect except ex fail unexpect except close read ledger chang metadata lh open lhopen close last lh read last confirm readlastconfirm asserttru last confirm add last last num entri write numentriestowrit log debug write complet close ledger lh close asynchron call read last confirm entri lh bkc creat ledger createledg digest type digesttyp ledger password ledgerpassword bkc init messag digest initmessagedigest sha1 ledger id ledgerid lh get id getid log info ledger id lh get id getid num entri write numentriestowrit buffer bytebuff entri buffer bytebuff alloc entri put putint rng next nextint max maxint entri posit entri add entri arrai entri size entriess add entri arrai length lh add entri addentri entri arrai sync obj syncobj sync sync obj syncobj lh async read last confirm asyncreadlastconfirm sync wait last confirm sync sync last confirm lastconfirm log debug counter sync last confirm lastconfirm sync wait asserttru last confirm add sync last confirm lastconfirm sync last confirm lastconfirm num entri write numentriestowrit log debug write complet close ledger lh close bk except bkexcept log error test fail fail test fail book keeper bookkeep except interrupt except interruptedexcept log error test fail fail test fail interrupt test test read from open ledger open testreadfromopenledgeropenonc except creat ledger lh bkc creat ledger createledg digest type digesttyp ledger password ledgerpassword bkc init messag digest initmessagedigest sha1 ledger id ledgerid lh get id getid log info ledger id lh get id getid ledger handl ledgerhandl lh open lhopen bkc open ledger recoveri openledgernorecoveri ledger id ledgerid digest type digesttyp ledger password ledgerpassword num entri write numentriestowrit buffer bytebuff entri buffer bytebuff alloc entri put putint rng next nextint max maxint entri posit entri add entri arrai entri size entriess add entri arrai length lh add entri addentri entri arrai num entri write numentriestowrit recoveri open ledger last confirm entri id written read read toread read last confirm readlastconfirm lh open lhopen read last confirm readlastconfirm asserttru read last confirm readlastconfirm enumer ledger entri ledgerentri read entri readentri lh open lhopen read entri readentri read toread read toread asserttru enumer ledger entri ha element read entri readentri ha more element hasmoreel ledger entri ledgerentri read entri readentri next element nextel equal assertequ read toread get entri id getentryid arrai equal assertarrayequ entri get read toread get entri getentri written read ledger lh open lhopen add entri addentri entri arrai fail thrown except here bk except bkexcept bk illeg op except bkillegalopexcept bkioe correct respons except ex log error unexpect except ex fail unexpect except last lh read last confirm readlastconfirm asserttru last confirm add last last num entri write numentriestowrit log debug write complet close ledger lh close close read ledger chang metadata lh open lhopen close bk except bkexcept log error test fail fail test fail book keeper bookkeep except interrupt except interruptedexcept log error test fail fail test fail interrupt test test read from open ledger zero on testreadfromopenledgerzeroandon except creat ledger lh bkc creat ledger createledg digest type digesttyp ledger password ledgerpassword bkc init messag digest initmessagedigest sha1 ledger id ledgerid lh get id getid log info ledger id lh get id getid ledger handl ledgerhandl lh open lhopen bkc open ledger recoveri openledgernorecoveri ledger id ledgerid digest type digesttyp ledger password ledgerpassword haven written empti log debug check empti read last confirm readlastconfirm lh open lhopen read last confirm readlastconfirm asserttru last confirm ha wrong valu read last confirm readlastconfirm ledger handl ledgerhandl invalid entri id invalid_entry_id write on entri log debug write on entri buffer bytebuff entri buffer bytebuff alloc entri put putint rng next nextint max maxint entri posit entri add entri arrai entri size entriess add entri arrai length lh add entri addentri entri arrai hint confirm add log debug check empti even after write on entri read last confirm readlastconfirm lh open lhopen read last confirm readlastconfirm asserttru read last confirm readlastconfirm ledger handl ledgerhandl invalid entri id invalid_entry_id ad on more time expect on entri entri buffer bytebuff alloc entri put putint rng next nextint max maxint entri posit entri add entri arrai entri size entriess add entri arrai length lh add entri addentri entri arrai log info check ha entri read last confirm readlastconfirm lh open lhopen read last confirm readlastconfirm asserttru read last confirm readlastconfirm 0l close ledger lh close close read ledger chang metadata lh open lhopen close bk except bkexcept log error test fail fail test fail book keeper bookkeep except interrupt except interruptedexcept log error test fail fail test fail interrupt test test last confirm add testlastconfirmedadd io except ioexcept creat ledger lh bkc creat ledger createledg digest type digesttyp ledger password ledgerpassword bkc init messag digest initmessagedigest sha1 ledger id ledgerid lh get id getid log info ledger id lh get id getid num entri write numentriestowrit buffer bytebuff entri buffer bytebuff alloc entri put putint rng next nextint max maxint entri posit entri add entri arrai entri size entriess add entri arrai length lh add entri addentri entri arrai last lh read last confirm readlastconfirm asserttru last confirm add last last num entri write numentriestowrit log debug write complet close ledger lh close asynchron call read last confirm entri lh bkc creat ledger createledg digest type digesttyp ledger password ledgerpassword bkc init messag digest initmessagedigest sha1 ledger id ledgerid lh get id getid log info ledger id lh get id getid num entri write numentriestowrit buffer bytebuff entri buffer bytebuff alloc entri put putint rng next nextint max maxint entri posit entri add entri arrai entri size entriess add entri arrai length lh add entri addentri entri arrai sync obj syncobj sync sync obj syncobj lh async read last confirm asyncreadlastconfirm sync wait last confirm sync sync last confirm lastconfirm ledger handl ledgerhandl invalid entri id invalid_entry_id log debug counter sync last confirm lastconfirm sync wait asserttru last confirm add sync last confirm lastconfirm sync last confirm lastconfirm num entri write numentriestowrit log debug write complet close ledger lh close bk except bkexcept log error test fail fail test fail book keeper bookkeep except interrupt except interruptedexcept log error test fail fail test fail interrupt add complet addcomplet rc ledger handl ledgerhandl lh entri id entryid object ctx rc bk except bkexcept code fail code rc sync obj syncobj sync obj syncobj ctx counter notifi read complet readcomplet rc ledger handl ledgerhandl lh enumer ledger entri ledgerentri seq object ctx rc bk except bkexcept code fail code rc ls seq sync sync valu sync notifi read last confirm complet readlastconfirmedcomplet rc last confirm lastconfirm object ctx sync obj syncobj sync sync obj syncobj ctx sync sync last confirm lastconfirm last confirm lastconfirm sync notifi befor set up setup except set up setup rng random current time milli currenttimemilli initi random number gener entri arrai list arraylist initi entri list entri size entriess arrai list arraylist integ sync sync obj syncobj initi synchron data structur clean up directori recurs clean up dir cleanupdir file dir dir directori isdirectori log info clean up dir get name getnam string children dir list string string children success clean up dir cleanupdir file dir string success directori empti delet dir delet user test purpos empti watcher emptywatch watcher process watch event watchedev event 
run runwith parameter test hedwig hub testhedwighub hedwig hub test base hedwighubtestbas client side variabl hedwig client hedwigcli client publish publish subscrib subscrib common string bytestr us test string bytestr local subscrib id localsubscriberid string bytestr copi from utf8 copyfromutf8 local subscrib localsubscrib string bytestr hub subscrib id hubsubscriberid string bytestr copi from utf8 copyfromutf8 subscript state util subscriptionstateutil hub subscrib prefix hub_subscriber_prefix hub subcrib hubsubcrib mode regular proxi ssl paramet collect object config arrai list aslist object mode proxi mode regular mode ssl mode mode test hedwig hub testhedwighub mode mode mode mode hedwig proxi hedwigproxi proxi proxi configur proxyconfigur proxi conf proxyconf proxi configur proxyconfigur synchron queue synchronousqueu verifi async call synchron queue synchronousqueu queue synchron queue synchronousqueu synchron queue synchronousqueu consum queue consumequeu synchron queue synchronousqueu test implement callback async client action test callback testcallback callback synchron queue synchronousqueu queue test callback testcallback synchron queue synchronousqueu queue queue queue overrid oper finish operationfinish object ctx result oper resultofoper thread runnabl overrid run logger debug enabl isdebugen logger debug oper finish concurr util concurrencyutil put queue start overrid oper fail operationfail object ctx pub sub except pubsubexcept except thread runnabl overrid run logger error oper fail except concurr util concurrencyutil put queue start test implement subscrib messag handler test messag handler testmessagehandl messag handler messagehandl subscrib reconnect test server send back messag ve process consum keep track ve encount signal back consum queue consumequeu hash set hashset messag seq id messageseqid consum messag consumedmessag hash set hashset messag seq id messageseqid largest msg seq id consum largestmsgseqidconsum synchron queue synchronousqueu consum queue consumequeu test messag handler testmessagehandl synchron queue synchronousqueu consum queue consumequeu consum queue consumequeu consum queue consumequeu deliv string bytestr topic string bytestr subscrib id subscriberid messag msg callback callback object context consum messag consumedmessag contain msg get msg id getmsgid messag consum add set consum messag consum messag consumedmessag add msg get msg id getmsgid check msg seq id increment compar last consum messag don check initi messag consum largest msg seq id consum largestmsgseqidconsum msg get msg id getmsgid get local compon getlocalcompon largest msg seq id consum largestmsgseqidconsum thread runnabl overrid run logger debug enabl isdebugen logger debug consum messag order msg id msgid msg get msg id getmsgid get local compon getlocalcompon concurr util concurrencyutil put consum queue consumequeu start thread runnabl overrid run logger debug enabl isdebugen logger debug consum oper finish successfulli concurr util concurrencyutil put consum queue consumequeu start store consum messag last msg id consum largest msg seq id consum largestmsgseqidconsum msg get msg id getmsgid get local compon getlocalcompon logger debug enabl isdebugen logger debug consum messag ve process msg callback oper finish operationfinish context test client configur testclientconfigur client configur clientconfigur overrid inet socket address inetsocketaddress get server host getdefaultserverhost mode mode proxi inet socket address inetsocketaddress proxi conf proxyconf get proxi port getproxyport get server host getdefaultserverhost overrid ssl enabl issslen mode mode ssl client configur clientconfigur us test client configur clientconfigur get client configur getclientconfigur test client configur testclientconfigur overrid befor set up setup except num server numserv set up setup mode mode proxi proxi hedwig proxi hedwigproxi proxi conf proxyconf proxi start client hedwig client hedwigcli get client configur getclientconfigur publish client get publish getpublish subscrib client get subscrib getsubscrib overrid after tear down teardown except client close mode mode proxi proxi shutdown tear down teardown helper function gener messag messag get msg getmsg msg num msgnum messag builder newbuild set bodi setbodi string bytestr copi from utf8 copyfromutf8 messag msg num msgnum build helper function gener topic string bytestr get topic gettop topic num topicnum string bytestr copi from utf8 copyfromutf8 topic topic num topicnum start deliveri startdeliveri string bytestr topic string bytestr subscrib id subscriberid messag handler messagehandl handler except start deliveri startdeliveri subscrib topic subscrib id subscriberid handler start deliveri startdeliveri subscrib subscrib string bytestr topic string bytestr subscrib id subscriberid messag handler messagehandl handler except subscrib start deliveri startdeliveri topic subscrib id subscriberid handler mode mode proxi write record channel writerecordingchannel channel write record channel writerecordingchannel pub sub request pubsubrequest request pub sub request pubsubrequest builder newbuild set protocol version setprotocolvers protocol version protocolvers version on version_on set topic settop topic set txn id settxnid set type settyp oper type operationtyp start deliveri start_deliveri set start deliveri request setstartdeliveryrequest start deliveri request startdeliveryrequest builder newbuild set subscrib id setsubscriberid subscrib id subscriberid build proxi get start deliveri handler getstartdeliveryhandl handl request handlerequest request channel equal assertequ statu code statuscod success pub sub respons pubsubrespons channel get messag written getmessageswritten get get statu code getstatuscod stop deliveri stopdeliveri string bytestr topic string bytestr subscrib id subscriberid except stop deliveri stopdeliveri subscrib topic subscrib id subscriberid stop deliveri stopdeliveri subscrib subscrib string bytestr topic string bytestr subscrib id subscriberid except subscrib stop deliveri stopdeliveri topic subscrib id subscriberid mode mode proxi pub sub request pubsubrequest request pub sub request pubsubrequest builder newbuild set protocol version setprotocolvers protocol version protocolvers version on version_on set topic settop topic set txn id settxnid set type settyp oper type operationtyp stop deliveri stop_deliveri set stop deliveri request setstopdeliveryrequest stop deliveri request stopdeliveryrequest builder newbuild set subscrib id setsubscriberid subscrib id subscriberid build proxi get stop deliveri handler getstopdeliveryhandl handl request handlerequest request proxi get channel tracker getchanneltrack get channel getchannel topic subscrib id subscriberid publish batch publishbatch batch size batchsiz expect messag consum messagestobeconsum loop except logger debug enabl isdebugen logger debug publish loop batch messag batch size batchsiz publish async publish asyncpublish get topic gettop get msg getmsg loop batch size batchsiz test callback testcallback queue asserttru expect queue messag consum messagestobeconsum asserttru consum queue consumequeu subscrib topic subscribetotop batch size batchsiz except logger debug enabl isdebugen logger debug subscrib topic start deliveri batch size batchsiz subscrib async subscrib asyncsubscrib get topic gettop local subscrib id localsubscriberid creat attach createorattach creat attach create_or_attach test callback testcallback queue asserttru queue start deliveri subscrib batch size batchsiz start deliveri startdeliveri get topic gettop local subscrib id localsubscriberid test messag handler testmessagehandl consum queue consumequeu shut down last server shutdownlastserv logger debug enabl isdebugen logger debug shut down last server hedwig hub cluster server list serverslist get server list serverslist size shutdown race condit after ve shutdown server client cach channel connect server publish request shutdown server close shutdown channel befor channel disconnect logic kick happen publish done successfulli channel server end won read publish request time junit test fail scenario test here us workaround sleep thread channel disconnect logic complet befor publish thread sleep 1000 interrupt except interruptedexcept logger error thread interrupt sleep after shut down last server test manual send consum messag server reli automat send client lib test test manual consum client testmanualconsumecli except hedwig client hedwigcli client myclient hedwig client hedwigcli test client configur testclientconfigur overrid send consum messag enabl isautosendconsumemessageen subscrib subscrib mysubscrib client myclient get subscrib getsubscrib publish publish mypublish client myclient get publish getpublish string bytestr topic mytop get topic gettop subscrib topic start deliveri subscrib mysubscrib async subscrib asyncsubscrib topic mytop local subscrib id localsubscriberid creat attach createorattach creat attach create_or_attach test callback testcallback queue asserttru queue start deliveri startdeliveri subscrib mysubscrib topic mytop local subscrib id localsubscriberid test messag handler testmessagehandl consum queue consumequeu publish messag batch size batchsiz 10 batch size batchsiz publish mypublish async publish asyncpublish topic mytop get msg getmsg test callback testcallback queue asserttru queue asserttru consum queue consumequeu manual send consum messag messag receiv batch size batchsiz success subscrib mysubscrib consum topic mytop local subscrib id localsubscriberid messag seq id messageseqid builder newbuild set local compon setlocalcompon build client subscrib except clientnotsubscribedexcept success asserttru success consum call eventu async write netti channel write consum request complet befor stop client sleep littl befor stop client error messag log thread sleep 1000 interrupt except interruptedexcept logger error thread interrupt wait stop client manual consum test client myclient close test test attach subscript success testattachtosubscriptionsuccess except string bytestr topic get topic gettop subscrib async subscrib asyncsubscrib topic local subscrib id localsubscriberid creat attach createorattach creat attach create_or_attach test callback testcallback queue asserttru queue close subscript asynchron subscrib async close subscript asyncclosesubscript topic local subscrib id localsubscriberid test callback testcallback queue asserttru queue attach subscript subscrib async subscrib asyncsubscrib topic local subscrib id localsubscriberid creat attach createorattach attach test callback testcallback queue asserttru queue start deliveri publish messag make consum correctli start deliveri startdeliveri topic local subscrib id localsubscriberid test messag handler testmessagehandl consum queue consumequeu batch size batchsiz batch size batchsiz publish async publish asyncpublish topic get msg getmsg test callback testcallback queue asserttru queue asserttru consum queue consumequeu test test server redirect testserverredirect except batch size batchsiz 10 publish batch publishbatch batch size batchsiz test test subscrib consum testsubscribeandconsum except batch size batchsiz 10 subscrib topic subscribetotop batch size batchsiz publish batch publishbatch batch size batchsiz test test server failov publish testserverfailoverpublishonli except batch size batchsiz 10 publish batch publishbatch batch size batchsiz shut down last server shutdownlastserv publish batch publishbatch batch size batchsiz test test server failov testserverfailov except batch size batchsiz 10 subscrib topic subscribetotop batch size batchsiz publish batch publishbatch batch size batchsiz shut down last server shutdownlastserv publish batch publishbatch batch size batchsiz test test unsubscrib testunsubscrib except string bytestr topic get topic gettop subscrib async subscrib asyncsubscrib topic local subscrib id localsubscriberid creat attach createorattach creat attach create_or_attach test callback testcallback queue asserttru queue start deliveri startdeliveri topic local subscrib id localsubscriberid test messag handler testmessagehandl consum queue consumequeu publish async publish asyncpublish topic get msg getmsg test callback testcallback queue asserttru queue asserttru consum queue consumequeu send unsubscrib request subscrib async unsubscrib asyncunsubscrib topic local subscrib id localsubscriberid test callback testcallback queue asserttru queue publish messag make consum client publish async publish asyncpublish topic get msg getmsg test callback testcallback queue asserttru queue wait littl bit messag handler activ consum messag put valu consum queue consumequeu thread sleep 1000 put valu consum queue consumequeu verifi block messag consum action put valu queue thread runnabl overrid run concurr util concurrencyutil put consum queue consumequeu start assertfals consum queue consumequeu test test sync unsubscrib subscript testsyncunsubscribewithoutsubscript except unsubscrib success unsubscribesuccess subscrib unsubscrib get topic gettop local subscrib id localsubscriberid client subscrib except clientnotsubscribedexcept unsubscrib success unsubscribesuccess except ex unsubscrib success unsubscribesuccess asserttru unsubscrib success unsubscribesuccess test test async unsubscrib subscript testasyncunsubscribewithoutsubscript except subscrib async unsubscrib asyncunsubscrib get topic gettop local subscrib id localsubscriberid test callback testcallback queue assertfals queue test test close subscript testclosesubscript except string bytestr topic get topic gettop subscrib async subscrib asyncsubscrib topic local subscrib id localsubscriberid creat attach createorattach creat attach create_or_attach test callback testcallback queue asserttru queue start deliveri startdeliveri topic local subscrib id localsubscriberid test messag handler testmessagehandl consum queue consumequeu publish async publish asyncpublish topic get msg getmsg test callback testcallback queue asserttru queue asserttru consum queue consumequeu close subscript asynchron subscrib async close subscript asyncclosesubscript topic local subscrib id localsubscriberid test callback testcallback queue asserttru queue publish messag make consum client publish async publish asyncpublish topic get msg getmsg test callback testcallback queue asserttru queue wait littl bit messag handler activ consum messag put valu consum queue consumequeu thread sleep 1000 put valu consum queue consumequeu verifi block messag consum action put valu queue thread runnabl overrid run concurr util concurrencyutil put consum queue consumequeu start assertfals consum queue consumequeu test test start deliveri twice teststartdeliverytwic except string bytestr topic get topic gettop subscrib async subscrib asyncsubscrib topic local subscrib id localsubscriberid creat attach createorattach creat attach create_or_attach test callback testcallback queue asserttru queue start deliveri startdeliveri topic local subscrib id localsubscriberid test messag handler testmessagehandl consum queue consumequeu start deliveri startdeliveri topic local subscrib id localsubscriberid test messag handler testmessagehandl consum queue consumequeu fail reach here start deliveri except alreadystartdeliveryexcept test test stop deliveri teststopdeliveri except string bytestr topic get topic gettop subscrib async subscrib asyncsubscrib topic local subscrib id localsubscriberid creat attach createorattach creat attach create_or_attach test callback testcallback queue asserttru queue start deliveri startdeliveri topic local subscrib id localsubscriberid test messag handler testmessagehandl consum queue consumequeu publish async publish asyncpublish topic get msg getmsg test callback testcallback queue asserttru queue asserttru consum queue consumequeu stop deliveri subscript stop deliveri stopdeliveri topic local subscrib id localsubscriberid publish more messag queu up deliv client batch size batchsiz 10 batch size batchsiz publish async publish asyncpublish topic get msg getmsg test callback testcallback queue asserttru queue wait littl bit messag handler activ consum messag put valu consum queue consumequeu thread sleep 1000 put valu consum queue consumequeu verifi block messag consum action put valu queue thread runnabl overrid run concurr util concurrencyutil put consum queue consumequeu start assertfals consum queue consumequeu start deliveri verifi queu up messag consum start deliveri startdeliveri topic local subscrib id localsubscriberid test messag handler testmessagehandl consum queue consumequeu batch size batchsiz asserttru consum queue consumequeu test test consum messag order testconsumedmessagesinord except string bytestr topic get topic gettop subscrib async subscrib asyncsubscrib topic local subscrib id localsubscriberid creat attach createorattach creat attach create_or_attach test callback testcallback queue asserttru queue start deliveri startdeliveri topic local subscrib id localsubscriberid test messag handler testmessagehandl consum queue consumequeu publish messag verifi deliv order subscrib batch size batchsiz 100 batch size batchsiz publish async publish asyncpublish topic get msg getmsg test callback testcallback queue ve sent publish messag asynchron verifi consum correct order batch size batchsiz asserttru queue asserttru consum queue consumequeu test test creat subscript failur testcreatesubscriptionfailur except string bytestr topic get topic gettop subscrib async subscrib asyncsubscrib topic local subscrib id localsubscriberid creat attach createorattach creat attach create_or_attach test callback testcallback queue asserttru queue close subscript asynchron subscrib async close subscript asyncclosesubscript topic local subscrib id localsubscriberid test callback testcallback queue asserttru queue creat subscript exist subscrib async subscrib asyncsubscrib topic local subscrib id localsubscriberid creat attach createorattach creat test callback testcallback queue assertfals queue test test creat subscript success testcreatesubscriptionsuccess except string bytestr topic get topic gettop subscrib async subscrib asyncsubscrib topic local subscrib id localsubscriberid creat attach createorattach creat test callback testcallback queue asserttru queue start deliveri startdeliveri topic local subscrib id localsubscriberid test messag handler testmessagehandl consum queue consumequeu batch size batchsiz batch size batchsiz publish async publish asyncpublish topic get msg getmsg test callback testcallback queue asserttru queue asserttru consum queue consumequeu test test attach subscript failur testattachtosubscriptionfailur except string bytestr topic get topic gettop subscrib async subscrib asyncsubscrib topic local subscrib id localsubscriberid creat attach createorattach attach test callback testcallback queue assertfals queue follow test make subscrib id subscriberid valid work local subscrib expect subscrib id subscriberid local specif format test test sync subscrib invalid subscrib id testsyncsubscribewithinvalidsubscriberid except subscrib success subscribesuccess subscrib subscrib get topic gettop hub subscrib id hubsubscriberid creat attach createorattach creat attach create_or_attach invalid subscrib id except invalidsubscriberidexcept subscrib success subscribesuccess except ex subscrib success subscribesuccess asserttru subscrib success subscribesuccess test test async subscrib invalid subscrib id testasyncsubscribewithinvalidsubscriberid except subscrib async subscrib asyncsubscrib get topic gettop hub subscrib id hubsubscriberid creat attach createorattach creat attach create_or_attach test callback testcallback queue assertfals queue test test sync unsubscrib invalid subscrib id testsyncunsubscribewithinvalidsubscriberid except unsubscrib success unsubscribesuccess subscrib unsubscrib get topic gettop hub subscrib id hubsubscriberid invalid subscrib id except invalidsubscriberidexcept unsubscrib success unsubscribesuccess except ex unsubscrib success unsubscribesuccess asserttru unsubscrib success unsubscribesuccess test test async unsubscrib invalid subscrib id testasyncunsubscribewithinvalidsubscriberid except subscrib async unsubscrib asyncunsubscrib get topic gettop hub subscrib id hubsubscriberid test callback testcallback queue assertfals queue follow test make subscrib id subscriberid valid work hub subscrib expect subscrib id subscriberid hub specif format test test sync hub subscrib invalid subscrib id testsynchubsubscribewithinvalidsubscriberid except client hub client hubclient hedwig hub client hedwighubcli client configur clientconfigur subscrib hub subscrib hubsubscrib hub client hubclient get subscrib getsubscrib subscrib success subscribesuccess hub subscrib hubsubscrib subscrib get topic gettop local subscrib id localsubscriberid creat attach createorattach creat attach create_or_attach invalid subscrib id except invalidsubscriberidexcept subscrib success subscribesuccess except ex subscrib success subscribesuccess asserttru subscrib success subscribesuccess hub client hubclient close test test async hub subscrib invalid subscrib id testasynchubsubscribewithinvalidsubscriberid except client hub client hubclient hedwig hub client hedwighubcli client configur clientconfigur subscrib hub subscrib hubsubscrib hub client hubclient get subscrib getsubscrib hub subscrib hubsubscrib async subscrib asyncsubscrib get topic gettop local subscrib id localsubscriberid creat attach createorattach creat attach create_or_attach test callback testcallback queue assertfals queue hub client hubclient close test test sync hub unsubscrib invalid subscrib id testsynchubunsubscribewithinvalidsubscriberid except client hub client hubclient hedwig hub client hedwighubcli client configur clientconfigur subscrib hub subscrib hubsubscrib hub client hubclient get subscrib getsubscrib unsubscrib success unsubscribesuccess hub subscrib hubsubscrib unsubscrib get topic gettop local subscrib id localsubscriberid invalid subscrib id except invalidsubscriberidexcept unsubscrib success unsubscribesuccess except ex unsubscrib success unsubscribesuccess asserttru unsubscrib success unsubscribesuccess hub client hubclient close test test async hub unsubscrib invalid subscrib id testasynchubunsubscribewithinvalidsubscriberid except client hub client hubclient hedwig hub client hedwighubcli client configur clientconfigur subscrib hub subscrib hubsubscrib hub client hubclient get subscrib getsubscrib hub subscrib hubsubscrib async unsubscrib asyncunsubscrib get topic gettop local subscrib id localsubscriberid test callback testcallback queue assertfals queue hub client hubclient close test test publish book keeper error testpublishwithbookkeepererror except batch size batchsiz 10 publish batch publishbatch batch size batchsiz stop booki server bktb stop booki server stopallbookieserv follow publish fail booki notenoughbooki publish batch publishbatch batch size batchsiz start booki server bktb start booki server startallbookieserv follow publish succe publish batch publishbatch batch size batchsiz 
licens apach softwar foundat asf on more contributor licens agreement notic file distribut work addit inform copyright ownership asf licens file apach licens version licens us file complianc licens obtain copi licens http www apach org licens licens requir applic law agre write softwar distribut licens distribut basi warranti condit kind express impli licens specif languag govern permiss limit licens misc math function dont standard math util mathutil sign safe mod signsafemod dividend divisor mod dividend divisor mod mod divisor mod 
messag bound persist test messageboundedpersistencetest hedwig hub test base hedwighubtestbas logger logger logger factori loggerfactori get logger getlogg messag bound persist test messageboundedpersistencetest small read ahead server configur smallreadaheadserverconfigur hedwig hub test base hedwighubtestbas hub server configur hubserverconfigur small read ahead server configur smallreadaheadserverconfigur server port serverport ssl server port sslserverport server port serverport ssl server port sslserverport get maximum cach size getmaximumcaches get read ahead count getreadaheadcount get messag consum thread run interv getmessagesconsumedthreadruninterv 1000 run second server configur serverconfigur get server configur getserverconfigur server port serverport ssl server port sslserverport small read ahead server configur smallreadaheadserverconfigur server port serverport ssl server port sslserverport messag bound client configur messageboundclientconfigur client configur clientconfigur messag bound messagebound messag bound client configur messageboundclientconfigur bound messag bound messagebound bound messag bound client configur messageboundclientconfigur get subscript messag bound getsubscriptionmessagebound messag bound messagebound send expect lasti sendxexpectlasti publish pub subscrib sub string bytestr topic string bytestr subid except pub publish topic messag builder newbuild set bodi setbodi string bytestr copi from utf8 copyfromutf8 string valu valueof build sub subscrib topic subid creat attach createorattach attach atom integ atomicinteg expect atom integ atomicinteg count down latch countdownlatch latch count down latch countdownlatch sub start deliveri startdeliveri topic subid messag handler messagehandl deliv string bytestr topic string bytestr subscrib id subscriberid messag msg callback callback object context valu integ valu valueof msg get bodi getbodi string utf8 tostringutf8 valu expect get expect increment get incrementandget error condit logger error receiv expect valu expect expect get valu expect set latch count down countdown expect get latch count down countdown callback oper finish operationfinish context except logger error receiv bad messag latch count down countdown error match asserttru time wait messag expect current expect get latch await 10 time unit timeunit second equal assertequ expect messag expect get sub stop deliveri stopdeliveri topic subid sub close subscript closesubscript topic subid test test basic bound testbasicbound except client client hedwig client hedwigcli messag bound client configur messageboundclientconfigur publish pub client get publish getpublish subscrib sub client get subscrib getsubscrib string bytestr topic string bytestr copi from utf8 copyfromutf8 basic bound topic basicboundingtop string bytestr subid string bytestr copi from utf8 copyfromutf8 basic bound sub id basicboundingsubid sub subscrib topic subid creat attach createorattach creat sub close subscript closesubscript topic subid send expect lasti sendxexpectlasti pub sub topic subid 1000 client close test test multipl subscrib testmultiplesubscrib except string bytestr topic string bytestr copi from utf8 copyfromutf8 multi sub topic multisubtop client client hedwig client hedwigcli client configur clientconfigur publish pub client get publish getpublish subscrib sub client get subscrib getsubscrib subscript option subscriptionopt options5 subscript option subscriptionopt builder newbuild set creat attach setcreateorattach creat attach createorattach creat set messag bound setmessagebound build subscript option subscriptionopt options20 subscript option subscriptionopt builder newbuild set creat attach setcreateorattach creat attach createorattach creat set messag bound setmessagebound 20 build subscript option subscriptionopt option unbound optionsunbound subscript option subscriptionopt builder newbuild set creat attach setcreateorattach creat attach createorattach creat build string bytestr subid5 string bytestr copi from utf8 copyfromutf8 bound5 sub id bound5subid string bytestr subid20 string bytestr copi from utf8 copyfromutf8 bound20 sub id bound20subid string bytestr subid unbound subidunbound string bytestr copi from utf8 copyfromutf8 nobound sub id noboundsubid sub subscrib topic subid5 options5 sub close subscript closesubscript topic subid5 send expect lasti sendxexpectlasti pub sub topic subid5 1000 sub subscrib topic subid20 options20 sub close subscript closesubscript topic subid20 send expect lasti sendxexpectlasti pub sub topic subid20 1000 20 sub subscrib topic subid unbound subidunbound option unbound optionsunbound sub close subscript closesubscript topic subid unbound subidunbound send expect lasti sendxexpectlasti pub sub topic subid unbound subidunbound 10000 10000 sub unsubscrib topic subid unbound subidunbound send expect lasti sendxexpectlasti pub sub topic subid20 1000 20 sub unsubscrib topic subid20 send expect lasti sendxexpectlasti pub sub topic subid5 1000 sub unsubscrib topic subid5 client close test test ledger gc testledgergc except client client hedwig client hedwigcli messag bound client configur messageboundclientconfigur publish pub client get publish getpublish subscrib sub client get subscrib getsubscrib string ledger path ledgerspath hedwig standalon topic test gc topic testgctop ledger string bytestr topic string bytestr copi from utf8 copyfromutf8 test gc topic testgctop string bytestr subid string bytestr copi from utf8 copyfromutf8 test gc sub id testgcsubid sub subscrib topic subid creat attach createorattach creat attach create_or_attach sub close subscript closesubscript topic subid 100 pub publish topic messag builder newbuild set bodi setbodi string bytestr copi from utf8 copyfromutf8 string valu valueof build ledger rang ledgerrang ledger rang ledgerrang pars from parsefrom bktb get zoo keeper client getzookeepercli get data getdata ledger path ledgerspath equal assertequ ledger get rang list getrangeslist size first ledger firstledg get rang list getrangeslist get get ledger id getledgerid stop hub server stophubserv start hub server starthubserv pub publish topic messag builder newbuild set bodi setbodi string bytestr copi from utf8 copyfromutf8 string valu valueof xdeadbeef 0xdeadbeef build ledger rang ledgerrang pars from parsefrom bktb get zoo keeper client getzookeepercli get data getdata ledger path ledgerspath equal assertequ ledger after restart get rang list getrangeslist size 100 200 pub publish topic messag builder newbuild set bodi setbodi string bytestr copi from utf8 copyfromutf8 string valu valueof build thread sleep 5000 gc chanc happen ledger rang ledgerrang pars from parsefrom bktb get zoo keeper client getzookeepercli get data getdata ledger path ledgerspath second ledger secondledg get rang list getrangeslist get get ledger id getledgerid equal assertequ ledger after gc get rang list getrangeslist size ensur origin ledger doesn exist string first ledger path firstledgerpath string format ledger 010d first ledger firstledg string second ledger path secondledgerpath string format ledger 010d second ledger secondledg assertnul ledger exist bktb get zoo keeper client getzookeepercli exist first ledger path firstledgerpath assertnotnul ledger exist bktb get zoo keeper client getzookeepercli exist second ledger path secondledgerpath client close 
dir delet thred dirdeleterthr thread list file dir delet dirstodelet link list linkedlist file add dir delet adddirtodelet file dir dir delet dirstodelet add dir overrid run file dir dir delet dirstodelet delet directori deletedirectori dir delet directori deletedirectori file dir dir file isfil dir delet log error delet dir get absolut path getabsolutepath file file dir list file listfil file file file delet directori deletedirectori dir delet log error delet directori dir get absolut path getabsolutepath 
benchmark publish benchmarkpublish benchmark worker benchmarkwork publish publish subscrib subscrib msg size msgsize parallel nparallel rate benchmark publish benchmarkpublish num topic numtop num messag nummessag num region numregion start topic label starttopiclabel partit index partitionindex num partit numpartit publish publish subscrib subscrib msg size msgsize parallel nparallel rate num topic numtop num messag nummessag num region numregion start topic label starttopiclabel partit index partitionindex num partit numpartit publish publish msg size msgsize msg size msgsize subscrib subscrib parallel nparallel parallel nparallel rate rate num region numregion num partit numpartit warmup warmup nwarmup except string bytestr topic string bytestr copi from utf8 copyfromutf8 warmup partit index partitionindex string bytestr sub id subid string bytestr copi from utf8 copyfromutf8 sub subscrib subscrib topic sub id subid creat attach createorattach creat attach create_or_attach subscrib start deliveri startdeliveri topic sub id subid messag handler messagehandl overrid deliv string bytestr topic string bytestr subscrib id subscriberid messag msg callback callback object context noop callback oper finish operationfinish context pick constant arbitarili warmup phase throughput latenc aggreg throughputlatencyaggreg agg throughput latenc aggreg throughputlatencyaggreg ack pub warmup nwarmup 100 agg start progress startprogress messag msg get msg getmsg 1024 warmup nwarmup publish async publish asyncpublish topic msg benchmark callback benchmarkcallback agg agg tp agg tpagg queue runtim except runtimeexcept warmup publish fail messag get msg getmsg size string builder stringbuild sb string builder stringbuild size sb append string bytestr bodi string bytestr copi from utf8 copyfromutf8 sb string tostr messag msg messag builder newbuild set bodi setbodi bodi build msg call except messag msg get msg getmsg msg size msgsize singl warmup topic publish count mypublishcount num topic numtop hedwig benchmark hedwigbenchmark respons topic amiresponsiblefortop start topic label starttopiclabel partit index partitionindex num partit numpartit string bytestr topic string bytestr copi from utf8 copyfromutf8 hedwig benchmark hedwigbenchmark topic prefix topic_prefix start topic label starttopiclabel publish publish topic msg publish count mypublishcount start time starttim current time milli currenttimemilli publish limit mypublishlimit num messag nummessag num region numregion num partit numpartit publish count mypublishcount publish count mypublishcount throughput latenc aggreg throughputlatencyaggreg agg throughput latenc aggreg throughputlatencyaggreg ack pub publish limit mypublishlimit parallel nparallel agg start progress startprogress topic label topiclabel publish count mypublishcount publish limit mypublishlimit topic num topicnum start topic label starttopiclabel topic label topiclabel topic label topiclabel topic label topiclabel num topic numtop hedwig benchmark hedwigbenchmark respons topic amiresponsiblefortop topic num topicnum partit index partitionindex num partit numpartit string bytestr topic string bytestr copi from utf8 copyfromutf8 hedwig benchmark hedwigbenchmark topic prefix topic_prefix topic num topicnum rate delai start time starttim 1000 publish count mypublishcount rate current time milli currenttimemilli delai thread sleep delai publish async publish asyncpublish topic msg benchmark callback benchmarkcallback agg publish count mypublishcount println finish unack pub tput benchmark util benchmarkutil calc tp calctp publish limit mypublishlimit start time starttim op wait till benchmark test ha complet agg tp agg tpagg queue println agg summar start time starttim 
hash map subscrib factori hashmapsubscriberfactori factori set activ subscrib state activesubscriberst hash map subscrib factori hashmapsubscriberfactori instanc hash map subscrib factori hashmapsubscriberfactori overrid set activ subscrib state activesubscriberst instanc newinst hash set hashset activ subscrib state activesubscriberst 
termin jvm except handler terminatejvmexceptionhandl thread uncaught except handler uncaughtexceptionhandl logger logger logger factori loggerfactori get logger getlogg termin jvm except handler terminatejvmexceptionhandl overrid uncaught except uncaughtexcept thread throwabl logger error uncaught except thread get name getnam runtim get runtim getruntim exit 
implement hard link command getter hardlinkcommandgett window note link count linkcount shell command window cygwin shell command depend cygwin bin window path environ variabl stat ex found hard link cg win hardlinkcgwin hard link command getter hardlinkcommandgett window command getter impl member field access assist unit test sort non win server string hard link command hardlinkcommand fsutil hardlink creat string hard link mult prefix hardlinkmultprefix cmd string hard link mult dir hardlinkmultdir string hard link mult suffix hardlinkmultsuffix fsutil hardlink creat nul string get link count command getlinkcountcommand stat window guarante 8k byte cmd length subtract 64b allow java exec overhead max allow cmd arg length maxallowedcmdarglength 1024 65 org apach hadoop fs hard link hardlink hard link command getter hardlinkcommandgett link on linkon java io file java io file overrid string link on linkon file file file link name linknam io except ioexcept string buf string hard link command hardlinkcommand length arraycopi hard link command hardlinkcommand buf hard link command hardlinkcommand length window argument order creat exist buf file get canon path getcanonicalpath buf link name linknam get canon path getcanonicalpath buf org apach hadoop fs hard link hardlink hard link command getter hardlinkcommandgett link mult linkmult java lang string java io file overrid string link mult linkmult string file base name filebasenam file link dir linkdir io except ioexcept string buf string file base name filebasenam length hard link mult prefix hardlinkmultprefix length hard link mult suffix hardlinkmultsuffix length string td link dir linkdir get canon path getcanonicalpath hard link mult dir hardlinkmultdir mark arraycopi hard link mult prefix hardlinkmultprefix buf mark hard link mult prefix hardlinkmultprefix length mark hard link mult prefix hardlinkmultprefix length arraycopi file base name filebasenam buf mark file base name filebasenam length mark file base name filebasenam length arraycopi hard link mult suffix hardlinkmultsuffix buf mark hard link mult suffix hardlinkmultsuffix length mark hard link mult suffix hardlinkmultsuffix length buf mark td buf org apach hadoop fs hard link hardlink hard link command getter hardlinkcommandgett link count linkcount java io file overrid string link count linkcount file file io except ioexcept string buf string get link count command getlinkcountcommand length arraycopi get link count command getlinkcountcommand buf get link count command getlinkcountcommand length link count linkcount command cygwin shell command window shell command us make shell path makeshellpath get canon path getcanonicalpath caus shell exec cygpath ex stat ex handl do style path print coupl byte warn stderr us more effici get canon path getcanonicalpath buf get link count command getlinkcountcommand length file get canon path getcanonicalpath buf org apach hadoop fs hard link hardlink hard link command getter hardlinkcommandgett get link mult arg length getlinkmultarglength java io file java lang string java io file overrid get link mult arg length getlinkmultarglength file file dir filedir string file base name filebasenam file link dir linkdir io except ioexcept sum string file base name filebasenam add account termin delimit space sum length sum file dir filedir get canon path getcanonicalpath length link dir linkdir get canon path getcanonicalpath length add fix overhead hard link mult hardlinkmult command prefix suffix dir suffix sum cmd ex fsutil hardlink creat nul length sum org apach hadoop fs hard link hardlink hard link command getter hardlinkcommandgett get max allow cmd arg length getmaxallowedcmdarglength overrid get max allow cmd arg length getmaxallowedcmdarglength max allow cmd arg length maxallowedcmdarglength 
counter limit counter limit limit limit increment limit notifi 
benchmark util benchmarkutil logger logger logger factori loggerfactori get logger getlogg benchmark util benchmarkutil calc tp calctp count start time starttim 1000 count current time milli currenttimemilli start time starttim stat aggreg callback round trip oper measur throughput latenc throughput latenc aggreg throughputlatencyaggreg num bucket numbucket throughput aggreg throughputaggreg tp agg tpagg semaphor outstand atom atomiclong sum atom atomiclong atom atomiclong latenc bucket latencybucket bucket count number oper ms ms throughput latenc aggreg throughputlatencyaggreg string label count limit interrupt except interruptedexcept num bucket numbucket integ get integ getinteg num bucket numbucket 101 latenc bucket latencybucket atom atomiclong num bucket numbucket tp agg tpagg throughput aggreg throughputaggreg label count outstand semaphor limit num bucket numbucket latenc bucket latencybucket atom atomiclong start progress startprogress tp agg tpagg start progress startprogress report latenc reportlat latenc sum add get addandget latenc bucket index bucketindex latenc num bucket numbucket bucket index bucketindex num bucket numbucket bucket index bucketindex latenc latenc bucket latencybucket bucket index bucketindex increment get incrementandget string get percentil getpercentil percentil num inlier need numinliersneed percentil 100 tp agg tpagg count num inlier found numinliersfound num bucket numbucket num inlier found numinliersfound latenc bucket latencybucket valu intvalu num inlier found numinliersfound num inlier need numinliersneed num bucket numbucket string summar start time starttim percentil pars parsedoubl get properti getproperti percentil 99 tp agg tpagg summar start time starttim avg latenc sum get tp agg tpagg count percentil il latenc get percentil getpercentil percentil stat aggreg non callback singl shot oper measur throughput throughput aggreg throughputaggreg string label count atom integ atomicinteg done atom integ atomicinteg atom atomiclong earliest atom atomiclong atom integ atomicinteg num fail numfail atom integ atomicinteg thread progress thread progressthread link block queue linkedblockingqueu integ queue link block queue linkedblockingqueu integ throughput aggreg throughputaggreg string label count label label count count count queue add get getboolean progress progress thread progressthread thread runnabl overrid run done snap donesnap prev done snap donesnap count prev done snap donesnap done snap donesnap done get done snap donesnap prev println label progress done snap donesnap count thread sleep 1000 except ex runtim except runtimeexcept ex progress thread progressthread start progress startprogress progress thread progressthread progress thread progressthread start ding fail snap done snapdon done increment get incrementandget earliest compar set compareandset current time milli currenttimemilli fail num fail numfail increment get incrementandget logger debug enabl isdebugen logger debug label fail fail succeed done snap done snapdon snap done snapdon count queue add num fail numfail get string summar start time starttim finish label count done get tput calc tp calctp count start time starttim op num fail numfail num fail numfail benchmark callback benchmarkcallback callback throughput latenc aggreg throughputlatencyaggreg agg start time starttim benchmark callback benchmarkcallback throughput latenc aggreg throughputlatencyaggreg agg interrupt except interruptedexcept agg agg agg outstand acquir set start time after take acquir outstand start time starttim current time milli currenttimemilli finish fail agg report latenc reportlat current time milli currenttimemilli start time starttim agg tp agg tpagg ding fail agg outstand releas overrid oper finish operationfinish object ctx result oper resultofoper finish overrid oper fail operationfail object ctx pub sub except pubsubexcept except finish 
hedwig client us start point commun hedwig servic publish subscrib hedwig client hedwigcli client client impl construct hedwig client object configur object instanc client configur clientconfigur param cfg client configur hedwig client hedwigcli client configur clientconfigur cfg impl hedwig client impl hedwigclientimpl creat cfg construct hedwig client object preexist socket factori creat hedwig client instanc param cfg client configur param socket factori socketfactori netti socket factori hedwig client hedwigcli client configur clientconfigur cfg channel factori channelfactori socket factori socketfactori impl hedwig client impl hedwigclientimpl creat cfg socket factori socketfactori overrid publish get publish getpublish impl get publish getpublish overrid subscrib get subscrib getsubscrib impl get subscrib getsubscrib overrid close impl close 
region specif seq id regionspecificseqid com googl protobuf gener messag generatedmessag us region specif seq id regionspecificseqid builder newbuild construct region specif seq id regionspecificseqid init field initfield region specif seq id regionspecificseqid init noinit region specif seq id regionspecificseqid instanc defaultinst region specif seq id regionspecificseqid get instanc getdefaultinst instanc defaultinst region specif seq id regionspecificseqid get instanc type getdefaultinstancefortyp instanc defaultinst com googl protobuf descriptor descriptor get descriptor getdescriptor org apach hedwig protocol pub sub protocol pubsubprotocol intern hedwig region specif seq id descriptor internal_static_hedwig_regionspecificseqid_descriptor com googl protobuf gener messag generatedmessag field accessor tabl fieldaccessort intern get field accessor tabl internalgetfieldaccessort org apach hedwig protocol pub sub protocol pubsubprotocol intern hedwig region specif seq id field accessor tabl internal_static_hedwig_regionspecificseqid_fieldaccessort requir byte region region field number region_field_numb ha region hasregion com googl protobuf string bytestr region region_ com googl protobuf string bytestr empti ha region hasregion ha region hasregion com googl protobuf string bytestr get region getregion region region_ requir uint64 seq id seqid seqid field number seqid_field_numb ha seq id hasseqid seq id seqid_ 0l ha seq id hasseqid ha seq id hasseqid get seq id getseqid seq id seqid_ init field initfield initi isiniti ha region hasregion ha seq id hasseqid write writeto com googl protobuf code output stream codedoutputstream output java io io except ioexcept get serial size getserializeds ha region hasregion output write byte writebyt get region getregion ha seq id hasseqid output write int64 writeuint64 get seq id getseqid get unknown field getunknownfield write writeto output memoiz serial size memoizedserializeds get serial size getserializeds size memoiz serial size memoizedserializeds size size size ha region hasregion size com googl protobuf code output stream codedoutputstream comput byte size computebytess get region getregion ha seq id hasseqid size com googl protobuf code output stream codedoutputstream comput int64 size computeuint64s get seq id getseqid size get unknown field getunknownfield get serial size getserializeds memoiz serial size memoizedserializeds size size org apach hedwig protocol pub sub protocol pubsubprotocol region specif seq id regionspecificseqid pars from parsefrom com googl protobuf string bytestr data com googl protobuf invalid protocol buffer except invalidprotocolbufferexcept builder newbuild merg from mergefrom data build pars buildpars org apach hedwig protocol pub sub protocol pubsubprotocol region specif seq id regionspecificseqid pars from parsefrom com googl protobuf string bytestr data com googl protobuf extens registri lite extensionregistrylit extens registri extensionregistri com googl protobuf invalid protocol buffer except invalidprotocolbufferexcept builder newbuild merg from mergefrom data extens registri extensionregistri build pars buildpars org apach hedwig protocol pub sub protocol pubsubprotocol region specif seq id regionspecificseqid pars from parsefrom data com googl protobuf invalid protocol buffer except invalidprotocolbufferexcept builder newbuild merg from mergefrom data build pars buildpars org apach hedwig protocol pub sub protocol pubsubprotocol region specif seq id regionspecificseqid pars from parsefrom data com googl protobuf extens registri lite extensionregistrylit extens registri extensionregistri com googl protobuf invalid protocol buffer except invalidprotocolbufferexcept builder newbuild merg from mergefrom data extens registri extensionregistri build pars buildpars org apach hedwig protocol pub sub protocol pubsubprotocol region specif seq id regionspecificseqid pars from parsefrom java io input stream inputstream input java io io except ioexcept builder newbuild merg from mergefrom input build pars buildpars org apach hedwig protocol pub sub protocol pubsubprotocol region specif seq id regionspecificseqid pars from parsefrom java io input stream inputstream input com googl protobuf extens registri lite extensionregistrylit extens registri extensionregistri java io io except ioexcept builder newbuild merg from mergefrom input extens registri extensionregistri build pars buildpars org apach hedwig protocol pub sub protocol pubsubprotocol region specif seq id regionspecificseqid pars delimit from parsedelimitedfrom java io input stream inputstream input java io io except ioexcept builder builder builder newbuild builder merg delimit from mergedelimitedfrom input builder build pars buildpars org apach hedwig protocol pub sub protocol pubsubprotocol region specif seq id regionspecificseqid pars delimit from parsedelimitedfrom java io input stream inputstream input com googl protobuf extens registri lite extensionregistrylit extens registri extensionregistri java io io except ioexcept builder builder builder newbuild builder merg delimit from mergedelimitedfrom input extens registri extensionregistri builder build pars buildpars org apach hedwig protocol pub sub protocol pubsubprotocol region specif seq id regionspecificseqid pars from parsefrom com googl protobuf code input stream codedinputstream input java io io except ioexcept builder newbuild merg from mergefrom input build pars buildpars org apach hedwig protocol pub sub protocol pubsubprotocol region specif seq id regionspecificseqid pars from parsefrom com googl protobuf code input stream codedinputstream input com googl protobuf extens registri lite extensionregistrylit extens registri extensionregistri java io io except ioexcept builder newbuild merg from mergefrom input extens registri extensionregistri build pars buildpars builder builder newbuild builder creat builder builder type newbuilderfortyp builder newbuild builder builder newbuild org apach hedwig protocol pub sub protocol pubsubprotocol region specif seq id regionspecificseqid prototyp builder newbuild merg from mergefrom prototyp builder builder tobuild builder newbuild builder com googl protobuf gener messag generatedmessag builder builder org apach hedwig protocol pub sub protocol pubsubprotocol region specif seq id regionspecificseqid result construct org apach hedwig protocol pub sub protocol pubsubprotocol region specif seq id regionspecificseqid builder newbuild builder builder creat builder builder builder builder result org apach hedwig protocol pub sub protocol pubsubprotocol region specif seq id regionspecificseqid builder org apach hedwig protocol pub sub protocol pubsubprotocol region specif seq id regionspecificseqid intern get result internalgetresult result builder clear result illeg state except illegalstateexcept call clear after build result org apach hedwig protocol pub sub protocol pubsubprotocol region specif seq id regionspecificseqid builder clone creat merg from mergefrom result com googl protobuf descriptor descriptor get descriptor type getdescriptorfortyp org apach hedwig protocol pub sub protocol pubsubprotocol region specif seq id regionspecificseqid get descriptor getdescriptor org apach hedwig protocol pub sub protocol pubsubprotocol region specif seq id regionspecificseqid get instanc type getdefaultinstancefortyp org apach hedwig protocol pub sub protocol pubsubprotocol region specif seq id regionspecificseqid get instanc getdefaultinst initi isiniti result initi isiniti org apach hedwig protocol pub sub protocol pubsubprotocol region specif seq id regionspecificseqid build result initi isiniti uniniti messag except newuninitializedmessageexcept result build partial buildparti org apach hedwig protocol pub sub protocol pubsubprotocol region specif seq id regionspecificseqid build pars buildpars com googl protobuf invalid protocol buffer except invalidprotocolbufferexcept initi isiniti uniniti messag except newuninitializedmessageexcept result invalid protocol buffer except asinvalidprotocolbufferexcept build partial buildparti org apach hedwig protocol pub sub protocol pubsubprotocol region specif seq id regionspecificseqid build partial buildparti result illeg state except illegalstateexcept build ha call builder org apach hedwig protocol pub sub protocol pubsubprotocol region specif seq id regionspecificseqid returnm result result returnm builder merg from mergefrom com googl protobuf messag org apach hedwig protocol pub sub protocol pubsubprotocol region specif seq id regionspecificseqid merg from mergefrom org apach hedwig protocol pub sub protocol pubsubprotocol region specif seq id regionspecificseqid merg from mergefrom builder merg from mergefrom org apach hedwig protocol pub sub protocol pubsubprotocol region specif seq id regionspecificseqid org apach hedwig protocol pub sub protocol pubsubprotocol region specif seq id regionspecificseqid get instanc getdefaultinst ha region hasregion set region setregion get region getregion ha seq id hasseqid set seq id setseqid get seq id getseqid merg unknown field mergeunknownfield get unknown field getunknownfield builder merg from mergefrom com googl protobuf code input stream codedinputstream input com googl protobuf extens registri lite extensionregistrylit extens registri extensionregistri java io io except ioexcept com googl protobuf unknown field set unknownfieldset builder unknown field unknownfield com googl protobuf unknown field set unknownfieldset builder newbuild get unknown field getunknownfield tag input read tag readtag tag set unknown field setunknownfield unknown field unknownfield build pars unknown field parseunknownfield input unknown field unknownfield extens registri extensionregistri tag set unknown field setunknownfield unknown field unknownfield build 10 set region setregion input read byte readbyt 16 set seq id setseqid input read int64 readuint64 requir byte region ha region hasregion result ha region hasregion com googl protobuf string bytestr get region getregion result get region getregion builder set region setregion com googl protobuf string bytestr valu valu pointer except nullpointerexcept result ha region hasregion result region region_ valu builder clear region clearregion result ha region hasregion result region region_ get instanc getdefaultinst get region getregion requir uint64 seq id seqid ha seq id hasseqid result ha seq id hasseqid get seq id getseqid result get seq id getseqid builder set seq id setseqid valu result ha seq id hasseqid result seq id seqid_ valu builder clear seq id clearseqid result ha seq id hasseqid result seq id seqid_ 0l protoc insert point protoc_insertion_point builder scope builder_scop hedwig region specif seq id regionspecificseqid instanc defaultinst region specif seq id regionspecificseqid org apach hedwig protocol pub sub protocol pubsubprotocol intern forc init internalforceinit instanc defaultinst init field initfield protoc insert point protoc_insertion_point scope class_scop hedwig region specif seq id regionspecificseqid 
builder com googl protobuf gener messag generatedmessag builder builder org apach hedwig protocol pub sub protocol pubsubprotocol start deliveri request startdeliveryrequest result construct org apach hedwig protocol pub sub protocol pubsubprotocol start deliveri request startdeliveryrequest builder newbuild builder builder creat builder builder builder builder result org apach hedwig protocol pub sub protocol pubsubprotocol start deliveri request startdeliveryrequest builder org apach hedwig protocol pub sub protocol pubsubprotocol start deliveri request startdeliveryrequest intern get result internalgetresult result builder clear result illeg state except illegalstateexcept call clear after build result org apach hedwig protocol pub sub protocol pubsubprotocol start deliveri request startdeliveryrequest builder clone creat merg from mergefrom result com googl protobuf descriptor descriptor get descriptor type getdescriptorfortyp org apach hedwig protocol pub sub protocol pubsubprotocol start deliveri request startdeliveryrequest get descriptor getdescriptor org apach hedwig protocol pub sub protocol pubsubprotocol start deliveri request startdeliveryrequest get instanc type getdefaultinstancefortyp org apach hedwig protocol pub sub protocol pubsubprotocol start deliveri request startdeliveryrequest get instanc getdefaultinst initi isiniti result initi isiniti org apach hedwig protocol pub sub protocol pubsubprotocol start deliveri request startdeliveryrequest build result initi isiniti uniniti messag except newuninitializedmessageexcept result build partial buildparti org apach hedwig protocol pub sub protocol pubsubprotocol start deliveri request startdeliveryrequest build pars buildpars com googl protobuf invalid protocol buffer except invalidprotocolbufferexcept initi isiniti uniniti messag except newuninitializedmessageexcept result invalid protocol buffer except asinvalidprotocolbufferexcept build partial buildparti org apach hedwig protocol pub sub protocol pubsubprotocol start deliveri request startdeliveryrequest build partial buildparti result illeg state except illegalstateexcept build ha call builder org apach hedwig protocol pub sub protocol pubsubprotocol start deliveri request startdeliveryrequest returnm result result returnm builder merg from mergefrom com googl protobuf messag org apach hedwig protocol pub sub protocol pubsubprotocol start deliveri request startdeliveryrequest merg from mergefrom org apach hedwig protocol pub sub protocol pubsubprotocol start deliveri request startdeliveryrequest merg from mergefrom builder merg from mergefrom org apach hedwig protocol pub sub protocol pubsubprotocol start deliveri request startdeliveryrequest org apach hedwig protocol pub sub protocol pubsubprotocol start deliveri request startdeliveryrequest get instanc getdefaultinst ha subscrib id hassubscriberid set subscrib id setsubscriberid get subscrib id getsubscriberid merg unknown field mergeunknownfield get unknown field getunknownfield builder merg from mergefrom com googl protobuf code input stream codedinputstream input com googl protobuf extens registri lite extensionregistrylit extens registri extensionregistri java io io except ioexcept com googl protobuf unknown field set unknownfieldset builder unknown field unknownfield com googl protobuf unknown field set unknownfieldset builder newbuild get unknown field getunknownfield tag input read tag readtag tag set unknown field setunknownfield unknown field unknownfield build pars unknown field parseunknownfield input unknown field unknownfield extens registri extensionregistri tag set unknown field setunknownfield unknown field unknownfield build 18 set subscrib id setsubscriberid input read byte readbyt requir byte subscrib id subscriberid ha subscrib id hassubscriberid result ha subscrib id hassubscriberid com googl protobuf string bytestr get subscrib id getsubscriberid result get subscrib id getsubscriberid builder set subscrib id setsubscriberid com googl protobuf string bytestr valu valu pointer except nullpointerexcept result ha subscrib id hassubscriberid result subscrib id subscriberid_ valu builder clear subscrib id clearsubscriberid result ha subscrib id hassubscriberid result subscrib id subscriberid_ get instanc getdefaultinst get subscrib id getsubscriberid protoc insert point protoc_insertion_point builder scope builder_scop hedwig start deliveri request startdeliveryrequest 
bookkeep benchmark bookkeeperbenchmark abstract benchmark abstractbenchmark logger logger logger factori loggerfactori get logger getlogg bookkeep benchmark bookkeeperbenchmark book keeper bookkeep bk ledger handl ledgerhandl lh bookkeep benchmark bookkeeperbenchmark string zk host port zkhostport except bk book keeper bookkeep zk host port zkhostport num ledger numledg integ get integ getinteg ledger nledger lh ledger handl ledgerhandl num ledger numledg quorum size quorums integ get integ getinteg quorum ensembl size ensembles integ get integ getinteg ensembl digest type digesttyp digest type digesttyp digest type digesttyp valu valueof get properti getproperti digest type digesttyp crc32 num ledger numledg lh bk creat ledger createledg ensembl size ensembles quorum size quorums digest type digesttyp blah get byte getbyt overrid op doop num op numop except size integ get integ getinteg size 1024 msg size num outstand numoutstand integ get integ getinteg par npar 1000 semaphor outstand semaphor num outstand numoutstand add callback addcallback callback add callback addcallback abstract callback abstractcallback handler abstract callback abstractcallback outstand num op numop overrid add complet addcomplet rc ledger handl ledgerhandl lh entri id entryid object ctx handler handl rc bk except bkexcept code ctx random rand random num op numop outstand acquir lh rand next nextint lh length async add entri asyncaddentri msg callback current time milli currenttimemilli overrid tear down teardown except bk close main string arg except bookkeep benchmark bookkeeperbenchmark benchmark bookkeep benchmark bookkeeperbenchmark arg benchmark run 
test index corrupt case index corrupt test indexcorruptiontest book keeper cluster test bookkeeperclustertestcas logger log logger factori loggerfactori get logger getlogg index corrupt test indexcorruptiontest digest type digesttyp digest type digesttyp page size pages 1024 index corrupt test indexcorruptiontest digest type digesttyp digest type digesttyp crc32 base conf baseconf set page size setpages page size pages thread find sync thread findsyncthread thread count threadcount thread activ count activecount thread allthread thread thread activ count activecount thread enumer allthread thread allthread get name getnam equal sync thread syncthread test test ledger testnosuchledg except log debug test ledger nosuchledg thread sync thread syncthread find sync thread findsyncthread assertnotnul found sync thread syncthread sync thread syncthread sync thread syncthread suspend creat ledger ledger handl ledgerhandl lh bkc creat ledger createledg digest type digesttyp get byte getbyt close ledger caus read entri readentri call ledger handl ledgerhandl lh newlh bkc open ledger openledg lh get id getid digest type digesttyp get byte getbyt creat ledger write entri string dummi msg dummymsg ledger nosuchledg num msg nummsg ledger handl ledgerhandl wlh bkc creat ledger createledg digest type digesttyp get byte getbyt num msg nummsg wlh add entri addentri dummi msg dummymsg get byte getbyt sync thread syncthread resum trigger sync thread sleep base conf baseconf get flush interv getflushinterv restart booki restart booki restartbooki enumer ledger entri ledgerentri seq wlh read entri readentri num msg nummsg asserttru enumer ledger entri ha element seq ha more element hasmoreel entri id entryid seq ha more element hasmoreel ledger entri ledgerentri seq next element nextel equal assertequ entri id entryid get entri id getentryid arrai equal assertarrayequ dummi msg dummymsg get byte getbyt get entri getentri entri id entryid equal assertequ entri id entryid num msg nummsg test test empti index page testemptyindexpag except log debug test empti index page emptyindexpag thread sync thread syncthread find sync thread findsyncthread assertnotnul found sync thread syncthread sync thread syncthread sync thread syncthread suspend creat ledger ledger handl ledgerhandl lh1 bkc creat ledger createledg digest type digesttyp get byte getbyt string dummi msg dummymsg ledger nosuchledg write two page entri ledger num msg nummsg page size pages ledger handl ledgerhandl lh2 bkc creat ledger createledg digest type digesttyp get byte getbyt num msg nummsg lh2 add entri addentri dummi msg dummymsg get byte getbyt sync thread syncthread resum trigger sync thread sleep base conf baseconf get flush interv getflushinterv sync thread syncthread suspend close ledger caus read entri readentri call ledger handl ledgerhandl lh1 newlh1 bkc open ledger openledg lh1 get id getid digest type digesttyp get byte getbyt write entri ledger lh2 add entri addentri dummi msg dummymsg get byte getbyt sync thread syncthread resum wait sync thread sleep base conf baseconf get flush interv getflushinterv restart booki restart booki restartbooki num msg nummsg enumer ledger entri ledgerentri seq lh2 read entri readentri num msg nummsg asserttru enumer ledger entri ha element seq ha more element hasmoreel entri id entryid seq ha more element hasmoreel ledger entri ledgerentri seq next element nextel equal assertequ entri id entryid get entri id getentryid arrai equal assertarrayequ dummi msg dummymsg get byte getbyt get entri getentri entri id entryid equal assertequ entri id entryid num msg nummsg 
messag seq id messageseqid com googl protobuf gener messag generatedmessag us messag seq id messageseqid builder newbuild construct messag seq id messageseqid init field initfield messag seq id messageseqid init noinit messag seq id messageseqid instanc defaultinst messag seq id messageseqid get instanc getdefaultinst instanc defaultinst messag seq id messageseqid get instanc type getdefaultinstancefortyp instanc defaultinst com googl protobuf descriptor descriptor get descriptor getdescriptor org apach hedwig protocol pub sub protocol pubsubprotocol intern hedwig messag seq id descriptor internal_static_hedwig_messageseqid_descriptor com googl protobuf gener messag generatedmessag field accessor tabl fieldaccessort intern get field accessor tabl internalgetfieldaccessort org apach hedwig protocol pub sub protocol pubsubprotocol intern hedwig messag seq id field accessor tabl internal_static_hedwig_messageseqid_fieldaccessort option uint64 local compon localcompon localcompon field number localcomponent_field_numb ha local compon haslocalcompon local compon localcomponent_ 0l ha local compon haslocalcompon ha local compon haslocalcompon get local compon getlocalcompon local compon localcomponent_ repeat hedwig region specif seq id regionspecificseqid remot compon remotecompon remotecompon field number remotecomponents_field_numb java util list org apach hedwig protocol pub sub protocol pubsubprotocol region specif seq id regionspecificseqid remot compon remotecomponents_ java util collect empti list emptylist java util list org apach hedwig protocol pub sub protocol pubsubprotocol region specif seq id regionspecificseqid get remot compon list getremotecomponentslist remot compon remotecomponents_ get remot compon count getremotecomponentscount remot compon remotecomponents_ size org apach hedwig protocol pub sub protocol pubsubprotocol region specif seq id regionspecificseqid get remot compon getremotecompon index remot compon remotecomponents_ get index init field initfield initi isiniti org apach hedwig protocol pub sub protocol pubsubprotocol region specif seq id regionspecificseqid element get remot compon list getremotecomponentslist element initi isiniti write writeto com googl protobuf code output stream codedoutputstream output java io io except ioexcept get serial size getserializeds ha local compon haslocalcompon output write int64 writeuint64 get local compon getlocalcompon org apach hedwig protocol pub sub protocol pubsubprotocol region specif seq id regionspecificseqid element get remot compon list getremotecomponentslist output write messag writemessag element get unknown field getunknownfield write writeto output memoiz serial size memoizedserializeds get serial size getserializeds size memoiz serial size memoizedserializeds size size size ha local compon haslocalcompon size com googl protobuf code output stream codedoutputstream comput int64 size computeuint64s get local compon getlocalcompon org apach hedwig protocol pub sub protocol pubsubprotocol region specif seq id regionspecificseqid element get remot compon list getremotecomponentslist size com googl protobuf code output stream codedoutputstream comput messag size computemessages element size get unknown field getunknownfield get serial size getserializeds memoiz serial size memoizedserializeds size size org apach hedwig protocol pub sub protocol pubsubprotocol messag seq id messageseqid pars from parsefrom com googl protobuf string bytestr data com googl protobuf invalid protocol buffer except invalidprotocolbufferexcept builder newbuild merg from mergefrom data build pars buildpars org apach hedwig protocol pub sub protocol pubsubprotocol messag seq id messageseqid pars from parsefrom com googl protobuf string bytestr data com googl protobuf extens registri lite extensionregistrylit extens registri extensionregistri com googl protobuf invalid protocol buffer except invalidprotocolbufferexcept builder newbuild merg from mergefrom data extens registri extensionregistri build pars buildpars org apach hedwig protocol pub sub protocol pubsubprotocol messag seq id messageseqid pars from parsefrom data com googl protobuf invalid protocol buffer except invalidprotocolbufferexcept builder newbuild merg from mergefrom data build pars buildpars org apach hedwig protocol pub sub protocol pubsubprotocol messag seq id messageseqid pars from parsefrom data com googl protobuf extens registri lite extensionregistrylit extens registri extensionregistri com googl protobuf invalid protocol buffer except invalidprotocolbufferexcept builder newbuild merg from mergefrom data extens registri extensionregistri build pars buildpars org apach hedwig protocol pub sub protocol pubsubprotocol messag seq id messageseqid pars from parsefrom java io input stream inputstream input java io io except ioexcept builder newbuild merg from mergefrom input build pars buildpars org apach hedwig protocol pub sub protocol pubsubprotocol messag seq id messageseqid pars from parsefrom java io input stream inputstream input com googl protobuf extens registri lite extensionregistrylit extens registri extensionregistri java io io except ioexcept builder newbuild merg from mergefrom input extens registri extensionregistri build pars buildpars org apach hedwig protocol pub sub protocol pubsubprotocol messag seq id messageseqid pars delimit from parsedelimitedfrom java io input stream inputstream input java io io except ioexcept builder builder builder newbuild builder merg delimit from mergedelimitedfrom input builder build pars buildpars org apach hedwig protocol pub sub protocol pubsubprotocol messag seq id messageseqid pars delimit from parsedelimitedfrom java io input stream inputstream input com googl protobuf extens registri lite extensionregistrylit extens registri extensionregistri java io io except ioexcept builder builder builder newbuild builder merg delimit from mergedelimitedfrom input extens registri extensionregistri builder build pars buildpars org apach hedwig protocol pub sub protocol pubsubprotocol messag seq id messageseqid pars from parsefrom com googl protobuf code input stream codedinputstream input java io io except ioexcept builder newbuild merg from mergefrom input build pars buildpars org apach hedwig protocol pub sub protocol pubsubprotocol messag seq id messageseqid pars from parsefrom com googl protobuf code input stream codedinputstream input com googl protobuf extens registri lite extensionregistrylit extens registri extensionregistri java io io except ioexcept builder newbuild merg from mergefrom input extens registri extensionregistri build pars buildpars builder builder newbuild builder creat builder builder type newbuilderfortyp builder newbuild builder builder newbuild org apach hedwig protocol pub sub protocol pubsubprotocol messag seq id messageseqid prototyp builder newbuild merg from mergefrom prototyp builder builder tobuild builder newbuild builder com googl protobuf gener messag generatedmessag builder builder org apach hedwig protocol pub sub protocol pubsubprotocol messag seq id messageseqid result construct org apach hedwig protocol pub sub protocol pubsubprotocol messag seq id messageseqid builder newbuild builder builder creat builder builder builder builder result org apach hedwig protocol pub sub protocol pubsubprotocol messag seq id messageseqid builder org apach hedwig protocol pub sub protocol pubsubprotocol messag seq id messageseqid intern get result internalgetresult result builder clear result illeg state except illegalstateexcept call clear after build result org apach hedwig protocol pub sub protocol pubsubprotocol messag seq id messageseqid builder clone creat merg from mergefrom result com googl protobuf descriptor descriptor get descriptor type getdescriptorfortyp org apach hedwig protocol pub sub protocol pubsubprotocol messag seq id messageseqid get descriptor getdescriptor org apach hedwig protocol pub sub protocol pubsubprotocol messag seq id messageseqid get instanc type getdefaultinstancefortyp org apach hedwig protocol pub sub protocol pubsubprotocol messag seq id messageseqid get instanc getdefaultinst initi isiniti result initi isiniti org apach hedwig protocol pub sub protocol pubsubprotocol messag seq id messageseqid build result initi isiniti uniniti messag except newuninitializedmessageexcept result build partial buildparti org apach hedwig protocol pub sub protocol pubsubprotocol messag seq id messageseqid build pars buildpars com googl protobuf invalid protocol buffer except invalidprotocolbufferexcept initi isiniti uniniti messag except newuninitializedmessageexcept result invalid protocol buffer except asinvalidprotocolbufferexcept build partial buildparti org apach hedwig protocol pub sub protocol pubsubprotocol messag seq id messageseqid build partial buildparti result illeg state except illegalstateexcept build ha call builder result remot compon remotecomponents_ java util collect empti list empty_list result remot compon remotecomponents_ java util collect unmodifi list unmodifiablelist result remot compon remotecomponents_ org apach hedwig protocol pub sub protocol pubsubprotocol messag seq id messageseqid returnm result result returnm builder merg from mergefrom com googl protobuf messag org apach hedwig protocol pub sub protocol pubsubprotocol messag seq id messageseqid merg from mergefrom org apach hedwig protocol pub sub protocol pubsubprotocol messag seq id messageseqid merg from mergefrom builder merg from mergefrom org apach hedwig protocol pub sub protocol pubsubprotocol messag seq id messageseqid org apach hedwig protocol pub sub protocol pubsubprotocol messag seq id messageseqid get instanc getdefaultinst ha local compon haslocalcompon set local compon setlocalcompon get local compon getlocalcompon remot compon remotecomponents_ empti isempti result remot compon remotecomponents_ empti isempti result remot compon remotecomponents_ java util arrai list arraylist org apach hedwig protocol pub sub protocol pubsubprotocol region specif seq id regionspecificseqid result remot compon remotecomponents_ add addal remot compon remotecomponents_ merg unknown field mergeunknownfield get unknown field getunknownfield builder merg from mergefrom com googl protobuf code input stream codedinputstream input com googl protobuf extens registri lite extensionregistrylit extens registri extensionregistri java io io except ioexcept com googl protobuf unknown field set unknownfieldset builder unknown field unknownfield com googl protobuf unknown field set unknownfieldset builder newbuild get unknown field getunknownfield tag input read tag readtag tag set unknown field setunknownfield unknown field unknownfield build pars unknown field parseunknownfield input unknown field unknownfield extens registri extensionregistri tag set unknown field setunknownfield unknown field unknownfield build set local compon setlocalcompon input read int64 readuint64 18 org apach hedwig protocol pub sub protocol pubsubprotocol region specif seq id regionspecificseqid builder sub builder subbuild org apach hedwig protocol pub sub protocol pubsubprotocol region specif seq id regionspecificseqid builder newbuild input read messag readmessag sub builder subbuild extens registri extensionregistri add remot compon addremotecompon sub builder subbuild build partial buildparti option uint64 local compon localcompon ha local compon haslocalcompon result ha local compon haslocalcompon get local compon getlocalcompon result get local compon getlocalcompon builder set local compon setlocalcompon valu result ha local compon haslocalcompon result local compon localcomponent_ valu builder clear local compon clearlocalcompon result ha local compon haslocalcompon result local compon localcomponent_ 0l repeat hedwig region specif seq id regionspecificseqid remot compon remotecompon java util list org apach hedwig protocol pub sub protocol pubsubprotocol region specif seq id regionspecificseqid get remot compon list getremotecomponentslist java util collect unmodifi list unmodifiablelist result remot compon remotecomponents_ get remot compon count getremotecomponentscount result get remot compon count getremotecomponentscount org apach hedwig protocol pub sub protocol pubsubprotocol region specif seq id regionspecificseqid get remot compon getremotecompon index result get remot compon getremotecompon index builder set remot compon setremotecompon index org apach hedwig protocol pub sub protocol pubsubprotocol region specif seq id regionspecificseqid valu valu pointer except nullpointerexcept result remot compon remotecomponents_ set index valu builder set remot compon setremotecompon index org apach hedwig protocol pub sub protocol pubsubprotocol region specif seq id regionspecificseqid builder builder valu builderforvalu result remot compon remotecomponents_ set index builder valu builderforvalu build builder add remot compon addremotecompon org apach hedwig protocol pub sub protocol pubsubprotocol region specif seq id regionspecificseqid valu valu pointer except nullpointerexcept result remot compon remotecomponents_ empti isempti result remot compon remotecomponents_ java util arrai list arraylist org apach hedwig protocol pub sub protocol pubsubprotocol region specif seq id regionspecificseqid result remot compon remotecomponents_ add valu builder add remot compon addremotecompon org apach hedwig protocol pub sub protocol pubsubprotocol region specif seq id regionspecificseqid builder builder valu builderforvalu result remot compon remotecomponents_ empti isempti result remot compon remotecomponents_ java util arrai list arraylist org apach hedwig protocol pub sub protocol pubsubprotocol region specif seq id regionspecificseqid result remot compon remotecomponents_ add builder valu builderforvalu build builder add remot compon addallremotecompon java lang iter org apach hedwig protocol pub sub protocol pubsubprotocol region specif seq id regionspecificseqid valu result remot compon remotecomponents_ empti isempti result remot compon remotecomponents_ java util arrai list arraylist org apach hedwig protocol pub sub protocol pubsubprotocol region specif seq id regionspecificseqid add addal valu result remot compon remotecomponents_ builder clear remot compon clearremotecompon result remot compon remotecomponents_ java util collect empti list emptylist protoc insert point protoc_insertion_point builder scope builder_scop hedwig messag seq id messageseqid instanc defaultinst messag seq id messageseqid org apach hedwig protocol pub sub protocol pubsubprotocol intern forc init internalforceinit instanc defaultinst init field initfield protoc insert point protoc_insertion_point scope class_scop hedwig messag seq id messageseqid 
server side part book keeper bookkeep protocol booki server bookieserv nio server factori nioserverfactori packet processor packetprocessor bookkeep intern callback bookkeeperinternalcallback write callback writecallback server configur serverconfigur conf nio server factori nioserverfactori nio server factori nioserverfactori run booki booki death watcher deathwatch death watcher deathwatch logger log logger factori loggerfactori get logger getlogg booki server bookieserv exit code exitcod exit code exitcod oper stat bk stat bkstat bk stat bkstat bk stat bkstat get instanc getinst stat enabl isstatsen booki server bean bookieserverbean jmx bk server bean jmxbkserverbean booki server bookieserv server configur serverconfigur conf io except ioexcept keeper except keeperexcept interrupt except interruptedexcept booki except bookieexcept conf conf booki booki newbooki conf stat enabl isstatsen conf statist enabl isstatisticsen booki booki newbooki server configur serverconfigur conf io except ioexcept keeper except keeperexcept interrupt except interruptedexcept booki except bookieexcept booki conf start io except ioexcept booki start nio server factori nioserverfactori nio server factori nioserverfactori conf nio server factori nioserverfactori start run death watcher deathwatch death watcher deathwatch conf death watcher deathwatch start jmx jmx registerjmx inet socket address inetsocketaddress get local address getlocaladdress inet socket address inetsocketaddress inet address inetaddress get local host getlocalhost get host address gethostaddress conf get booki port getbookieport unknown host except unknownhostexcept uh nio server factori nioserverfactori get local address getlocaladdress shutdown run nio server factori nioserverfactori shutdown exit code exitcod booki shutdown run unregist jmx unregist jmx unregisterjmx jmx registerjmx jmx bk server bean jmxbkserverbean booki server bean bookieserverbean conf bkm bean registri bkmbeanregistri get instanc getinst jmx bk server bean jmxbkserverbean booki jmx registerjmx jmx bk server bean jmxbkserverbean except log warn fail jmx jmx bk server bean jmxbkserverbean unregist jmx unregisterjmx booki unregist jmx unregisterjmx jmx bk server bean jmxbkserverbean bkm bean registri bkmbeanregistri get instanc getinst unregist jmx bk server bean jmxbkserverbean except log warn fail unregist jmx jmx bk server bean jmxbkserverbean run isrun booki run isrun nio server factori nioserverfactori run isrun run booki run booki run booki run isbookierun booki run isrun nio server run nio server run nio server run isnioserverrun nio server factori nioserverfactori run isrun join interrupt except interruptedexcept nio server factori nioserverfactori join get exit code getexitcod exit code exitcod thread watch booki nioserv aliv death watcher deathwatch thread watch interv watchinterv death watcher deathwatch server configur serverconfigur conf watch interv watchinterv conf get death watch interv getdeathwatchinterv overrid run thread sleep watch interv watchinterv interrupt except interruptedexcept booki run isbookierun nio server run isnioserverrun shutdown option bk opt bkopt option bk opt bkopt add option addopt conf configur booki server bk opt bkopt add option addopt help print help messag print usag print usag printusag help formatt helpformatt hf help formatt helpformatt hf print help printhelp booki server bookieserv option tor booki server bookieserv booki port bookie_port zk server zk_server journal dir journal_dir ledger dir ledger_dir ledger dir ledger_dir bk opt bkopt load conf file loadconffil server configur serverconfigur conf string conf file conffil illeg argument except illegalargumentexcept conf load conf loadconf file conf file conffil uri touri url tourl malform url except malformedurlexcept log error open configur file conf file conffil illeg argument except illegalargumentexcept configur except configurationexcept log error malform configur file conf file conffil illeg argument except illegalargumentexcept log info configur file conf file conffil server configur serverconfigur pars arg parsearg string arg illeg argument except illegalargumentexcept basic parser basicpars parser basic parser basicpars command line commandlin cmd line cmdline parser pars bk opt bkopt arg cmd line cmdline ha option hasopt illeg argument except illegalargumentexcept server configur serverconfigur conf server configur serverconfigur string left arg leftarg cmd line cmdline get arg getarg cmd line cmdline ha option hasopt left arg leftarg left arg leftarg length illeg argument except illegalargumentexcept string conf file conffil cmd line cmdline get option valu getoptionvalu load conf file loadconffil conf conf file conffil conf left arg leftarg length illeg argument except illegalargumentexcept command line argument overwrit set configur file conf set booki port setbookieport integ pars parseint left arg leftarg conf set zk server setzkserv left arg leftarg conf set journal dir name setjournaldirnam left arg leftarg string ledger dir name ledgerdirnam string left arg leftarg length arraycopi left arg leftarg ledger dir name ledgerdirnam ledger dir name ledgerdirnam length conf set ledger dir name setledgerdirnam ledger dir name ledgerdirnam conf pars except parseexcept log error error pars command line argument illeg argument except illegalargumentexcept param arg io except ioexcept interrupt except interruptedexcept main string arg server configur serverconfigur conf conf pars arg parsearg arg illeg argument except illegalargumentexcept iae log error error pars command line argument iae err println iae get messag getmessag print usag printusag exit exit code exitcod invalid conf invalid_conf string builder stringbuild sb string builder stringbuild string ledger dir name ledgerdirnam conf get ledger dir name getledgerdirnam ledger dir name ledgerdirnam length sb append sb append ledger dir name ledgerdirnam string hello string format hello booki listen port zk server zkserver journal ledger store conf get booki port getbookieport conf get zk server getzkserv conf get journal dir name getjournaldirnam sb log info hello booki server bookieserv bs booki server bookieserv conf bs start runtim get runtim getruntim add shutdown hook addshutdownhook thread overrid run bs shutdown log info shut down booki server successfulli log info shutdown hook successfulli bs join exit bs get exit code getexitcod except log error except run booki server exit exit code exitcod server except server_except process packet processpacket buffer bytebuff packet cnxn src packet header packethead packet header packethead from fromint packet get getint success stat type stattyp bk stat bkstat stat unknown stats_unknown start time starttim stat enabl isstatsen start time starttim current time milli currenttimemilli packet format differ addentri readentri ledger id ledgerid entri id entryid booki protocol bookieprotocol invalid entri id invalid_entry_id master kei masterkei get op code getopcod booki protocol bookieprotocol addentri first read master kei master kei masterkei booki protocol bookieprotocol master kei length master_key_length packet get master kei masterkei booki protocol bookieprotocol master kei length master_key_length buffer bytebuff bb packet duplic ledger id ledgerid bb get getlong entri id entryid bb get getlong booki protocol bookieprotocol readentri ledger id ledgerid packet get getlong entri id entryid packet get getlong get version getvers booki protocol bookieprotocol lowest compat protocol version lowest_compat_protocol_vers get version getvers booki protocol bookieprotocol current protocol version current_protocol_vers log error invalid protocol version expect booki protocol bookieprotocol lowest compat protocol version lowest_compat_protocol_vers booki protocol bookieprotocol current protocol version current_protocol_vers get version getvers src send respons sendrespons build respons buildrespons booki protocol bookieprotocol ebadvers get version getvers get op code getopcod ledger id ledgerid entri id entryid flag get flag getflag get op code getopcod booki protocol bookieprotocol addentri stat type stattyp bk stat bkstat stat add stats_add time cnxn timedcnxn tsrc time cnxn timedcnxn src start time starttim log debug master kei string master kei masterkei flag booki protocol bookieprotocol flag recoveri add flag_recovery_add booki protocol bookieprotocol flag recoveri add flag_recovery_add booki recoveri add entri recoveryaddentri packet slice tsrc master kei masterkei booki add entri addentri packet slice tsrc master kei masterkei success io except ioexcept log error error write entri id entryid ledger id ledgerid src send respons sendrespons build respons buildrespons booki protocol bookieprotocol eio get version getvers get op code getopcod ledger id ledgerid entri id entryid booki except bookieexcept ledger fenc except ledgerfencedexcept lfe log error attempt write fenc ledger lfe src send respons sendrespons build respons buildrespons booki protocol bookieprotocol efenc get version getvers get op code getopcod ledger id ledgerid entri id entryid booki except bookieexcept log error unauthor access ledger ledger id ledgerid src send respons sendrespons build respons buildrespons booki protocol bookieprotocol eua get version getvers get op code getopcod ledger id ledgerid entri id entryid booki protocol bookieprotocol readentri stat type stattyp bk stat bkstat stat read stats_read buffer bytebuff rsp buffer bytebuff log debug receiv read request ledger id ledgerid entri id entryid error code errorcod booki protocol bookieprotocol eio flag booki protocol bookieprotocol flag fenc flag_do_fenc booki protocol bookieprotocol flag fenc flag_do_fenc log warn ledger ledger id ledgerid fenc src get peer name getpeernam get version getvers master kei masterkei booki protocol bookieprotocol master kei length master_key_length packet get master kei masterkei booki protocol bookieprotocol master kei length master_key_length booki fenc ledger fenceledg ledger id ledgerid master kei masterkei log error password provid safe fenc ledger id ledgerid booki except bookieexcept creat booki except bookieexcept code unauthor access except unauthorizedaccessexcept rsp booki read entri readentri ledger id ledgerid entri id entryid log debug read entri rsp remain error code errorcod booki protocol bookieprotocol eok success booki ledger except noledgerexcept log trace enabl istraceen log error error read entri id entryid ledger id ledgerid error code errorcod booki protocol bookieprotocol enoledg booki entri except noentryexcept log trace enabl istraceen log error error read entri id entryid ledger id ledgerid error code errorcod booki protocol bookieprotocol enoentri io except ioexcept log trace enabl istraceen log error error read entri id entryid ledger id ledgerid error code errorcod booki protocol bookieprotocol eio booki except bookieexcept log error unauthor access ledger ledger id ledgerid error code errorcod booki protocol bookieprotocol eua rsp build respons buildrespons error code errorcod get version getvers get op code getopcod ledger id ledgerid entri id entryid log trace enabl istraceen log trace read entri rc error code errorcod entri id entryid ledger id ledgerid rsp haven fill entri data send back ledger entri id here rsp buffer bytebuff alloc 16 rsp put putlong ledger id ledgerid rsp put putlong entri id entryid rsp flip log debug send respons entri id entryid string rsp arrai src send respons sendrespons rsp src send respons sendrespons build respons buildrespons booki protocol bookieprotocol ebadreq get version getvers get op code getopcod ledger id ledgerid entri id entryid stat enabl isstatsen success add oper comput latenc write complet writecomplet callback stat type stattyp bk stat bkstat stat add stats_add elaps time elapsedtim current time milli currenttimemilli start time starttim bk stat bkstat get op stat getopstat stat type stattyp updat latenc updatelat elaps time elapsedtim bk stat bkstat get op stat getopstat stat type stattyp increment fail op incrementfailedop buffer bytebuff build respons buildrespons error code errorcod version op code opcod ledger id ledgerid entri id entryid buffer bytebuff rsp buffer bytebuff alloc 24 rsp put putint packet header packethead version op code opcod toint rsp put putint error code errorcod rsp put putlong ledger id ledgerid rsp put putlong entri id entryid rsp flip rsp write complet writecomplet rc ledger id ledgerid entri id entryid inet socket address inetsocketaddress addr object ctx time cnxn timedcnxn tcnxn time cnxn timedcnxn ctx cnxn src tcnxn cnxn start time starttim tcnxn time buffer bytebuff bb buffer bytebuff alloc 24 bb put putint packet header packethead booki protocol bookieprotocol current protocol version current_protocol_vers booki protocol bookieprotocol addentri toint bb put putint rc bb put putlong ledger id ledgerid bb put putlong entri id entryid bb flip log trace enabl istraceen log trace add entri rc rc entri id entryid ledger id ledgerid src send respons sendrespons buffer bytebuff bb stat enabl isstatsen comput latenc rc add oper comput latenc write complet writecomplet callback elaps time elapsedtim current time milli currenttimemilli start time starttim bk stat bkstat get op stat getopstat bk stat bkstat stat add stats_add updat latenc updatelat elaps time elapsedtim bk stat bkstat get op stat getopstat bk stat bkstat stat add stats_add increment fail op incrementfailedop cnxn wrapper time time cnxn timedcnxn cnxn cnxn time time cnxn timedcnxn cnxn cnxn start time starttim cnxn cnxn time start time starttim 
ledger insid booki oper write entri ledger read entri from ledger ledger descriptor read impl ledgerdescriptorreadonlyimpl ledger descriptor impl ledgerdescriptorimpl ledger descriptor read impl ledgerdescriptorreadonlyimpl ledger id ledgerid ledger storag ledgerstorag storag ledger id ledgerid storag overrid set fenc setfenc io except ioexcept io except ioexcept invalid action read descriptor overrid add entri addentri buffer bytebuff entri io except ioexcept io except ioexcept invalid action read descriptor overrid check access checkaccess master kei masterkei booki except bookieexcept io except ioexcept io except ioexcept invalid action read descriptor 
thread safe thread safe read ahead cach oper thread cach valu cachevalu logger logger logger factori loggerfactori get logger getlogg read ahead cach readaheadcach queue scan callback context scancallbackwithcontext callback link list linkedlist scan callback context scancallbackwithcontext messag messag time addit timeofaddit cach valu cachevalu stub isstub messag get time addit gettimeofaddit messag unexpect error unexpectederror time add request from stub time addit timeofaddit set messag invok callback setmessageandinvokecallback messag messag curr time currtim messag duplic read messag come back messag messag time addit timeofaddit curr time currtim scan callback context scancallbackwithcontext callback ctx callbackwithctx logger debug enabl isdebugen logger debug invok callback size callback messag ad cach callback ctx callbackwithctx callback poll callback ctx callbackwithctx get scan callback getscancallback messag scan messagescan callback ctx callbackwithctx get ctx getctx messag add callback addcallback scan callback scancallback callback object ctx stub isstub call callback right awai callback messag scan messagescan ctx messag callback add scan callback context scancallbackwithcontext callback ctx messag get messag getmessag messag set error invok callback seterrorandinvokecallback except except scan callback context scancallbackwithcontext callback ctx callbackwithctx callback ctx callbackwithctx callback poll callback ctx callbackwithctx get scan callback getscancallback scan fail scanfail callback ctx callbackwithctx get ctx getctx except 
